(self.webpackChunkngx_flow=self.webpackChunkngx_flow||[]).push([[179],{825:()=>{"object"==typeof window&&window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach(Nr=>{Object.prototype.hasOwnProperty.call(Nr,"append")||Object.defineProperty(Nr,"append",{configurable:!0,enumerable:!0,writable:!0,value(...rt){const cr=document.createDocumentFragment();rt.forEach(O=>{const ml=O instanceof Node;cr.appendChild(ml?O:document.createTextNode(String(O)))}),this.appendChild(cr)}})})},238:(Rs,Nr,rt)=>{"use strict";var cr={};rt.r(cr),rt.d(cr,{dot:()=>Soe,doubleMesh:()=>Aoe,fixedDot:()=>zoe,mesh:()=>Doe});var O={};rt.r(O),rt.d(O,{flipX:()=>BO,flipXY:()=>$O,flipY:()=>jO,watermark:()=>Toe});var ml={};rt.r(ml),rt.d(ml,{blur:()=>Ioe,brightness:()=>Foe,contrast:()=>Boe,dropShadow:()=>Loe,grayScale:()=>Roe,highlight:()=>Poe,hueRotate:()=>Hoe,invert:()=>koe,outline:()=>Ooe,saturate:()=>Voe,sepia:()=>Noe});var vl={};rt.r(vl),rt.d(vl,{async:()=>Pae,block:()=>Mae,circle:()=>rP,circlePlus:()=>Iae,classic:()=>xae,cross:()=>Tae,diamond:()=>Sae,ellipse:()=>Rae,path:()=>Dae});var eh={};rt.r(eh),rt.d(eh,{annotations:()=>dae,atConnectionLength:()=>Uae,atConnectionLengthIgnoreGradient:()=>jae,atConnectionLengthKeepGradient:()=>oP,atConnectionRatio:()=>Gae,atConnectionRatioIgnoreGradient:()=>$ae,atConnectionRatioKeepGradient:()=>aP,connection:()=>Bae,displayEmpty:()=>gae,eol:()=>fae,fill:()=>oae,filter:()=>_ae,html:()=>wae,lineHeight:()=>lae,port:()=>Cae,ref:()=>$oe,refCx:()=>Xoe,refCy:()=>Zoe,refD:()=>eae,refDKeepOffset:()=>Koe,refDResetOffset:()=>XO,refDx:()=>Uoe,refDy:()=>Goe,refHeight:()=>WO,refHeight2:()=>rae,refPoints:()=>tae,refPointsKeepOffset:()=>Joe,refPointsResetOffset:()=>ZO,refR:()=>Qoe,refRCircumscribed:()=>Yoe,refRInscribed:()=>YO,refRx:()=>qoe,refRy:()=>Woe,refWidth:()=>qO,refWidth2:()=>sae,refX:()=>UO,refX2:()=>nae,refY:()=>GO,refY2:()=>iae,resetOffset:()=>yae,sourceMarker:()=>Vae,stroke:()=>aae,style:()=>bae,targetMarker:()=>Hae,text:()=>eP,textPath:()=>hae,textVerticalAnchor:()=>uae,textWrap:()=>cae,title:()=>pae,vertexMarker:()=>kae,xAlign:()=>mae,yAlign:()=>vae});var Ii={};rt.r(Ii),rt.d(Ii,{className:()=>qae,opacity:()=>Wae,stroke:()=>Xae});var th={};rt.r(th),rt.d(th,{absolute:()=>Zae,bottom:()=>sce,ellipse:()=>Kae,ellipseSpread:()=>Jae,left:()=>tce,line:()=>ece,right:()=>nce,top:()=>ice});var yl={};rt.r(yl),rt.d(yl,{bottom:()=>uce,inside:()=>fce,insideOriented:()=>gce,left:()=>ace,manual:()=>oce,outside:()=>hce,outsideOriented:()=>dce,radial:()=>pce,radialOriented:()=>mce,right:()=>cce,top:()=>lce});var nh={};rt.r(nh),rt.d(nh,{noop:()=>bce,pinAbsolute:()=>Mce,pinRelative:()=>Cce});var Fa={};rt.r(Fa),rt.d(Fa,{bottom:()=>Pce,bottomLeft:()=>Vce,bottomRight:()=>Hce,center:()=>Tce,left:()=>Ice,midSide:()=>Bce,nodeCenter:()=>Fce,orth:()=>kce,right:()=>Lce,top:()=>Oce,topLeft:()=>Rce,topRight:()=>Nce});var lr={};rt.r(lr),rt.d(lr,{closest:()=>Uce,length:()=>$ce,orth:()=>Gce,ratio:()=>jce});var U1={};rt.r(U1),rt.d(U1,{anchor:()=>Zce,bbox:()=>xP,boundary:()=>Yce,rect:()=>Wce});var ho={};rt.r(ho),rt.d(ho,{er:()=>mle,loop:()=>vle,manhattan:()=>VP,metro:()=>ple,normal:()=>Kce,oneSide:()=>Jce,orth:()=>zP});var fo={};rt.r(fo),rt.d(fo,{jumpover:()=>Sle,loop:()=>ble,normal:()=>yle,rounded:()=>wle,smooth:()=>_le});var Ba={};function ke(n){return"function"==typeof n}function Vr(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}rt.r(Ba),rt.d(Ba,{ConnectorNode:()=>bI,DataIONode:()=>wI,DatabaseNode:()=>_I,DecisionNode:()=>vI,DelayNode:()=>OI,DisplayNode:()=>II,DocumentNode:()=>xI,ExtractNode:()=>SI,HardDiskNode:()=>CI,InternalStorageNode:()=>VI,ManualInputNode:()=>AI,ManualOperationNode:()=>PI,MergeNode:()=>zI,MultiDocumentNode:()=>yI,NoteLeftNode:()=>RI,NoteRightNode:()=>NI,OffPageLinkNode:()=>LI,OrNode:()=>DI,PredefinedProcessNode:()=>EI,PreparationNode:()=>TI,ProcessNode:()=>mI,StroedDataNode:()=>MI,TerminalNode:()=>pI,TextNode:()=>HI});const G1=Vr(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,s)=>`${s+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Xi(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Nt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const r of t)r.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(ke(i))try{i()}catch(r){e=r instanceof G1?r.errors:[r]}const{_finalizers:s}=this;if(s){this._finalizers=null;for(const r of s)try{ur(r)}catch(o){e=e??[],o instanceof G1?e=[...e,...o.errors]:e.push(o)}}if(e)throw new G1(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ur(e);else{if(e instanceof Nt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Xi(t,e)}remove(e){const{_finalizers:t}=this;t&&Xi(t,e),e instanceof Nt&&e._removeParent(this)}}Nt.EMPTY=(()=>{const n=new Nt;return n.closed=!0,n})();const Ns=Nt.EMPTY;function Yo(n){return n instanceof Nt||n&&"closed"in n&&ke(n.remove)&&ke(n.add)&&ke(n.unsubscribe)}function ur(n){ke(n)?n():n.unsubscribe()}const Vs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ja={setTimeout(n,e,...t){const{delegate:i}=ja;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=ja;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function j8(n){ja.setTimeout(()=>{const{onUnhandledError:e}=Vs;if(!e)throw n;e(n)})}function q1(){}const p7=ih("C",void 0,void 0);function ih(n,e,t){return{kind:n,value:e,error:t}}let Xo=null;function hr(n){if(Vs.useDeprecatedSynchronousErrorHandling){const e=!Xo;if(e&&(Xo={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Xo;if(Xo=null,t)throw i}}else n()}class sh extends Nt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Yo(e)&&e.add(this)):this.destination=y7}static create(e,t,i){return new bl(e,t,i)}next(e){this.isStopped?Ua(function $8(n){return ih("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ua(function m7(n){return ih("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ua(p7,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const W1=Function.prototype.bind;function gs(n,e){return W1.call(n,e)}class v7{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Y1(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Y1(i)}else Y1(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Y1(t)}}}class bl extends sh{constructor(e,t,i){let s;if(super(),ke(e)||!e)s={next:e??void 0,error:t??void 0,complete:i??void 0};else{let r;this&&Vs.useDeprecatedNextContext?(r=Object.create(e),r.unsubscribe=()=>this.unsubscribe(),s={next:e.next&&gs(e.next,r),error:e.error&&gs(e.error,r),complete:e.complete&&gs(e.complete,r)}):s=e}this.destination=new v7(s)}}function Y1(n){Vs.useDeprecatedSynchronousErrorHandling?function go(n){Vs.useDeprecatedSynchronousErrorHandling&&Xo&&(Xo.errorThrown=!0,Xo.error=n)}(n):j8(n)}function Ua(n,e){const{onStoppedNotification:t}=Vs;t&&ja.setTimeout(()=>t(n,e))}const y7={closed:!0,next:q1,error:function $a(n){throw n},complete:q1},Zo="function"==typeof Symbol&&Symbol.observable||"@@observable";function ps(n){return n}function wl(n){return 0===n.length?ps:1===n.length?n[0]:function(t){return n.reduce((i,s)=>s(i),t)}}let Dt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,s){const r=function _l(n){return n&&n instanceof sh||function Hs(n){return n&&ke(n.next)&&ke(n.error)&&ke(n.complete)}(n)&&Yo(n)}(t)?t:new bl(t,i,s);return hr(()=>{const{operator:o,source:a}=this;r.add(o?o.call(r,a):a?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=rh(i))((s,r)=>{const o=new bl({next:a=>{try{t(a)}catch(c){r(c),o.unsubscribe()}},error:r,complete:s});this.subscribe(o)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[Zo](){return this}pipe(...t){return wl(t)(this)}toPromise(t){return new(t=rh(t))((i,s)=>{let r;this.subscribe(o=>r=o,o=>s(o),()=>i(r))})}}return n.create=e=>new n(e),n})();function rh(n){var e;return null!==(e=n??Vs.Promise)&&void 0!==e?e:Promise}const w7=Vr(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let at=(()=>{class n extends Dt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new oh(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new w7}next(t){hr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){hr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){hr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:s,observers:r}=this;return i||s?Ns:(this.currentObservers=null,r.push(t),new Nt(()=>{this.currentObservers=null,Xi(r,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:s,isStopped:r}=this;i?t.error(s):r&&t.complete()}asObservable(){const t=new Dt;return t.source=this,t}}return n.create=(e,t)=>new oh(e,t),n})();class oh extends at{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:Ns}}function U8(n){return ke(n?.lift)}function At(n){return e=>{if(U8(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ct(n,e,t,i,s){return new Cl(n,e,t,i,s)}class Cl extends sh{constructor(e,t,i,s,r,o){super(e),this.onFinalize=r,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=s?function(a){try{s(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function lt(n,e){return At((t,i)=>{let s=0;t.subscribe(ct(i,r=>{i.next(n.call(e,r,s++))}))})}function oi(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r}function po(n){return this instanceof po?(this.v=n,this):new po(n)}function fh(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function dh(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(r){t[r]=n[r]&&function(o){return new Promise(function(a,c){!function s(r,o,a,c){Promise.resolve(c).then(function(l){r({value:l,done:a})},o)}(a,c,(o=n[r](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const mh=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Q8(n){return ke(n?.then)}function e6(n){return ke(n[Zo])}function vh(n){return Symbol.asyncIterator&&ke(n?.[Symbol.asyncIterator])}function t6(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const n6=function P7(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function i6(n){return ke(n?.[n6])}function s6(n){return function J8(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,i=t.apply(n,e||[]),r=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(g){i[g]&&(s[g]=function(p){return new Promise(function(v,y){r.push([g,p,v,y])>1||a(g,p)})})}function a(g,p){try{!function c(g){g.value instanceof po?Promise.resolve(g.value.v).then(l,h):f(r[0][2],g)}(i[g](p))}catch(v){f(r[0][3],v)}}function l(g){a("next",g)}function h(g){a("throw",g)}function f(g,p){g(p),r.shift(),r.length&&a(r[0][0],r[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:s}=yield po(t.read());if(s)return yield po(void 0);yield yield po(i)}}finally{t.releaseLock()}})}function r6(n){return ke(n?.getReader)}function zn(n){if(n instanceof Dt)return n;if(null!=n){if(e6(n))return function I7(n){return new Dt(e=>{const t=n[Zo]();if(ke(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(mh(n))return function Z1(n){return new Dt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Q8(n))return function L7(n){return new Dt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,j8)})}(n);if(vh(n))return o6(n);if(i6(n))return function R7(n){return new Dt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(r6(n))return function a6(n){return o6(s6(n))}(n)}throw t6(n)}function o6(n){return new Dt(e=>{(function c6(n,e){var t,i,s,r;return function X1(n,e,t,i){return new(t||(t=Promise))(function(r,o){function a(h){try{l(i.next(h))}catch(f){o(f)}}function c(h){try{l(i.throw(h))}catch(f){o(f)}}function l(h){h.done?r(h.value):function s(r){return r instanceof t?r:new t(function(o){o(r)})}(h.value).then(a,c)}l((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=fh(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=t.return)&&(yield r.call(t))}finally{if(s)throw s.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function dr(n,e,t,i=0,s=!1){const r=e.schedule(function(){t(),s?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(r),!s)return r}function Dn(n,e,t=1/0){return ke(e)?Dn((i,s)=>lt((r,o)=>e(i,r,s,o))(zn(n(i,s))),t):("number"==typeof e&&(t=e),At((i,s)=>function N7(n,e,t,i,s,r,o,a){const c=[];let l=0,h=0,f=!1;const g=()=>{f&&!c.length&&!l&&e.complete()},p=y=>l<i?v(y):c.push(y),v=y=>{r&&e.next(y),l++;let b=!1;zn(t(y,h++)).subscribe(ct(e,C=>{s?.(C),r?p(C):e.next(C)},()=>{b=!0},void 0,()=>{if(b)try{for(l--;c.length&&l<i;){const C=c.shift();o?dr(e,o,()=>v(C)):v(C)}g()}catch(C){e.error(C)}}))};return n.subscribe(ct(e,p,()=>{f=!0,g()})),()=>{a?.()}}(i,s,n,t)))}function Ga(n=1/0){return Dn(ps,n)}const fr=new Dt(n=>n.complete());function yh(n){return n&&ke(n.schedule)}function Sl(n){return n[n.length-1]}function qa(n){return yh(Sl(n))?n.pop():void 0}function bh(n,e=0){return At((t,i)=>{t.subscribe(ct(i,s=>dr(i,n,()=>i.next(s),e),()=>dr(i,n,()=>i.complete(),e),s=>dr(i,n,()=>i.error(s),e)))})}function u6(n,e=0){return At((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function _h(n,e){if(!n)throw new Error("Iterable cannot be null");return new Dt(t=>{dr(t,e,()=>{const i=n[Symbol.asyncIterator]();dr(t,e,()=>{i.next().then(s=>{s.done?t.complete():t.next(s.value)})},0,!0)})})}function Wt(n,e){return e?function Mh(n,e){if(null!=n){if(e6(n))return function h6(n,e){return zn(n).pipe(u6(e),bh(e))}(n,e);if(mh(n))return function wh(n,e){return new Dt(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(Q8(n))return function d6(n,e){return zn(n).pipe(u6(e),bh(e))}(n,e);if(vh(n))return _h(n,e);if(i6(n))return function k7(n,e){return new Dt(t=>{let i;return dr(t,e,()=>{i=n[n6](),dr(t,e,()=>{let s,r;try{({value:s,done:r}=i.next())}catch(o){return void t.error(o)}r?t.complete():t.next(s)},0,!0)}),()=>ke(i?.return)&&i.return()})}(n,e);if(r6(n))return function Ch(n,e){return _h(s6(n),e)}(n,e)}throw t6(n)}(n,e):zn(n)}function xh(...n){const e=qa(n),t=function K1(n,e){return"number"==typeof Sl(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?zn(i[0]):Ga(t)(Wt(i,e)):fr}class Li extends at{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function Ee(...n){return Wt(n,qa(n))}function J1(n={}){const{connector:e=(()=>new at),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:s=!0}=n;return r=>{let o,a,c,l=0,h=!1,f=!1;const g=()=>{a?.unsubscribe(),a=void 0},p=()=>{g(),o=c=void 0,h=f=!1},v=()=>{const y=o;p(),y?.unsubscribe()};return At((y,b)=>{l++,!f&&!h&&g();const C=c=c??e();b.add(()=>{l--,0===l&&!f&&!h&&(a=Q1(v,s))}),C.subscribe(b),!o&&l>0&&(o=new bl({next:_=>C.next(_),error:_=>{f=!0,g(),a=Q1(p,t,_),C.error(_)},complete:()=>{h=!0,g(),a=Q1(p,i),C.complete()}}),zn(y).subscribe(o))})(r)}}function Q1(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new bl({next:()=>{i.unsubscribe(),n()}});return zn(e(...t)).subscribe(i)}function ms(n,e){return At((t,i)=>{let s=null,r=0,o=!1;const a=()=>o&&!s&&i.complete();t.subscribe(ct(i,c=>{s?.unsubscribe();let l=0;const h=r++;zn(n(c,h)).subscribe(s=ct(i,f=>i.next(e?e(c,f,h,l++):f),()=>{s=null,a()}))},()=>{o=!0,a()}))})}function e4(n,e=ps){return n=n??F7,At((t,i)=>{let s,r=!0;t.subscribe(ct(i,o=>{const a=e(o);(r||!n(s,a))&&(r=!1,s=a,i.next(o))}))})}function F7(n,e){return n===e}function Ct(n){for(let e in n)if(n[e]===Ct)return e;throw Error("Could not find renamed property on target object.")}function t4(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function yn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(yn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Eh(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const B7=Ct({__forward_ref__:Ct});function Sh(n){return n.__forward_ref__=Sh,n.toString=function(){return yn(this())},n}function Re(n){return zl(n)?n():n}function zl(n){return"function"==typeof n&&n.hasOwnProperty(B7)&&n.__forward_ref__===Sh}function zh(n){return n&&!!n.\u0275providers}const f6="https://g.co/ng/security#xss";class G extends Error{constructor(e,t){super(function n4(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function de(n){return"string"==typeof n?n:null==n?"":String(n)}function Dh(n,e){throw new G(-201,!1)}function Ki(n,e){null==n&&function Oe(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function J(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function nn(n){return{providers:n.providers||[],imports:n.imports||[]}}function ks(n){return r4(n,Wa)||r4(n,o4)}function r4(n,e){return n.hasOwnProperty(e)?n[e]:null}function Fs(n){return n&&(n.hasOwnProperty(Ah)||n.hasOwnProperty(X7))?n[Ah]:null}const Wa=Ct({\u0275prov:Ct}),Ah=Ct({\u0275inj:Ct}),o4=Ct({ngInjectableDef:Ct}),X7=Ct({ngInjectorDef:Ct});var et=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(et||{});let Th;function Zn(n){const e=Th;return Th=n,e}function Ko(n,e,t){const i=ks(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&et.Optional?null:void 0!==e?e:void Dh(yn(n))}const Tt=globalThis,Ya={},Lh="__NG_DI_FLAG__",l4="ngTempTokenPath",ep=/\n/gm,Jo="__source";let Xa;function gr(n){const e=Xa;return Xa=n,e}function w6(n,e=et.Default){if(void 0===Xa)throw new G(-203,!1);return null===Xa?Ko(n,void 0,e):Xa.get(n,e&et.Optional?null:void 0,e)}function F(n,e=et.Default){return(function Oh(){return Th}()||w6)(Re(n),e)}function he(n,e=et.Default){return F(n,u4(e))}function u4(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Rh(n){const e=[];for(let t=0;t<n.length;t++){const i=Re(n[t]);if(Array.isArray(i)){if(0===i.length)throw new G(900,!1);let s,r=et.Default;for(let o=0;o<i.length;o++){const a=i[o],c=Bs(a);"number"==typeof c?-1===c?s=a.token:r|=c:s=a}e.push(F(s,r))}else e.push(F(i))}return e}function pr(n,e){return n[Lh]=e,n.prototype[Lh]=e,n}function Bs(n){return n[Lh]}function Hr(n){return{toString:n}.toString()}var h4=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(h4||{}),ws=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ws||{});const mr={},ut=[],R=Ct({\u0275cmp:Ct}),$=Ct({\u0275dir:Ct}),B=Ct({\u0275pipe:Ct}),fe=Ct({\u0275mod:Ct}),Se=Ct({\u0275fac:Ct}),ht=Ct({__NG_ELEMENT_ID__:Ct}),bn=Ct({__NG_ENV_ID__:Ct});function zt(n,e,t){let i=n.length;for(;;){const s=n.indexOf(e,t);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const r=e.length;if(s+r===i||n.charCodeAt(s+r)<=32)return s}t=s+1}}function Ol(n,e,t){let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const r=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,r)}else{const r=s,o=t[++i];Ji(r)?n.setProperty(e,r,o):n.setAttribute(e,r,o),i++}}return i}function C6(n){return 3===n||4===n||6===n}function Ji(n){return 64===n.charCodeAt(0)}function mo(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?t=s:0===t||M6(n,t,s,null,-1===t||2===t?e[++i]:null)}}return n}function M6(n,e,t,i,s){let r=0,o=n.length;if(-1===e)o=-1;else for(;r<n.length;){const a=n[r++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=r-1;break}}}for(;r<n.length;){const a=n[r];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==s&&(n[r+1]=s));if(i===n[r+1])return void(n[r+2]=s)}r++,null!==i&&r++,null!==s&&r++}-1!==o&&(n.splice(o,0,e),r=o+1),n.splice(r++,0,t),null!==i&&n.splice(r++,0,i),null!==s&&n.splice(r++,0,s)}const Qo="ng-template";function d4(n,e,t){let i=0,s=!0;for(;i<n.length;){let r=n[i++];if("string"==typeof r&&s){const o=n[i++];if(t&&"class"===r&&-1!==zt(o.toLowerCase(),e,0))return!0}else{if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===e)return!0;return!1}"number"==typeof r&&(s=!1)}}return!1}function Pl(n){return 4===n.type&&n.value!==Qo}function Mt(n,e,t){return e===(4!==n.type||t?n.value:Qo)}function sp(n,e,t){let i=4;const s=n.attrs||[],r=function op(n){for(let e=0;e<n.length;e++)if(C6(n[e]))return e;return n.length}(s);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&i){if(i=2|1&i,""!==c&&!Mt(n,c,t)||""===c&&1===e.length){if(_s(i))return!1;o=!0}}else{const l=8&i?c:e[++a];if(8&i&&null!==n.attrs){if(!d4(n.attrs,l,t)){if(_s(i))return!1;o=!0}continue}const f=f4(8&i?"class":c,s,Pl(n),t);if(-1===f){if(_s(i))return!1;o=!0;continue}if(""!==l){let g;g=f>r?"":s[f+1].toLowerCase();const p=8&i?g:null;if(p&&-1!==zt(p,l,0)||2&i&&l!==g){if(_s(i))return!1;o=!0}}}}else{if(!o&&!_s(i)&&!_s(c))return!1;if(o&&_s(c))continue;o=!1,i=c|1&i}}return _s(i)||o}function _s(n){return 0==(1&n)}function f4(n,e,t,i){if(null===e)return-1;let s=0;if(i||!t){let r=!1;for(;s<e.length;){const o=e[s];if(o===n)return s;if(3===o||6===o)r=!0;else{if(1===o||2===o){let a=e[++s];for(;"string"==typeof a;)a=e[++s];continue}if(4===o)break;if(0===o){s+=4;continue}}s+=r?1:2}return-1}return function g4(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function x6(n,e,t=!1){for(let i=0;i<e.length;i++)if(sp(n,e[i],t))return!0;return!1}function vo(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let s=0;s<n.length;s++)if(n[s]!==i[s])continue e;return!0}}return!1}function Il(n,e){return n?":not("+e.trim()+")":e}function E6(n){let e=n[0],t=1,i=2,s="",r=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const a=n[++t];s+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?s+="."+o:4&i&&(s+=" "+o);else""!==s&&!_s(o)&&(e+=Il(r,s),s=""),i=o,r=r||!_s(i);t++}return""!==s&&(e+=Il(r,s)),e}function We(n){return Hr(()=>{const e=A6(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===h4.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ws.Emulated,styles:n.styles||ut,_:null,schemas:n.schemas||null,tView:null,id:""};T6(t);const i=n.dependencies;return t.directiveDefs=ln(i,!1),t.pipeDefs=ln(i,!0),t.id=function ap(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const s of t)e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function Za(n,e,t){const i=n.\u0275cmp;i.directiveDefs=ln(e,!1),i.pipeDefs=ln(t,!0)}function z6(n){return tt(n)||wn(n)}function Ll(n){return null!==n}function Ot(n){return Hr(()=>({type:n.type,bootstrap:n.bootstrap||ut,declarations:n.declarations||ut,imports:n.imports||ut,exports:n.exports||ut,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function D6(n,e){if(null==n)return mr;const t={};for(const i in n)if(n.hasOwnProperty(i)){let s=n[i],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),t[s]=i,e&&(e[s]=r)}return t}function jt(n){return Hr(()=>{const e=A6(n);return T6(e),e})}function tt(n){return n[R]||null}function wn(n){return n[$]||null}function Kn(n){return n[B]||null}function Ni(n,e){const t=n[fe]||null;if(!t&&!0===e)throw new Error(`Type ${yn(n)} does not have '\u0275mod' property.`);return t}function A6(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||mr,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||ut,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:D6(n.inputs,e),outputs:D6(n.outputs)}}function T6(n){n.features?.forEach(e=>e(n))}function ln(n,e){if(!n)return null;const t=e?Kn:z6;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(Ll)}const un=0,ce=1,Fe=2,Vt=3,bi=4,ea=5,fn=6,vr=7,$t=8,js=9,$s=10,Ve=11,Rl=12,O6=13,Ja=14,gn=15,yo=16,yr=17,Us=18,E=19,ta=20,Gs=21,_n=22,Ze=23,Nl=24,nt=25,kr=1,P6=2,br=7,Qa=9,Ut=11;function Vi(n){return Array.isArray(n)&&"object"==typeof n[kr]}function wi(n){return Array.isArray(n)&&!0===n[kr]}function Nh(n){return 0!=(4&n.flags)}function na(n){return n.componentOffset>-1}function Cs(n){return 1==(1&n.flags)}function qs(n){return!!n.template}function Vh(n){return 0!=(512&n[Fe])}function _i(n,e){return n.hasOwnProperty(Se)?n[Se]:null}let Jn=null,kl=!1;function Qi(n){const e=Jn;return Jn=n,e}const nc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Hh(n){if(!bo(n)||n.dirty){if(!n.producerMustRecompute(n)&&!b4(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function R6(n){n.dirty=!0,function L6(n){if(void 0===n.liveConsumerNode)return;const e=kl;kl=!0;try{for(const t of n.liveConsumerNode)t.dirty||R6(t)}finally{kl=e}}(n),n.consumerMarkedDirty?.(n)}function y4(n){return n&&(n.nextProducerIndex=0),Qi(n)}function An(n,e){if(Qi(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(bo(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)sc(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function b4(n){Ms(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(Hh(t),i!==t.version))return!0}return!1}function kh(n){if(Ms(n),bo(n))for(let e=0;e<n.producerNode.length;e++)sc(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function sc(n,e){if(function Fh(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Ms(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)sc(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],s=n.liveConsumerNode[e];Ms(s),s.producerIndexOfThis[i]=e}}function bo(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ms(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let H6=null;const C4=()=>{},bp=(()=>({...nc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:C4}))();class G6{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Ye(){return jh}function jh(n){return n.type.prototype.ngOnChanges&&(n.setInput=wp),M4}function M4(){const n=Uh(this),e=n?.current;if(e){const t=n.previous;if(t===mr)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function wp(n,e,t,i){const s=this.declaredInputs[t],r=Uh(n)||function _p(n,e){return n[$h]=e}(n,{previous:mr,current:null}),o=r.current||(r.current={}),a=r.previous,c=a[s];o[s]=new G6(c&&c.currentValue,e,a===mr),n[i]=e}Ye.ngInherit=!0;const $h="__ngSimpleChanges__";function Uh(n){return n[$h]||null}const xs=function(n,e,t){};function Ht(n){for(;Array.isArray(n);)n=n[un];return n}function $e(n,e){return Ht(e[n])}function ki(n,e){return Ht(e[n.index])}function rc(n,e){return n.data[e]}function es(n,e){const t=e[n];return Vi(t)?t:t[un]}function Xs(n,e){return null==e?null:n[e]}function S4(n){n[yr]=0}function q6(n){1024&n[Fe]||(n[Fe]|=1024,Fi(n,1))}function qh(n){1024&n[Fe]&&(n[Fe]&=-1025,Fi(n,-1))}function Fi(n,e){let t=n[Vt];if(null===t)return;t[ea]+=e;let i=t;for(t=t[Vt];null!==t&&(1===e&&1===i[ea]||-1===e&&0===i[ea]);)t[ea]+=e,i=t,t=t[Vt]}const Pe={lFrame:Ul(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function z4(){return Pe.bindingsEnabled}function ts(){return null!==Pe.skipHydrationRootTNode}function K(){return Pe.lFrame.lView}function dt(){return Pe.lFrame.tView}function Bn(){let n=K6();for(;null!==n&&64===n.type;)n=n.parent;return n}function K6(){return Pe.lFrame.currentTNode}function Zs(n,e){const t=Pe.lFrame;t.currentTNode=n,t.isParent=e}function ci(){return Pe.lFrame.isParent}function Ss(){Pe.lFrame.isParent=!1}function Cn(){const n=Pe.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function ac(){return Pe.lFrame.bindingIndex++}function Mr(n){const e=Pe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Tp(n,e){const t=Pe.lFrame;t.bindingIndex=t.bindingRootIndex=n,D4(e)}function D4(n){Pe.lFrame.currentDirectiveIndex=n}function Jh(){return Pe.lFrame.currentQueryIndex}function hc(n){Pe.lFrame.currentQueryIndex=n}function Qh(n){const e=n[ce];return 2===e.type?e.declTNode:1===e.type?n[fn]:null}function $l(n,e,t){if(t&et.SkipSelf){let s=e,r=n;for(;!(s=s.parent,null!==s||t&et.Host||(s=Qh(r),null===s||(r=r[Ja],10&s.type))););if(null===s)return!1;e=s,n=r}const i=Pe.lFrame=t3();return i.currentTNode=e,i.lView=n,!0}function e3(n){const e=t3(),t=n[ce];Pe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function t3(){const n=Pe.lFrame,e=null===n?null:n.child;return null===e?Ul(n):e}function Ul(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function n3(){const n=Pe.lFrame;return Pe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const A4=n3;function i3(){const n=n3();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function li(){return Pe.lFrame.selectedIndex}function _o(n){Pe.lFrame.selectedIndex=n}function sn(){const n=Pe.lFrame;return rc(n.tView,n.selectedIndex)}function kt(){Pe.lFrame.currentNamespace="svg"}let O4=!0;function dc(){return O4}function Ks(n){O4=n}function Me(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const r=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=r;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=h&&(n.destroyHooks??=[]).push(t,h)}}function oa(n,e,t){ed(n,e,3,t)}function gc(n,e,t,i){(3&n[Fe])===t&&ed(n,e,t,i)}function Ur(n,e){let t=n[Fe];(3&t)===e&&(t&=8191,t+=1,n[Fe]=t)}function ed(n,e,t,i){const r=i??-1,o=e.length-1;let a=0;for(let c=void 0!==i?65535&n[yr]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[yr]+=65536),(a<r||-1==r)&&(td(n,t,e,c),n[yr]=(4294901760&n[yr])+c+2),c++}function P4(n,e){xs(4,n,e);const t=Qi(null);try{e.call(n)}finally{Qi(t),xs(5,n,e)}}function td(n,e,t,i){const s=t[i]<0,r=t[i+1],a=n[s?-t[i]:t[i]];s?n[Fe]>>13<n[yr]>>16&&(3&n[Fe])===e&&(n[Fe]+=8192,P4(a,r)):P4(a,r)}const pn=-1;class Gl{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Qn(n){return n!==pn}function aa(n){return 32767&n}function ca(n,e){let t=function Hp(n){return n>>16}(n),i=e;for(;t>0;)i=i[Ja],t--;return i}let r3=!0;function I4(n){const e=r3;return r3=n,e}const o3=255,a3=5;let kp=0;const xr={};function R4(n,e){const t=c3(n,e);if(-1!==t)return t;const i=e[ce];i.firstCreatePass&&(n.injectorIndex=e.length,N4(i.data,n),N4(e,null),N4(i.blueprint,null));const s=V4(n,e),r=n.injectorIndex;if(Qn(s)){const o=aa(s),a=ca(s,e),c=a[ce].data;for(let l=0;l<8;l++)e[r+l]=a[o+l]|c[o+l]}return e[r+8]=s,r}function N4(n,e){n.push(0,0,0,0,0,0,0,0,e)}function c3(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function V4(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,s=e;for(;null!==s;){if(i=sd(s),null===i)return pn;if(t++,s=s[Ja],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return pn}function ql(n,e,t){!function Fp(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(ht)&&(i=t[ht]),null==i&&(i=t[ht]=kp++);const s=i&o3;e.data[n+(s>>a3)]|=1<<s}(n,e,t)}function pc(n,e,t){if(t&et.Optional||void 0!==n)return n;Dh()}function H4(n,e,t,i){if(t&et.Optional&&void 0===i&&(i=null),!(t&(et.Self|et.Host))){const s=n[js],r=Zn(void 0);try{return s?s.get(e,i,t&et.Optional):Ko(e,i,t&et.Optional)}finally{Zn(r)}}return pc(i,0,t)}function l3(n,e,t,i=et.Default,s){if(null!==n){if(2048&e[Fe]&&!(i&et.Self)){const o=function $p(n,e,t,i,s){let r=n,o=e;for(;null!==r&&null!==o&&2048&o[Fe]&&!(512&o[Fe]);){const a=u3(r,o,t,i|et.Self,xr);if(a!==xr)return a;let c=r.parent;if(!c){const l=o[ta];if(l){const h=l.get(t,xr,i);if(h!==xr)return h}c=sd(o),o=o[Ja]}r=c}return s}(n,e,t,i,xr);if(o!==xr)return o}const r=u3(n,e,t,i,xr);if(r!==xr)return r}return H4(e,t,i,s)}function u3(n,e,t,i,s){const r=function la(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(ht)?n[ht]:void 0;return"number"==typeof e?e>=0?e&o3:jp:e}(t);if("function"==typeof r){if(!$l(e,n,i))return i&et.Host?pc(s,0,i):H4(e,t,i,s);try{let o;if(o=r(i),null!=o||i&et.Optional)return o;Dh()}finally{A4()}}else if("number"==typeof r){let o=null,a=c3(n,e),c=pn,l=i&et.Host?e[gn][fn]:null;for((-1===a||i&et.SkipSelf)&&(c=-1===a?V4(n,e):e[a+8],c!==pn&&h3(i,!1)?(o=e[ce],a=aa(c),e=ca(c,e)):a=-1);-1!==a;){const h=e[ce];if(id(r,a,h.data)){const f=k4(a,e,t,o,i,l);if(f!==xr)return f}c=e[a+8],c!==pn&&h3(i,e[ce].data[a+8]===l)&&id(r,a,e)?(o=h,a=aa(c),e=ca(c,e)):a=-1}}return s}function k4(n,e,t,i,s,r){const o=e[ce],a=o.data[n+8],h=Wl(a,o,t,null==i?na(a)&&r3:i!=o&&0!=(3&a.type),s&et.Host&&r===a);return null!==h?ui(e,o,h,a):xr}function Wl(n,e,t,i,s){const r=n.providerIndexes,o=e.data,a=1048575&r,c=n.directiveStart,h=r>>20,g=s?a+h:n.directiveEnd;for(let p=i?a:a+h;p<g;p++){const v=o[p];if(p<c&&t===v||p>=c&&v.type===t)return p}if(s){const p=o[c];if(p&&qs(p)&&p.type===t)return c}return null}function ui(n,e,t,i){let s=n[t];const r=e.data;if(function Ip(n){return n instanceof Gl}(s)){const o=s;o.resolving&&function j7(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new G(-200,`Circular dependency in DI detected for ${n}${t}`)}(function we(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():de(n)}(r[t]));const a=I4(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Zn(o.injectImpl):null;$l(n,i,et.Default);try{s=n[t]=o.factory(void 0,r,n,i),e.firstCreatePass&&t>=i.directiveStart&&function fc(n,e,t){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:r}=e.type.prototype;if(i){const o=jh(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}s&&(t.preOrderHooks??=[]).push(0-n,s),r&&((t.preOrderHooks??=[]).push(n,r),(t.preOrderCheckHooks??=[]).push(n,r))}(t,r[t],e)}finally{null!==l&&Zn(l),I4(a),o.resolving=!1,A4()}}return s}function id(n,e,t){return!!(t[e+(n>>a3)]&1<<n)}function h3(n,e){return!(n&et.Self||n&et.Host&&e)}class Ci{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return l3(this._tNode,this._lView,e,u4(i),t)}}function jp(){return new Ci(Bn(),K())}function d3(n){return Hr(()=>{const e=n.prototype.constructor,t=e[Se]||f3(e),i=Object.prototype;let s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==i;){const r=s[Se]||f3(s);if(r&&r!==t)return r;s=Object.getPrototypeOf(s)}return r=>new r})}function f3(n){return zl(n)?()=>{const e=f3(Re(n));return e&&e()}:_i(n)}function sd(n){const e=n[ce],t=e.type;return 2===t?e.declTNode:1===t?n[fn]:null}const vc="__parameters__";function yc(n,e,t){return Hr(()=>{const i=function B4(n){return function(...t){if(n){const i=n(...t);for(const s in i)this[s]=i[s]}}}(e);function s(...r){if(this instanceof s)return i.apply(this,r),this;const o=new s(...r);return a.annotation=o,a;function a(c,l,h){const f=c.hasOwnProperty(vc)?c[vc]:Object.defineProperty(c,vc,{value:[]})[vc];for(;f.length<=h;)f.push(null);return(f[h]=f[h]||[]).push(o),c}}return t&&(s.prototype=Object.create(t.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}function _c(n,e){n.forEach(t=>Array.isArray(t)?_c(t,e):e(t))}function rd(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Cc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Xl(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function ns(n,e,t){let i=Mc(n,e);return i>=0?n[1|i]=t:(i=~i,function Zp(n,e,t,i){let s=n.length;if(s==e)n.push(t,i);else if(1===s)n.push(i,n[0]),n[0]=t;else{for(s--,n.push(n[s-1],n[s]);s>e;)n[s]=n[s-2],s--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function p3(n,e){const t=Mc(n,e);if(t>=0)return n[1|t]}function Mc(n,e){return function od(n,e,t){let i=0,s=n.length>>t;for(;s!==i;){const r=i+(s-i>>1),o=n[r<<t];if(e===o)return r<<t;o>e?s=r:i=r+1}return~(s<<t)}(n,e,1)}const $4=pr(yc("Optional"),8),Zl=pr(yc("SkipSelf"),4);function Y4(n){return 128==(128&n.flags)}var Mo=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Mo||{});const yd=/^>|^->|<!--|-->|--!>|<!-$/g,bd=/(<|>)/g,M3="\u200b$1\u200b";const X4=new Map;let wd=0;const Kl="__ngContext__";function ti(n,e){Vi(e)?(n[Kl]=e[E],function y9(n){X4.set(n[E],n)}(e)):n[Kl]=e}let S3;function is(n,e){return S3(n,e)}function Ql(n){const e=n[Vt];return wi(e)?e[Vt]:e}function Ad(n){return hn(n[Rl])}function Mi(n){return hn(n[bi])}function hn(n){for(;null!==n&&!wi(n);)n=n[bi];return n}function zc(n,e,t,i,s){if(null!=i){let r,o=!1;wi(i)?r=i:Vi(i)&&(o=!0,i=i[un]);const a=Ht(i);0===n&&null!==t?null==s?Id(e,t,a):fa(e,t,a,s||null,!0):1===n&&null!==t?fa(e,t,a,s||null,!0):2===n?function As(n,e,t){const i=Q4(n,e);i&&function t1(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=r&&function bt(n,e,t,i,s){const r=t[br];r!==Ht(t)&&zc(e,n,i,r,s);for(let a=Ut;a<t.length;a++){const c=t[a];hi(c[ce],c,n,e,i,r)}}(e,n,r,t,s)}}function z3(n,e){return n.createComment(function x3(n){return n.replace(yd,e=>e.replace(bd,M3))}(e))}function K4(n,e,t){return n.createElement(e,t)}function e1(n,e){const t=n[Qa],i=t.indexOf(e);qh(e),t.splice(i,1)}function Ft(n,e){if(n.length<=Ut)return;const t=Ut+e,i=n[t];if(i){const s=i[yo];null!==s&&s!==n&&e1(s,i),e>0&&(n[t-1][bi]=i[bi]);const r=Cc(n,Ut+e);!function S9(n,e){hi(n,e,e[Ve],2,null,null),e[un]=null,e[fn]=null}(i[ce],i);const o=r[Us];null!==o&&o.detachView(r[ce]),i[Vt]=null,i[bi]=null,i[Fe]&=-129}return i}function Xt(n,e){if(!(256&e[Fe])){const t=e[Ve];e[Ze]&&kh(e[Ze]),e[Nl]&&kh(e[Nl]),t.destroyNode&&hi(n,e,t,3,null,null),function D9(n){let e=n[Rl];if(!e)return J4(n[ce],n);for(;e;){let t=null;if(Vi(e))t=e[Rl];else{const i=e[Ut];i&&(t=i)}if(!t){for(;e&&!e[bi]&&e!==n;)Vi(e)&&J4(e[ce],e),e=e[Vt];null===e&&(e=n),Vi(e)&&J4(e[ce],e),t=e&&e[bi]}e=t}}(e)}}function J4(n,e){if(!(256&e[Fe])){e[Fe]&=-129,e[Fe]|=256,function T9(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const s=e[t[i]];if(!(s instanceof Gl)){const r=t[i+1];if(Array.isArray(r))for(let o=0;o<r.length;o+=2){const a=s[r[o]],c=r[o+1];xs(4,a,c);try{c.call(a)}finally{xs(5,a,c)}}else{xs(4,s,r);try{r.call(s)}finally{xs(5,s,r)}}}}}(n,e),function A9(n,e){const t=n.cleanup,i=e[vr];if(null!==t)for(let r=0;r<t.length-1;r+=2)if("string"==typeof t[r]){const o=t[r+3];o>=0?i[o]():i[-o].unsubscribe(),r+=2}else t[r].call(i[t[r+1]]);null!==i&&(e[vr]=null);const s=e[Gs];if(null!==s){e[Gs]=null;for(let r=0;r<s.length;r++)(0,s[r])()}}(n,e),1===e[ce].type&&e[Ve].destroy();const t=e[yo];if(null!==t&&wi(e[Vt])){t!==e[Vt]&&e1(t,e);const i=e[Us];null!==i&&i.detachView(n)}!function b9(n){X4.delete(n[E])}(e)}}function A3(n,e,t){return function Pd(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[un];{const{componentOffset:s}=i;if(s>-1){const{encapsulation:r}=n.data[i.directiveStart+s];if(r===ws.None||r===ws.Emulated)return null}return ki(i,t)}}(n,e.parent,t)}function fa(n,e,t,i,s){n.insertBefore(e,t,i,s)}function Id(n,e,t){n.appendChild(e,t)}function T3(n,e,t,i,s){null!==i?fa(n,e,t,i,s):Id(n,e,t)}function Q4(n,e){return n.parentNode(e)}function n1(n,e,t){return ga(n,e,t)}let O3,iu,I3,ga=function Bi(n,e,t){return 40&n.type?ki(n,t):null};function eu(n,e,t,i){const s=A3(n,i,e),r=e[Ve],a=n1(i.parent||e[fn],i,e);if(null!=s)if(Array.isArray(t))for(let c=0;c<t.length;c++)T3(r,s,t[c],a,!1);else T3(r,s,t,a,!1);void 0!==O3&&O3(r,i,e,t,s)}function s1(n,e){if(null!==e){const t=e.type;if(3&t)return ki(e,n);if(4&t)return tu(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return s1(n,i);{const s=n[e.index];return wi(s)?tu(-1,s):Ht(s)}}if(32&t)return is(e,n)()||Ht(n[e.index]);{const i=Vd(n,e);return null!==i?Array.isArray(i)?i[0]:s1(Ql(n[gn]),i):s1(n,e.next)}}return null}function Vd(n,e){return null!==e?n[gn][fn].projection[e.projection]:null}function tu(n,e){const t=Ut+n+1;if(t<e.length){const i=e[t],s=i[ce].firstChild;if(null!==s)return s1(i,s)}return e[br]}function nu(n,e,t,i,s,r,o){for(;null!=t;){const a=i[t.index],c=t.type;if(o&&0===e&&(a&&ti(Ht(a),i),t.flags|=2),32!=(32&t.flags))if(8&c)nu(n,e,t.child,i,s,r,!1),zc(e,n,s,a,r);else if(32&c){const l=is(t,i);let h;for(;h=l();)zc(e,n,s,h,r);zc(e,n,s,a,r)}else 16&c?kd(n,e,i,t,s,r):zc(e,n,s,a,r);t=o?t.projectionNext:t.next}}function hi(n,e,t,i,s,r){nu(t,i,n.firstChild,e,s,r,!1)}function kd(n,e,t,i,s,r){const o=t[gn],c=o[fn].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)zc(e,n,s,c[l],r);else{let l=c;const h=o[Vt];Y4(i)&&(l.flags|=128),nu(n,e,l,h,s,r,!0)}}function r1(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Bd(n,e,t){const{mergedAttrs:i,classes:s,styles:r}=t;null!==i&&Ol(n,e,i),null!==s&&r1(n,e,s),null!==r&&function Fd(n,e,t){n.setAttribute(e,"style",t)}(n,e,r)}function Dc(n){return function P3(){if(void 0===iu&&(iu=null,Tt.trustedTypes))try{iu=Tt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return iu}()?.createHTML(n)||n}class pa{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${f6})`}}class N9 extends pa{getTypeName(){return"HTML"}}class V9 extends pa{getTypeName(){return"Style"}}class jn extends pa{getTypeName(){return"Script"}}class ji extends pa{getTypeName(){return"URL"}}class H9 extends pa{getTypeName(){return"ResourceURL"}}function ss(n){return n instanceof pa?n.changingThisBreaksApplicationSecurity:n}function Er(n,e){const t=function $d(n){return n instanceof pa&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${f6})`)}return t===e}class $9{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Dc(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class qd{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Dc(e),t}}const U9=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function au(n){return(n=String(n)).match(U9)?n:"unsafe:"+n}function qr(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function o1(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const ma=qr("area,br,col,hr,img,wbr"),Yd=qr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xd=qr("rp,rt"),cu=o1(ma,o1(Yd,qr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),o1(Xd,qr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),o1(Xd,Yd)),lu=qr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zd=o1(lu,qr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),G9=qr("script,style,template");class q9{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=this.checkClobberedElement(t,t.nextSibling);if(s){t=s;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!cu.hasOwnProperty(t))return this.sanitizedSomething=!0,!G9.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let s=0;s<i.length;s++){const r=i.item(s),o=r.name,a=o.toLowerCase();if(!Zd.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=r.value;lu[a]&&(c=au(c)),this.buf.push(" ",o,'="',Kd(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();cu.hasOwnProperty(t)&&!ma.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Kd(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const W9=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Y9=/([^\#-~ |!])/g;function Kd(n){return n.replace(/&/g,"&amp;").replace(W9,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Y9,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let uu;function Jd(n,e){let t=null;try{uu=uu||function Gd(n){const e=new qd(n);return function Wd(){try{return!!(new window.DOMParser).parseFromString(Dc(""),"text/html")}catch{return!1}}()?new $9(e):e}(n);let i=e?String(e):"";t=uu.getInertBodyElement(i);let s=5,r=i;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,i=r,r=t.innerHTML,t=uu.getInertBodyElement(i)}while(i!==r);return Dc((new q9).sanitizeChildren(R3(t)||t))}finally{if(t){const i=R3(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function R3(n){return"content"in n&&function X9(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var rs=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(rs||{});class le{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=J({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Tc=new le("ENVIRONMENT_INITIALIZER"),N3=new le("INJECTOR",-1),nf=new le("INJECTOR_DEF_TYPES");class V3{get(e,t=Ya){if(t===Ya){const i=new Error(`NullInjectorError: No provider for ${yn(e)}!`);throw i.name="NullInjectorError",i}return t}}function k3(...n){return{\u0275providers:sf(0,n),\u0275fromNgModule:!0}}function sf(n,...e){const t=[],i=new Set;let s;const r=o=>{t.push(o)};return _c(e,o=>{const a=o;hu(a,r,[],i)&&(s||=[],s.push(a))}),void 0!==s&&rf(s,r),t}function rf(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:s}=n[t];c1(s,r=>{e(r,i)})}}function hu(n,e,t,i){if(!(n=Re(n)))return!1;let s=null,r=Fs(n);const o=!r&&tt(n);if(r||o){if(o&&!o.standalone)return!1;s=n}else{const c=n.ngModule;if(r=Fs(c),!r)return!1;s=c}const a=i.has(s);if(o){if(a)return!1;if(i.add(s),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)hu(l,e,t,i)}}else{if(!r)return!1;{if(null!=r.imports&&!a){let l;i.add(s);try{_c(r.imports,h=>{hu(h,e,t,i)&&(l||=[],l.push(h))})}finally{}void 0!==l&&rf(l,e)}if(!a){const l=_i(s)||(()=>new s);e({provide:s,useFactory:l,deps:ut},s),e({provide:nf,useValue:s,multi:!0},s),e({provide:Tc,useValue:()=>F(s),multi:!0},s)}const c=r.providers;if(null!=c&&!a){const l=n;c1(c,h=>{e(h,l)})}}}return s!==n&&void 0!==n.providers}function c1(n,e){for(let t of n)zh(t)&&(t=t.\u0275providers),Array.isArray(t)?c1(t,e):e(t)}const nm=Ct({provide:String,useValue:Ct});function F3(n){return null!==n&&"object"==typeof n&&nm in n}function Wr(n){return"function"==typeof n}const l1=new le("Set Injector scope."),du={},sm={};let B3;function fu(){return void 0===B3&&(B3=new V3),B3}class $i{}class gu extends $i{get destroyed(){return this._destroyed}constructor(e,t,i,s){super(),this.parent=t,this.source=i,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,U3(e,o=>this.processProvider(o)),this.records.set(N3,Oc(void 0,this)),s.has("environment")&&this.records.set($i,Oc(void 0,this));const r=this.records.get(l1);null!=r&&"string"==typeof r.value&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(nf.multi,ut,et.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=gr(this),i=Zn(void 0);try{return e()}finally{gr(t),Zn(i)}}get(e,t=Ya,i=et.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(bn))return e[bn](this);i=u4(i);const r=gr(this),o=Zn(void 0);try{if(!(i&et.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function cm(n){return"function"==typeof n||"object"==typeof n&&n instanceof le}(e)&&ks(e);c=l&&this.injectableDefInScope(l)?Oc(j3(e),du):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(i&et.Self?fu():this.parent).get(e,t=i&et.Optional&&t===Ya?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[l4]=a[l4]||[]).unshift(yn(e)),r)throw a;return function _6(n,e,t,i){const s=n[l4];throw e[Jo]&&s.unshift(e[Jo]),n.message=function ip(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let s=yn(e);if(Array.isArray(e))s=e.map(yn).join(" -> ");else if("object"==typeof e){let r=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];r.push(o+":"+("string"==typeof a?JSON.stringify(a):yn(a)))}s=`{${r.join(", ")}}`}return`${t}${i?"("+i+")":""}[${s}]: ${n.replace(ep,"\n  ")}`}("\n"+n.message,s,t,i),n.ngTokenPath=s,n[l4]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Zn(o),gr(r)}}resolveInjectorInitializers(){const e=gr(this),t=Zn(void 0);try{const s=this.get(Tc.multi,ut,et.Self);for(const r of s)r()}finally{gr(e),Zn(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(yn(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new G(205,!1)}processProvider(e){let t=Wr(e=Re(e))?e:Re(e&&e.provide);const i=function $3(n){return F3(n)?Oc(void 0,n.useValue):Oc(pu(n),du)}(e);if(Wr(e)||!0!==e.multi)this.records.get(t);else{let s=this.records.get(t);s||(s=Oc(void 0,du,!0),s.factory=()=>Rh(s.multi),this.records.set(t,s)),t=e,s.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===du&&(t.value=sm,t.value=t.factory()),"object"==typeof t.value&&t.value&&function am(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Re(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function j3(n){const e=ks(n),t=null!==e?e.factory:_i(n);if(null!==t)return t;if(n instanceof le)throw new G(204,!1);if(n instanceof Function)return function rm(n){const e=n.length;if(e>0)throw Xl(e,"?"),new G(204,!1);const t=function Yt(n){return n&&(n[Wa]||n[o4])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new G(204,!1)}function pu(n,e,t){let i;if(Wr(n)){const s=Re(n);return _i(s)||j3(s)}if(F3(n))i=()=>Re(n.useValue);else if(function cf(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Rh(n.deps||[]));else if(function af(n){return!(!n||!n.useExisting)}(n))i=()=>F(Re(n.useExisting));else{const s=Re(n&&(n.useClass||n.provide));if(!function om(n){return!!n.deps}(n))return _i(s)||j3(s);i=()=>new s(...Rh(n.deps))}return i}function Oc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function U3(n,e){for(const t of n)Array.isArray(t)?U3(t,e):t&&zh(t)?U3(t.\u0275providers,e):e(t)}const mu=new le("AppId",{providedIn:"root",factory:()=>lm}),lm="ng",lf=new le("Platform Initializer"),xo=new le("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),vu=new le("AnimationModuleType"),G3=new le("CSP nonce",{providedIn:"root",factory:()=>function Ac(){if(void 0!==I3)return I3;if(typeof document<"u")return document;throw new G(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let ee=(n,e,t)=>null;function ze(n,e,t=!1){return ee(n,e,t)}class wN{}class DC{}class CN{resolveComponentFactory(e){throw function _N(n){const e=Error(`No component factory found for ${yn(n)}.`);return e.ngComponent=n,e}(e)}}let h1=(()=>{class n{static#e=this.NULL=new CN}return n})();function MN(){return bu(Bn(),K())}function bu(n,e){return new Ke(ki(n,e))}let Ke=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=MN}return n})();function xN(n){return n instanceof Ke?n.nativeElement:n}class d1{}let va=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function EN(){const n=K(),t=es(Bn().index,n);return(Vi(t)?t:n)[Ve]}()}return n})(),SN=(()=>{class n{static#e=this.\u0275prov=J({token:n,providedIn:"root",factory:()=>null})}return n})();class uf{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const zN=new uf("16.2.9"),dm={};function IC(n,e=null,t=null,i){const s=LC(n,e,t,i);return s.resolveInjectorInitializers(),s}function LC(n,e=null,t=null,i,s=new Set){const r=[t||ut,k3(n)];return i=i||("object"==typeof n?void 0:yn(n)),new gu(r,e||fu(),i||null,s)}let On=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Ya;static#t=this.NULL=new V3;static create(t,i){if(Array.isArray(t))return IC({name:""},i,t,"");{const s=t.name??"";return IC({name:s},t.parent,t.providers,s)}}static#n=this.\u0275prov=J({token:n,providedIn:"any",factory:()=>F(N3)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function gm(n){return n.ngOriginalError}class ya{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&gm(e);for(;t&&gm(t);)t=gm(t);return t||null}}function mm(n){return e=>{setTimeout(n,void 0,e)}}const rn=class LN extends at{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let s=e,r=t||(()=>null),o=i;if(e&&"object"==typeof e){const c=e;s=c.next?.bind(c),r=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(r=mm(r),s&&(s=mm(s)),o&&(o=mm(o)));const a=super.subscribe({next:s,error:r,complete:o});return e instanceof Nt&&e.add(a),a}};function NC(...n){}class gt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rn(!1),this.onMicrotaskEmpty=new rn(!1),this.onStable=new rn(!1),this.onError=new rn(!1),typeof Zone>"u")throw new G(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&t,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function RN(){const n="function"==typeof Tt.requestAnimationFrame;let e=Tt[n?"requestAnimationFrame":"setTimeout"],t=Tt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function HN(n){const e=()=>{!function VN(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Tt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,ym(n),n.isCheckStableRunning=!0,vm(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),ym(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,s,r,o,a)=>{if(function FN(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(s,r,o,a);try{return VC(n),t.invokeTask(s,r,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||n.shouldCoalesceRunChangeDetection)&&e(),HC(n)}},onInvoke:(t,i,s,r,o,a,c)=>{try{return VC(n),t.invoke(s,r,o,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),HC(n)}},onHasTask:(t,i,s,r)=>{t.hasTask(s,r),i===s&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,ym(n),vm(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,i,s,r)=>(t.handleError(s,r),n.runOutsideAngular(()=>n.onError.emit(r)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!gt.isInAngularZone())throw new G(909,!1)}static assertNotInAngularZone(){if(gt.isInAngularZone())throw new G(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,s){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+s,e,NN,NC,NC);try{return r.runTask(o,t,i)}finally{r.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const NN={};function vm(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ym(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function VC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function HC(n){n._nesting--,vm(n)}class kN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rn,this.onMicrotaskEmpty=new rn,this.onStable=new rn,this.onError=new rn}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,s){return e.apply(t,i)}}const kC=new le("",{providedIn:"root",factory:FC});function FC(){const n=he(gt);let e=!0;return xh(new Dt(s=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{s.next(e),s.complete()})}),new Dt(s=>{let r;n.runOutsideAngular(()=>{r=n.onStable.subscribe(()=>{gt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,s.next(!0))})})});const o=n.onUnstable.subscribe(()=>{gt.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{s.next(!1)}))});return()=>{r.unsubscribe(),o.unsubscribe()}}).pipe(J1()))}function ba(n){return n instanceof Function?n():n}let bm=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=J({token:n,providedIn:"root",factory:()=>new n})}return n})();function X3(n){for(;n;){n[Fe]|=64;const e=Ql(n);if(Vh(n)&&!e)return n;n=e}return null}const GC=new le("",{providedIn:"root",factory:()=>!1});let df=null;function XC(n,e){return n[e]??JC()}function ZC(n,e){const t=JC();t.producerNode?.length&&(n[e]=df,t.lView=n,df=KC())}const ZN={...nc,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{X3(n.lView)},lView:null};function KC(){return Object.create(ZN)}function JC(){return df??=KC(),df}const Ge={};function ie(n){QC(dt(),K(),li()+n,!1)}function QC(n,e,t,i){if(!i)if(3==(3&e[Fe])){const r=n.preOrderCheckHooks;null!==r&&oa(e,r,t)}else{const r=n.preOrderHooks;null!==r&&gc(e,r,0,t)}_o(t)}function U(n,e=et.Default){const t=K();return null===t?F(n,e):l3(Bn(),t,Re(n),e)}function ff(n,e,t,i,s,r,o,a,c,l,h){const f=e.blueprint.slice();return f[un]=s,f[Fe]=140|i,(null!==l||n&&2048&n[Fe])&&(f[Fe]|=2048),S4(f),f[Vt]=f[Ja]=n,f[$t]=t,f[$s]=o||n&&n[$s],f[Ve]=a||n&&n[Ve],f[js]=c||n&&n[js]||null,f[fn]=r,f[E]=function _d(){return wd++}(),f[_n]=h,f[ta]=l,f[gn]=2==e.type?n[gn]:f,f}function Cu(n,e,t,i,s){let r=n.data[e];if(null===r)r=function wm(n,e,t,i,s){const r=K6(),o=ci(),c=n.data[e]=function sV(n,e,t,i,s,r){let o=e?e.injectorIndex:-1,a=0;return ts()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?r:r&&r.parent,t,e,i,s);return null===n.firstChild&&(n.firstChild=c),null!==r&&(o?null==r.child&&null!==c.parent&&(r.child=c):null===r.next&&(r.next=c,c.prev=r)),c}(n,e,t,i,s),function cc(){return Pe.lFrame.inI18n}()&&(r.flags|=32);else if(64&r.type){r.type=t,r.value=i,r.attrs=s;const o=function oc(){const n=Pe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();r.injectorIndex=null===o?-1:o.injectorIndex}return Zs(r,!0),r}function Z3(n,e,t,i){if(0===t)return-1;const s=e.length;for(let r=0;r<t;r++)e.push(i),n.blueprint.push(i),n.data.push(null);return s}function tM(n,e,t,i,s){const r=XC(e,Ze),o=li(),a=2&i;try{_o(-1),a&&e.length>nt&&QC(n,e,nt,!1),xs(a?2:0,s);const l=a?r:null,h=y4(l);try{null!==l&&(l.dirty=!1),t(i,s)}finally{An(l,h)}}finally{a&&null===e[Ze]&&ZC(e,Ze),_o(o),xs(a?3:1,s)}}function _m(n,e,t){if(Nh(e)){const i=Qi(null);try{const r=e.directiveEnd;for(let o=e.directiveStart;o<r;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{Qi(i)}}}function Cm(n,e,t){z4()&&(function hV(n,e,t,i){const s=t.directiveStart,r=t.directiveEnd;na(t)&&function yV(n,e,t){const i=ki(e,n),s=nM(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=gf(n,ff(n,s,null,o,i,e,null,n[$s].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[s+t.componentOffset]),n.firstCreatePass||R4(t,e),ti(i,e);const o=t.initialInputs;for(let a=s;a<r;a++){const c=n.data[a],l=ui(e,n,a,t);ti(l,e),null!==o&&bV(0,a-s,l,c,0,o),qs(c)&&(es(t.index,e)[$t]=ui(e,n,a,t))}}(n,e,t,ki(t,e)),64==(64&t.flags)&&aM(n,e,t))}function Mm(n,e,t=ki){const i=e.localNames;if(null!==i){let s=e.index+1;for(let r=0;r<i.length;r+=2){const o=i[r+1],a=-1===o?t(e,n):n[o];n[s++]=a}}}function nM(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=xm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function xm(n,e,t,i,s,r,o,a,c,l,h){const f=nt+i,g=f+s,p=function JN(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:Ge);return t}(f,g),v="function"==typeof l?l():l;return p[ce]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:h}}let iM=n=>null;function sM(n,e,t,i){for(let s in n)if(n.hasOwnProperty(s)){t=null===t?{}:t;const r=n[s];null===i?rM(t,e,s,r):i.hasOwnProperty(s)&&rM(t,e,i[s],r)}return t}function rM(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function Em(n,e,t,i){if(z4()){const s=null===i?null:{"":-1},r=function fV(n,e){const t=n.directiveRegistry;let i=null,s=null;if(t)for(let r=0;r<t.length;r++){const o=t[r];if(x6(e,o.selectors,!1))if(i||(i=[]),qs(o))if(null!==o.findHostDirectiveDefs){const a=[];s=s||new Map,o.findHostDirectiveDefs(o,a,s),i.unshift(...a,o),Sm(n,e,a.length)}else i.unshift(o),Sm(n,e,0);else s=s||new Map,o.findHostDirectiveDefs?.(o,i,s),i.push(o)}return null===i?null:[i,s]}(n,t);let o,a;null===r?o=a=null:[o,a]=r,null!==o&&oM(n,e,t,o,s,a),s&&function gV(n,e,t){if(e){const i=n.localNames=[];for(let s=0;s<e.length;s+=2){const r=t[e[s+1]];if(null==r)throw new G(-301,!1);i.push(e[s],r)}}}(t,i,s)}t.mergedAttrs=mo(t.mergedAttrs,t.attrs)}function oM(n,e,t,i,s,r){for(let l=0;l<i.length;l++)ql(R4(t,e),n,i[l].type);!function mV(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let l=0;l<i.length;l++){const h=i[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,c=Z3(n,e,i.length,null);for(let l=0;l<i.length;l++){const h=i[l];t.mergedAttrs=mo(t.mergedAttrs,h.hostAttrs),vV(n,t,e,c,h),pV(c,h,s),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const f=h.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function rV(n,e,t){const s=e.directiveEnd,r=n.data,o=e.attrs,a=[];let c=null,l=null;for(let h=e.directiveStart;h<s;h++){const f=r[h],g=t?t.get(f):null,v=g?g.outputs:null;c=sM(f.inputs,h,c,g?g.inputs:null),l=sM(f.outputs,h,l,v);const y=null===c||null===o||Pl(e)?null:wV(c,h,o);a.push(y)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,r)}function aM(n,e,t){const i=t.directiveStart,s=t.directiveEnd,r=t.index,o=function J6(){return Pe.lFrame.currentDirectiveIndex}();try{_o(r);for(let a=i;a<s;a++){const c=n.data[a],l=e[a];D4(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&dV(c,l)}}finally{_o(-1),D4(o)}}function dV(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Sm(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function pV(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;qs(e)&&(t[""]=n)}}function vV(n,e,t,i,s){n.data[i]=s;const r=s.factory||(s.factory=_i(s.type)),o=new Gl(r,qs(s),U);n.blueprint[i]=o,t[i]=o,function lV(n,e,t,i,s){const r=s.hostBindings;if(r){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function uV(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,i,r)}}(n,e,i,Z3(n,t,s.hostVars,Ge),s)}function Eo(n,e,t,i,s,r){const o=ki(n,e);!function zm(n,e,t,i,s,r,o){if(null==r)n.removeAttribute(e,s,t);else{const a=null==o?de(r):o(r,i||"",s);n.setAttribute(e,s,a,t)}}(e[Ve],o,r,n.value,t,i,s)}function bV(n,e,t,i,s,r){const o=r[e];if(null!==o)for(let a=0;a<o.length;)cM(i,t,o[a++],o[a++],o[a++])}function cM(n,e,t,i,s){const r=Qi(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(i)&&(s=o[i].call(e,s)),null!==n.setInput?n.setInput(e,s,t,i):e[i]=s}finally{Qi(r)}}function wV(n,e,t){let i=null,s=0;for(;s<t.length;){const r=t[s];if(0!==r)if(5!==r){if("number"==typeof r)break;if(n.hasOwnProperty(r)){null===i&&(i=[]);const o=n[r];for(let a=0;a<o.length;a+=2)if(o[a]===e){i.push(r,o[a+1],t[s+1]);break}}s+=2}else s+=2;else s+=4}return i}function lM(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null,null]}function uM(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const r=t[i+1];if(-1!==r){const o=n.data[r];hc(t[i]),o.contentQueries(2,e[r],r)}}}function gf(n,e){return n[Rl]?n[O6][bi]=e:n[Rl]=e,n[O6]=e,e}function Dm(n,e,t){hc(0);const i=Qi(null);try{e(n,t)}finally{Qi(i)}}function hM(n){return n[vr]||(n[vr]=[])}function dM(n){return n.cleanup||(n.cleanup=[])}function gM(n,e){const t=n[js],i=t?t.get(ya,null):null;i&&i.handleError(e)}function Am(n,e,t,i,s){for(let r=0;r<t.length;){const o=t[r++],a=t[r++];cM(n.data[o],e[o],i,a,s)}}function _V(n,e){const t=es(e,n),i=t[ce];!function CV(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const s=t[un];null!==s&&null===t[_n]&&(t[_n]=ze(s,t[js])),Tm(i,t,t[$t])}function Tm(n,e,t){e3(e);try{const i=n.viewQuery;null!==i&&Dm(1,i,t);const s=n.template;null!==s&&tM(n,e,s,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&uM(n,e),n.staticViewQueries&&Dm(2,n.viewQuery,t);const r=n.components;null!==r&&function MV(n,e){for(let t=0;t<e.length;t++)_V(n,e[t])}(e,r)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Fe]&=-5,i3()}}let pM=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,i,s){const r=typeof Zone>"u"?null:Zone.current,o=function $6(n,e,t){const i=Object.create(bp);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;const s=o=>{i.cleanupFn=o};return i.ref={notify:()=>R6(i),run:()=>{if(i.dirty=!1,i.hasRun&&!b4(i))return;i.hasRun=!0;const o=y4(i);try{i.cleanupFn(),i.cleanupFn=C4,i.fn(s)}finally{An(i,o)}},cleanup:()=>i.cleanupFn()},i.ref}(t,l=>{this.all.has(l)&&this.queue.set(l,r)},s);let a;this.all.add(o),o.notify();const c=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=J({token:n,providedIn:"root",factory:()=>new n})}return n})();function pf(n,e,t){let i=t?n.styles:null,s=t?n.classes:null,r=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?r=a:1==r?s=Eh(s,a):2==r&&(i=Eh(i,a+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=s:n.classesWithoutHost=s}function K3(n,e,t,i,s=!1){for(;null!==t;){const r=e[t.index];null!==r&&i.push(Ht(r)),wi(r)&&mM(r,i);const o=t.type;if(8&o)K3(n,e,t.child,i);else if(32&o){const a=is(t,e);let c;for(;c=a();)i.push(c)}else if(16&o){const a=Vd(e,t);if(Array.isArray(a))i.push(...a);else{const c=Ql(e[gn]);K3(c[ce],c,a,i,!0)}}t=s?t.projectionNext:t.next}return i}function mM(n,e){for(let t=Ut;t<n.length;t++){const i=n[t],s=i[ce].firstChild;null!==s&&K3(i[ce],i,s,e)}n[br]!==n[un]&&e.push(n[br])}function mf(n,e,t,i=!0){const s=e[$s],r=s.rendererFactory,o=s.afterRenderEventManager;r.begin?.(),o?.begin();try{vM(n,e,n.template,t)}catch(c){throw i&&gM(e,c),c}finally{r.end?.(),s.effectManager?.flush(),o?.end()}}function vM(n,e,t,i){const s=e[Fe];if(256!=(256&s)){e[$s].effectManager?.flush(),e3(e);try{S4(e),function Kh(n){return Pe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&tM(n,e,t,2,i);const o=3==(3&s);if(o){const l=n.preOrderCheckHooks;null!==l&&oa(e,l,null)}else{const l=n.preOrderHooks;null!==l&&gc(e,l,0,null),Ur(e,0)}if(function SV(n){for(let e=Ad(n);null!==e;e=Mi(e)){if(!e[P6])continue;const t=e[Qa];for(let i=0;i<t.length;i++){q6(t[i])}}}(e),yM(e,2),null!==n.contentQueries&&uM(n,e),o){const l=n.contentCheckHooks;null!==l&&oa(e,l)}else{const l=n.contentHooks;null!==l&&gc(e,l,1),Ur(e,1)}!function KN(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const i=XC(e,Nl);try{for(let s=0;s<t.length;s++){const r=t[s];if(r<0)_o(~r);else{const o=r,a=t[++s],c=t[++s];Tp(a,o),i.dirty=!1;const l=y4(i);try{c(2,e[o])}finally{An(i,l)}}}}finally{null===e[Nl]&&ZC(e,Nl),_o(-1)}}(n,e);const a=n.components;null!==a&&wM(e,a,0);const c=n.viewQuery;if(null!==c&&Dm(2,c,i),o){const l=n.viewCheckHooks;null!==l&&oa(e,l)}else{const l=n.viewHooks;null!==l&&gc(e,l,2),Ur(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Fe]&=-73,qh(e)}finally{i3()}}}function yM(n,e){for(let t=Ad(n);null!==t;t=Mi(t))for(let i=Ut;i<t.length;i++)bM(t[i],e)}function zV(n,e,t){bM(es(e,n),t)}function bM(n,e){if(!function Es(n){return 128==(128&n[Fe])}(n))return;const t=n[ce],i=n[Fe];if(80&i&&0===e||1024&i||2===e)vM(t,n,t.template,n[$t]);else if(n[ea]>0){yM(n,1);const s=t.components;null!==s&&wM(n,s,1)}}function wM(n,e,t){for(let i=0;i<e.length;i++)zV(n,e[i],t)}class J3{get rootNodes(){const e=this._lView,t=e[ce];return K3(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$t]}set context(e){this._lView[$t]=e}get destroyed(){return 256==(256&this._lView[Fe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Vt];if(wi(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(Ft(e,i),Cc(t,i))}this._attachedToViewContainer=!1}Xt(this._lView[ce],this._lView)}onDestroy(e){!function Br(n,e){if(256==(256&n[Fe]))throw new G(911,!1);null===n[Gs]&&(n[Gs]=[]),n[Gs].push(e)}(this._lView,e)}markForCheck(){X3(this._cdRefInjectingView||this._lView)}detach(){this._lView[Fe]&=-129}reattach(){this._lView[Fe]|=128}detectChanges(){mf(this._lView[ce],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function D3(n,e){hi(n,e,e[Ve],2,null,null)}(this._lView[ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new G(902,!1);this._appRef=e}}class DV extends J3{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;mf(e[ce],e,e[$t],!1)}checkNoChanges(){}get context(){return null}}class _M extends h1{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=tt(e);return new Q3(t,this.ngModule)}}function CM(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class TV{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=u4(i);const s=this.injector.get(e,dm,i);return s!==dm||t===dm?s:this.parentInjector.get(e,t,i)}}class Q3 extends DC{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=CM(e.inputs);if(null!==t)for(const s of i)t.hasOwnProperty(s.propName)&&(s.transform=t[s.propName]);return i}get outputs(){return CM(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function p4(n){return n.map(E6).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,s){let r=(s=s||this.ngModule)instanceof $i?s:s?.injector;r&&null!==this.componentDef.getStandaloneInjector&&(r=this.componentDef.getStandaloneInjector(r)||r);const o=r?new TV(e,r):e,a=o.get(d1,null);if(null===a)throw new G(407,!1);const f={rendererFactory:a,sanitizer:o.get(SN,null),effectManager:o.get(pM,null),afterRenderEventManager:o.get(bm,null)},g=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",v=i?function QN(n,e,t,i){const r=i.get(GC,!1)||t===ws.ShadowDom,o=n.selectRootElement(e,r);return function eV(n){iM(n)}(o),o}(g,i,this.componentDef.encapsulation,o):K4(g,p,function AV(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(p)),C=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==v&&(_=ze(v,o,!0));const M=xm(0,null,null,1,0,null,null,null,null,null,null),S=ff(null,M,null,C,null,null,f,g,o,null,_);let D,I;e3(S);try{const k=this.componentDef;let Y,j=null;k.findHostDirectiveDefs?(Y=[],j=new Map,k.findHostDirectiveDefs(k,Y,j),Y.push(k)):Y=[k];const Q=function PV(n,e){const t=n[ce],i=nt;return n[i]=e,Cu(t,i,2,"#host",null)}(S,v),Z=function IV(n,e,t,i,s,r,o){const a=s[ce];!function LV(n,e,t,i){for(const s of n)e.mergedAttrs=mo(e.mergedAttrs,s.hostAttrs);null!==e.mergedAttrs&&(pf(e,e.mergedAttrs,!0),null!==t&&Bd(i,t,e))}(i,n,e,o);let c=null;null!==e&&(c=ze(e,s[js]));const l=r.rendererFactory.createRenderer(e,t);let h=16;t.signals?h=4096:t.onPush&&(h=64);const f=ff(s,nM(t),null,h,s[n.index],n,r,l,null,null,c);return a.firstCreatePass&&Sm(a,n,i.length-1),gf(s,f),s[n.index]=f}(Q,v,k,Y,S,f,g);I=rc(M,nt),v&&function NV(n,e,t,i){if(i)Ol(n,t,["ng-version",zN.full]);else{const{attrs:s,classes:r}=function S6(n){const e=[],t=[];let i=1,s=2;for(;i<n.length;){let r=n[i];if("string"==typeof r)2===s?""!==r&&e.push(r,n[++i]):8===s&&t.push(r);else{if(!_s(s))break;s=r}i++}return{attrs:e,classes:t}}(e.selectors[0]);s&&Ol(n,t,s),r&&r.length>0&&r1(n,t,r.join(" "))}}(g,k,v,i),void 0!==t&&function VV(n,e,t){const i=n.projection=[];for(let s=0;s<e.length;s++){const r=t[s];i.push(null!=r?Array.from(r):null)}}(I,this.ngContentSelectors,t),D=function RV(n,e,t,i,s,r){const o=Bn(),a=s[ce],c=ki(o,s);oM(a,s,o,t,null,i);for(let h=0;h<t.length;h++)ti(ui(s,a,o.directiveStart+h,o),s);aM(a,s,o),c&&ti(c,s);const l=ui(s,a,o.directiveStart+o.componentOffset,o);if(n[$t]=s[$t]=l,null!==r)for(const h of r)h(l,e);return _m(a,o,n),l}(Z,k,Y,j,S,[HV]),Tm(M,S,null)}finally{i3()}return new OV(this.componentType,D,bu(I,S),S,I)}}class OV extends wN{constructor(e,t,i,s,r){super(),this.location=i,this._rootLView=s,this._tNode=r,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new DV(s),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let s;if(null!==i&&(s=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const r=this._rootLView;Am(r[ce],r,s,e,t),this.previousInputValues.set(e,t),X3(es(this._tNode.index,r))}}get injector(){return new Ci(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function HV(){const n=Bn();Me(K()[ce],n)}function e0(n){let e=function MM(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let s;if(qs(n))s=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new G(903,!1);s=e.\u0275dir}if(s){if(t){i.push(s);const o=n;o.inputs=vf(n.inputs),o.inputTransforms=vf(n.inputTransforms),o.declaredInputs=vf(n.declaredInputs),o.outputs=vf(n.outputs);const a=s.hostBindings;a&&jV(n,a);const c=s.viewQuery,l=s.contentQueries;if(c&&FV(n,c),l&&BV(n,l),t4(n.inputs,s.inputs),t4(n.declaredInputs,s.declaredInputs),t4(n.outputs,s.outputs),null!==s.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),t4(o.inputTransforms,s.inputTransforms)),qs(s)&&s.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(s.data.animation)}}const r=s.features;if(r)for(let o=0;o<r.length;o++){const a=r[o];a&&a.ngInherit&&a(n),a===e0&&(t=!1)}}e=Object.getPrototypeOf(e)}!function kV(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const s=n[i];s.hostVars=e+=s.hostVars,s.hostAttrs=mo(s.hostAttrs,t=mo(t,s.hostAttrs))}}(i)}function vf(n){return n===mr?{}:n===ut?[]:n}function FV(n,e){const t=n.viewQuery;n.viewQuery=t?(i,s)=>{e(i,s),t(i,s)}:e}function BV(n,e){const t=n.contentQueries;n.contentQueries=t?(i,s,r)=>{e(i,s,r),t(i,s,r)}:e}function jV(n,e){const t=n.hostBindings;n.hostBindings=t?(i,s)=>{e(i,s),t(i,s)}:e}function yf(n){return!!Om(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Om(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function So(n,e,t){return n[e]=t}function Ui(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function bf(n,e,t,i,s){const r=function f1(n,e,t,i){const s=Ui(n,e,t);return Ui(n,e+1,i)||s}(n,e,t,i);return Ui(n,e+2,s)||r}function ye(n,e,t,i){const s=K();return Ui(s,ac(),e)&&(dt(),Eo(sn(),s,n,e,t,i)),ye}function xu(n,e,t,i){return Ui(n,ac(),t)?e+de(t)+i:Ge}function cs(n,e,t,i,s,r,o,a){const c=K(),l=dt(),h=n+nt,f=l.firstCreatePass?function fH(n,e,t,i,s,r,o,a,c){const l=e.consts,h=Cu(e,n,4,o||null,Xs(l,a));Em(e,t,h,Xs(l,c)),Me(e,h);const f=h.tView=xm(2,h,i,s,r,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,h),f.queries=e.queries.embeddedTView(h)),h}(h,l,c,e,t,i,s,r,o):l.data[h];Zs(f,!1);const g=FM(l,c,f,n);dc()&&eu(l,c,g,f),ti(g,c),gf(c,c[h]=lM(g,c,g,f)),Cs(f)&&Cm(l,c,f),null!=o&&Mm(c,f,a)}let FM=function BM(n,e,t,i){return Ks(!0),e[Ve].createComment("")};function yt(n,e,t){const i=K();return Ui(i,ac(),e)&&function er(n,e,t,i,s,r,o,a){const c=ki(e,t);let h,l=e.inputs;!a&&null!=l&&(h=l[i])?(Am(n,t,h,i,s),na(e)&&function aV(n,e){const t=es(e,n);16&t[Fe]||(t[Fe]|=64)}(t,e.index)):3&e.type&&(i=function oV(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),s=null!=o?o(s,e.value||"",i):s,r.setProperty(c,i,s))}(dt(),sn(),i,n,e,i[Ve],t,!1),yt}function Vm(n,e,t,i,s){const o=s?"class":"style";Am(n,t,e.inputs[o],o,i)}function me(n,e,t,i){const s=K(),r=dt(),o=nt+n,a=s[Ve],c=r.firstCreatePass?function yH(n,e,t,i,s,r){const o=e.consts,c=Cu(e,n,2,i,Xs(o,s));return Em(e,t,c,Xs(o,r)),null!==c.attrs&&pf(c,c.attrs,!1),null!==c.mergedAttrs&&pf(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,r,s,e,t,i):r.data[o],l=jM(r,s,c,a,e,n);s[o]=l;const h=Cs(c);return Zs(c,!0),Bd(a,l,c),32!=(32&c.flags)&&dc()&&eu(r,s,l,c),0===function Yh(){return Pe.lFrame.elementDepthCount}()&&ti(l,s),function W6(){Pe.lFrame.elementDepthCount++}(),h&&(Cm(r,s,c),_m(r,c,s)),null!==i&&Mm(s,c),me}function pe(){let n=Bn();ci()?Ss():(n=n.parent,Zs(n,!1));const e=n;(function zp(n){return Pe.skipHydrationRootTNode===n})(e)&&function Zh(){Pe.skipHydrationRootTNode=null}(),function Xh(){Pe.lFrame.elementDepthCount--}();const t=dt();return t.firstCreatePass&&(Me(t,n),Nh(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Np(n){return 0!=(8&n.flags)}(e)&&Vm(t,e,K(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Vp(n){return 0!=(16&n.flags)}(e)&&Vm(t,e,K(),e.stylesWithoutHost,!1),pe}function st(n,e,t,i){return me(n,e,t,i),pe(),st}let jM=(n,e,t,i,s,r)=>(Ks(!0),K4(i,s,function T4(){return Pe.lFrame.currentNamespace}()));function Ic(n,e,t){const i=K(),s=dt(),r=n+nt,o=s.firstCreatePass?function _H(n,e,t,i,s){const r=e.consts,o=Xs(r,i),a=Cu(e,n,8,"ng-container",o);return null!==o&&pf(a,o,!0),Em(e,t,a,Xs(r,s)),null!==e.queries&&e.queries.elementStart(e,a),a}(r,s,i,e,t):s.data[r];Zs(o,!0);const a=UM(s,i,o,n);return i[r]=a,dc()&&eu(s,i,a,o),ti(a,i),Cs(o)&&(Cm(s,i,o),_m(s,o,i)),null!=t&&Mm(i,o),Ic}function Lc(){let n=Bn();const e=dt();return ci()?Ss():(n=n.parent,Zs(n,!1)),e.firstCreatePass&&(Me(e,n),Nh(n)&&e.queries.elementEnd(n)),Lc}let UM=(n,e,t,i)=>(Ks(!0),z3(e[Ve],""));function Mf(n){return!!n&&"function"==typeof n.then}function GM(n){return!!n&&"function"==typeof n.subscribe}function Pu(n,e,t,i){const s=K(),r=dt(),o=Bn();return function WM(n,e,t,i,s,r,o){const a=Cs(i),l=n.firstCreatePass&&dM(n),h=e[$t],f=hM(e);let g=!0;if(3&i.type||o){const y=ki(i,e),b=o?o(y):y,C=f.length,_=o?S=>o(Ht(S[i.index])):i.index;let M=null;if(!o&&a&&(M=function EH(n,e,t,i){const s=n.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const o=s[r];if(o===t&&s[r+1]===i){const a=e[vr],c=s[r+2];return a.length>c?a[c]:null}"string"==typeof o&&(r+=2)}return null}(n,e,s,i.index)),null!==M)(M.__ngLastListenerFn__||M).__ngNextListenerFn__=r,M.__ngLastListenerFn__=r,g=!1;else{r=XM(i,e,h,r,!1);const S=t.listen(b,s,r);f.push(r,S),l&&l.push(s,_,C,C+1)}}else r=XM(i,e,h,r,!1);const p=i.outputs;let v;if(g&&null!==p&&(v=p[s])){const y=v.length;if(y)for(let b=0;b<y;b+=2){const D=e[v[b]][v[b+1]].subscribe(r),I=f.length;f.push(r,D),l&&l.push(s,i.index,I,-(I+1))}}}(r,s,s[Ve],o,n,e,i),Pu}function YM(n,e,t,i){try{return xs(6,e,t),!1!==t(i)}catch(s){return gM(n,s),!1}finally{xs(7,e,t)}}function XM(n,e,t,i,s){return function r(o){if(o===Function)return i;X3(n.componentOffset>-1?es(n.index,e):e);let c=YM(e,t,i,o),l=r.__ngNextListenerFn__;for(;l;)c=YM(e,t,l,o)&&c,l=l.__ngNextListenerFn__;return s&&!1===c&&o.preventDefault(),c}}function _a(n=1){return function Q6(n){return(Pe.lFrame.contextLView=function jr(n,e){for(;n>0;)e=e[Ja],n--;return e}(n,Pe.lFrame.contextLView))[$t]}(n)}function SH(n,e){let t=null;const i=function rp(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let s=0;s<e.length;s++){const r=e[s];if("*"!==r){if(null===i?x6(n,r,!0):vo(i,r))return s}else t=s}return t}function Iu(n){const e=K()[gn][fn];if(!e.projection){const i=e.projection=Xl(n?n.length:1,null),s=i.slice();let r=e.child;for(;null!==r;){const o=n?SH(r,n):0;null!==o&&(s[o]?s[o].projectionNext=r:i[o]=r,s[o]=r),r=r.next}}}function Lu(n,e=0,t){const i=K(),s=dt(),r=Cu(s,nt+n,16,null,t||null);null===r.projection&&(r.projection=e),Ss(),(!i[_n]||ts())&&32!=(32&r.flags)&&function Hd(n,e,t){kd(e[Ve],0,e,t,A3(n,t,e),n1(t.parent||e[fn],t,e))}(s,i,r)}function xf(n,e){return n<<17|e<<2}function Rc(n){return n>>17&32767}function km(n){return 2|n}function g1(n){return(131068&n)>>2}function Fm(n,e){return-131069&n|e<<2}function Bm(n){return 1|n}function rx(n,e,t,i,s){const r=n[t+1],o=null===e;let a=i?Rc(r):g1(r),c=!1;for(;0!==a&&(!1===c||o);){const h=n[a+1];PH(n[a],e)&&(c=!0,n[a+1]=i?Bm(h):km(h)),a=i?Rc(h):g1(h)}c&&(n[t+1]=i?km(r):Bm(r))}function PH(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Mc(n,e)>=0}const ni={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ox(n){return n.substring(ni.key,ni.keyEnd)}function IH(n){return n.substring(ni.value,ni.valueEnd)}function ax(n,e){const t=ni.textEnd;return t===e?-1:(e=ni.keyEnd=function NH(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,ni.key=e,t),Ru(n,e,t))}function cx(n,e){const t=ni.textEnd;let i=ni.key=Ru(n,e,t);return t===i?-1:(i=ni.keyEnd=function VH(n,e,t){let i;for(;e<t&&(45===(i=n.charCodeAt(e))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)e++;return e}(n,i,t),i=ux(n,i,t),i=ni.value=Ru(n,i,t),i=ni.valueEnd=function HH(n,e,t){let i=-1,s=-1,r=-1,o=e,a=o;for(;o<t;){const c=n.charCodeAt(o++);if(59===c)return a;34===c||39===c?a=o=hx(n,c,o,t):e===o-4&&85===r&&82===s&&76===i&&40===c?a=o=hx(n,41,o,t):c>32&&(a=o),r=s,s=i,i=-33&c}return a}(n,i,t),ux(n,i,t))}function lx(n){ni.key=0,ni.keyEnd=0,ni.value=0,ni.valueEnd=0,ni.textEnd=n.length}function Ru(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function ux(n,e,t,i){return(e=Ru(n,e,t))<t&&e++,e}function hx(n,e,t,i){let s=-1,r=t;for(;r<i;){const o=n.charCodeAt(r++);if(o==e&&92!==s)return r;s=92==o&&92===s?0:o}throw new Error}function Nc(n,e){return function Xr(n,e,t,i){const s=K(),r=dt(),o=Mr(2);r.firstUpdatePass&&gx(r,n,o,i),e!==Ge&&Ui(s,o,e)&&mx(r,r.data[li()],s,s[Ve],n,s[o+1]=function WH(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=yn(ss(n)))),n}(e,t),i,o)}(n,e,null,!0),Nc}function kH(n,e){for(let t=function RH(n){return lx(n),cx(n,Ru(n,0,ni.textEnd))}(e);t>=0;t=cx(e,t))px(n,ox(e),IH(e))}function jm(n){Zr(GH,zo,n,!0)}function zo(n,e){for(let t=function LH(n){return lx(n),ax(n,Ru(n,0,ni.textEnd))}(e);t>=0;t=ax(e,t))ns(n,ox(e),!0)}function Zr(n,e,t,i){const s=dt(),r=Mr(2);s.firstUpdatePass&&gx(s,null,r,i);const o=K();if(t!==Ge&&Ui(o,r,t)){const a=s.data[li()];if(yx(a,i)&&!fx(s,r)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=Eh(c,t||"")),Vm(s,a,o,t,i)}else!function qH(n,e,t,i,s,r,o,a){s===Ge&&(s=ut);let c=0,l=0,h=0<s.length?s[0]:null,f=0<r.length?r[0]:null;for(;null!==h||null!==f;){const g=c<s.length?s[c+1]:void 0,p=l<r.length?r[l+1]:void 0;let y,v=null;h===f?(c+=2,l+=2,g!==p&&(v=f,y=p)):null===f||null!==h&&h<f?(c+=2,v=h):(l+=2,v=f,y=p),null!==v&&mx(n,e,t,i,v,y,o,a),h=c<s.length?s[c]:null,f=l<r.length?r[l]:null}}(s,a,o,o[Ve],o[r+1],o[r+1]=function UH(n,e,t){if(null==t||""===t)return ut;const i=[],s=ss(t);if(Array.isArray(s))for(let r=0;r<s.length;r++)n(i,s[r],!0);else if("object"==typeof s)for(const r in s)s.hasOwnProperty(r)&&n(i,r,s[r]);else"string"==typeof s&&e(i,s);return i}(n,e,t),i,r)}}function fx(n,e){return e>=n.expandoStartIndex}function gx(n,e,t,i){const s=n.data;if(null===s[t+1]){const r=s[li()],o=fx(n,t);yx(r,i)&&null===e&&!o&&(e=!1),e=function FH(n,e,t,i){const s=function uc(n){const e=Pe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let r=i?e.residualClasses:e.residualStyles;if(null===s)0===(i?e.classBindings:e.styleBindings)&&(t=o0(t=$m(null,n,e,t,i),e.attrs,i),r=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==s)if(t=$m(s,n,e,t,i),null===r){let c=function BH(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==g1(i))return n[Rc(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=$m(null,n,e,c[1],i),c=o0(c,e.attrs,i),function jH(n,e,t,i){n[Rc(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else r=function $H(n,e,t){let i;const s=e.directiveEnd;for(let r=1+e.directiveStylingLast;r<s;r++)i=o0(i,n[r].hostAttrs,t);return o0(i,e.attrs,t)}(n,e,i)}return void 0!==r&&(i?e.residualClasses=r:e.residualStyles=r),t}(s,r,e,i),function TH(n,e,t,i,s,r){let o=r?e.classBindings:e.styleBindings,a=Rc(o),c=g1(o);n[i]=t;let h,l=!1;if(Array.isArray(t)?(h=t[1],(null===h||Mc(t,h)>0)&&(l=!0)):h=t,s)if(0!==c){const g=Rc(n[a+1]);n[i+1]=xf(g,a),0!==g&&(n[g+1]=Fm(n[g+1],i)),n[a+1]=function DH(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=xf(a,0),0!==a&&(n[a+1]=Fm(n[a+1],i)),a=i;else n[i+1]=xf(c,0),0===a?a=i:n[c+1]=Fm(n[c+1],i),c=i;l&&(n[i+1]=km(n[i+1])),rx(n,h,i,!0),rx(n,h,i,!1),function OH(n,e,t,i,s){const r=s?n.residualClasses:n.residualStyles;null!=r&&"string"==typeof e&&Mc(r,e)>=0&&(t[i+1]=Bm(t[i+1]))}(e,h,n,i,r),o=xf(a,c),r?e.classBindings=o:e.styleBindings=o}(s,r,e,t,o,i)}}function $m(n,e,t,i,s){let r=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(r=e[a],i=o0(i,r.hostAttrs,s),r!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function o0(n,e,t){const i=t?1:2;let s=-1;if(null!==e)for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?s=o:s===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ns(n,o,!!t||e[++r]))}return void 0===n?null:n}function px(n,e,t){ns(n,e,ss(t))}function GH(n,e,t){const i=String(e);""!==i&&!i.includes(" ")&&ns(n,i,t)}function mx(n,e,t,i,s,r,o,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],h=function AH(n){return 1==(1&n)}(l)?vx(c,e,t,s,g1(l),o):void 0;Ef(h)||(Ef(r)||function zH(n){return 2==(2&n)}(l)&&(r=vx(c,null,t,s,a,o)),function O9(n,e,t,i,s){if(e)s?n.addClass(t,i):n.removeClass(t,i);else{let r=-1===i.indexOf("-")?void 0:Mo.DashCase;null==s?n.removeStyle(t,i,r):("string"==typeof s&&s.endsWith("!important")&&(s=s.slice(0,-10),r|=Mo.Important),n.setStyle(t,i,s,r))}}(i,o,$e(li(),t),s,r))}function vx(n,e,t,i,s,r){const o=null===e;let a;for(;s>0;){const c=n[s],l=Array.isArray(c),h=l?c[1]:c,f=null===h;let g=t[s+1];g===Ge&&(g=f?ut:void 0);let p=f?p3(g,i):h===i?g:void 0;if(l&&!Ef(p)&&(p=p3(c,i)),Ef(p)&&(a=p,o))return a;const v=n[s+1];s=o?Rc(v):g1(v)}if(null!==e){let c=r?e.residualClasses:e.residualStyles;null!=c&&(a=p3(c,i))}return a}function Ef(n){return void 0!==n}function yx(n,e){return 0!=(n.flags&(e?8:16))}function Te(n,e=""){const t=K(),i=dt(),s=n+nt,r=i.firstCreatePass?Cu(i,s,1,e,null):i.data[s],o=bx(i,t,r,e,n);t[s]=o,dc()&&eu(i,t,o,r),Zs(r,!1)}let bx=(n,e,t,i,s)=>(Ks(!0),function Js(n,e){return n.createText(e)}(e[Ve],i));function a0(n){return Gt("",n,""),a0}function Gt(n,e,t){const i=K(),s=xu(i,n,e,t);return s!==Ge&&function wa(n,e,t){const i=$e(e,n);!function Td(n,e,t){n.setValue(e,t)}(n[Ve],i,t)}(i,li(),s),Gt}function Um(n,e,t){Zr(ns,zo,xu(K(),n,e,t),!0)}const Vu="en-US";let Bx=Vu;function Wm(n,e,t,i,s){if(n=Re(n),Array.isArray(n))for(let r=0;r<n.length;r++)Wm(n[r],e,t,i,s);else{const r=dt(),o=K(),a=Bn();let c=Wr(n)?n:Re(n.provide);const l=pu(n),h=1048575&a.providerIndexes,f=a.directiveStart,g=a.providerIndexes>>20;if(Wr(n)||!n.multi){const p=new Gl(l,s,U),v=Xm(c,e,s?h:h+g,f);-1===v?(ql(R4(a,o),r,c),Ym(r,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,s&&(a.providerIndexes+=1048576),t.push(p),o.push(p)):(t[v]=p,o[v]=p)}else{const p=Xm(c,e,h+g,f),v=Xm(c,e,h,h+g),b=v>=0&&t[v];if(s&&!b||!s&&!(p>=0&&t[p])){ql(R4(a,o),r,c);const C=function fF(n,e,t,i,s){const r=new Gl(n,t,U);return r.multi=[],r.index=e,r.componentProviders=0,dE(r,s,i&&!t),r}(s?dF:hF,t.length,s,i,l);!s&&b&&(t[v].providerFactory=C),Ym(r,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,s&&(a.providerIndexes+=1048576),t.push(C),o.push(C)}else Ym(r,n,p>-1?p:v,dE(t[s?v:p],l,!s&&i));!s&&i&&b&&t[v].componentProviders++}}}function Ym(n,e,t,i){const s=Wr(e),r=function im(n){return!!n.useClass}(e);if(s||r){const c=(r?Re(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!s&&e.multi){const h=l.indexOf(t);-1===h?l.push(t,[i,c]):l[h+1].push(i,c)}else l.push(t,c)}}}function dE(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Xm(n,e,t,i){for(let s=t;s<i;s++)if(e[s]===n)return s;return-1}function hF(n,e,t,i){return Zm(this.multi,[])}function dF(n,e,t,i){const s=this.multi;let r;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ui(t,t[ce],this.providerFactory.index,i);r=a.slice(0,o),Zm(s,r);for(let c=o;c<a.length;c++)r.push(a[c])}else r=[],Zm(s,r);return r}function Zm(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Tf(n,e=[]){return t=>{t.providersResolver=(i,s)=>function uF(n,e,t){const i=dt();if(i.firstCreatePass){const s=qs(n);Wm(t,i.data,i.blueprint,s,!0),Wm(e,i.data,i.blueprint,s,!1)}}(i,s?s(n):n,e)}}class m1{}class fE{}class Km extends m1{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _M(this);const s=Ni(e);this._bootstrapComponents=ba(s.bootstrap),this._r3Injector=LC(e,t,[{provide:m1,useValue:this},{provide:h1,useValue:this.componentFactoryResolver},...i],yn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Jm extends fE{constructor(e){super(),this.moduleType=e}create(e){return new Km(this.moduleType,e,[])}}class gE extends m1{constructor(e){super(),this.componentFactoryResolver=new _M(this),this.instance=null;const t=new gu([...e.providers,{provide:m1,useValue:this},{provide:h1,useValue:this.componentFactoryResolver}],e.parent||fu(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Qm(n,e,t=null){return new gE({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let mF=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=sf(0,t.type),s=i.length>0?Qm([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,s)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=J({token:n,providedIn:"environment",factory:()=>new n(F($i))})}return n})();function pE(n){n.getStandaloneInjector=e=>e.get(mF).getOrCreateStandaloneInjector(n)}function Of(n,e,t){const i=Cn()+n,s=K();return s[i]===Ge?So(s,i,t?e.call(t):e()):function t0(n,e){return n[e]}(s,i)}function tv(n,e,t,i,s,r){return function xE(n,e,t,i,s,r,o,a){const c=e+t;return bf(n,c,s,r,o)?So(n,c+3,a?i.call(a,s,r,o):i(s,r,o)):function f0(n,e){const t=n[e];return t===Ge?void 0:t}(n,c+3)}(K(),Cn(),n,e,t,i,s,r)}function FF(){return this._results[Symbol.iterator]()}class nv{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new rn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=nv.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=FF)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const s=function Ds(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Yp(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],r=e[i];if(t&&(s=t(s),r=t(r)),r!==s)return!1}return!0}(i._results,s,t))&&(i._results=s,i.length=s.length,i.last=s[this.length-1],i.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function jF(n,e,t,i=!0){const s=e[ce];if(function Gr(n,e,t,i){const s=Ut+i,r=t.length;i>0&&(t[s-1][bi]=e),i<r-Ut?(e[bi]=t[s],rd(t,Ut+i,e)):(t.push(e),e[bi]=null),e[Vt]=t;const o=e[yo];null!==o&&t!==o&&function Od(n,e){const t=n[Qa];e[gn]!==e[Vt][Vt][gn]&&(n[P6]=!0),null===t?n[Qa]=[e]:t.push(e)}(o,e);const a=e[Us];null!==a&&a.insertView(n),e[Fe]|=128}(s,e,n,t),i){const r=tu(t,n),o=e[Ve],a=Q4(o,n[br]);null!==a&&function z9(n,e,t,i,s,r){i[un]=s,i[fn]=e,hi(n,i,t,1,s,r)}(s,n[fn],o,e,a,r)}}let di=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=GF}return n})();const $F=di,UF=class extends $F{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const s=function BF(n,e,t,i){const s=e.tView,a=ff(n,s,t,4096&n[Fe]?4096:16,null,e,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[yo]=n[e.index];const l=n[Us];return null!==l&&(a[Us]=l.createEmbeddedView(s)),Tm(s,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:i});return new J3(s)}};function GF(){return Pf(Bn(),K())}function Pf(n,e){return 4&n.type?new UF(e,n,bu(n,e)):null}let Ei=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=KF}return n})();function KF(){return IE(Bn(),K())}const JF=Ei,OE=class extends JF{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return bu(this._hostTNode,this._hostLView)}get injector(){return new Ci(this._hostTNode,this._hostLView)}get parentInjector(){const e=V4(this._hostTNode,this._hostLView);if(Qn(e)){const t=ca(e,this._hostLView),i=aa(e);return new Ci(t[ce].data[i+8],t)}return new Ci(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=PE(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Ut}createEmbeddedView(e,t,i){let s,r;"number"==typeof i?s=i:null!=i&&(s=i.index,r=i.injector);const a=e.createEmbeddedViewImpl(t||{},r,null);return this.insertImpl(a,s,false),a}createComponent(e,t,i,s,r){const o=e&&!function wc(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const y=t||{};a=y.index,i=y.injector,s=y.projectableNodes,r=y.environmentInjector||y.ngModuleRef}const c=o?e:new Q3(tt(e)),l=i||this.parentInjector;if(!r&&null==c.ngModule){const b=(o?l:this.parentInjector).get($i,null);b&&(r=b)}tt(c.componentType??{});const p=c.create(l,s,null,r);return this.insertImpl(p.hostView,a,false),p}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,i){const s=e._lView;if(function Ep(n){return wi(n[Vt])}(s)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=s[Vt],h=new OE(l,l[fn],l[Vt]);h.detach(h.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;return jF(a,s,o,!i),e.attachToViewContainerRef(),rd(iv(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=PE(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=Ft(this._lContainer,t);i&&(Cc(iv(this._lContainer),t),Xt(i[ce],i))}detach(e){const t=this._adjustIndex(e,-1),i=Ft(this._lContainer,t);return i&&null!=Cc(iv(this._lContainer),t)?new J3(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function PE(n){return n[8]}function iv(n){return n[8]||(n[8]=[])}function IE(n,e){let t;const i=e[n.index];return wi(i)?t=i:(t=lM(i,e,null,n),e[n.index]=t,gf(e,t)),LE(t,e,n,i),new OE(t,n,e)}let LE=function RE(n,e,t,i){if(n[br])return;let s;s=8&t.type?Ht(i):function QF(n,e){const t=n[Ve],i=t.createComment(""),s=ki(e,n);return fa(t,Q4(t,s),i,function Rd(n,e){return n.nextSibling(e)}(t,s),!1),i}(e,t),n[br]=s};class sv{constructor(e){this.queryList=e,this.matches=null}clone(){return new sv(this.queryList)}setDirty(){this.queryList.setDirty()}}class rv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,s=[];for(let r=0;r<i;r++){const o=t.getByIndex(r);s.push(this.queries[o.indexInDeclarationView].clone())}return new rv(s)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==FE(e,t).matches&&this.queries[t].setDirty()}}class NE{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class ov{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const s=null!==t?t.length:0,r=this.getByIndex(i).embeddedTView(e,s);r&&(r.indexInDeclarationView=i,null!==t?t.push(r):t=[r])}return null!==t?new ov(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class av{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new av(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const r=i[s];this.matchTNodeWithReadOption(e,t,nB(t,r)),this.matchTNodeWithReadOption(e,t,Wl(t,e,r,!1,!1))}else i===di?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Wl(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===Ke||s===Ei||s===di&&4&t.type)this.addMatch(t.index,-2);else{const r=Wl(t,e,s,!1,!1);null!==r&&this.addMatch(t.index,r)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function nB(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function sB(n,e,t,i){return-1===t?function iB(n,e){return 11&n.type?bu(n,e):4&n.type?Pf(n,e):null}(e,n):-2===t?function rB(n,e,t){return t===Ke?bu(e,n):t===di?Pf(e,n):t===Ei?IE(e,n):void 0}(n,e,i):ui(n,n[ce],t,e)}function VE(n,e,t,i){const s=e[Us].queries[i];if(null===s.matches){const r=n.data,o=t.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:sB(e,r[l],o[c+1],t.metadata.read))}s.matches=a}return s.matches}function cv(n,e,t,i){const s=n.queries.getByIndex(t),r=s.matches;if(null!==r){const o=VE(n,e,s,t);for(let a=0;a<r.length;a+=2){const c=r[a];if(c>0)i.push(o[a/2]);else{const l=r[a+1],h=e[-c];for(let f=Ut;f<h.length;f++){const g=h[f];g[yo]===g[Vt]&&cv(g[ce],g,l,i)}if(null!==h[Qa]){const f=h[Qa];for(let g=0;g<f.length;g++){const p=f[g];cv(p[ce],p,l,i)}}}}}return i}function Do(n){const e=K(),t=dt(),i=Jh();hc(i+1);const s=FE(t,i);if(n.dirty&&function xp(n){return 4==(4&n[Fe])}(e)===(2==(2&s.metadata.flags))){if(null===s.matches)n.reset([]);else{const r=s.crossesNgTemplate?cv(t,e,i,[]):VE(t,e,s,i);n.reset(r,xN),n.notifyOnChanges()}return!0}return!1}function Vc(n,e,t){const i=dt();i.firstCreatePass&&(kE(i,new NE(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),HE(i,K(),e)}function Ao(){return function oB(n,e){return n[Us].queries[e].queryList}(K(),Jh())}function HE(n,e,t){const i=new nv(4==(4&t));(function iV(n,e,t,i){const s=hM(e);s.push(t),n.firstCreatePass&&dM(n).push(i,s.length-1)})(n,e,i,i.destroy),null===e[Us]&&(e[Us]=new rv),e[Us].queries.push(new sv(i))}function kE(n,e,t){null===n.queries&&(n.queries=new ov),n.queries.track(new av(e,t))}function FE(n,e){return n.queries.getByIndex(e)}function uv(n,e){return Pf(n,e)}const mv=new le("Application Initializer");let vv=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=he(mv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const s of this.appInits){const r=s();if(Mf(r))t.push(r);else if(GM(r)){const o=new Promise((a,c)=>{r.subscribe({complete:a,error:c})});t.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(s=>{this.reject(s)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iS=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Ca=new le("LocaleId",{providedIn:"root",factory:()=>he(Ca,et.Optional|et.SkipSelf)||function DB(){return typeof $localize<"u"&&$localize.locale||Vu}()});let Rf=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Li(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class OB{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let sS=(()=>{class n{compileModuleSync(t){return new Jm(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),r=ba(Ni(t).declarations).reduce((o,a)=>{const c=tt(a);return c&&o.push(new Q3(c)),o},[]);return new OB(i,r)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const cS=new le(""),Vf=new le("");let Cv,wv=(()=>{class n{constructor(t,i,s){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Cv||(function KB(n){Cv=n}(s),s.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{gt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,s){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==r),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:s})}whenStable(t,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,s){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(F(gt),F(_v),F(Vf))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})(),_v=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return Cv?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Hc=null;const lS=new le("AllowMultipleToken"),Mv=new le("PlatformDestroyListeners"),xv=new le("appBootstrapListener");class hS{constructor(e,t){this.name=e,this.token=t}}function fS(n,e,t=[]){const i=`Platform: ${e}`,s=new le(i);return(r=[])=>{let o=Ev();if(!o||o.injector.get(lS,!1)){const a=[...t,...r,{provide:s,useValue:!0}];n?n(a):function ej(n){if(Hc&&!Hc.get(lS,!1))throw new G(400,!1);(function uS(){!function k6(n){H6=n}(()=>{throw new G(600,!1)})})(),Hc=n;const e=n.get(pS);(function dS(n){n.get(lf,null)?.forEach(t=>t())})(n)}(function gS(n=[],e){return On.create({name:e,providers:[{provide:l1,useValue:"platform"},{provide:Mv,useValue:new Set([()=>Hc=null])},...n]})}(a,i))}return function nj(n){const e=Ev();if(!e)throw new G(401,!1);return e}()}}function Ev(){return Hc?.get(pS)??null}let pS=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const s=function ij(n="zone.js",e){return"noop"===n?new kN:"zone.js"===n?new gt(e):n}(i?.ngZone,function mS(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const r=function pF(n,e,t){return new Km(n,e,t)}(t.moduleType,this.injector,function _S(n){return[{provide:gt,useFactory:n},{provide:Tc,multi:!0,useFactory:()=>{const e=he(rj,{optional:!0});return()=>e.initialize()}},{provide:wS,useFactory:sj},{provide:kC,useFactory:FC}]}(()=>s)),o=r.injector.get(ya,null);return s.runOutsideAngular(()=>{const a=s.onError.subscribe({next:c=>{o.handleError(c)}});r.onDestroy(()=>{Hf(this._modules,r),a.unsubscribe()})}),function vS(n,e,t){try{const i=t();return Mf(i)?i.catch(s=>{throw e.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(o,s,()=>{const a=r.injector.get(vv);return a.runInitializers(),a.donePromise.then(()=>(function jx(n){Ki(n,"Expected localeId to be defined"),"string"==typeof n&&(Bx=n.toLowerCase().replace(/_/g,"-"))}(r.injector.get(Ca,Vu)||Vu),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,i=[]){const s=yS({},i);return function JB(n,e,t){const i=new Jm(t);return Promise.resolve(i)}(0,0,t).then(r=>this.bootstrapModuleFactory(r,s))}_moduleDoBootstrap(t){const i=t.injector.get(kc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!t.instance.ngDoBootstrap)throw new G(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new G(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(Mv,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(F(On))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function yS(n,e){return Array.isArray(e)?e.reduce(yS,n):{...n,...e}}let kc=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=he(wS),this.zoneIsStable=he(kC),this.componentTypes=[],this.components=[],this.isStable=he(Rf).hasPendingTasks.pipe(ms(t=>t?Ee(!1):this.zoneIsStable),e4(),J1()),this._injector=he($i)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const s=t instanceof DC;if(!this._injector.get(vv).done)throw!s&&function Ka(n){const e=tt(n)||wn(n)||Kn(n);return null!==e&&e.standalone}(t),new G(405,!1);let o;o=s?t:this._injector.get(h1).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function QB(n){return n.isBoundToModule}(o)?void 0:this._injector.get(m1),l=o.create(On.NULL,[],i||o.selector,a),h=l.location.nativeElement,f=l.injector.get(cS,null);return f?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Hf(this.components,l),f?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new G(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;Hf(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(xv,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Hf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new G(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Hf(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const wS=new le("",{providedIn:"root",factory:()=>he(ya).handleError.bind(void 0)});function sj(){const n=he(gt),e=he(ya);return t=>n.runOutsideAngular(()=>e.handleError(t))}let rj=(()=>{class n{constructor(){this.zone=he(gt),this.applicationRef=he(kc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Fc=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=aj}return n})();function aj(n){return function cj(n,e,t){if(na(n)&&!t){const i=es(n.index,e);return new J3(i,i)}return 47&n.type?new J3(e[gn],e):null}(Bn(),K(),16==(16&n))}class SS{constructor(){}supports(e){return yf(e)}create(e){return new gj(e)}}const fj=(n,e)=>e;class gj{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||fj}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,s=0,r=null;for(;t||i;){const o=!i||t&&t.currentIndex<DS(i,s,r)?t:i,a=DS(o,s,r),c=o.currentIndex;if(o===i)s--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)s++;else{r||(r=[]);const l=a-s,h=c-s;if(l!=h){for(let g=0;g<l;g++){const p=g<r.length?r[g]:r[g]=0,v=p+g;h<=v&&v<l&&(r[g]=p+1)}r[o.previousIndex]=h-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!yf(e))throw new G(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let s,r,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)r=e[a],o=this._trackByFn(a,r),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,r,o,a)),Object.is(t.item,r)||this._addIdentityChange(t,r)):(t=this._mismatch(t,r,o,a),i=!0),t=t._next}else s=0,function XV(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{o=this._trackByFn(s,a),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,a,o,s)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,s),i=!0),t=t._next,s++}),this.length=s;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,s){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,s)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,s)):e=this._addAfter(new pj(t,i),r,s),e}_verifyReinsertion(e,t,i,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?e=this._reinsertAfter(r,e._prev,s):e.currentIndex!=s&&(e.currentIndex=s,this._addToMoves(e,s)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const s=e._prevRemoved,r=e._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const s=null===t?this._itHead:t._next;return e._next=s,e._prev=t,null===s?this._itTail=e:s._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new zS),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zS),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class pj{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class mj{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class zS{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new mj,this.map.set(t,i)),i.add(e)}get(e,t){const s=this.map.get(e);return s?s.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function DS(n,e,t){const i=n.previousIndex;if(null===i)return i;let s=0;return t&&i<t.length&&(s=t[i]),i+e+s}class AS{constructor(){}supports(e){return e instanceof Map||Om(e)}create(){return new vj}}class vj{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Om(e)))throw new G(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,s)=>{if(t&&t.key===s)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(s,i);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const s=this._records.get(e);this._maybeAddToChanges(s,t);const r=s._prev,o=s._next;return r&&(r._next=o),o&&(o._prev=r),s._next=null,s._prev=null,s}const i=new yj(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class yj{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function TS(){return new Bf([new SS])}let Bf=(()=>{class n{static#e=this.\u0275prov=J({token:n,providedIn:"root",factory:TS});constructor(t){this.factories=t}static create(t,i){if(null!=i){const s=i.factories.slice();t=t.concat(s)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||TS()),deps:[[n,new Zl,new $4]]}}find(t){const i=this.factories.find(s=>s.supports(t));if(null!=i)return i;throw new G(901,!1)}}return n})();function OS(){return new v0([new AS])}let v0=(()=>{class n{static#e=this.\u0275prov=J({token:n,providedIn:"root",factory:OS});constructor(t){this.factories=t}static create(t,i){if(i){const s=i.factories.slice();t=t.concat(s)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||OS()),deps:[[n,new Zl,new $4]]}}find(t){const i=this.factories.find(s=>s.supports(t));if(i)return i;throw new G(901,!1)}}return n})();const _j=fS(null,"core",[]);let Cj=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)(F(kc))};static#t=this.\u0275mod=Ot({type:n});static#n=this.\u0275inj=nn({})}return n})(),Pv=null;function Fu(){return Pv}class Nj{}const Pt=new le("DocumentToken");let Iv=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:function(){return he(Hj)},providedIn:"platform"})}return n})();const Vj=new le("Location Initialized");let Hj=(()=>{class n extends Iv{constructor(){super(),this._doc=he(Pt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fu().getBaseHref(this._doc)}onPopState(t){const i=Fu().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Fu().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,s){this._history.pushState(t,i,s)}replaceState(t,i,s){this._history.replaceState(t,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function Lv(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function FS(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ma(n){return n&&"?"!==n[0]?"?"+n:n}let y1=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:function(){return he(jS)},providedIn:"root"})}return n})();const BS=new le("appBaseHref");let jS=(()=>{class n extends y1{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??he(Pt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Lv(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Ma(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${i}${s}`:i}pushState(t,i,s,r){const o=this.prepareExternalUrl(s+Ma(r));this._platformLocation.pushState(t,i,o)}replaceState(t,i,s,r){const o=this.prepareExternalUrl(s+Ma(r));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(F(Iv),F(BS,8))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kj=(()=>{class n extends y1{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Lv(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,s,r){let o=this.prepareExternalUrl(s+Ma(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,s,r){let o=this.prepareExternalUrl(s+Ma(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(F(Iv),F(BS,8))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})(),$f=(()=>{class n{constructor(t){this._subject=new rn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function jj(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(FS($S(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Ma(i))}normalize(t){return n.stripTrailingSlash(function Bj(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,$S(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",s=null){this._locationStrategy.pushState(s,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ma(i)),s)}replaceState(t,i="",s=null){this._locationStrategy.replaceState(s,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ma(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(s=>s(t,i))}subscribe(t,i,s){return this._subject.subscribe({next:t,error:i,complete:s})}static#e=this.normalizeQueryParams=Ma;static#t=this.joinWithSlash=Lv;static#n=this.stripTrailingSlash=FS;static#i=this.\u0275fac=function(i){return new(i||n)(F(y1))};static#s=this.\u0275prov=J({token:n,factory:function(){return function Fj(){return new $f(F(y1))}()},providedIn:"root"})}return n})();function $S(n){return n.replace(/\/index.html$/,"")}function JS(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[s,r]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(s.trim()===e)return decodeURIComponent(r)}return null}const Uv=/\s+/,QS=[];let Gv=(()=>{class n{constructor(t,i,s,r){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=s,this._renderer=r,this.initialClasses=QS,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Uv):QS}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Uv):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const s=this.stateMap.get(t);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],s=t[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(Uv).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}static#e=this.\u0275fac=function(i){return new(i||n)(U(Bf),U(v0),U(Ke),U(va))};static#t=this.\u0275dir=jt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class z${constructor(e,t,i,s){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let tz=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,s){this._viewContainer=t,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((s,r,o)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new z$(s.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===r?void 0:r);else if(null!==r){const a=i.get(r);i.move(a,o),nz(a,s)}});for(let s=0,r=i.length;s<r;s++){const a=i.get(s).context;a.index=s,a.count=r,a.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{nz(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ei),U(di),U(Bf))};static#t=this.\u0275dir=jt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function nz(n,e){n.context.$implicit=e.item}let w0=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new D$,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){iz("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){iz("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ei),U(di))};static#t=this.\u0275dir=jt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class D${constructor(){this.$implicit=null,this.ngIf=null}}function iz(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${yn(e)}'.`)}let _0=(()=>{class n{constructor(t,i,s){this._ngEl=t,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[s,r]=t.split("."),o=-1===s.indexOf("-")?void 0:Mo.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,s,r?`${i}${r}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,s,o)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke),U(v0),U(va))};static#t=this.\u0275dir=jt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),C0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ot({type:n});static#n=this.\u0275inj=nn({})}return n})();const oz="browser";function az(n){return"server"===n}let sU=(()=>{class n{static#e=this.\u0275prov=J({token:n,providedIn:"root",factory:()=>new rU(F(Pt),window)})}return n})();class rU{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function oU(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const r=s.shadowRoot;if(r){const o=r.getElementById(e)||r.querySelector(`[name="${e}"]`);if(o)return o}s=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(i-r[0],s-r[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class cz{}class AU extends Nj{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Jv extends AU{static makeCurrent(){!function Rj(n){Pv||(Pv=n)}(new Jv)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function TU(){return x0=x0||document.querySelector("base"),x0?x0.getAttribute("href"):null}();return null==t?null:function OU(n){n5=n5||document.createElement("a"),n5.setAttribute("href",n);const e=n5.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){x0=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return JS(document.cookie,e)}}let n5,x0=null,IU=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();const Qv=new le("EventManagerPlugins");let fz=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,s){return this._findPluginFor(i).addEventListener(t,i,s)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(r=>r.supports(t)),!i)throw new G(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(F(Qv),F(gt))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();class gz{constructor(e){this._doc=e}}const ey="ng-app-id";let pz=(()=>{class n{constructor(t,i,s,r={}){this.doc=t,this.appId=i,this.nonce=s,this.platformId=r,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=az(r),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(s=>s.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${ey}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(t,i){const s=this.styleRef;if(s.has(t)){const r=s.get(t);return r.usage+=i,r.usage}return s.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const s=this.styleNodesInDOM,r=s?.get(i);if(r?.parentNode===t)return s.delete(i),r.removeAttribute(ey),r;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(ey,this.appId),o}}addStyleToHost(t,i){const s=this.getStyleElement(t,i);t.appendChild(s);const r=this.styleRef,o=r.get(i)?.elements;o?o.push(s):r.set(i,{elements:[s],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(F(Pt),F(mu),F(G3,8),F(xo))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();const ty={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ny=/%COMP%/g,VU=new le("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function vz(n,e){return e.map(t=>t.replace(ny,n))}let iy=(()=>{class n{constructor(t,i,s,r,o,a,c,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=r,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=az(a),this.defaultRenderer=new sy(t,o,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===ws.ShadowDom&&(i={...i,encapsulation:ws.Emulated});const s=this.getOrCreateRenderer(t,i);return s instanceof bz?s.applyToHost(t):s instanceof ry&&s.applyStyles(),s}getOrCreateRenderer(t,i){const s=this.rendererByCompId;let r=s.get(i.id);if(!r){const o=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case ws.Emulated:r=new bz(c,l,i,this.appId,h,o,a,f);break;case ws.ShadowDom:return new BU(c,l,t,i,o,a,this.nonce,f);default:r=new ry(c,l,i,h,o,a,f)}s.set(i.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(F(fz),F(pz),F(mu),F(VU),F(Pt),F(xo),F(gt),F(G3))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();class sy{constructor(e,t,i,s){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=s,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(ty[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(yz(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(yz(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new G(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,s){if(s){t=s+":"+t;const r=ty[s];r?e.setAttributeNS(r,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const s=ty[i];s?e.removeAttributeNS(s,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,s){s&(Mo.DashCase|Mo.Important)?e.style.setProperty(t,i,s&Mo.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Mo.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Fu().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function yz(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class BU extends sy{constructor(e,t,i,s,r,o,a,c){super(e,r,o,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=vz(s.id,s.styles);for(const h of l){const f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ry extends sy{constructor(e,t,i,s,r,o,a,c){super(e,r,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=s,this.styles=c?vz(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class bz extends ry{constructor(e,t,i,s,r,o,a,c){const l=s+"-"+i.id;super(e,t,i,r,o,a,c,l),this.contentAttr=function HU(n){return"_ngcontent-%COMP%".replace(ny,n)}(l),this.hostAttr=function kU(n){return"_nghost-%COMP%".replace(ny,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let jU=(()=>{class n extends gz{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,s){return t.addEventListener(i,s,!1),()=>this.removeEventListener(t,i,s)}removeEventListener(t,i,s){return t.removeEventListener(i,s)}static#e=this.\u0275fac=function(i){return new(i||n)(F(Pt))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();const wz=["alt","control","meta","shift"],$U={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},UU={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let GU=(()=>{class n extends gz{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,s){const r=n.parseEventName(i),o=n.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fu().onAndCancel(t,r.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const r=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),wz.forEach(l=>{const h=i.indexOf(l);h>-1&&(i.splice(h,1),o+=l+".")}),o+=r,0!=i.length||0===r.length)return null;const c={};return c.domEventName=s,c.fullKey=o,c}static matchEventFullKeyCode(t,i){let s=$U[t.key]||t.key,r="";return i.indexOf("code.")>-1&&(s=t.code,r="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),wz.forEach(o=>{o!==s&&(0,UU[o])(t)&&(r+=o+".")}),r+=s,r===i)}static eventCallback(t,i,s){return r=>{n.matchEventFullKeyCode(r,t)&&s.runGuarded(()=>i(r))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(F(Pt))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();const Cz=[{provide:xo,useValue:oz},{provide:lf,useValue:function qU(){Jv.makeCurrent()},multi:!0},{provide:Pt,useFactory:function YU(){return function R9(n){I3=n}(document),document},deps:[]}],XU=fS(_j,"browser",Cz),ZU=new le(""),Mz=[{provide:Vf,useClass:class PU{addToWindow(e){Tt.getAngularTestability=(i,s=!0)=>{const r=e.findTestabilityInTree(i,s);if(null==r)throw new G(5103,!1);return r},Tt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Tt.getAllAngularRootElements=()=>e.getAllRootElements(),Tt.frameworkStabilizers||(Tt.frameworkStabilizers=[]),Tt.frameworkStabilizers.push(i=>{const s=Tt.getAllAngularTestabilities();let r=s.length,o=!1;const a=function(c){o=o||c,r--,0==r&&i(o)};s.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Fu().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:cS,useClass:wv,deps:[gt,_v,Vf]},{provide:wv,useClass:wv,deps:[gt,_v,Vf]}],xz=[{provide:l1,useValue:"root"},{provide:ya,useFactory:function WU(){return new ya},deps:[]},{provide:Qv,useClass:jU,multi:!0,deps:[Pt,gt,xo]},{provide:Qv,useClass:GU,multi:!0,deps:[Pt]},iy,pz,fz,{provide:d1,useExisting:iy},{provide:cz,useClass:IU,deps:[]},[]];let Ez=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:mu,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(F(ZU,12))};static#t=this.\u0275mod=Ot({type:n});static#n=this.\u0275inj=nn({providers:[...xz,...Mz],imports:[C0,Cj]})}return n})(),Sz=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(F(Pt))};static#t=this.\u0275prov=J({token:n,factory:function(i){let s=null;return s=i?new i:function JU(){return new Sz(F(Pt))}(),s},providedIn:"root"})}return n})();typeof window<"u"&&window;let ay=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:function(i){let s=null;return s=i?new(i||n):F(Az),s},providedIn:"root"})}return n})(),Az=(()=>{class n extends ay{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case rs.NONE:return i;case rs.HTML:return Er(i,"HTML")?ss(i):Jd(this._doc,String(i)).toString();case rs.STYLE:return Er(i,"Style")?ss(i):i;case rs.SCRIPT:if(Er(i,"Script"))return ss(i);throw new G(5200,!1);case rs.URL:return Er(i,"URL")?ss(i):au(String(i));case rs.RESOURCE_URL:if(Er(i,"ResourceURL"))return ss(i);throw new G(5201,!1);default:throw new G(5202,!1)}}bypassSecurityTrustHtml(t){return function k9(n){return new N9(n)}(t)}bypassSecurityTrustStyle(t){return function F9(n){return new V9(n)}(t)}bypassSecurityTrustScript(t){return function B9(n){return new jn(n)}(t)}bypassSecurityTrustUrl(t){return function Ud(n){return new ji(n)}(t)}bypassSecurityTrustResourceUrl(t){return function j9(n){return new H9(n)}(t)}static#e=this.\u0275fac=function(i){return new(i||n)(F(Pt))};static#t=this.\u0275prov=J({token:n,factory:function(i){let s=null;return s=i?new i:function nG(n){return new Az(n.get(Pt))}(F(On)),s},providedIn:"root"})}return n})();const{isArray:sG}=Array,{getPrototypeOf:rG,prototype:oG,keys:aG}=Object;const{isArray:uG}=Array;function Oz(n){return lt(e=>function hG(n,e){return uG(e)?n(...e):n(e)}(n,e))}function cy(...n){const e=qa(n),t=function H7(n){return ke(Sl(n))?n.pop():void 0}(n),{args:i,keys:s}=function cG(n){if(1===n.length){const e=n[0];if(sG(e))return{args:e,keys:null};if(function lG(n){return n&&"object"==typeof n&&rG(n)===oG}(e)){const t=aG(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}(n);if(0===i.length)return Wt([],e);const r=new Dt(function fG(n,e,t=ps){return i=>{Pz(e,()=>{const{length:s}=n,r=new Array(s);let o=s,a=s;for(let c=0;c<s;c++)Pz(e,()=>{const l=Wt(n[c],e);let h=!1;l.subscribe(ct(i,f=>{r[c]=f,h||(h=!0,a--),a||i.next(t(r.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,s?o=>function dG(n,e){return n.reduce((t,i,s)=>(t[i]=e[s],t),{})}(s,o):ps));return t?r.pipe(Oz(t)):r}function Pz(n,e,t){n?dr(t,n,e):e()}const i5=Vr(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function s5(...n){return function gG(){return Ga(1)}()(Wt(n,qa(n)))}function Iz(n){return new Dt(e=>{zn(n()).subscribe(e)})}function E0(n,e){const t=ke(n)?n:()=>n,i=s=>s.error(t());return new Dt(e?s=>e.schedule(i,0,s):i)}function ly(){return At((n,e)=>{let t=null;n._refCount++;const i=ct(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,r=t;t=null,s&&(!r||s===r)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Lz extends Dt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,U8(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Nt;const t=this.getSubject();e.add(this.source.subscribe(ct(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Nt.EMPTY)}return e}refCount(){return ly()(this)}}function To(n){return n<=0?()=>fr:At((e,t)=>{let i=0;e.subscribe(ct(t,s=>{++i<=n&&(t.next(s),n<=i&&t.complete())}))})}function Si(n,e){return At((t,i)=>{let s=0;t.subscribe(ct(i,r=>n.call(e,r,s++)&&i.next(r)))})}function r5(n){return At((e,t)=>{let i=!1;e.subscribe(ct(t,s=>{i=!0,t.next(s)},()=>{i||t.next(n),t.complete()}))})}function Rz(n=mG){return At((e,t)=>{let i=!1;e.subscribe(ct(t,s=>{i=!0,t.next(s)},()=>i?t.complete():t.error(n())))})}function mG(){return new i5}function b1(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Si((s,r)=>n(s,r,i)):ps,To(1),t?r5(e):Rz(()=>new i5))}function ju(n,e){return ke(e)?Dn(n,e,1):Dn(n,1)}function zi(n,e,t){const i=ke(n)||e||t?{next:n,error:e,complete:t}:n;return i?At((s,r)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;s.subscribe(ct(r,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),r.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),r.complete()},c=>{var l;a=!1,null===(l=i.error)||void 0===l||l.call(i,c),r.error(c)},()=>{var c,l;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):ps}function jc(n){return At((e,t)=>{let r,i=null,s=!1;i=e.subscribe(ct(t,void 0,void 0,o=>{r=zn(n(o,jc(n)(e))),i?(i.unsubscribe(),i=null,r.subscribe(t)):s=!0})),s&&(i.unsubscribe(),i=null,r.subscribe(t))})}function uy(n){return n<=0?()=>fr:At((e,t)=>{let i=[];e.subscribe(ct(t,s=>{i.push(s),n<i.length&&i.shift()},()=>{for(const s of i)t.next(s);t.complete()},void 0,()=>{i=null}))})}function hy(n){return lt(()=>n)}function $u(n){return At((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Qr(n){return At((e,t)=>{zn(n).subscribe(ct(t,()=>t.complete(),q1)),!t.closed&&e.subscribe(t)})}const Je="primary",S0=Symbol("RouteTitle");class wG{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Uu(n){return new wG(n)}function _G(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const s={};for(let r=0;r<i.length;r++){const o=i[r],a=n[r];if(o.startsWith(":"))s[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:s}}function Oo(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let s;for(let r=0;r<t.length;r++)if(s=t[r],!Nz(n[s],e[s]))return!1;return!0}function Nz(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((s,r)=>i[r]===s)}return n===e}function Vz(n){return n.length>0?n[n.length-1]:null}function $c(n){return function iG(n){return!!n&&(n instanceof Dt||ke(n.lift)&&ke(n.subscribe))}(n)?n:Mf(n)?Wt(Promise.resolve(n)):Ee(n)}const MG={exact:function Fz(n,e,t){if(!w1(n.segments,e.segments)||!o5(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Fz(n.children[i],e.children[i],t))return!1;return!0},subset:Bz},Hz={exact:function xG(n,e){return Oo(n,e)},subset:function EG(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Nz(n[t],e[t]))},ignored:()=>!0};function kz(n,e,t){return MG[t.paths](n.root,e.root,t.matrixParams)&&Hz[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Bz(n,e,t){return jz(n,e,e.segments,t)}function jz(n,e,t,i){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!w1(s,t)||e.hasChildren()||!o5(s,t,i))}if(n.segments.length===t.length){if(!w1(n.segments,t)||!o5(n.segments,t,i))return!1;for(const s in e.children)if(!n.children[s]||!Bz(n.children[s],e.children[s],i))return!1;return!0}{const s=t.slice(0,n.segments.length),r=t.slice(n.segments.length);return!!(w1(n.segments,s)&&o5(n.segments,s,i)&&n.children[Je])&&jz(n.children[Je],e,r,i)}}function o5(n,e,t){return e.every((i,s)=>Hz[t](n[s].parameters,i.parameters))}class Gu{constructor(e=new It([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uu(this.queryParams)),this._queryParamMap}toString(){return DG.serialize(this)}}class It{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return a5(this)}}class z0{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Uu(this.parameters)),this._parameterMap}toString(){return Gz(this)}}function w1(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let D0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:function(){return new dy},providedIn:"root"})}return n})();class dy{parse(e){const t=new kG(e);return new Gu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${A0(e.root,!0)}`,i=function OG(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(s=>`${c5(t)}=${c5(s)}`).join("&"):`${c5(t)}=${c5(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function AG(n){return encodeURI(n)}(e.fragment)}`:""}`}}const DG=new dy;function a5(n){return n.segments.map(e=>Gz(e)).join("/")}function A0(n,e){if(!n.hasChildren())return a5(n);if(e){const t=n.children[Je]?A0(n.children[Je],!1):"",i=[];return Object.entries(n.children).forEach(([s,r])=>{s!==Je&&i.push(`${s}:${A0(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function zG(n,e){let t=[];return Object.entries(n.children).forEach(([i,s])=>{i===Je&&(t=t.concat(e(s,i)))}),Object.entries(n.children).forEach(([i,s])=>{i!==Je&&(t=t.concat(e(s,i)))}),t}(n,(i,s)=>s===Je?[A0(n.children[Je],!1)]:[`${s}:${A0(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Je]?`${a5(n)}/${t[0]}`:`${a5(n)}/(${t.join("//")})`}}function $z(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function c5(n){return $z(n).replace(/%3B/gi,";")}function fy(n){return $z(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function l5(n){return decodeURIComponent(n)}function Uz(n){return l5(n.replace(/\+/g,"%20"))}function Gz(n){return`${fy(n.path)}${function TG(n){return Object.keys(n).map(e=>`;${fy(e)}=${fy(n[e])}`).join("")}(n.parameters)}`}const PG=/^[^\/()?;#]+/;function gy(n){const e=n.match(PG);return e?e[0]:""}const IG=/^[^\/()?;=#]+/,RG=/^[^=?&#]+/,VG=/^[^&#]+/;class kG{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new It([],{}):new It([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Je]=new It(e,t)),i}parseSegment(){const e=gy(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new G(4009,!1);return this.capture(e),new z0(l5(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function LG(n){const e=n.match(IG);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=gy(this.remaining);s&&(i=s,this.capture(i))}e[l5(t)]=l5(i)}parseQueryParam(e){const t=function NG(n){const e=n.match(RG);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function HG(n){const e=n.match(VG);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const s=Uz(t),r=Uz(i);if(e.hasOwnProperty(s)){let o=e[s];Array.isArray(o)||(o=[o],e[s]=o),o.push(r)}else e[s]=r}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=gy(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new G(4010,!1);let r;i.indexOf(":")>-1?(r=i.slice(0,i.indexOf(":")),this.capture(r),this.capture(":")):e&&(r=Je);const o=this.parseChildren();t[r]=1===Object.keys(o).length?o[Je]:new It([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new G(4011,!1)}}function qz(n){return n.segments.length>0?new It([],{[Je]:n}):n}function Wz(n){const e={};for(const i of Object.keys(n.children)){const r=Wz(n.children[i]);if(i===Je&&0===r.segments.length&&r.hasChildren())for(const[o,a]of Object.entries(r.children))e[o]=a;else(r.segments.length>0||r.hasChildren())&&(e[i]=r)}return function FG(n){if(1===n.numberOfChildren&&n.children[Je]){const e=n.children[Je];return new It(n.segments.concat(e.segments),e.children)}return n}(new It(n.segments,e))}function _1(n){return n instanceof Gu}function Yz(n){let e;const s=qz(function t(r){const o={};for(const c of r.children){const l=t(c);o[c.outlet]=l}const a=new It(r.url,o);return r===n&&(e=a),a}(n.root));return e??s}function Xz(n,e,t,i){let s=n;for(;s.parent;)s=s.parent;if(0===e.length)return py(s,s,s,t,i);const r=function jG(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Kz(!0,0,n);let e=0,t=!1;const i=n.reduce((s,r,o)=>{if("object"==typeof r&&null!=r){if(r.outlets){const a={};return Object.entries(r.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...s,{outlets:a}]}if(r.segmentPath)return[...s,r.segmentPath]}return"string"!=typeof r?[...s,r]:0===o?(r.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&s.push(a))}),s):[...s,r]},[]);return new Kz(t,e,i)}(e);if(r.toRoot())return py(s,s,new It([],{}),t,i);const o=function $G(n,e,t){if(n.isAbsolute)return new h5(e,!0,0);if(!t)return new h5(e,!1,NaN);if(null===t.parent)return new h5(t,!0,0);const i=u5(n.commands[0])?0:1;return function UG(n,e,t){let i=n,s=e,r=t;for(;r>s;){if(r-=s,i=i.parent,!i)throw new G(4005,!1);s=i.segments.length}return new h5(i,!1,s-r)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(r,s,n),a=o.processChildren?O0(o.segmentGroup,o.index,r.commands):Jz(o.segmentGroup,o.index,r.commands);return py(s,o.segmentGroup,a,t,i)}function u5(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function T0(n){return"object"==typeof n&&null!=n&&n.outlets}function py(n,e,t,i,s){let o,r={};i&&Object.entries(i).forEach(([c,l])=>{r[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`}),o=n===e?t:Zz(n,e,t);const a=qz(Wz(o));return new Gu(a,r,s)}function Zz(n,e,t){const i={};return Object.entries(n.children).forEach(([s,r])=>{i[s]=r===e?t:Zz(r,e,t)}),new It(n.segments,i)}class Kz{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&u5(i[0]))throw new G(4003,!1);const s=i.find(T0);if(s&&s!==Vz(i))throw new G(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class h5{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Jz(n,e,t){if(n||(n=new It([],{})),0===n.segments.length&&n.hasChildren())return O0(n,e,t);const i=function qG(n,e,t){let i=0,s=e;const r={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(i>=t.length)return r;const o=n.segments[s],a=t[i];if(T0(a))break;const c=`${a}`,l=i<t.length-1?t[i+1]:null;if(s>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!eD(c,l,o))return r;i+=2}else{if(!eD(c,{},o))return r;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(n,e,t),s=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const r=new It(n.segments.slice(0,i.pathIndex),{});return r.children[Je]=new It(n.segments.slice(i.pathIndex),n.children),O0(r,0,s)}return i.match&&0===s.length?new It(n.segments,{}):i.match&&!n.hasChildren()?my(n,e,t):i.match?O0(n,0,s):my(n,e,t)}function O0(n,e,t){if(0===t.length)return new It(n.segments,{});{const i=function GG(n){return T0(n[0])?n[0].outlets:{[Je]:n}}(t),s={};if(Object.keys(i).some(r=>r!==Je)&&n.children[Je]&&1===n.numberOfChildren&&0===n.children[Je].segments.length){const r=O0(n.children[Je],e,t);return new It(n.segments,r.children)}return Object.entries(i).forEach(([r,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(s[r]=Jz(n.children[r],e,o))}),Object.entries(n.children).forEach(([r,o])=>{void 0===i[r]&&(s[r]=o)}),new It(n.segments,s)}}function my(n,e,t){const i=n.segments.slice(0,e);let s=0;for(;s<t.length;){const r=t[s];if(T0(r)){const c=WG(r.outlets);return new It(i,c)}if(0===s&&u5(t[0])){i.push(new z0(n.segments[e].path,Qz(t[0]))),s++;continue}const o=T0(r)?r.outlets[Je]:`${r}`,a=s<t.length-1?t[s+1]:null;o&&a&&u5(a)?(i.push(new z0(o,Qz(a))),s+=2):(i.push(new z0(o,{})),s++)}return new It(i,{})}function WG(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=my(new It([],{}),0,i))}),e}function Qz(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function eD(n,e,t){return n==t.path&&Oo(e,t.parameters)}const P0="imperative";class Po{constructor(e,t){this.id=e,this.url=t}}class d5 extends Po{constructor(e,t,i="imperative",s=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Uc extends Po{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class I0 extends Po{constructor(e,t,i,s){super(e,t),this.reason=i,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qu extends Po{constructor(e,t,i,s){super(e,t),this.reason=i,this.code=s,this.type=16}}class f5 extends Po{constructor(e,t,i,s){super(e,t),this.error=i,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tD extends Po{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class YG extends Po{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XG extends Po{constructor(e,t,i,s,r){super(e,t),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=r,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ZG extends Po{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KG extends Po{constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JG{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class QG{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class eq{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tq{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nq{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iq{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nD{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class vy{}class yy{constructor(e){this.url=e}}class sq{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new L0,this.attachRef=null}}let L0=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const s=this.getOrCreateContext(t);s.outlet=i,this.contexts.set(t,s)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new sq,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class iD{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=by(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=by(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=wy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return wy(e,this._root).map(t=>t.value)}}function by(n,e){if(n===e.value)return e;for(const t of e.children){const i=by(n,t);if(i)return i}return null}function wy(n,e){if(n===e.value)return[e];for(const t of e.children){const i=wy(n,t);if(i.length)return i.unshift(e),i}return[]}class Sa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Wu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class sD extends iD{constructor(e,t){super(e),this.snapshot=t,_y(this,e)}toString(){return this.snapshot.toString()}}function rD(n,e){const t=function rq(n,e){const o=new g5([],{},{},"",{},Je,e,null,{});return new aD("",new Sa(o,[]))}(0,e),i=new Li([new z0("",{})]),s=new Li({}),r=new Li({}),o=new Li({}),a=new Li(""),c=new Yu(i,s,o,a,r,Je,e,t.root);return c.snapshot=t.root,new sD(new Sa(c,[]),t)}class Yu{constructor(e,t,i,s,r,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=s,this.dataSubject=r,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(lt(l=>l[S0]))??Ee(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=s,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(lt(e=>Uu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(lt(e=>Uu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function oD(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const s=t[i],r=t[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(r.component)break;i--}}return function oq(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class g5{get title(){return this.data?.[S0]}constructor(e,t,i,s,r,o,a,c,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=s,this.data=r,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Uu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class aD extends iD{constructor(e,t){super(t),this.url=e,_y(this,t)}toString(){return cD(this._root)}}function _y(n,e){e.value._routerState=n,e.children.forEach(t=>_y(n,t))}function cD(n){const e=n.children.length>0?` { ${n.children.map(cD).join(", ")} } `:"";return`${n.value}${e}`}function Cy(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Oo(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Oo(e.params,t.params)||n.paramsSubject.next(t.params),function CG(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Oo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Oo(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function My(n,e){const t=Oo(n.params,e.params)&&function SG(n,e){return w1(n,e)&&n.every((t,i)=>Oo(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||My(n.parent,e.parent))}let xy=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Je,this.activateEvents=new rn,this.deactivateEvents=new rn,this.attachEvents=new rn,this.detachEvents=new rn,this.parentContexts=he(L0),this.location=he(Ei),this.changeDetector=he(Fc),this.environmentInjector=he($i),this.inputBinder=he(p5,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:s}=t.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new G(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new G(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new G(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new G(4013,!1);this._activatedRoute=t;const s=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new aq(t,a,s.injector);this.activated=s.createComponent(o,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=jt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ye]})}return n})();class aq{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Yu?this.route:e===L0?this.childContexts:this.parent.get(e,t)}}const p5=new le("");let lD=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,s=cy([i.queryParams,i.params,i.data]).pipe(ms(([r,o,a],c)=>(a={...r,...o,...a},0===c?Ee(a):Promise.resolve(a)))).subscribe(r=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const o=function Lj(n){const e=tt(n);if(!e)return null;const t=new Q3(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,r[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();function R0(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const s=function lq(n,e,t){return e.children.map(i=>{for(const s of t.children)if(n.shouldReuseRoute(i.value,s.value.snapshot))return R0(n,i,s);return R0(n,i)})}(n,e,t);return new Sa(i,s)}{if(n.shouldAttach(e.value)){const r=n.retrieve(e.value);if(null!==r){const o=r.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>R0(n,a)),o}}const i=function uq(n){return new Yu(new Li(n.url),new Li(n.params),new Li(n.queryParams),new Li(n.fragment),new Li(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(r=>R0(n,r));return new Sa(i,s)}}const Ey="ngNavigationCancelingError";function uD(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=_1(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=hD(!1,0,e);return s.url=t,s.navigationBehaviorOptions=i,s}function hD(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Ey]=!0,i.cancellationCode=e,t&&(i.url=t),i}function dD(n){return n&&n[Ey]}let fD=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=We({type:n,selectors:[["ng-component"]],standalone:!0,features:[pE],decls:1,vars:0,template:function(i,s){1&i&&st(0,"router-outlet")},dependencies:[xy],encapsulation:2})}return n})();function Sy(n){const e=n.children&&n.children.map(Sy),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Je&&(t.component=fD),t}function eo(n){return n.outlet||Je}function N0(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class yq{constructor(e,t,i,s,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=s,this.inputBindingEnabled=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Cy(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const s=Wu(t);e.children.forEach(r=>{const o=r.value.outlet;this.deactivateRoutes(r,s[o],i),delete s[o]}),Object.values(s).forEach(r=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(e,t,i){const s=e.value,r=t?t.value:null;if(s===r)if(s.component){const o=i.getContext(s.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else r&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),s=i&&e.value.component?i.children:t,r=Wu(e);for(const o of Object.keys(r))this.deactivateRouteAndItsChildren(r[o],s);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),s=i&&e.value.component?i.children:t,r=Wu(e);for(const o of Object.keys(r))this.deactivateRouteAndItsChildren(r[o],s);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const s=Wu(t);e.children.forEach(r=>{this.activateRoutes(r,s[r.value.outlet],i),this.forwardEvent(new iq(r.value.snapshot))}),e.children.length&&this.forwardEvent(new tq(e.value.snapshot))}activateRoutes(e,t,i){const s=e.value,r=t?t.value:null;if(Cy(s),s===r)if(s.component){const o=i.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(s.component){const o=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const a=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Cy(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=N0(s.snapshot);o.attachRef=null,o.route=s,o.injector=a,o.outlet&&o.outlet.activateWith(s,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class gD{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class m5{constructor(e,t){this.component=e,this.route=t}}function bq(n,e,t){const i=n._root;return V0(i,e?e._root:null,t,[i.value])}function Xu(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function s4(n){return null!==ks(n)}(n)?e.get(n):n:i}function V0(n,e,t,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=Wu(e);return n.children.forEach(o=>{(function _q(n,e,t,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){const c=function Cq(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!w1(n.url,e.url);case"pathParamsOrQueryParamsChange":return!w1(n.url,e.url)||!Oo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!My(n,e)||!Oo(n.queryParams,e.queryParams);default:return!My(n,e)}}(o,r,r.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new gD(i)):(r.data=o.data,r._resolvedData=o._resolvedData),V0(n,e,r.component?a?a.children:null:t,i,s),c&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new m5(a.outlet.component,o))}else o&&H0(e,a,s),s.canActivateChecks.push(new gD(i)),V0(n,null,r.component?a?a.children:null:t,i,s)})(o,r[o.value.outlet],t,i.concat([o.value]),s),delete r[o.value.outlet]}),Object.entries(r).forEach(([o,a])=>H0(a,t.getContext(o),s)),s}function H0(n,e,t){const i=Wu(n),s=n.value;Object.entries(i).forEach(([r,o])=>{H0(o,s.component?e?e.children.getContext(r):null:e,t)}),t.canDeactivateChecks.push(new m5(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function k0(n){return"function"==typeof n}function pD(n){return n instanceof i5||"EmptyError"===n?.name}const v5=Symbol("INITIAL_VALUE");function Zu(){return ms(n=>cy(n.map(e=>e.pipe(To(1),function pG(...n){const e=qa(n);return At((t,i)=>{(e?s5(n,t,e):s5(n,t)).subscribe(i)})}(v5)))).pipe(lt(e=>{for(const t of e)if(!0!==t){if(t===v5)return v5;if(!1===t||t instanceof Gu)return t}return!0}),Si(e=>e!==v5),To(1)))}function mD(n){return function b7(...n){return wl(n)}(zi(e=>{if(_1(e))throw uD(0,e)}),lt(e=>!0===e))}class y5{constructor(e){this.segmentGroup=e||null}}class vD{constructor(e){this.urlTree=e}}function Ku(n){return E0(new y5(n))}function yD(n){return E0(new vD(n))}class jq{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new G(4002,!1)}lineralizeSegments(e,t){let i=[],s=t.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return Ee(i);if(s.numberOfChildren>1||!s.children[Je])return E0(new G(4e3,!1));s=s.children[Je]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,s){const r=this.createSegmentGroup(e,t.root,i,s);return new Gu(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([s,r])=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[s]=t[a]}else i[s]=r}),i}createSegmentGroup(e,t,i,s){const r=this.createSegments(e,t.segments,i,s);let o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,i,s)}),new It(r,o)}createSegments(e,t,i,s){return t.map(r=>r.path.startsWith(":")?this.findPosParam(e,r,s):this.findOrReturn(r,i))}findPosParam(e,t,i){const s=i[t.path.substring(1)];if(!s)throw new G(4001,!1);return s}findOrReturn(e,t){let i=0;for(const s of t){if(s.path===e.path)return t.splice(i),s;i++}return e}}const zy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $q(n,e,t,i,s){const r=Dy(n,e,t);return r.matched?(i=function dq(n,e){return n.providers&&!n._injector&&(n._injector=Qm(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function kq(n,e,t,i){const s=e.canMatch;return s&&0!==s.length?Ee(s.map(o=>{const a=Xu(o,n);return $c(function Dq(n){return n&&k0(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Zu(),mD()):Ee(!0)}(i,e,t).pipe(lt(o=>!0===o?r:{...zy}))):Ee(r)}function Dy(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...zy}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||_G)(t,n,e);if(!s)return{...zy};const r={};Object.entries(s.posParams??{}).forEach(([a,c])=>{r[a]=c.path});const o=s.consumed.length>0?{...r,...s.consumed[s.consumed.length-1].parameters}:r;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:o,positionalParamSegments:s.posParams??{}}}function bD(n,e,t,i){return t.length>0&&function qq(n,e,t){return t.some(i=>b5(n,e,i)&&eo(i)!==Je)}(n,t,i)?{segmentGroup:new It(e,Gq(i,new It(t,n.children))),slicedSegments:[]}:0===t.length&&function Wq(n,e,t){return t.some(i=>b5(n,e,i))}(n,t,i)?{segmentGroup:new It(n.segments,Uq(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new It(n.segments,n.children),slicedSegments:t}}function Uq(n,e,t,i,s){const r={};for(const o of i)if(b5(n,t,o)&&!s[eo(o)]){const a=new It([],{});r[eo(o)]=a}return{...s,...r}}function Gq(n,e){const t={};t[Je]=e;for(const i of n)if(""===i.path&&eo(i)!==Je){const s=new It([],{});t[eo(i)]=s}return t}function b5(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class Kq{constructor(e,t,i,s,r,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=s,this.urlTree=r,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new jq(this.urlSerializer,this.urlTree)}noMatchError(e){return new G(4002,!1)}recognize(){const e=bD(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Je).pipe(jc(t=>{if(t instanceof vD)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof y5?this.noMatchError(t):t}),lt(t=>{const i=new g5([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Je,this.rootComponentType,null,{}),s=new Sa(i,t),r=new aD("",s),o=function BG(n,e,t=null,i=null){return Xz(Yz(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(r._root),{state:r,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Je).pipe(jc(i=>{throw i instanceof y5?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=oD(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,i,s){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,s,!0)}processChildren(e,t,i){const s=[];for(const r of Object.keys(i.children))"primary"===r?s.unshift(r):s.push(r);return Wt(s).pipe(ju(r=>{const o=i.children[r],a=function mq(n,e){const t=n.filter(i=>eo(i)===e);return t.push(...n.filter(i=>eo(i)!==e)),t}(t,r);return this.processSegmentGroup(e,a,o,r)}),function yG(n,e){return At(function vG(n,e,t,i,s){return(r,o)=>{let a=t,c=e,l=0;r.subscribe(ct(o,h=>{const f=l++;c=a?n(c,h,f):(a=!0,h),i&&o.next(c)},s&&(()=>{a&&o.next(c),o.complete()})))}}(n,e,arguments.length>=2,!0))}((r,o)=>(r.push(...o),r)),r5(null),function bG(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Si((s,r)=>n(s,r,i)):ps,uy(1),t?r5(e):Rz(()=>new i5))}(),Dn(r=>{if(null===r)return Ku(i);const o=wD(r);return function Jq(n){n.sort((e,t)=>e.value.outlet===Je?-1:t.value.outlet===Je?1:e.value.outlet.localeCompare(t.value.outlet))}(o),Ee(o)}))}processSegment(e,t,i,s,r,o){return Wt(t).pipe(ju(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,s,r,o).pipe(jc(c=>{if(c instanceof y5)return Ee(null);throw c}))),b1(a=>!!a),jc(a=>{if(pD(a))return function Xq(n,e,t){return 0===e.length&&!n.children[t]}(i,s,r)?Ee([]):Ku(i);throw a}))}processSegmentAgainstRoute(e,t,i,s,r,o,a){return function Yq(n,e,t,i){return!!(eo(n)===i||i!==Je&&b5(e,t,n))&&("**"===n.path||Dy(e,n,t).matched)}(i,s,r,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,s,i,r,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,s,t,i,r,o):Ku(s):Ku(s)}expandSegmentAgainstRouteUsingRedirect(e,t,i,s,r,o){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,s,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,s,r,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,s){const r=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?yD(r):this.applyRedirects.lineralizeSegments(i,r).pipe(Dn(o=>{const a=new It(o,{});return this.processSegment(e,t,a,o,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,s,r,o){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:h}=Dy(t,s,r);if(!a)return Ku(t);const f=this.applyRedirects.applyRedirectCommands(c,s.redirectTo,h);return s.redirectTo.startsWith("/")?yD(f):this.applyRedirects.lineralizeSegments(s,f).pipe(Dn(g=>this.processSegment(e,i,t,g.concat(l),o,!1)))}matchSegmentAgainstRoute(e,t,i,s,r,o){let a;if("**"===i.path){const c=s.length>0?Vz(s).parameters:{};a=Ee({snapshot:new g5(s,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_D(i),eo(i),i.component??i._loadedComponent??null,i,CD(i)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=$q(t,i,s,e).pipe(lt(({matched:c,consumedSegments:l,remainingSegments:h,parameters:f})=>c?{snapshot:new g5(l,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,_D(i),eo(i),i.component??i._loadedComponent??null,i,CD(i)),consumedSegments:l,remainingSegments:h}:null));return a.pipe(ms(c=>null===c?Ku(t):this.getChildConfig(e=i._injector??e,i,s).pipe(ms(({routes:l})=>{const h=i._loadedInjector??e,{snapshot:f,consumedSegments:g,remainingSegments:p}=c,{segmentGroup:v,slicedSegments:y}=bD(t,g,p,l);if(0===y.length&&v.hasChildren())return this.processChildren(h,l,v).pipe(lt(C=>null===C?null:[new Sa(f,C)]));if(0===l.length&&0===y.length)return Ee([new Sa(f,[])]);const b=eo(i)===r;return this.processSegment(h,l,v,y,b?Je:r,!0).pipe(lt(C=>[new Sa(f,C)]))}))))}getChildConfig(e,t,i){return t.children?Ee({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ee({routes:t._loadedRoutes,injector:t._loadedInjector}):function Hq(n,e,t,i){const s=e.canLoad;return void 0===s||0===s.length?Ee(!0):Ee(s.map(o=>{const a=Xu(o,n);return $c(function xq(n){return n&&k0(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Zu(),mD())}(e,t,i).pipe(Dn(s=>s?this.configLoader.loadChildren(e,t).pipe(zi(r=>{t._loadedRoutes=r.routes,t._loadedInjector=r.injector})):function Bq(n){return E0(hD(!1,3))}())):Ee({routes:[],injector:e})}}function Qq(n){const e=n.value.routeConfig;return e&&""===e.path}function wD(n){const e=[],t=new Set;for(const i of n){if(!Qq(i)){e.push(i);continue}const s=e.find(r=>i.value.routeConfig===r.value.routeConfig);void 0!==s?(s.children.push(...i.children),t.add(s)):e.push(i)}for(const i of t){const s=wD(i.children);e.push(new Sa(i.value,s))}return e.filter(i=>!t.has(i))}function _D(n){return n.data||{}}function CD(n){return n.resolve||{}}function MD(n){return"string"==typeof n.title||null===n.title}function Ay(n){return ms(e=>{const t=n(e);return t?Wt(t).pipe(lt(()=>e)):Ee(e)})}const Ju=new le("ROUTES");let Ty=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=he(sS)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ee(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=$c(t.loadComponent()).pipe(lt(xD),zi(r=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=r}),$u(()=>{this.componentLoaders.delete(t)})),s=new Lz(i,()=>new at).pipe(ly());return this.componentLoaders.set(t,s),s}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ee({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const r=function oW(n,e,t,i){return $c(n.loadChildren()).pipe(lt(xD),Dn(s=>s instanceof fE||Array.isArray(s)?Ee(s):Wt(e.compileModuleAsync(s))),lt(s=>{i&&i(n);let r,o,a=!1;return Array.isArray(s)?(o=s,!0):(r=s.create(t).injector,o=r.get(Ju,[],{optional:!0,self:!0}).flat()),{routes:o.map(Sy),injector:r}}))}(i,this.compiler,t,this.onLoadEndListener).pipe($u(()=>{this.childrenLoaders.delete(i)})),o=new Lz(r,()=>new at).pipe(ly());return this.childrenLoaders.set(i,o),o}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xD(n){return function aW(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let w5=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new at,this.transitionAbortSubject=new at,this.configLoader=he(Ty),this.environmentInjector=he($i),this.urlSerializer=he(D0),this.rootContexts=he(L0),this.inputBindingEnabled=null!==he(p5,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ee(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new QG(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new JG(s))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,s){return this.transitions=new Li({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:P0,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Si(r=>0!==r.id),lt(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),ms(r=>{this.currentTransition=r;let o=!1,a=!1;return Ee(r).pipe(zi(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ms(c=>{const l=c.currentBrowserUrl.toString(),h=!t.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!h&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const g="";return this.events.next(new qu(c.id,this.urlSerializer.serialize(c.rawUrl),g,0)),c.resolve(null),fr}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Ee(c).pipe(ms(g=>{const p=this.transitions?.getValue();return this.events.next(new d5(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),p!==this.transitions?.getValue()?fr:Promise.resolve(g)}),function eW(n,e,t,i,s,r){return Dn(o=>function Zq(n,e,t,i,s,r,o="emptyOnly"){return new Kq(n,e,t,i,s,o,r).recognize()}(n,e,t,i,o.extractedUrl,s,r).pipe(lt(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),zi(g=>{r.targetSnapshot=g.targetSnapshot,r.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const p=new tD(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(p)}));if(h&&t.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:g,extractedUrl:p,source:v,restoredState:y,extras:b}=c,C=new d5(g,this.urlSerializer.serialize(p),v,y);this.events.next(C);const _=rD(0,this.rootComponentType).snapshot;return this.currentTransition=r={...c,targetSnapshot:_,urlAfterRedirects:p,extras:{...b,skipLocationChange:!1,replaceUrl:!1}},Ee(r)}{const g="";return this.events.next(new qu(c.id,this.urlSerializer.serialize(c.extractedUrl),g,1)),c.resolve(null),fr}}),zi(c=>{const l=new YG(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),lt(c=>(this.currentTransition=r={...c,guards:bq(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},r)),function Tq(n,e){return Dn(t=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:r,canDeactivateChecks:o}}=t;return 0===o.length&&0===r.length?Ee({...t,guardsResult:!0}):function Oq(n,e,t,i){return Wt(n).pipe(Dn(s=>function Vq(n,e,t,i,s){const r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return r&&0!==r.length?Ee(r.map(a=>{const c=N0(e)??s,l=Xu(a,c);return $c(function zq(n){return n&&k0(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,i):c.runInContext(()=>l(n,e,t,i))).pipe(b1())})).pipe(Zu()):Ee(!0)}(s.component,s.route,t,e,i)),b1(s=>!0!==s,!0))}(o,i,s,n).pipe(Dn(a=>a&&function Mq(n){return"boolean"==typeof n}(a)?function Pq(n,e,t,i){return Wt(e).pipe(ju(s=>s5(function Lq(n,e){return null!==n&&e&&e(new eq(n)),Ee(!0)}(s.route.parent,i),function Iq(n,e){return null!==n&&e&&e(new nq(n)),Ee(!0)}(s.route,i),function Nq(n,e,t){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(o=>function wq(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Iz(()=>Ee(o.guards.map(c=>{const l=N0(o.node)??t,h=Xu(c,l);return $c(function Sq(n){return n&&k0(n.canActivateChild)}(h)?h.canActivateChild(i,n):l.runInContext(()=>h(i,n))).pipe(b1())})).pipe(Zu())));return Ee(r).pipe(Zu())}(n,s.path,t),function Rq(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Ee(!0);const s=i.map(r=>Iz(()=>{const o=N0(e)??t,a=Xu(r,o);return $c(function Eq(n){return n&&k0(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(b1())}));return Ee(s).pipe(Zu())}(n,s.route,t))),b1(s=>!0!==s,!0))}(i,r,n,e):Ee(a)),lt(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),zi(c=>{if(r.guardsResult=c.guardsResult,_1(c.guardsResult))throw uD(0,c.guardsResult);const l=new XG(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Si(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),Ay(c=>{if(c.guards.canActivateChecks.length)return Ee(c).pipe(zi(l=>{const h=new ZG(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ms(l=>{let h=!1;return Ee(l).pipe(function tW(n,e){return Dn(t=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=t;if(!s.length)return Ee(t);let r=0;return Wt(s).pipe(ju(o=>function nW(n,e,t,i){const s=n.routeConfig,r=n._resolve;return void 0!==s?.title&&!MD(s)&&(r[S0]=s.title),function iW(n,e,t,i){const s=function sW(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===s.length)return Ee({});const r={};return Wt(s).pipe(Dn(o=>function rW(n,e,t,i){const s=N0(e)??i,r=Xu(n,s);return $c(r.resolve?r.resolve(e,t):s.runInContext(()=>r(e,t)))}(n[o],e,t,i).pipe(b1(),zi(a=>{r[o]=a}))),uy(1),hy(r),jc(o=>pD(o)?fr:E0(o)))}(r,n,e,i).pipe(lt(o=>(n._resolvedData=o,n.data=oD(n,t).resolve,s&&MD(s)&&(n.data[S0]=s.title),null)))}(o.route,i,n,e)),zi(()=>r++),uy(1),Dn(o=>r===s.length?Ee(t):fr))})}(t.paramsInheritanceStrategy,this.environmentInjector),zi({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",2)}}))}),zi(l=>{const h=new KG(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),Ay(c=>{const l=h=>{const f=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(h.routeConfig).pipe(zi(g=>{h.component=g}),lt(()=>{})));for(const g of h.children)f.push(...l(g));return f};return cy(l(c.targetSnapshot.root)).pipe(r5(),To(1))}),Ay(()=>this.afterPreactivation()),lt(c=>{const l=function cq(n,e,t){const i=R0(n,e._root,t?t._root:void 0);return new sD(i,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=r={...c,targetRouterState:l},r}),zi(()=>{this.events.next(new vy)}),((n,e,t,i)=>lt(s=>(new yq(e,s.targetRouterState,s.currentRouterState,t,i).activate(n),s)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),To(1),zi({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Uc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),Qr(this.transitionAbortSubject.pipe(zi(c=>{throw c}))),$u(()=>{o||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),jc(c=>{if(a=!0,dD(c))this.events.next(new I0(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode)),function hq(n){return dD(n)&&_1(n.url)}(c)?this.events.next(new yy(c.url)):r.resolve(!1);else{this.events.next(new f5(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0));try{r.resolve(t.errorHandler(c))}catch(l){r.reject(l)}}return fr}))}))}cancelNavigationTransition(t,i,s){const r=new I0(t.id,this.urlSerializer.serialize(t.extractedUrl),i,s);this.events.next(r),t.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ED(n){return n!==P0}let SD=(()=>{class n{buildTitle(t){let i,s=t.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(r=>r.outlet===Je);return i}getResolvedTitleForRoute(t){return t.data[S0]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:function(){return he(cW)},providedIn:"root"})}return n})(),cW=(()=>{class n extends SD{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(F(Sz))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lW=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:function(){return he(hW)},providedIn:"root"})}return n})();class uW{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let hW=(()=>{class n extends uW{static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=d3(n)))(s||n)}}();static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const _5=new le("",{providedIn:"root",factory:()=>({})});let dW=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:function(){return he(fW)},providedIn:"root"})}return n})(),fW=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var F0=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(F0||{});function zD(n,e){n.events.pipe(Si(t=>t instanceof Uc||t instanceof I0||t instanceof f5||t instanceof qu),lt(t=>t instanceof Uc||t instanceof qu?F0.COMPLETE:t instanceof I0&&(0===t.code||1===t.code)?F0.REDIRECTING:F0.FAILED),Si(t=>t!==F0.REDIRECTING),To(1)).subscribe(()=>{e()})}function gW(n){throw n}function pW(n,e,t){return e.parse("/")}const mW={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ar=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=he(iS),this.isNgZoneEnabled=!1,this._events=new at,this.options=he(_5,{optional:!0})||{},this.pendingTasks=he(Rf),this.errorHandler=this.options.errorHandler||gW,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||pW,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=he(dW),this.routeReuseStrategy=he(lW),this.titleStrategy=he(SD),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=he(Ju,{optional:!0})?.flat()??[],this.navigationTransitions=he(w5),this.urlSerializer=he(D0),this.location=he($f),this.componentInputBindingEnabled=!!he(p5,{optional:!0}),this.eventsSubscription=new Nt,this.isNgZoneEnabled=he(gt)instanceof gt&&gt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Gu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=rD(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(DD(i)&&this._events.next(i));if(i instanceof d5)ED(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(i instanceof qu)this.rawUrlTree=s.rawUrl;else if(i instanceof tD){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(r,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(i instanceof vy)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(i instanceof I0)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(s);else if(i instanceof yy){const r=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),o={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ED(s.source)};this.scheduleNavigation(r,P0,null,o,{resolve:s.resolve,reject:s.reject,promise:s.promise})}i instanceof f5&&this.restoreHistory(s,!0),i instanceof Uc&&(this.navigated=!0),DD(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),P0,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,s){const r={replaceUrl:!0},o=s?.navigationId?s:null;if(s){const c={...s};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(r.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,o,r)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Sy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:s,queryParams:r,fragment:o,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:o;let f,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...r};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}null!==h&&(h=this.removeEmptyProps(h));try{f=Yz(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),f=this.currentUrlTree.root}return Xz(f,t,h,l??null)}navigateByUrl(t,i={skipLocationChange:!1}){const s=_1(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(r,P0,null,i)}navigate(t,i={skipLocationChange:!1}){return function yW(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new G(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return i}isActive(t,i){let s;if(s=!0===i?{...mW}:!1===i?{...vW}:i,_1(t))return kz(this.currentUrlTree,t,s);const r=this.parseUrl(t);return kz(this.currentUrlTree,r,s)}removeEmptyProps(t){return Object.keys(t).reduce((i,s)=>{const r=t[s];return null!=r&&(i[s]=r),i},{})}scheduleNavigation(t,i,s,r,o){if(this.disposed)return Promise.resolve(!1);let a,c,l;o?(a=o.resolve,c=o.reject,l=o.promise):l=new Promise((f,g)=>{a=f,c=g});const h=this.pendingTasks.add();return zD(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:r,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}setBrowserUrl(t,i){const s=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",o)}else{const r={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",r)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-this.browserPageId;0!==r?this.location.historyGo(r):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function DD(n){return!(n instanceof vy||n instanceof yy)}class AD{}let _W=(()=>{class n{constructor(t,i,s,r,o){this.router=t,this.injector=s,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Si(t=>t instanceof Uc),ju(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const s=[];for(const r of i){r.providers&&!r._injector&&(r._injector=Qm(r.providers,t,`Route: ${r.path}`));const o=r._injector??t,a=r._loadedInjector??o;(r.loadChildren&&!r._loadedRoutes&&void 0===r.canLoad||r.loadComponent&&!r._loadedComponent)&&s.push(this.preloadConfig(o,r)),(r.children||r._loadedRoutes)&&s.push(this.processRoutes(a,r.children??r._loadedRoutes))}return Wt(s).pipe(Ga())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Ee(null);const r=s.pipe(Dn(o=>null===o?Ee(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return i.loadComponent&&!i._loadedComponent?Wt([r,this.loader.loadComponent(i)]).pipe(Ga()):r})}static#e=this.\u0275fac=function(i){return new(i||n)(F(Ar),F(sS),F($i),F(AD),F(Ty))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Py=new le("");let TD=(()=>{class n{constructor(t,i,s,r,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=s,this.zone=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof d5?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Uc?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof qu&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof nD&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new nD(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function eM(){throw new Error("invalid")}()};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();function za(n,e){return{\u0275kind:n,\u0275providers:e}}function PD(){const n=he(On);return e=>{const t=n.get(kc);if(e!==t.components[0])return;const i=n.get(Ar),s=n.get(ID);1===n.get(Iy)&&i.initialNavigation(),n.get(LD,null,et.Optional)?.setUpPreloading(),n.get(Py,null,et.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const ID=new le("",{factory:()=>new at}),Iy=new le("",{providedIn:"root",factory:()=>1}),LD=new le("");function EW(n){return za(0,[{provide:LD,useExisting:_W},{provide:AD,useExisting:n}])}const RD=new le("ROUTER_FORROOT_GUARD"),zW=[$f,{provide:D0,useClass:dy},Ar,L0,{provide:Yu,useFactory:function OD(n){return n.routerState.root},deps:[Ar]},Ty,[]];function DW(){return new hS("Router",Ar)}let ND=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[zW,[],{provide:Ju,multi:!0,useValue:t},{provide:RD,useFactory:PW,deps:[[Ar,new $4,new Zl]]},{provide:_5,useValue:i||{}},i?.useHash?{provide:y1,useClass:kj}:{provide:y1,useClass:jS},{provide:Py,useFactory:()=>{const n=he(sU),e=he(gt),t=he(_5),i=he(w5),s=he(D0);return t.scrollOffset&&n.setOffset(t.scrollOffset),new TD(s,i,n,e,t)}},i?.preloadingStrategy?EW(i.preloadingStrategy).\u0275providers:[],{provide:hS,multi:!0,useFactory:DW},i?.initialNavigation?IW(i):[],i?.bindToComponentInputs?za(8,[lD,{provide:p5,useExisting:lD}]).\u0275providers:[],[{provide:VD,useFactory:PD},{provide:xv,multi:!0,useExisting:VD}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Ju,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(F(RD,8))};static#t=this.\u0275mod=Ot({type:n});static#n=this.\u0275inj=nn({})}return n})();function PW(n){return"guarded"}function IW(n){return["disabled"===n.initialNavigation?za(3,[{provide:mv,multi:!0,useFactory:()=>{const e=he(Ar);return()=>{e.setUpLocationChangeListener()}}},{provide:Iy,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?za(2,[{provide:Iy,useValue:0},{provide:mv,multi:!0,deps:[On],useFactory:e=>{const t=e.get(Vj,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const s=e.get(Ar),r=e.get(ID);zD(s,()=>{i(!0)}),e.get(w5).afterPreactivation=()=>(i(!0),r.closed?Ee(void 0):r),s.initialNavigation()}))}}]).\u0275providers:[]]}const VD=new le("");function HD(n,e,t,i,s,r,o){try{var a=n[r](o),c=a.value}catch(l){return void t(l)}a.done?e(c):Promise.resolve(c).then(i,s)}function se(n){return function(){var e=this,t=arguments;return new Promise(function(i,s){var r=n.apply(e,t);function o(c){HD(r,i,s,o,a,"next",c)}function a(c){HD(r,i,s,o,a,"throw",c)}o(void 0)})}}var Gn,Da,fi,kD,C5;!function(n){const e="\u8282\u70b9\u64cd\u4f5c";n.ADD_NODE={id:"xflow:add-node",label:"\u6dfb\u52a0\u8282\u70b9",category:e},n.DEL_NODE={id:"xflow:del-node",label:"\u5220\u9664\u8282\u70b9",category:e},n.UPDATE_NODE_PORT={id:"xflow:update-node-port",label:"\u5220\u9664\u8fde\u63a5\u6869",category:e},n.UPDATE_NODE={id:"xflow:update-node",label:"\u66f4\u65b0\u8282\u70b9",category:e},n.HIGHLIGHT_NODE={id:"xflow:highlight-node",label:"\u9ad8\u4eae\u8282\u70b9",category:e},n.SELECT_NODE={id:"xflow:select-node",label:"\u9009\u4e2d\u8282\u70b9",category:e},n.MOVE_NODE={id:"xflow:move-node",label:"Move Node",category:e},n.CENTER_NODE={id:"xflow:center-node",label:"\u5c45\u4e2d\u8282\u70b9",category:e},n.FRONT_NODE={id:"xflow:front-node",label:"\u524d\u7f6e\u8282\u70b9",category:e},n.BACK_NODE={id:"xflow:back-node",label:"\u540e\u7f6e\u8282\u70b9",category:e}}(Gn||(Gn={})),function(n){const e="\u8fb9\u64cd\u4f5c";n.ADD_EDGE={id:"xflow:add-edge",label:"\u6dfb\u52a0\u8fb9",category:e},n.DEL_EDGE={id:"xflow:del-edge",label:"\u5220\u9664\u8fb9",category:e},n.UPDATE_EDGE={id:"xflow:update-edge",label:"\u66f4\u65b0\u8fb9",category:e},n.HIGHLIGHT_EDGE={id:"xflow:highlight-edge",label:"\u9ad8\u4eae\u8fb9",category:e},n.FRONT_EDGE={id:"xflow:front-edge",label:"\u524d\u7f6e\u53d8",category:e},n.BACK_EDGE={id:"xflow:back-edge",label:"\u540e\u7f6e\u8fb9",category:e}}(Da||(Da={})),function(n){const e="\u753b\u5e03\u64cd\u4f5c";n.LOAD_META={id:"xflow:load-meta",label:"\u83b7\u53d6\u5143\u6570\u636e",category:e},n.LOAD_DATA={id:"xflow:load-data",label:"\u83b7\u53d6\u56fe\u6570\u636e",category:e},n.SAVE_GRAPH_DATA={id:"xflow:save-graph-data",label:"\u4fdd\u5b58",category:e},n.GRAPH_LAYOUT={id:"xflow:layout",label:"\u8ba1\u7b97\u5e03\u5c40",category:e},n.GRAPH_RENDER={id:"xflow:graph-render",label:"\u6e32\u67d3\u753b\u5e03",category:e},n.UNDO_CMD={id:"xflow:undo-cmd",label:"\u64a4\u9500",category:e},n.REDO_CMD={id:"xflow:redo-cmd",label:"\u91cd\u505a",category:e},n.GRAPH_INSTANCE_COMMAND={id:"xflow:graph-instacne-cmd",label:"Graph\u901a\u7528Command",category:e},n.GRAPH_ZOOM={id:"xflow:graph-zoom",label:"\u7f29\u653e\u753b\u5e03",category:e},n.GRAPH_FULLSCREEN={id:"xflow:graph-fullscreen",label:"\u5168\u5c4f",category:e},n.GRAPH_RESIZE={id:"xflow:graph-resize",label:"\u8c03\u6574\u7a97\u53e3\u5927\u5c0f",category:e},n.GRAPH_COPY={id:"xflow:graph-copy-selection",label:"\u590d\u5236",category:e},n.GRAPH_PASTE={id:"xflow:graph-paste-selection",label:"\u7c98\u8d34",category:e},n.GRAPH_TOGGLE_MULTI_SELECT={id:"xflow:graph-toggle-multi-select",label:"\u542f\u7528\u6846\u9009",category:e},n.GRAPH_ADD_TOOL={id:"xflow:add-tool",label:"\u6dfb\u52a0\u5de5\u5177",category:e},n.GRAPH_DEL_TOOL={id:"xflow:del-tool",label:"\u5220\u9664\u5de5\u5177",category:e},n.GRAPH_HISTORY_UNDO={id:"xflow:history-undo",label:"history undo",category:e},n.GRAPH_HISTORY_REDO={id:"xflow:history-redo",label:"history redo",category:e},n.GRAPH_HISTORY_RESET={id:"xflow:history-reset",label:"history reset",category:e},n.GRAPH_HISTORY_TOGGLE={id:"xflow:history-toggle",label:"history toggle",category:e}}(fi||(fi={})),(kD||(kD={})).UPDATE_MODEL={id:"xflow:update-model",label:"\u8bbe\u7f6e\u72b6\u6001\u503c",category:"\u72b6\u6001\u64cd\u4f5c"},function(n){const e="\u7fa4\u7ec4\u64cd\u4f5c";n.INIT_GROUP={id:"xflow:init-group",label:"\u521d\u59cb\u5316\u7fa4\u7ec4",category:e},n.ADD_GROUP={id:"xflow:add-group",label:"\u65b0\u5efa\u7fa4\u7ec4",category:e},n.DEL_GROUP={id:"xflow:del-group",label:"\u89e3\u6563\u7fa4\u7ec4",category:e},n.COLLAPSE_GROUP={id:"xflow:collapse-group",label:"\u6298\u53e0\u7fa4\u7ec4",category:e}}(C5||(C5={}));const In=n=>function(){var e=se(function*(t){return yield t.awaitModel(n)});return function(t){return e.apply(this,arguments)}}(),Ln=n=>function(){var e=se(function*(t){return(yield t.awaitModel(n)).getValidValue()});return function(t){return e.apply(this,arguments)}}();var Ly,Ry,M5,Ny,Vy,Hy,ky,C1,Fy,Qu,jD,By,$D,UD,jy,$y,Uy,Gy,qy,Wy,Yy,n;(n=Ly||(Ly={})).id="GRAPH_META",n.getModel=In(n.id),n.useValue=Ln(n.id),function(n){n.id="GRAPH_ENABLE_MULTI_SELECT",n.getModel=In(n.id),n.useValue=Ln(n.id)}(Ry||(Ry={})),function(n){n.id="GRAPH_FULLSCREEN",n.getModel=In(n.id),n.useValue=Ln(n.id)}(M5||(M5={})),function(n){n.id="IS_NODE_SELECTED",n.getModel=In(n.id),n.useValue=Ln(n.id)}(Ny||(Ny={})),function(n){n.id="IS_GROUP_SELECTED",n.getModel=In(n.id),n.useValue=Ln(n.id)}(Vy||(Vy={})),function(n){n.id="IS_NORMAL_NODES_SELECTED",n.getModel=In(n.id),n.useValue=Ln(n.id)}(Hy||(Hy={})),function(n){n.id="LAST_SELECTED_CELL",n.getModel=In(n.id),n.useValue=Ln(n.id)}(ky||(ky={})),function(n){n.id="SELECTED_CELLS",n.getModel=In(n.id),n.useValue=Ln(n.id)}(C1||(C1={})),function(n){n.id="LAST_SELECTED_NODE",n.getModel=In(n.id),n.useValue=Ln(n.id)}(Fy||(Fy={})),function(n){n.id="SELECTED_NODES",n.getModel=In(n.id),n.useValue=Ln(n.id)}(Qu||(Qu={})),function(n){n.id="SELECTED_EDGES",n.getModel=In(n.id),n.useValue=Ln(n.id)}(jD||(jD={})),function(n){n.id="SELECTED_GROUPS",n.getModel=In(n.id),n.useValue=Ln(n.id)}(By||(By={})),function(n){n.id="CONTEXTMENU_NODE",n.getModel=In(n.id),n.useValue=Ln(n.id)}($D||($D={})),function(n){n.id="CONTEXTMENU_EDGE",n.getModel=In(n.id),n.useValue=Ln(n.id)}(UD||(UD={})),function(n){n.id="CONTEXTMENU_TARGET",n.getModel=In(n.id),n.useValue=Ln(n.id)}(jy||(jy={})),function(n){n.id="GRAPH_SCALE",n.getModel=In(n.id),n.useValue=Ln(n.id)}($y||($y={})),function(n){n.id="COMMAND_REDOABLE",n.getModel=In(n.id),n.useValue=Ln(n.id)}(Uy||(Uy={})),function(n){n.id="COMMAND_UNDOABLE",n.getModel=In(n.id),n.useValue=Ln(n.id)}(Gy||(Gy={})),function(n){n.id="COMMAND_GLOBALS",n.getModel=In(n.id),n.useValue=Ln(n.id)}(qy||(qy={})),function(n){n.id="HISTORY_UNDOABLE",n.getModel=In(n.id),n.useValue=Ln(n.id)}(Wy||(Wy={})),function(n){n.id="HISTORY_REDOABLE",n.getModel=In(n.id),n.useValue=Ln(n.id)}(Yy||(Yy={}));class GD{constructor(){this.CONFIG_TYPE="GraphConfig",this.nodeRender=new Map,this.edgeRender=new Map,this.events=[],this.setX6Config=e=>{const t=this.getDefaultGraphOptions();this.x6Options={...t,...e}},this.setEvents=e=>{this.events=e},this.setNodeRender=(e,t)=>{this.nodeRender.set(e,t)},this.getDefaultGraphOptions=()=>({rotating:!1,resizing:!1,connecting:{snap:!0,dangling:!1,highlight:!1,connectionPoint:"rect",router:{name:"er"},connector:{name:"rounded",args:{radius:15}}},background:{},grid:{visible:!0},selecting:{strict:!0,enabled:!0,multiple:!0,selectCellOnMoved:!0,showNodeSelectionBox:!1,rubberEdge:!0,rubberNode:!0,movable:!0},snapline:{enabled:!1},history:{enabled:!1},clipboard:{enabled:!0,useLocalStorage:!0},scroller:{enabled:!1},mousewheel:{enabled:!0,minScale:.01,maxScale:1.5,factor:1.1,modifiers:["ctrl","meta"]},panning:{enabled:!0},scaling:{min:.01,max:1.5},keyboard:{enabled:!0},interacting:{nodeMovable:!0,edgeLabelMovable:!1},async:!1}),this.graphId=Xy()}setAppContainer(e){this.appContainer=e}setRootContainer(e){this.rootContainer=e}setGraphContainer(e){this.graphContainer=e}}function Xy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=16*Math.random()|0;return("x"==n?e:3&e|8).toString(16)})}var Aa=rt(990);let NW=(()=>{class n{constructor(){this.token=fi.GRAPH_RENDER.id}execute(){var t=this;return se(function*(){const{args:i,hooks:s}=t.ctx.getArgs();yield t.ctx.getHooks().graphRender.call(i,function(){var o=se(function*(a){const c=yield t.ctx.getX6Graph(),{graphData:h,isNodeEqual:f,isEdgeEqual:g}=a;return yield t.doLoadGraph(c,h,f,g),{}});return function(a){return o.apply(this,arguments)}}(),s)})()}doLoadGraph(t,i,s,r){var o=this;return se(function*(){const a=o.ctx.getCommands(),{addNodeConfigs:c,addEdgeConfigs:l,removeNodes:h,removeEdges:f,updateNodes:g,updateEdges:p}=o.graphDataDiff(t,i,s,r);for(const v of g){const y=v?.getData();yield a.executeCommand(E8.UPDATE_NODE.id,{nodeConfig:y})}for(const v of p){const y=v?.getData();yield a.executeCommand(S8.UPDATE_EDGE.id,{edgeConfig:y})}for(const v of c)yield a.executeCommand(E8.ADD_NODE.id,{nodeConfig:v,options:{isRenderGraph:!0}},{name:"remove servcie",handler:function(){var y=se(function*(b){delete b.createNodeService});return function(C){return y.apply(this,arguments)}}()});console.log("addEdgeConfigs>>>",l);for(const v of l)yield a.executeCommand(S8.ADD_EDGE.id,{edgeConfig:v,options:{isRenderGraph:!0}},{name:"remove servcie",handler:function(){var y=se(function*(b){delete b.createEdgeService});return function(C){return y.apply(this,arguments)}}()});for(const v of h){const y=v?.getData();y.isGroup||(yield a.executeCommand(E8.DEL_NODE.id,{nodeConfig:y}))}for(const v of f){const y=v?.getData();yield a.executeCommand(S8.DEL_EDGE.id,{edgeConfig:y})}})()}graphDataDiff(t,i,s,r){const{nodes:o,edges:a}=i,c=[];for(const _ of o)t.getCellById(_?.id)||c.push(_);const l=[],h=[],f=[],g=t.getNodes();for(const _ of g){const M=o.find(S=>S?.id===_?.id);if(M){let S=!0;r?S=s(_?.data,M):_?.data&&M&&(S=x5.isNodeEqual(_?.data,M)),S||_.setData(M,{deep:!1}),S?l.push(_):h.push(_)}else f.push(_)}const p=[];console.log("edgeConfigs>>>",a);for(const _ of a)t.getCellById(_?.id)||p.push(_);const v=[],y=[],b=[],C=t.getEdges();for(const _ of C){const M=a.find(S=>S?.id===_?.id);if(M){let S=!0;r?S=r(_?.data,M):_?.data&&M&&(S=x5.isEdgeEqual(_?.data,M)),S||_.setData(M,{deep:!1}),S?v.push(_):y.push(_)}else b.push(_)}return{addNodeConfigs:c,addEdgeConfigs:p,retainNodes:l,retainEdges:v,removeNodes:f,removeEdges:b,updateNodes:h,updateEdges:y}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Zy,x5;!function(n){n.command=fi.GRAPH_RENDER,n.hookKey="graphRender"}(Zy||(Zy={})),function(n){n.isNodeEqual=function e(i,s){return(0,Aa.isEqual)(i,s)},n.isEdgeEqual=function t(i,s){return(0,Aa.isEqual)(i,s)}}(x5||(x5={}));let VW=(()=>{class n{constructor(){var t=this;this.token=fi.GRAPH_RESIZE.id,this.execute=se(function*(){const{args:i,hooks:s}=t.ctx.getArgs(),r=t.ctx.getHooks(),o=yield t.ctx.getGraphConfig(),a=o.rootContainer.clientHeight,c=o.rootContainer.clientWidth,l=yield r.graphResize.call(i,function(){var h=se(function*(f){const g=yield t.ctx.getX6Graph(),{width:p=c,height:v=a}=f;return console.log(p,v),g?.resize(p,v),{}});return function(f){return h.apply(this,arguments)}}(),s);return t.ctx.setResult(l),t}),this.undo=se(function*(){return t.ctx.undo(),t}),this.redo=se(function*(){return t.ctx.isUndoable||(yield t.execute()),t})}isUndoable(){return this.ctx.isUndoable()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ky;!function(n){n.command=fi.GRAPH_RESIZE,n.hookKey="graphResize"}(Ky||(Ky={}));let HW=(()=>{class n{constructor(){this.token=fi.LOAD_DATA.id}execute(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const kW=[Zy,Ky];let FW=(()=>{class n{constructor(){var t=this;this.token=Gn.ADD_NODE.id,this.execute=se(function*(){const{args:i,hooks:s}=t.ctx.getArgs();yield t.ctx.getHooks().addNode.call(i,function(){var o=se(function*(a){const{createNodeService:c,cellFactory:l,options:f}=a,g=yield t.ctx.getX6Graph();let p=a.nodeConfig;if(c){const C=yield c(a);if("boolean"==typeof C)return{err:"createNodeService rejected"};p=C}const v=yield t.processNodeConfig(p);let y;const b={...f,isCommand:!0};if(l){const C=yield l(v,t);y=g.addNode(C,b)}else y=g.addNode(v,b);return{nodeConfig:v,nodeCell:y}});return function(a){return o.apply(this,arguments)}}(),s)}),this.processNodeConfig=function(){var i=se(function*(s){return s.data={...s},s});return function(s){return i.apply(this,arguments)}}()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Jy;!function(n){n.command=Gn.ADD_NODE,n.hookKey="addNode"}(Jy||(Jy={})),rt(825);class Io{get disposed(){return!0===this._disposed}dispose(){this._disposed=!0}}!function(n){n.dispose=function e(){return(t,i,s)=>{const r=s.value,o=t.__proto__;s.value=function(...a){this.disposed||(r.call(this,...a),o.dispose.call(this))}}}}(Io||(Io={}));class qD{constructor(){this.isDisposed=!1,this.items=new Set}get disposed(){return this.isDisposed}dispose(){this.isDisposed||(this.isDisposed=!0,this.items.forEach(e=>{e.dispose()}),this.items.clear())}contains(e){return this.items.has(e)}add(e){this.items.add(e)}remove(e){this.items.delete(e)}clear(){this.items.clear()}}!function(n){n.from=function e(t){const i=new n;return t.forEach(s=>{i.add(s)}),i}}(qD||(qD={}));const xn=function BW(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)},WD="object"==typeof global&&global&&global.Object===Object&&global;var $W="object"==typeof self&&self&&self.Object===Object&&self;const to=WD||$W||Function("return this")(),Qy=function(){return to.Date.now()};var qW=/\s/;var XW=/^\s+/;const KW=function ZW(n){return n&&n.slice(0,function WW(n){for(var e=n.length;e--&&qW.test(n.charAt(e)););return e}(n)+1).replace(XW,"")},Tr=to.Symbol;var YD=Object.prototype,QW=YD.hasOwnProperty,eY=YD.toString,B0=Tr?Tr.toStringTag:void 0;var sY=Object.prototype.toString;var XD=Tr?Tr.toStringTag:void 0;const Gc=function lY(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":XD&&XD in Object(n)?function tY(n){var e=QW.call(n,B0),t=n[B0];try{n[B0]=void 0;var i=!0}catch{}var s=eY.call(n);return i&&(e?n[B0]=t:delete n[B0]),s}(n):function rY(n){return sY.call(n)}(n)},no=function uY(n){return null!=n&&"object"==typeof n},Lo=function dY(n){return"symbol"==typeof n||no(n)&&"[object Symbol]"==Gc(n)};var fY=/^[-+]0x[0-9a-f]+$/i,gY=/^0b[01]+$/i,pY=/^0o[0-7]+$/i,mY=parseInt;const j0=function vY(n){if("number"==typeof n)return n;if(Lo(n))return NaN;if(xn(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=xn(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=KW(n);var t=gY.test(n);return t||pY.test(n)?mY(n.slice(2),t?2:8):fY.test(n)?NaN:+n};var bY=Math.max,wY=Math.min;const EY=function xY(n,e,t){var i=!0,s=!0;if("function"!=typeof n)throw new TypeError("Expected a function");return xn(t)&&(i="leading"in t?!!t.leading:i,s="trailing"in t?!!t.trailing:s),function _Y(n,e,t){var i,s,r,o,a,c,l=0,h=!1,f=!1,g=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function p(I){var k=i,Y=s;return i=s=void 0,l=I,o=n.apply(Y,k)}function b(I){var k=I-c;return void 0===c||k>=e||k<0||f&&I-l>=r}function C(){var I=Qy();if(b(I))return _(I);a=setTimeout(C,function y(I){var j=e-(I-c);return f?wY(j,r-(I-l)):j}(I))}function _(I){return a=void 0,g&&i?p(I):(i=s=void 0,o)}function D(){var I=Qy(),k=b(I);if(i=arguments,s=this,c=I,k){if(void 0===a)return function v(I){return l=I,a=setTimeout(C,e),h?p(I):o}(c);if(f)return clearTimeout(a),a=setTimeout(C,e),p(c)}return void 0===a&&(a=setTimeout(C,e)),o}return e=j0(e)||0,xn(t)&&(h=!!t.leading,r=(f="maxWait"in t)?bY(j0(t.maxWait)||0,e):r,g="trailing"in t?!!t.trailing:g),D.cancel=function M(){void 0!==a&&clearTimeout(a),l=0,i=c=s=a=void 0},D.flush=function S(){return void 0===a?o:_(Qy())},D}(n,e,{leading:i,maxWait:e,trailing:s})};function KD(n,e,t){if(t)switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2]);case 4:return n.call(e,t[0],t[1],t[2],t[3]);case 5:return n.call(e,t[0],t[1],t[2],t[3],t[4]);case 6:return n.call(e,t[0],t[1],t[2],t[3],t[4],t[5]);default:return n.apply(e,t)}return n.call(e)}function xe(n,e,...t){return KD(n,e,t)}function eb(n){return null!=n&&(n instanceof Promise||function SY(n){return"object"==typeof n&&n.then&&"function"==typeof n.then}(n))}function tb(...n){const e=[];if(n.forEach(i=>{Array.isArray(i)?e.push(...i):e.push(i)}),e.some(i=>eb(i))){const i=e.map(s=>eb(s)?s:Promise.resolve(!1!==s));return Promise.all(i).then(s=>s.reduce((r,o)=>!1!==o&&r,!0))}return e.every(i=>!1!==i)}function nb(n,e){const t=[];for(let i=0;i<n.length;i+=2){const a=KD(n[i],n[i+1],Array.isArray(e)?e:[e]);t.push(a)}return tb(t)}class DY{constructor(){this.listeners={}}on(e,t,i){return null==t||(this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t,i)),this}once(e,t,i){const s=(...r)=>(this.off(e,s),nb([t,i],r));return this.on(e,s,this)}off(e,t,i){if(!(e||t||i))return this.listeners={},this;const s=this.listeners;return(e?[e]:Object.keys(s)).forEach(o=>{const a=s[o];if(a){if(!t&&!i)return void delete s[o];for(let c=a.length-2;c>=0;c-=2)t&&a[c]!==t||i&&a[c+1]!==i||a.splice(c,2)}}),this}trigger(e,...t){let i=!0;if("*"!==e){const r=this.listeners[e];null!=r&&(i=nb([...r],t))}const s=this.listeners["*"];return null!=s?tb([i,nb([...s],[e,...t])]):i}emit(e,...t){return this.trigger(e,...t)}}var TY=Object.prototype.hasOwnProperty;const PY=function OY(n,e){return null!=n&&TY.call(n,e)},Gi=Array.isArray;var LY=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,RY=/^\w*$/;const ib=function NY(n,e){if(Gi(n))return!1;var t=typeof n;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=n&&!Lo(n))||RY.test(n)||!LY.test(n)||null!=e&&n in Object(e)},sb=function BY(n){if(!xn(n))return!1;var e=Gc(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},rb=to["__core-js_shared__"];var JD=function(){var n=/[^.]+$/.exec(rb&&rb.keys&&rb.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();var qY=Function.prototype.toString;const M1=function WY(n){if(null!=n){try{return qY.call(n)}catch{}try{return n+""}catch{}}return""};var XY=/^\[object .+?Constructor\]$/,eX=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const nX=function tX(n){return!(!xn(n)||function $Y(n){return!!JD&&JD in n}(n))&&(sb(n)?eX:XY).test(M1(n))},x1=function rX(n,e){var t=function iX(n,e){return n?.[e]}(n,e);return nX(t)?t:void 0},$0=x1(Object,"create");var fX=Object.prototype.hasOwnProperty;var vX=Object.prototype.hasOwnProperty;function e2(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}e2.prototype.clear=function aX(){this.__data__=$0?$0(null):{},this.size=0},e2.prototype.delete=function lX(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e},e2.prototype.get=function gX(n){var e=this.__data__;if($0){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return fX.call(e,n)?e[n]:void 0},e2.prototype.has=function yX(n){var e=this.__data__;return $0?void 0!==e[n]:vX.call(e,n)},e2.prototype.set=function _X(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=$0&&void 0===e?"__lodash_hash_undefined__":e,this};const QD=e2,t2=function EX(n,e){return n===e||n!=n&&e!=e},E5=function SX(n,e){for(var t=n.length;t--;)if(t2(n[t][0],e))return t;return-1};var DX=Array.prototype.splice;function n2(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}n2.prototype.clear=function MX(){this.__data__=[],this.size=0},n2.prototype.delete=function AX(n){var e=this.__data__,t=E5(e,n);return!(t<0||(t==e.length-1?e.pop():DX.call(e,t,1),--this.size,0))},n2.prototype.get=function OX(n){var e=this.__data__,t=E5(e,n);return t<0?void 0:e[t][1]},n2.prototype.has=function IX(n){return E5(this.__data__,n)>-1},n2.prototype.set=function RX(n,e){var t=this.__data__,i=E5(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this};const S5=n2,U0=x1(to,"Map"),z5=function jX(n,e){var t=n.__data__;return function FX(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}(e)?t["string"==typeof e?"string":"hash"]:t.map};function s2(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}s2.prototype.clear=function HX(){this.size=0,this.__data__={hash:new QD,map:new(U0||S5),string:new QD}},s2.prototype.delete=function $X(n){var e=z5(this,n).delete(n);return this.size-=e?1:0,e},s2.prototype.get=function GX(n){return z5(this,n).get(n)},s2.prototype.has=function WX(n){return z5(this,n).has(n)},s2.prototype.set=function XX(n,e){var t=z5(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this};const D5=s2;function ob(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){var i=arguments,s=e?e.apply(this,i):i[0],r=t.cache;if(r.has(s))return r.get(s);var o=n.apply(this,i);return t.cache=r.set(s,o)||r,o};return t.cache=new(ob.Cache||D5),t}ob.Cache=D5;const JX=ob;var nZ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,iZ=/\\(\\)?/g,sZ=function eZ(n){var e=JX(n,function(i){return 500===t.size&&t.clear(),i}),t=e.cache;return e}(function(n){var e=[];return 46===n.charCodeAt(0)&&e.push(""),n.replace(nZ,function(t,i,s,r){e.push(s?r.replace(iZ,"$1"):i||t)}),e});const rZ=sZ,G0=function oZ(n,e){for(var t=-1,i=null==n?0:n.length,s=Array(i);++t<i;)s[t]=e(n[t],t,n);return s};var eA=Tr?Tr.prototype:void 0,tA=eA?eA.toString:void 0;const cZ=function nA(n){if("string"==typeof n)return n;if(Gi(n))return G0(n,nA)+"";if(Lo(n))return tA?tA.call(n):"";var e=n+"";return"0"==e&&1/n==-1/0?"-0":e},r2=function lZ(n){return null==n?"":cZ(n)},A5=function uZ(n,e){return Gi(n)?n:ib(n,e)?[n]:rZ(r2(n))},iA=function dZ(n){return no(n)&&"[object Arguments]"==Gc(n)};var sA=Object.prototype,fZ=sA.hasOwnProperty,gZ=sA.propertyIsEnumerable,pZ=iA(function(){return arguments}())?iA:function(n){return no(n)&&fZ.call(n,"callee")&&!gZ.call(n,"callee")};const o2=pZ;var vZ=/^(?:0|[1-9]\d*)$/;const T5=function yZ(n,e){var t=typeof n;return!!(e=e??9007199254740991)&&("number"==t||"symbol"!=t&&vZ.test(n))&&n>-1&&n%1==0&&n<e},ab=function wZ(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991},q0=function CZ(n){if("string"==typeof n||Lo(n))return n;var e=n+"";return"0"==e&&1/n==-1/0?"-0":e},rA=function MZ(n,e,t){for(var i=-1,s=(e=A5(e,n)).length,r=!1;++i<s;){var o=q0(e[i]);if(!(r=null!=n&&t(n,o)))break;n=n[o]}return r||++i!=s?r:!!(s=null==n?0:n.length)&&ab(s)&&T5(o,s)&&(Gi(n)||o2(n))},O5=function xZ(n,e){return null!=n&&rA(n,e,PY)},P5=function EZ(n,e){for(var t=0,i=(e=A5(e,n)).length;null!=n&&t<i;)n=n[q0(e[t++])];return t&&t==i?n:void 0};var SZ=function(){try{var n=x1(Object,"defineProperty");return n({},"",{}),n}catch{}}();const I5=SZ,L5=function zZ(n,e,t){"__proto__"==e&&I5?I5(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t};var AZ=Object.prototype.hasOwnProperty;const cb=function TZ(n,e,t){var i=n[e];(!AZ.call(n,e)||!t2(i,t)||void 0===t&&!(e in n))&&L5(n,e,t)},PZ=function OZ(n,e,t,i){if(!xn(n))return n;for(var s=-1,r=(e=A5(e,n)).length,o=r-1,a=n;null!=a&&++s<r;){var c=q0(e[s]),l=t;if("__proto__"===c||"constructor"===c||"prototype"===c)return n;if(s!=o){var h=a[c];void 0===(l=i?i(h,c,a):void 0)&&(l=xn(h)?h:T5(e[s+1])?[]:{})}cb(a,c,l),a=a[c]}return n},NZ=function RZ(n,e){return null!=n&&e in Object(n)},oA=function VZ(n,e){return null!=n&&rA(n,e,NZ)},kZ=function HZ(n,e){return function IZ(n,e,t){for(var i=-1,s=e.length,r={};++i<s;){var o=e[i],a=P5(n,o);t(a,o)&&PZ(r,A5(o,n),a)}return r}(n,e,function(t,i){return oA(n,i)})},lb=function FZ(n,e){for(var t=-1,i=e.length,s=n.length;++t<i;)n[s+t]=e[t];return n};var aA=Tr?Tr.isConcatSpreadable:void 0;const jZ=function BZ(n){return Gi(n)||o2(n)||!!(aA&&n&&n[aA])},R5=function cA(n,e,t,i,s){var r=-1,o=n.length;for(t||(t=jZ),s||(s=[]);++r<o;){var a=n[r];e>0&&t(a)?e>1?cA(a,e-1,t,i,s):lb(s,a):i||(s[s.length]=a)}return s},UZ=function $Z(n){return null!=n&&n.length?R5(n,1):[]},lA=function GZ(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)};var uA=Math.max;const hA=function qZ(n,e,t){return e=uA(void 0===e?n.length-1:e,0),function(){for(var i=arguments,s=-1,r=uA(i.length-e,0),o=Array(r);++s<r;)o[s]=i[e+s];s=-1;for(var a=Array(e+1);++s<e;)a[s]=i[s];return a[e]=t(o),lA(n,this,a)}},YZ=function WZ(n){return function(){return n}},a2=function XZ(n){return n};var ZZ=I5?function(n,e){return I5(n,"toString",{configurable:!0,enumerable:!1,value:YZ(e),writable:!0})}:a2,eK=Date.now,nK=function tK(n){var e=0,t=0;return function(){var i=eK(),s=16-(i-t);if(t=i,s>0){if(++e>=800)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}(ZZ);const dA=nK;var sK=function iK(n){return dA(hA(n,void 0,UZ),n+"")}(function(n,e){return null==n?{}:kZ(n,e)});const fA=sK;function c2(n){var e=this.__data__=new S5(n);this.size=e.size}c2.prototype.clear=function rK(){this.__data__=new S5,this.size=0},c2.prototype.delete=function aK(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t},c2.prototype.get=function lK(n){return this.__data__.get(n)},c2.prototype.has=function hK(n){return this.__data__.has(n)},c2.prototype.set=function gK(n,e){var t=this.__data__;if(t instanceof S5){var i=t.__data__;if(!U0||i.length<199)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new D5(i)}return t.set(n,e),this.size=t.size,this};const l2=c2,ub=function mK(n,e,t){(void 0!==t&&!t2(n[e],t)||void 0===t&&!(e in n))&&L5(n,e,t)};var yK=function vK(n){return function(e,t,i){for(var s=-1,r=Object(e),o=i(e),a=o.length;a--;){var c=o[n?a:++s];if(!1===t(r[c],c,r))break}return e}}();const gA=yK;var pA="object"==typeof exports&&exports&&!exports.nodeType&&exports,mA=pA&&"object"==typeof module&&module&&!module.nodeType&&module,vA=mA&&mA.exports===pA?to.Buffer:void 0,yA=vA?vA.allocUnsafe:void 0;const bA=function wK(n,e){if(e)return n.slice();var t=n.length,i=yA?yA(t):new n.constructor(t);return n.copy(i),i},N5=to.Uint8Array,hb=function CK(n){var e=new n.constructor(n.byteLength);return new N5(e).set(new N5(n)),e},wA=function MK(n,e){var t=e?hb(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)},_A=function xK(n,e){var t=-1,i=n.length;for(e||(e=Array(i));++t<i;)e[t]=n[t];return e};var CA=Object.create,EK=function(){function n(){}return function(e){if(!xn(e))return{};if(CA)return CA(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const SK=EK,MA=function zK(n,e){return function(t){return n(e(t))}},db=MA(Object.getPrototypeOf,Object);var AK=Object.prototype;const V5=function TK(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||AK)},xA=function OK(n){return"function"!=typeof n.constructor||V5(n)?{}:SK(db(n))},E1=function PK(n){return null!=n&&ab(n.length)&&!sb(n)},H5=function IK(n){return no(n)&&E1(n)};var EA="object"==typeof exports&&exports&&!exports.nodeType&&exports,SA=EA&&"object"==typeof module&&module&&!module.nodeType&&module,zA=SA&&SA.exports===EA?to.Buffer:void 0;const u2=(zA?zA.isBuffer:void 0)||function LK(){return!1};var DA=Function.prototype.toString,jK=Object.prototype.hasOwnProperty,$K=DA.call(Object);const Ro=function UK(n){if(!no(n)||"[object Object]"!=Gc(n))return!1;var e=db(n);if(null===e)return!0;var t=jK.call(e,"constructor")&&e.constructor;return"function"==typeof t&&t instanceof t&&DA.call(t)==$K};var on={};on["[object Float32Array]"]=on["[object Float64Array]"]=on["[object Int8Array]"]=on["[object Int16Array]"]=on["[object Int32Array]"]=on["[object Uint8Array]"]=on["[object Uint8ClampedArray]"]=on["[object Uint16Array]"]=on["[object Uint32Array]"]=!0,on["[object Arguments]"]=on["[object Array]"]=on["[object ArrayBuffer]"]=on["[object Boolean]"]=on["[object DataView]"]=on["[object Date]"]=on["[object Error]"]=on["[object Function]"]=on["[object Map]"]=on["[object Number]"]=on["[object Object]"]=on["[object RegExp]"]=on["[object Set]"]=on["[object String]"]=on["[object WeakMap]"]=!1;const W0=function vJ(n){return function(e){return n(e)}};var AA="object"==typeof exports&&exports&&!exports.nodeType&&exports,Y0=AA&&"object"==typeof module&&module&&!module.nodeType&&module,fb=Y0&&Y0.exports===AA&&WD.process;const h2=function(){try{return Y0&&Y0.require&&Y0.require("util").types||fb&&fb.binding&&fb.binding("util")}catch{}}();var TA=h2&&h2.isTypedArray;const k5=TA?W0(TA):function pJ(n){return no(n)&&ab(n.length)&&!!on[Gc(n)]},gb=function _J(n,e){if(("constructor"!==e||"function"!=typeof n[e])&&"__proto__"!=e)return n[e]},X0=function CJ(n,e,t,i){var s=!t;t||(t={});for(var r=-1,o=e.length;++r<o;){var a=e[r],c=i?i(t[a],n[a],a,t,n):void 0;void 0===c&&(c=n[a]),s?L5(t,a,c):cb(t,a,c)}return t};var SJ=Object.prototype.hasOwnProperty;const OA=function zJ(n,e){var t=Gi(n),i=!t&&o2(n),s=!t&&!i&&u2(n),r=!t&&!i&&!s&&k5(n),o=t||i||s||r,a=o?function MJ(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}(n.length,String):[],c=a.length;for(var l in n)(e||SJ.call(n,l))&&(!o||!("length"==l||s&&("offset"==l||"parent"==l)||r&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||T5(l,c)))&&a.push(l);return a};var OJ=Object.prototype.hasOwnProperty;const IJ=function PJ(n){if(!xn(n))return function DJ(n){var e=[];if(null!=n)for(var t in Object(n))e.push(t);return e}(n);var e=V5(n),t=[];for(var i in n)"constructor"==i&&(e||!OJ.call(n,i))||t.push(i);return t},d2=function LJ(n){return E1(n)?OA(n,!0):IJ(n)},HJ=function VJ(n,e,t,i,s,r,o){var a=gb(n,t),c=gb(e,t),l=o.get(c);if(l)ub(n,t,l);else{var h=r?r(a,c,t+"",n,e,o):void 0,f=void 0===h;if(f){var g=Gi(c),p=!g&&u2(c),v=!g&&!p&&k5(c);h=c,g||p||v?Gi(a)?h=a:H5(a)?h=_A(a):p?(f=!1,h=bA(c,!0)):v?(f=!1,h=wA(c,!0)):h=[]:Ro(c)||o2(c)?(h=a,o2(a)?h=function RJ(n){return X0(n,d2(n))}(a):(!xn(a)||sb(a))&&(h=xA(c))):f=!1}f&&(o.set(c,h),s(h,c,i,r,o),o.delete(c)),ub(n,t,h)}},pb=function PA(n,e,t,i,s){n!==e&&gA(e,function(r,o){if(s||(s=new l2),xn(r))HJ(n,e,o,t,PA,i,s);else{var a=i?i(gb(n,o),r,o+"",n,e,s):void 0;void 0===a&&(a=r),ub(n,o,a)}},d2)},f2=function kJ(n,e){return dA(hA(n,e,a2),n+"")},F5=function FJ(n,e,t){if(!xn(t))return!1;var i=typeof e;return!!("number"==i?E1(t)&&T5(e,t.length):"string"==i&&e in t)&&t2(t[e],n)},IA=function BJ(n){return f2(function(e,t){var i=-1,s=t.length,r=s>1?t[s-1]:void 0,o=s>2?t[2]:void 0;for(r=n.length>3&&"function"==typeof r?(s--,r):void 0,o&&F5(t[0],t[1],o)&&(r=s<3?void 0:r,s=1),e=Object(e);++i<s;){var a=t[i];a&&n(e,a,i,r)}return e})};var jJ=IA(function(n,e,t){pb(n,e,t)});const En=jJ;function B5(n){var e=-1,t=null==n?0:n.length;for(this.__data__=new D5;++e<t;)this.add(n[e])}B5.prototype.add=B5.prototype.push=function UJ(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this},B5.prototype.has=function qJ(n){return this.__data__.has(n)};const mb=B5,XJ=function YJ(n,e){for(var t=-1,i=null==n?0:n.length;++t<i;)if(e(n[t],t,n))return!0;return!1},vb=function ZJ(n,e){return n.has(e)},LA=function QJ(n,e,t,i,s,r){var o=1&t,a=n.length,c=e.length;if(a!=c&&!(o&&c>a))return!1;var l=r.get(n),h=r.get(e);if(l&&h)return l==e&&h==n;var f=-1,g=!0,p=2&t?new mb:void 0;for(r.set(n,e),r.set(e,n);++f<a;){var v=n[f],y=e[f];if(i)var b=o?i(y,v,f,e,n,r):i(v,y,f,n,e,r);if(void 0!==b){if(b)continue;g=!1;break}if(p){if(!XJ(e,function(C,_){if(!vb(p,_)&&(v===C||s(v,C,t,i,r)))return p.push(_)})){g=!1;break}}else if(v!==y&&!s(v,y,t,i,r)){g=!1;break}}return r.delete(n),r.delete(e),g},tQ=function eQ(n){var e=-1,t=Array(n.size);return n.forEach(function(i,s){t[++e]=[s,i]}),t},yb=function nQ(n){var e=-1,t=Array(n.size);return n.forEach(function(i){t[++e]=i}),t};var RA=Tr?Tr.prototype:void 0,bb=RA?RA.valueOf:void 0;const NA=function yQ(n,e,t){var i=e(n);return Gi(n)?i:lb(i,t(n))},VA=function _Q(){return[]};var MQ=Object.prototype.propertyIsEnumerable,HA=Object.getOwnPropertySymbols,xQ=HA?function(n){return null==n?[]:(n=Object(n),function bQ(n,e){for(var t=-1,i=null==n?0:n.length,s=0,r=[];++t<i;){var o=n[t];e(o,t,n)&&(r[s++]=o)}return r}(HA(n),function(e){return MQ.call(n,e)}))}:VA;const wb=xQ,SQ=MA(Object.keys,Object);var DQ=Object.prototype.hasOwnProperty;const kA=function AQ(n){if(!V5(n))return SQ(n);var e=[];for(var t in Object(n))DQ.call(n,t)&&"constructor"!=t&&e.push(t);return e},Z0=function TQ(n){return E1(n)?OA(n):kA(n)},_b=function OQ(n){return NA(n,Z0,wb)};var LQ=Object.prototype.hasOwnProperty;const Cb=x1(to,"DataView"),Mb=x1(to,"Promise"),g2=x1(to,"Set"),xb=x1(to,"WeakMap");var FA="[object Map]",BA="[object Promise]",jA="[object Set]",$A="[object WeakMap]",UA="[object DataView]",jQ=M1(Cb),$Q=M1(U0),UQ=M1(Mb),GQ=M1(g2),qQ=M1(xb),S1=Gc;(Cb&&S1(new Cb(new ArrayBuffer(1)))!=UA||U0&&S1(new U0)!=FA||Mb&&S1(Mb.resolve())!=BA||g2&&S1(new g2)!=jA||xb&&S1(new xb)!=$A)&&(S1=function(n){var e=Gc(n),t="[object Object]"==e?n.constructor:void 0,i=t?M1(t):"";if(i)switch(i){case jQ:return UA;case $Q:return FA;case UQ:return BA;case GQ:return jA;case qQ:return $A}return e});const p2=S1;var GA="[object Arguments]",qA="[object Array]",j5="[object Object]",WA=Object.prototype.hasOwnProperty;const ZQ=function XQ(n,e,t,i,s,r){var o=Gi(n),a=Gi(e),c=o?qA:p2(n),l=a?qA:p2(e),h=(c=c==GA?j5:c)==j5,f=(l=l==GA?j5:l)==j5,g=c==l;if(g&&u2(n)){if(!u2(e))return!1;o=!0,h=!1}if(g&&!h)return r||(r=new l2),o||k5(n)?LA(n,e,t,i,s,r):function mQ(n,e,t,i,s,r,o){switch(t){case"[object DataView]":if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=e.byteLength||!r(new N5(n),new N5(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return t2(+n,+e);case"[object Error]":return n.name==e.name&&n.message==e.message;case"[object RegExp]":case"[object String]":return n==e+"";case"[object Map]":var a=tQ;case"[object Set]":if(a||(a=yb),n.size!=e.size&&!(1&i))return!1;var l=o.get(n);if(l)return l==e;i|=2,o.set(n,e);var h=LA(a(n),a(e),i,s,r,o);return o.delete(n),h;case"[object Symbol]":if(bb)return bb.call(n)==bb.call(e)}return!1}(n,e,c,t,i,s,r);if(!(1&t)){var p=h&&WA.call(n,"__wrapped__"),v=f&&WA.call(e,"__wrapped__");if(p||v){var y=p?n.value():n,b=v?e.value():e;return r||(r=new l2),s(y,b,t,i,r)}}return!!g&&(r||(r=new l2),function RQ(n,e,t,i,s,r){var o=1&t,a=_b(n),c=a.length;if(c!=_b(e).length&&!o)return!1;for(var f=c;f--;){var g=a[f];if(!(o?g in e:LQ.call(e,g)))return!1}var p=r.get(n),v=r.get(e);if(p&&v)return p==e&&v==n;var y=!0;r.set(n,e),r.set(e,n);for(var b=o;++f<c;){var C=n[g=a[f]],_=e[g];if(i)var M=o?i(_,C,g,e,n,r):i(C,_,g,n,e,r);if(!(void 0===M?C===_||s(C,_,t,i,r):M)){y=!1;break}b||(b="constructor"==g)}if(y&&!b){var S=n.constructor,D=e.constructor;S!=D&&"constructor"in n&&"constructor"in e&&!("function"==typeof S&&S instanceof S&&"function"==typeof D&&D instanceof D)&&(y=!1)}return r.delete(n),r.delete(e),y}(n,e,t,i,s,r))},Eb=function YA(n,e,t,i,s){return n===e||(null==n||null==e||!no(n)&&!no(e)?n!=n&&e!=e:ZQ(n,e,t,i,YA,s))},No=function KQ(n,e){return Eb(n,e)};var tee=Object.prototype.hasOwnProperty;const XA=function nee(n){if(null==n)return!0;if(E1(n)&&(Gi(n)||"string"==typeof n||"function"==typeof n.splice||u2(n)||k5(n)||o2(n)))return!n.length;var e=p2(n);if("[object Map]"==e||"[object Set]"==e)return!n.size;if(V5(n))return!kA(n).length;for(var t in n)if(tee.call(n,t))return!1;return!0};var dee=Object.getOwnPropertySymbols?function(n){for(var e=[];n;)lb(e,wb(n)),n=db(n);return e}:VA;const ZA=dee,mee=function pee(n){return NA(n,d2,ZA)};var yee=Object.prototype.hasOwnProperty;var Mee=/\w*$/;var KA=Tr?Tr.prototype:void 0,JA=KA?KA.valueOf:void 0;const Yee=function Wee(n,e,t){var i=n.constructor;switch(e){case"[object ArrayBuffer]":return hb(n);case"[object Boolean]":case"[object Date]":return new i(+n);case"[object DataView]":return function _ee(n,e){var t=e?hb(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}(n,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return wA(n,t);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(n);case"[object RegExp]":return function xee(n){var e=new n.constructor(n.source,Mee.exec(n));return e.lastIndex=n.lastIndex,e}(n);case"[object Symbol]":return function See(n){return JA?Object(JA.call(n)):{}}(n)}};var QA=h2&&h2.isMap;const Qee=QA?W0(QA):function Zee(n){return no(n)&&"[object Map]"==p2(n)};var eT=h2&&h2.isSet;const ste=eT?W0(eT):function tte(n){return no(n)&&"[object Set]"==p2(n)};var tT="[object Arguments]",nT="[object Function]",iT="[object Object]",Jt={};Jt[tT]=Jt["[object Array]"]=Jt["[object ArrayBuffer]"]=Jt["[object DataView]"]=Jt["[object Boolean]"]=Jt["[object Date]"]=Jt["[object Float32Array]"]=Jt["[object Float64Array]"]=Jt["[object Int8Array]"]=Jt["[object Int16Array]"]=Jt["[object Int32Array]"]=Jt["[object Map]"]=Jt["[object Number]"]=Jt[iT]=Jt["[object RegExp]"]=Jt["[object Set]"]=Jt["[object String]"]=Jt["[object Symbol]"]=Jt["[object Uint8Array]"]=Jt["[object Uint8ClampedArray]"]=Jt["[object Uint16Array]"]=Jt["[object Uint32Array]"]=!0,Jt["[object Error]"]=Jt[nT]=Jt["[object WeakMap]"]=!1;const sT=function $5(n,e,t,i,s,r){var o,a=1&e,c=2&e,l=4&e;if(t&&(o=s?t(n,i,s,r):t(n)),void 0!==o)return o;if(!xn(n))return n;var h=Gi(n);if(h){if(o=function bee(n){var e=n.length,t=new n.constructor(e);return e&&"string"==typeof n[0]&&yee.call(n,"index")&&(t.index=n.index,t.input=n.input),t}(n),!a)return _A(n,o)}else{var f=p2(n),g=f==nT||"[object GeneratorFunction]"==f;if(u2(n))return bA(n,a);if(f==iT||f==tT||g&&!s){if(o=c||g?{}:xA(n),!a)return c?function fee(n,e){return X0(n,ZA(n),e)}(n,function aee(n,e){return n&&X0(e,d2(e),n)}(o,n)):function lee(n,e){return X0(n,wb(n),e)}(n,function ree(n,e){return n&&X0(e,Z0(e),n)}(o,n))}else{if(!Jt[f])return s?n:{};o=Yee(n,f,a)}}r||(r=new l2);var p=r.get(n);if(p)return p;r.set(n,o),ste(n)?n.forEach(function(b){o.add($5(b,e,t,b,n,r))}):Qee(n)&&n.forEach(function(b,C){o.set(C,$5(b,e,t,C,n,r))});var y=h?void 0:(l?c?mee:_b:c?d2:Z0)(n);return function iee(n,e){for(var t=-1,i=null==n?0:n.length;++t<i&&!1!==e(n[t],t,n););}(y||n,function(b,C){y&&(b=n[C=b]),cb(o,C,$5(b,e,t,C,n,r))}),o},Sb=function Pte(n){return sT(n,4)},an=function Rte(n){return sT(n,5)};var rT=Object.prototype,Nte=rT.hasOwnProperty,Vte=f2(function(n,e){n=Object(n);var t=-1,i=e.length,s=i>2?e[2]:void 0;for(s&&F5(e[0],e[1],s)&&(i=1);++t<i;)for(var r=e[t],o=d2(r),a=-1,c=o.length;++a<c;){var l=o[a],h=n[l];(void 0===h||t2(h,rT[l])&&!Nte.call(n,l))&&(n[l]=r[l])}return n});const Hte=Vte,kte=function oT(n,e,t,i,s,r){return xn(n)&&xn(e)&&(r.set(e,n),pb(n,e,void 0,oT,r),r.delete(e)),n};var Fte=IA(function(n,e,t,i){pb(n,e,t,i)});const Bte=Fte;var jte=f2(function(n){return n.push(void 0,kte),lA(Bte,void 0,n)});const aT=jte,Ute=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])},Wte=/^\s*class\s+/.test(`${class qte{}}`)||/^\s*class\s*\{/.test(`${class{}}`);function zb(n,e){let t;return Wte?t=class extends e{}:(t=function(){return e.apply(this,arguments)},function Gte(n,e){function t(){this.constructor=n}Ute(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}(t,e)),Object.defineProperty(t,"name",{value:n}),t}function cT(n){return"__proto__"===n}function Db(n,e,t="/"){let i;const s=Array.isArray(e)?e:e.split(t);if(s.length)for(i=n;s.length;){const r=s.shift();if(Object(i)!==i||!r||!(r in i))return;i=i[r]}return i}function m2(n,e,t,i="/"){const s=Array.isArray(e)?e:e.split(i),r=s.pop();if(r&&!cT(r)){let o=n;s.forEach(a=>{cT(a)||(null==o[a]&&(o[a]={}),o=o[a])}),o[r]=t}return n}function lT(n,e,t="/"){const i=Array.isArray(e)?e.slice():e.split(t),s=i.pop();if(s)if(i.length>0){const r=Db(n,i);r&&delete r[s]}else delete n[s];return n}class qn extends DY{}(function(n){n.dispose=Io.dispose})(qn||(qn={})),function $te(n,...e){e.forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(i=>{"constructor"!==i&&Object.defineProperty(n.prototype,i,Object.getOwnPropertyDescriptor(t.prototype,i))})})}(qn,Io);const Qte=function Jte(n){return n!=n},uT=function sne(n,e){return!(null==n||!n.length)&&function nne(n,e,t){return e==e?function ene(n,e,t){for(var i=t-1,s=n.length;++i<s;)if(n[i]===e)return i;return-1}(n,e,t):function Zte(n,e,t,i){for(var s=n.length,r=t+(i?1:-1);i?r--:++r<s;)if(e(n[r],r,n))return r;return-1}(n,Qte,t)}(n,e,0)>-1},hT=function rne(n,e,t){for(var i=-1,s=null==n?0:n.length;++i<s;)if(t(e,n[i]))return!0;return!1};var lne=g2&&1/yb(new g2([,-0]))[1]==1/0?function(n){return new g2(n)}:function one(){};const une=lne,dT=function dne(n,e,t){var i=-1,s=uT,r=n.length,o=!0,a=[],c=a;if(t)o=!1,s=hT;else if(r>=200){var l=e?null:une(n);if(l)return yb(l);o=!1,s=vb,c=new mb}else c=e?[]:a;e:for(;++i<r;){var h=n[i],f=e?e(h):h;if(h=t||0!==h?h:0,o&&f==f){for(var g=c.length;g--;)if(c[g]===f)continue e;e&&c.push(f),a.push(h)}else s(c,f,t)||(c!==a&&c.push(f),a.push(h))}return a},fT=function fne(n){return n&&n.length?dT(n):[]};var gne=f2(function(n){return dT(R5(n,1,H5,!0))});const gT=gne;var vne=Math.floor,yne=Math.min;const pT=function bne(n,e,t,i){var s=0,r=null==n?0:n.length;if(0===r)return 0;for(var o=(e=t(e))!=e,a=null===e,c=Lo(e),l=void 0===e;s<r;){var h=vne((s+r)/2),f=t(n[h]),g=void 0!==f,p=null===f,v=f==f,y=Lo(f);if(o)var b=i||v;else b=l?v&&(i||g):a?v&&g&&(i||!p):c?v&&g&&!p&&(i||!y):!p&&!y&&(i?f<=e:f<e);b?s=h+1:r=h}return yne(r,4294967294)},Ene=function xne(n,e){return function Cne(n,e,t){var i=0,s=null==n?i:n.length;if("number"==typeof e&&e==e&&s<=2147483647){for(;i<s;){var r=i+s>>>1,o=n[r];null!==o&&!Lo(o)&&(t?o<=e:o<e)?i=r+1:s=r}return s}return pT(n,e,a2,t)}(n,e)},mT=function Tne(n){return n==n&&!xn(n)},vT=function Ine(n,e){return function(t){return null!=t&&t[n]===e&&(void 0!==e||n in Object(t))}},Rne=function Lne(n){var e=function One(n){for(var e=Z0(n),t=e.length;t--;){var i=e[t],s=n[i];e[t]=[i,s,mT(s)]}return e}(n);return 1==e.length&&e[0][2]?vT(e[0][0],e[0][1]):function(t){return t===n||function Dne(n,e,t,i){var s=t.length,r=s,o=!i;if(null==n)return!r;for(n=Object(n);s--;){var a=t[s];if(o&&a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++s<r;){var c=(a=t[s])[0],l=n[c],h=a[1];if(o&&a[2]){if(void 0===l&&!(c in n))return!1}else{var f=new l2;if(i)var g=i(l,h,c,n,e,f);if(!(void 0===g?Eb(h,l,3,i,f):g))return!1}}return!0}(t,n,e)}},Bne=function Fne(n,e){return ib(n)&&mT(e)?vT(q0(n),e):function(t){var i=function Nne(n,e,t){var i=null==n?void 0:P5(n,e);return void 0===i?t:i}(t,n);return void 0===i&&i===e?oA(t,n):Eb(e,i,3)}},Wne=function qne(n){return ib(n)?function jne(n){return function(e){return e?.[n]}}(q0(n)):function Une(n){return function(e){return P5(e,n)}}(n)},Ab=function Yne(n){return"function"==typeof n?n:null==n?a2:"object"==typeof n?Gi(n)?Bne(n[0],n[1]):Rne(n):Wne(n)};var eie=function Qne(n,e){return function(t,i){if(null==t)return t;if(!E1(t))return n(t,i);for(var s=t.length,r=e?s:-1,o=Object(t);(e?r--:++r<s)&&!1!==i(o[r],r,o););return t}}(function Kne(n,e){return n&&gA(n,e,Z0)});const yT=eie,oie=function rie(n,e){if(n!==e){var t=void 0!==n,i=null===n,s=n==n,r=Lo(n),o=void 0!==e,a=null===e,c=e==e,l=Lo(e);if(!a&&!l&&!r&&n>e||r&&o&&c&&!a&&!l||i&&o&&c||!t&&c||!s)return 1;if(!i&&!r&&!l&&n<e||l&&t&&s&&!i&&!r||a&&t&&s||!o&&s||!c)return-1}return 0},uie=function lie(n,e,t){e=e.length?G0(e,function(r){return Gi(r)?function(o){return P5(o,1===r.length?r[0]:r)}:r}):[a2];var i=-1;e=G0(e,W0(Ab));var s=function tie(n,e){var t=-1,i=E1(n)?Array(n.length):[];return yT(n,function(s,r,o){i[++t]=e(s,r,o)}),i}(n,function(r,o,a){return{criteria:G0(e,function(l){return l(r)}),index:++i,value:r}});return function iie(n,e){var t=n.length;for(n.sort(e);t--;)n[t]=n[t].value;return n}(s,function(r,o){return function aie(n,e,t){for(var i=-1,s=n.criteria,r=e.criteria,o=s.length,a=t.length;++i<o;){var c=oie(s[i],r[i]);if(c)return i>=a?c:c*("desc"==t[i]?-1:1)}return n.index-e.index}(r,o,t)})};var hie=f2(function(n,e){if(null==n)return[];var t=e.length;return t>1&&F5(n,e[0],e[1])?e=[]:t>2&&F5(e[0],e[1],e[2])&&(e=[e[0]]),uie(n,R5(e,1),[])});const bT=hie,fie=function die(n,e,t,i){for(var s=-1,r=null==n?0:n.length;++s<r;){var o=n[s];e(i,o,t(o),n)}return i},pie=function gie(n,e,t,i){return yT(n,function(s,r,o){e(i,s,t(s),o)}),i};var bie=Object.prototype.hasOwnProperty,wie=function mie(n,e){return function(t,i){var s=Gi(t)?fie:pie,r=e?e():{};return s(t,n,Ab(i),r)}}(function(n,e,t){bie.call(n,t)?n[t].push(e):L5(n,t,[e])});const wT=wie;var xie=f2(function(n,e){return H5(n)?function Cie(n,e,t,i){var s=-1,r=uT,o=!0,a=n.length,c=[],l=e.length;if(!a)return c;t&&(e=G0(e,W0(t))),i?(r=hT,o=!1):e.length>=200&&(r=vb,o=!1,e=new mb(e));e:for(;++s<a;){var h=n[s],f=null==t?h:t(h);if(h=i||0!==h?h:0,o&&f==f){for(var g=l;g--;)if(e[g]===f)continue e;c.push(h)}else r(e,f,i)||c.push(h)}return c}(n,R5(e,1,H5,!0)):[]});const Eie=xie,Aie=function Die(n,e){return n>e},Oie=function Tie(n){return n&&n.length?function Sie(n,e,t){for(var i=-1,s=n.length;++i<s;){var r=n[i],o=e(r);if(null!=o&&(void 0===a?o==o&&!Lo(o):t(o,a)))var a=o,c=r}return c}(n,a2,Aie):void 0},Fie=function Nie(n){return function(e){return n?.[e]}}({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"});var Bie=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Wie=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var Zie=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var Qie=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var _T="\\ud800-\\udfff",CT="\\u2700-\\u27bf",MT="a-z\\xdf-\\xf6\\xf8-\\xff",xT="A-Z\\xc0-\\xd6\\xd8-\\xde",ET="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",zT="["+ET+"]",DT="\\d+",dse="["+CT+"]",AT="["+MT+"]",TT="[^"+_T+ET+DT+CT+MT+xT+"]",OT="(?:\\ud83c[\\udde6-\\uddff]){2}",PT="[\\ud800-\\udbff][\\udc00-\\udfff]",v2="["+xT+"]",IT="(?:"+AT+"|"+TT+")",vse="(?:"+v2+"|"+TT+")",LT="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",RT="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",NT="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",VT="[\\ufe0e\\ufe0f]?",_se=VT+NT+"(?:\\u200d(?:"+["[^"+_T+"]",OT,PT].join("|")+")"+VT+NT+")*",Cse="(?:"+[dse,OT,PT].join("|")+")"+_se,Mse=RegExp([v2+"?"+AT+"+"+LT+"(?="+[zT,v2,"$"].join("|")+")",vse+"+"+RT+"(?="+[zT,v2+IT,"$"].join("|")+")",v2+"?"+IT+"+"+LT,v2+"+"+RT,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",DT,Cse].join("|"),"g");const zse=function Sse(n,e,t){return n=r2(n),void 0===(e=t?void 0:e)?function ese(n){return Qie.test(n)}(n)?function xse(n){return n.match(Mse)||[]}(n):function Kie(n){return n.match(Zie)||[]}(n):n.match(e)||[]};var Ase=RegExp("['\u2019]","g");const U5=function Tse(n){return function(e){return function Lie(n,e,t,i){var s=-1,r=null==n?0:n.length;for(i&&r&&(t=n[++s]);++s<r;)t=e(t,n[s],s,n);return t}(zse(function Yie(n){return(n=r2(n))&&n.replace(Bie,Fie).replace(Wie,"")}(e).replace(Ase,"")),n,"")}},Lse=function Ise(n,e,t){var i=n.length;return t=void 0===t?i:t,!e&&t>=i?n:function Ose(n,e,t){var i=-1,s=n.length;e<0&&(e=-e>s?0:s+e),(t=t>s?s:t)<0&&(t+=s),s=e>t?0:t-e>>>0,e>>>=0;for(var r=Array(s);++i<s;)r[i]=n[i+e];return r}(n,e,t)};var jse=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const HT=function $se(n){return jse.test(n)};var kT="\\ud800-\\udfff",Kse="["+kT+"]",Tb="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ob="\\ud83c[\\udffb-\\udfff]",FT="[^"+kT+"]",BT="(?:\\ud83c[\\udde6-\\uddff]){2}",jT="[\\ud800-\\udbff][\\udc00-\\udfff]",$T="(?:"+Tb+"|"+Ob+")?",UT="[\\ufe0e\\ufe0f]?",tre=UT+$T+"(?:\\u200d(?:"+[FT,BT,jT].join("|")+")"+UT+$T+")*",nre="(?:"+[FT+Tb+"?",Tb,BT,jT,Kse].join("|")+")",ire=RegExp(Ob+"(?="+Ob+")|"+nre+tre,"g");const are=function ore(n){return HT(n)?function sre(n){return n.match(ire)||[]}(n):function Use(n){return n.split("")}(n)},GT=function cre(n){return function(e){e=r2(e);var t=HT(e)?are(e):void 0,i=t?t[0]:e.charAt(0),s=t?Lse(t,1).join(""):e.slice(1);return i[n]()+s}},K0=GT("toUpperCase");var ure=U5(function(n,e,t){return n+(t?" ":"")+K0(e)});const qT=ure;var fre=U5(function(n,e,t){return e=e.toLowerCase(),n+(t?function hre(n){return K0(r2(n).toLowerCase())}(e):e)});const J0=fre;var gre=U5(function(n,e,t){return n+(t?" ":"")+e.toUpperCase()});const pre=gre;var mre=U5(function(n,e,t){return n+(t?" ":"")+e.toLowerCase()});const Pb=mre,yre=GT("toLowerCase"),z1=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},WT=z1(n=>n.replace(/\B([A-Z])/g,"-$1").toLowerCase()),Ib=z1(n=>qT(J0(n)).replace(/ /g,""));function Lb(n){let e=2166136261,t=!1,i=n;for(let s=0,r=i.length;s<r;s+=1){let o=i.charCodeAt(s);o>127&&!t&&(i=unescape(encodeURIComponent(i)),o=i.charCodeAt(s),t=!0),e^=o,e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24)}return e>>>0}function G5(){let n="";for(let t=0,i=36;t<i;t+=1){const s="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"[t],r=16*Math.random()|0;n+=("x"===s?r:"y"===s?3&r|8:s).toString(16)}return n}function wre(n,e,t){let i=new Array(e.length+1),s=new Array(e.length+1);const r=t+1;for(let a=0;a<=e.length;a+=1)i[a]=a;for(let a=1;a<=n.length;a+=1){const c=n.charCodeAt(a-1),l=a>t?a-t:1,h=e.length>t+a?t+a:e.length;s[0]=a;let f=a;for(let p=1;p<l;p+=1)s[p]=r;for(let p=l;p<=h;p+=1){const v=c===e.charCodeAt(p-1)?i[p-1]:Math.min(i[p]+1,s[p-1]+1,i[p-1]+2);s[p]=v,f=Math.min(f,v)}for(let p=h+1;p<=e.length;p+=1)s[p]=r;if(f>t)return;const g=i;i=s,s=g}const o=i[e.length];return o>t?void 0:o}z1(n=>pre(n).replace(/ /g,"_")),z1(n=>Pb(n).replace(/ /g,".")),z1(n=>Pb(n).replace(/ /g,"/")),z1(n=>K0(Pb(n))),z1(n=>qT(J0(n)));const YT=function Cre(n){return"number"==typeof n||no(n)&&"[object Number]"==Gc(n)},Is=function Ere(n,e,t){return void 0===t&&(t=e,e=void 0),void 0!==t&&(t=(t=j0(t))==t?t:0),void 0!==e&&(e=(e=j0(e))==e?e:0),function Mre(n,e,t){return n==n&&(void 0!==t&&(n=n<=t?n:t),void 0!==e&&(n=n>=e?n:e)),n}(j0(n),e,t)};function Ta(n){return"string"==typeof n&&"%"===n.slice(-1)}function io(n,e){if(null==n)return 0;let t;if("string"==typeof n){if(t=parseFloat(n),Ta(n)&&(t/=100,Number.isFinite(t)))return t*e}else t=n;return Number.isFinite(t)?t>0&&t<1?t*e:t:0}function D1(n){if("object"==typeof n){let t=0,i=0,s=0,r=0;return null!=n.vertical&&Number.isFinite(n.vertical)&&(i=r=n.vertical),null!=n.horizontal&&Number.isFinite(n.horizontal)&&(s=t=n.horizontal),null!=n.left&&Number.isFinite(n.left)&&(t=n.left),null!=n.top&&Number.isFinite(n.top)&&(i=n.top),null!=n.right&&Number.isFinite(n.right)&&(s=n.right),null!=n.bottom&&Number.isFinite(n.bottom)&&(r=n.bottom),{top:i,right:s,bottom:r,left:t}}let e=0;return null!=n&&Number.isFinite(n)&&(e=n),{top:e,right:e,bottom:e,left:e}}let Rb=!1,XT=!1,ZT=!1,KT=!1,JT=!1,QT=!1,eO=!1,tO=!1,nO=!1,iO=!1,sO=!1,rO=!1,oO=!1,aO=!1,cO=!1,lO=!1;if("object"==typeof navigator){const n=navigator.userAgent;Rb=n.indexOf("Macintosh")>=0,XT=!!n.match(/(iPad|iPhone|iPod)/g),ZT=n.indexOf("Windows")>=0,KT=n.indexOf("MSIE")>=0,JT=!!n.match(/Trident\/7\./),QT=!!n.match(/Edge\//),eO=n.indexOf("Mozilla/")>=0&&n.indexOf("MSIE")<0&&n.indexOf("Edge/")<0,nO=n.indexOf("Chrome/")>=0&&n.indexOf("Edge/")<0,iO=n.indexOf("Opera/")>=0||n.indexOf("OPR/")>=0,sO=n.indexOf("Firefox/")>=0,rO=n.indexOf("AppleWebKit/")>=0&&n.indexOf("Chrome/")<0&&n.indexOf("Edge/")<0,"object"==typeof document&&(lO=!document.createElementNS||"[object SVGForeignObjectElement]"!=`${document.createElementNS("http://www.w3.org/2000/svg","foreignObject")}`||n.indexOf("Opera/")>=0)}if("object"==typeof window&&(tO=null!=window.chrome&&null!=window.chrome.app&&null!=window.chrome.app.runtime,aO=null!=window.PointerEvent&&!Rb),"object"==typeof document){oO="ontouchstart"in document.documentElement;try{const n=Object.defineProperty({},"passive",{get(){cO=!0}}),e=document.createElement("div");e.addEventListener&&e.addEventListener("click",()=>{},n)}catch{}}var qc;(function(n){n.IS_MAC=Rb,n.IS_IOS=XT,n.IS_WINDOWS=ZT,n.IS_IE=KT,n.IS_IE11=JT,n.IS_EDGE=QT,n.IS_NETSCAPE=eO,n.IS_CHROME_APP=tO,n.IS_CHROME=nO,n.IS_OPERA=iO,n.IS_FIREFOX=sO,n.IS_SAFARI=rO,n.SUPPORT_TOUCH=oO,n.SUPPORT_POINTER=aO,n.SUPPORT_PASSIVE=cO,n.NO_FOREIGNOBJECT=lO,n.SUPPORT_FOREIGNOBJECT=!n.NO_FOREIGNOBJECT})(qc||(qc={})),function(n){function e(){const r=window.module;return null!=r&&null!=r.hot&&null!=r.hot.status?r.hot.status():"unkonwn"}n.getHMRStatus=e,n.isApplyingHMR=function t(){return"apply"===e()};const i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};n.isEventSupported=function s(r){const o=document.createElement(i[r]||"div"),a=`on${r}`;let c=a in o;return c||(o.setAttribute(a,"return;"),c="function"==typeof o[a]),c}}(qc||(qc={}));const Nb=/[\t\r\n\f]/g,Vb=/\S+/g,y2=n=>` ${n} `;function b2(n){return n&&n.getAttribute&&n.getAttribute("class")||""}function w2(n,e){if(null==n||null==e)return!1;const t=y2(b2(n)),i=y2(e);return 1===n.nodeType&&t.replace(Nb," ").includes(i)}function Ie(n,e){if(null!=n&&null!=e){if("function"==typeof e)return Ie(n,e(b2(n)));if("string"==typeof e&&1===n.nodeType){const t=e.match(Vb)||[],i=y2(b2(n)).replace(Nb," ");let s=t.reduce((r,o)=>r.indexOf(y2(o))<0?`${r}${o} `:r,i);s=s.trim(),i!==s&&n.setAttribute("class",s)}}}function Wn(n,e){if(null!=n){if("function"==typeof e)return Wn(n,e(b2(n)));if((!e||"string"==typeof e)&&1===n.nodeType){const t=(e||"").match(Vb)||[],i=y2(b2(n)).replace(Nb," ");let s=t.reduce((r,o)=>{const a=y2(o);return r.indexOf(a)>-1?r.replace(a," "):r},i);s=e?s.trim():"",i!==s&&n.setAttribute("class",s)}}}function Q0(n,e,t){if(null!=n&&null!=e){if(null!=t&&"string"==typeof e)return void(t?Ie(n,e):Wn(n,e));if("function"==typeof e)return Q0(n,e(b2(n),t),t);"string"==typeof e&&(e.match(Vb)||[]).forEach(s=>{w2(n,s)?Wn(n,s):Ie(n,s)})}}let uO=0;function Hb(n){return(null==n.id||""===n.id)&&(n.id=function Sre(){return uO+=1,`v${uO}`}()),n.id}function Wc(n){return null!=n&&"function"==typeof n.getScreenCTM&&n instanceof SVGElement}const gi={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"};function dO(n,e=document){return e.createElement(n)}function kb(n,e=gi.xhtml,t=document){return t.createElementNS(e,n)}function Oa(n,e=document){return kb(n,gi.svg,e)}function q5(n){if(n){const t=`<svg xmlns="${gi.svg}" xmlns:xlink="${gi.xlink}" version="1.1">${n}</svg>`,{documentElement:i}=function zre(n,e={}){let t;try{const i=new DOMParser;null!=e.async&&(i.async=e.async),t=i.parseFromString(n,e.mimeType||"text/xml")}catch{t=void 0}if(!t||t.getElementsByTagName("parsererror").length)throw new Error(`Invalid XML: ${n}`);return t}(t,{async:!1});return i}const e=document.createElementNS(gi.svg,"svg");return e.setAttributeNS(gi.xmlns,"xmlns:xlink",gi.xlink),e.setAttribute("version","1.1"),e}function Fb(n){let e=0,t=n.previousSibling;for(;t;)1===t.nodeType&&(e+=1),t=t.previousSibling;return e}function fO(n,e,t){const i=n.ownerSVGElement;let s=n.parentNode;for(;s&&s!==t&&s!==i;){if(w2(s,e))return s;s=s.parentNode}return null}function gO(n,e){const t=e&&e.parentNode;return n===t||!!(t&&1===t.nodeType&&16&n.compareDocumentPosition(t))}function Vo(n){n&&(Array.isArray(n)?n:[n]).forEach(t=>{t.parentNode&&t.parentNode.removeChild(t)})}function e8(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Yc(n,e){(Array.isArray(e)?e:[e]).forEach(i=>{null!=i&&n.appendChild(i)})}function pO(n,e){const t=n.firstChild;return t?Bb(t,e):Yc(n,e)}function Bb(n,e){const t=n.parentNode;t&&(Array.isArray(e)?e:[e]).forEach(s=>{null!=s&&t.insertBefore(s,n)})}function t8(n,e){e?.appendChild(n)}function mO(n){try{return n instanceof HTMLElement}catch{return"object"==typeof n&&1===n.nodeType&&"object"==typeof n.style&&"object"==typeof n.ownerDocument}}const vO=["viewBox","attributeName","attributeType","repeatCount","textLength","lengthAdjust","gradientUnits"];function jb(n,e){const t=bO(e);t.ns?n.hasAttributeNS(t.ns,t.local)&&n.removeAttributeNS(t.ns,t.local):n.hasAttribute(e)&&n.removeAttribute(e)}function $b(n,e,t){if(null==t)return jb(n,e);const i=bO(e);i.ns&&"string"==typeof t?n.setAttributeNS(i.ns,e,t):"id"===e?n.id=`${t}`:n.setAttribute(e,`${t}`)}function yO(n,e){Object.keys(e).forEach(t=>{$b(n,t,e[t])})}function pt(n,e,t){if(null==e){const i=n.attributes,s={};for(let r=0;r<i.length;r+=1)s[i[r].name]=i[r].value;return s}if("string"==typeof e&&void 0===t)return n.getAttribute(e);"object"==typeof e?yO(n,e):$b(n,e,t)}function bO(n){if(-1!==n.indexOf(":")){const e=n.split(":");return{ns:gi[e[0]],local:e[1]}}return{ns:null,local:n}}function n8(n){const e={};return Object.keys(n).forEach(t=>{const i=vO.includes(t)?t:WT(t);e[i]=n[t]}),e}function W5(n){const e={};return n.split(";").forEach(i=>{const s=i.trim();if(s){const r=s.split("=");r.length&&(e[r[0].trim()]=r[1]?r[1].trim():"")}}),e}function Ub(n,e){return Object.keys(e).forEach(t=>{if("class"===t)n[t]=n[t]?`${n[t]} ${e[t]}`:e[t];else if("style"===t){const i="object"==typeof n[t],s="object"==typeof e[t];let r,o;i&&s?(r=n[t],o=e[t]):i?(r=n[t],o=W5(e[t])):s?(r=W5(n[t]),o=e[t]):(r=W5(n[t]),o=W5(e[t])),n[t]=Ub(r,o)}else n[t]=e[t]}),n}function Lre(n,e,t={}){const i=t.offset||0,s=[],r=[];let o,a,c=null;for(let l=0;l<n.length;l+=1){o=r[l]=n[l];for(let h=0,f=e.length;h<f;h+=1){const g=e[h];l>=g.start+i&&l<g.end+i&&("string"==typeof o?o=r[l]={t:n[l],attrs:g.attrs}:o.attrs=Ub(Ub({},o.attrs),g.attrs),t.includeAnnotationIndices&&(null==o.annotations&&(o.annotations=[]),o.annotations.push(h)))}a=r[l-1],a?xn(o)&&xn(a)?JSON.stringify(o.attrs)===JSON.stringify(a.attrs)?c.t+=o.t:(s.push(c),c=o):xn(o)||xn(a)?(s.push(c),c=o):c=(c||"")+o:c=o}return null!=c&&s.push(c),s}var wO;let A1;!function(n){function e(l){return"data:"===l.substr(0,5)}function i(l){let h=l.replace(/\s/g,"");h=decodeURIComponent(h);const f=h.indexOf(","),g=h.slice(0,f),p=g.split(":")[1].split(";")[0],v=h.slice(f+1);let y;y=g.indexOf("base64")>=0?atob(v):unescape(encodeURIComponent(v));const b=new Uint8Array(y.length);for(let C=0;C<y.length;C+=1)b[C]=y.charCodeAt(C);return new Blob([b],{type:p})}function s(l,h){const f=window.navigator.msSaveBlob;if(f)f(l,h);else{const g=window.URL.createObjectURL(l),p=document.createElement("a");p.href=g,p.download=h,document.body.appendChild(p),p.click(),document.body.removeChild(p),window.URL.revokeObjectURL(g)}}function a(l){const h=parseFloat(l);return Number.isNaN(h)?null:h}n.isDataUrl=e,n.imageToDataUri=function t(l,h){if(!l||e(l))return void setTimeout(()=>h(null,l));const f=()=>{h(new Error(`Failed to load image: ${l}`))},g=window.FileReader?v=>{if(200===v.status){const y=new FileReader;y.onload=b=>{h(null,b.target.result)},y.onerror=f,y.readAsDataURL(v.response)}else f()}:v=>{if(200===v.status){let b=l.split(".").pop()||"png";"svg"===b&&(b="svg+xml");const C=`data:image/${b};base64,`,_=new Uint8Array(v.response),M=C+btoa((b=>{const _=[];for(let M=0;M<b.length;M+=32768)_.push(String.fromCharCode.apply(null,b.subarray(M,M+32768)));return _.join("")})(_));h(null,M)}else f()},p=new XMLHttpRequest;p.responseType=window.FileReader?"blob":"arraybuffer",p.open("GET",l,!0),p.addEventListener("error",f),p.addEventListener("load",()=>g(p)),p.send()},n.dataUriToBlob=i,n.downloadBlob=s,n.downloadDataUri=function r(l,h){s(i(l),h)},n.svgToDataUrl=function c(l,h={}){let f=null;const g=M=>(null==f&&(f=function o(l){const h=l.match(/<svg[^>]*viewBox\s*=\s*(["']?)(.+?)\1[^>]*>/i);return h&&h[2]?h[2].replace(/\s+/," ").split(" "):null}(l)),null!=f?a(f[M]):null),p=M=>{const S=l.match(M);return S&&S[2]?a(S[2]):null};let v=h.width;if(null==v&&(v=p(/<svg[^>]*width\s*=\s*(["']?)(.+?)\1[^>]*>/i)),null==v&&(v=g(2)),null==v)throw new Error("Can not parse width from svg string");let y=h.height;if(null==y&&(y=p(/<svg[^>]*height\s*=\s*(["']?)(.+?)\1[^>]*>/i)),null==y&&(y=g(3)),null==y)throw new Error("Can not parse height from svg string");return`data:image/svg+xml,${encodeURIComponent(l).replace(/'/g,"%27").replace(/"/g,"%22")}`}}(wO||(wO={}));const Nre={px:n=>n,mm:n=>A1*n,cm:n=>A1*n*10,in:n=>A1*n*25.4,pt:n=>A1*(25.4*n/72),pc:n=>A1*(25.4*n/6)};var _O;!function(n){function e(i,s,r){const o=document.createElement("div"),a=o.style;a.display="inline-block",a.position="absolute",a.left="-15000px",a.top="-15000px",a.width=i+(r||"px"),a.height=s+(r||"px"),document.body.appendChild(o);const c=o.getBoundingClientRect(),l={width:c.width||0,height:c.height||0};return document.body.removeChild(o),l}n.measure=e,n.toPx=function t(i,s){null==A1&&(A1=e("1","1","mm").width);const r=s?Nre[s]:null;return r?r(i):i}}(_O||(_O={}));const Vre=/-(.)/g,Gb={},CO=["webkit","ms","moz","o"],MO=document?document.createElement("div").style:{};function qb(n,e){const t=n.ownerDocument&&n.ownerDocument.defaultView&&n.ownerDocument.defaultView.opener?n.ownerDocument.defaultView.getComputedStyle(n,null):window.getComputedStyle(n,null);return t&&e?t.getPropertyValue(e)||t[e]:t}document.selection||window;const Fre={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function ii(n,e,t){if("string"!=typeof e)for(const i in e)ii(n,i,e[i]);else{const i=function Bre(n){return/^--/.test(n)}(e);if(i||(e=function xO(n){const e=function Hre(n){return n.replace(Vre,(e,t)=>t.toUpperCase())}(n);if(null==Gb[e]){const t=e.charAt(0).toUpperCase()+e.slice(1);Gb[e]=e in MO?e:function kre(n){for(let e=0;e<CO.length;e+=1){const t=CO[e]+n;if(t in MO)return t}return null}(t)}return Gb[e]}(e)),void 0===t)return function Y5(n,e,t){const i=window.getComputedStyle(n,null);return t?i.getPropertyValue(e)||void 0:i[e]||n.style[e]}(n,e,i);i||(t=function jre(n,e){return Fre[n]||"number"!=typeof e?e:`${e}px`}(e,t));const s=n.style;i?s.setProperty(e,t):s[e]=t}}const Z5=new WeakMap;function EO(n,e){const t=J0(e),i=Z5.get(n);if(i)return i[t]}function T1(n,e,t){if(!e){const i={};return Object.keys(Z5).forEach(s=>{i[s]=EO(n,s)}),i}if("string"==typeof e)return void 0===t?EO(n,e):void function $re(n,e,t){const i=J0(e),s=Z5.get(n);s?s[i]=t:Z5.set(n,{[i]:t})}(n,e,t);for(const i in e)T1(n,i,e[i])}class Le{get[Symbol.toStringTag](){return Le.toStringTag}get type(){return this.node.nodeName}get id(){return this.node.id}set id(e){this.node.id=e}constructor(e,t,i){if(!e)throw new TypeError("Invalid element to create vector");let s;if(Le.isVector(e))s=e.node;else if("string"==typeof e)if("svg"===e.toLowerCase())s=q5();else if("<"===e[0]){const r=q5(e);s=document.importNode(r.firstChild,!0)}else s=document.createElementNS(gi.svg,e);else s=e;this.node=s,t&&this.setAttributes(t),i&&this.append(i)}transform(e,t){return null==e?C2(this.node):(C2(this.node,e,t),this)}translate(e,t=0,i={}){return null==e?RO(this.node):(RO(this.node,e,t,i),this)}rotate(e,t,i,s={}){return null==e?Xb(this.node):(Xb(this.node,e,t,i,s),this)}scale(e,t){return null==e?Zb(this.node):(Zb(this.node,e,t),this)}getTransformToElement(e){const t=Le.toNode(e);return o8(this.node,t)}removeAttribute(e){return jb(this.node,e),this}getAttribute(e){return function Ire(n,e){return n.getAttribute(e)}(this.node,e)}setAttribute(e,t){return $b(this.node,e,t),this}setAttributes(e){return yO(this.node,e),this}attr(e,t){return null==e?pt(this.node):"string"==typeof e&&void 0===t?pt(this.node,e):("object"==typeof e?pt(this.node,e):pt(this.node,e,t),this)}svg(){return this.node instanceof SVGSVGElement?this:Le.create(this.node.ownerSVGElement)}defs(){const e=this.svg()||this,t=e.node.getElementsByTagName("defs")[0];return t?Le.create(t):Le.create("defs").appendTo(e)}text(e,t={}){return DO(this.node,e,t),this}tagName(){return function Dre(n,e=!0){const t=n.nodeName;return e?t.toLowerCase():t.toUpperCase()}(this.node)}clone(){return Le.create(this.node.cloneNode(!0))}remove(){return Vo(this.node),this}empty(){return e8(this.node),this}append(e){return Yc(this.node,Le.toNodes(e)),this}appendTo(e){return t8(this.node,Le.isVector(e)?e.node:e),this}prepend(e){return pO(this.node,Le.toNodes(e)),this}before(e){return Bb(this.node,Le.toNodes(e)),this}replace(e){return this.node.parentNode&&this.node.parentNode.replaceChild(Le.toNode(e),this.node),Le.create(e)}first(){return this.node.firstChild?Le.create(this.node.firstChild):null}last(){return this.node.lastChild?Le.create(this.node.lastChild):null}get(e){const t=this.node.childNodes[e];return t?Le.create(t):null}indexOf(e){return Array.prototype.slice.call(this.node.childNodes).indexOf(Le.toNode(e))}find(e){const t=[],i=function Are(n,e){return n.querySelectorAll(e)}(this.node,e);if(i)for(let s=0,r=i.length;s<r;s+=1)t.push(Le.create(i[s]));return t}findOne(e){const t=function Tre(n,e){return n.querySelector(e)}(this.node,e);return t?Le.create(t):null}findParentByClass(e,t){const i=fO(this.node,e,t);return i?Le.create(i):null}matches(e){const t=this.node,s=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null;return s&&s.call(t,e)}contains(e){return gO(this.node,Le.isVector(e)?e.node:e)}wrap(e){const t=Le.create(e),i=this.node.parentNode;return i?.insertBefore(t.node,this.node),t.append(this)}parent(e){let t=this;if(null==t.node.parentNode)return null;if(t=Le.create(t.node.parentNode),null==e)return t;do{if("string"==typeof e?t.matches(e):t instanceof e)return t}while(t=Le.create(t.node.parentNode));return t}children(){const e=this.node.childNodes,t=[];for(let i=0;i<e.length;i+=1)1===e[i].nodeType&&t.push(Le.create(e[i]));return t}eachChild(e,t){const i=this.children();for(let s=0,r=i.length;s<r;s+=1)e.call(i[s],i[s],s,i),t&&i[s].eachChild(e,t);return this}index(){return Fb(this.node)}hasClass(e){return w2(this.node,e)}addClass(e){return Ie(this.node,e),this}removeClass(e){return Wn(this.node,e),this}toggleClass(e,t){return Q0(this.node,e,t),this}toLocalPoint(e,t){return function hoe(n,e,t){const i=n instanceof SVGSVGElement?n:n.ownerSVGElement,s=i.createSVGPoint();s.x=e,s.y=t;try{const r=i.getScreenCTM(),o=s.matrixTransform(r.inverse()),a=o8(n,i).inverse();return o.matrixTransform(a)}catch{return s}}(this.node,e,t)}sample(e=1){return this.node instanceof SVGPathElement?function Xre(n,e=1){const t=n.getTotalLength(),i=[];let r,s=0;for(;s<t;)r=n.getPointAtLength(s),i.push({distance:s,x:r.x,y:r.y}),s+=e;return i}(this.node,e):[]}toPath(){return Le.create(function noe(n){const e=Oa("path");pt(e,pt(n));const t=IO(n);return t&&e.setAttribute("d",t),e}(this.node))}toPathData(){return IO(this.node)}}!function(n){function e(o){if(null==o)return!1;if(o instanceof n)return!0;const a=o[Symbol.toStringTag];return(null==a||a===n.toStringTag)&&o.node instanceof SVGElement&&"function"==typeof o.sample&&"function"==typeof o.toPath}function t(o,a,c){return new n(o,a,c)}function s(o){return e(o)?o.node:o}n.toStringTag=`X6.${n.name}`,n.isVector=e,n.create=t,n.createVectors=function i(o){if("<"===o[0]){const a=q5(o),c=[];for(let l=0,h=a.childNodes.length;l<h;l+=1)c.push(t(document.importNode(a.childNodes[l],!0)));return c}return[t(o)]},n.toNode=s,n.toNodes=function r(o){return Array.isArray(o)?o.map(a=>s(a)):[s(o)]}}(Le||(Le={}));const SO=document.createElement("canvas").getContext("2d");function Wre(n,e,t){const i=t.eol,s=t.baseSize,r=t.lineHeight;let a,o=0;const c={},l=e.length-1;for(let h=0;h<=l;h+=1){let f=e[h],g=null;if("object"==typeof f){const p=f.attrs,v=Le.create("tspan",p);a=v.node;let y=f.t;i&&h===l&&(y+=i),a.textContent=y;const b=p.class;b&&v.addClass(b),t.includeAnnotationIndices&&v.attr("annotations",f.annotations.join(",")),g=parseFloat(p["font-size"]),void 0===g&&(g=s),g&&g>o&&(o=g)}else i&&h===l&&(f+=i),a=document.createTextNode(f||" "),s&&s>o&&(o=s);n.appendChild(a)}return o&&(c.maxFontSize=o),r?c.lineHeight=r:o&&(c.lineHeight=1.2*o),c}const zO=/em$/;function K5(n,e){const t=parseFloat(n);return zO.test(n)?t*e:t}function DO(n,e,t={}){e=function Rre(n){return n.replace(/ /g,"\xa0")}(e);const i=t.eol;let s=t.textPath;const r=t.textVerticalAnchor,o="middle"===r||"bottom"===r||"top"===r;let a=t.x;void 0===a&&(a=n.getAttribute("x")||0);const c=t.includeAnnotationIndices;let l=t.annotations;l&&!Array.isArray(l)&&(l=[l]);const h=t.lineHeight,f="auto"===h,g=f?"1.5em":h||"1em";let p=!0;const v=n.childNodes;if(1===v.length){const j=v[0];j&&"TITLE"===j.tagName.toUpperCase()&&(p=!1)}p&&e8(n),pt(n,{"xml:space":"preserve",display:e||t.displayEmpty?null:"none"});const y=pt(n,"font-size");let C,b=parseFloat(y);b||(b=16,(o||l)&&!y&&pt(n,"font-size",`${b}`)),s?("string"==typeof s&&(s={d:s}),C=function qre(n,e){const t=Le.create(e),i=Le.create("textPath"),s=n.d;if(s&&void 0===n["xlink:href"]){const r=Le.create("path").attr("d",s).appendTo(t.defs());i.attr("xlink:href",`#${r.id}`)}return"object"==typeof n&&i.attr(n),i.node}(s,n)):C=document.createDocumentFragment();let _,S,M=0;const D=e.split("\n"),I=[],k=D.length-1;for(let j=0;j<=k;j+=1){_=g;let Q="v-line";const Z=Oa("tspan");let te,Ce=D[j];if(Ce)if(l){te=Wre(Z,Lre(Ce,l,{offset:-M,includeAnnotationIndices:c}),{eol:j!==k&&i,baseSize:b,lineHeight:f?null:g,includeAnnotationIndices:c});const H=te.lineHeight;H&&f&&0!==j&&(_=H),0===j&&(S=.8*te.maxFontSize)}else i&&j!==k&&(Ce+=i),Z.textContent=Ce;else{Z.textContent="-",Q+=" v-empty-line";const De=Z.style;De.fillOpacity=0,De.strokeOpacity=0,l&&(te={})}te&&I.push(te),j>0&&Z.setAttribute("dy",_),(j>0||s)&&Z.setAttribute("x",a),Z.className.baseVal=Q,C.appendChild(Z),M+=Ce.length+1}if(o)if(l)_=function Yre(n,e,t,i){if(!Array.isArray(e))return 0;const s=e.length;if(!s)return 0;let r=e[0];const o=K5(r.maxFontSize,t)||t;let a=0;const c=K5(i,t);for(let f=1;f<s;f+=1)r=e[f],a+=K5(r.lineHeight,t)||c;const l=K5(r.maxFontSize,t)||t;let h;switch(n){case"middle":h=o/2-.15*l-a/2;break;case"bottom":h=-.25*l-a;break;default:h=.8*o}return h}(r,I,b,g);else if("top"===r)_="0.8em";else{let j;switch(k>0?(j=parseFloat(g)||1,j*=k,zO.test(g)||(j/=b)):j=0,r){case"middle":_=.3-j/2+"em";break;case"bottom":_=-j-.3+"em"}}else 0===r?_="0em":r?_=r:(_=0,null==n.getAttribute("y")&&n.setAttribute("y",`${S||"0.8em"}`));C.firstChild.setAttribute("dy",_),n.appendChild(C)}function i8(n,e={}){if(!n)return{width:0};const t=[],i=e["font-size"]?`${parseFloat(e["font-size"])}px`:"14px";return t.push(e["font-style"]||"normal"),t.push(e["font-variant"]||"normal"),t.push(e["font-weight"]||400),t.push(i),t.push(e["font-family"]||"sans-serif"),SO.font=t.join(" "),SO.measureText(n)}function AO(n,e,t,i={}){if(e>=t)return[n,""];const s=n.length,r={};let o=Math.round(e/t*s-1);for(o<0&&(o=0);o>=0&&o<s;){const a=n.slice(0,o),c=r[a]||i8(a,i).width,l=n.slice(0,o+1),h=r[l]||i8(l,i).width;if(r[a]=c,r[l]=h,c>e)o-=1;else{if(!(h<=e))break;o+=1}}return[n.slice(0,o),n.slice(o)]}function TO(n,e,t={},i={}){const s=e.width,r=e.height,o=i.eol||"\n",a=t.fontSize||14,c=t.lineHeight?parseFloat(t.lineHeight):Math.ceil(1.4*a),l=Math.floor(r/c);if(n.indexOf(o)>-1){const b=G5(),C=[];return n.split(o).map(_=>{const M=TO(_,Object.assign(Object.assign({},e),{height:Number.MAX_SAFE_INTEGER}),t,Object.assign(Object.assign({},i),{eol:b}));M&&C.push(...M.split(b))}),C.slice(0,l).join(o)}const{width:h}=i8(n,t);if(h<s)return n;const f=[];let g=n,p=h,v=i.ellipsis,y=0;v&&("string"!=typeof v&&(v="\u2026"),y=i8(v,t).width);for(let b=0;b<l;b+=1){if(!(p>s)){f.push(g);break}if(b===l-1){const[_]=AO(g,s-y,p,t);f.push(v?`${_}${v}`:_)}else{const[_,M]=AO(g,s,p,t);f.push(_),g=M,p=i8(g,t).width}}return f.join(o)}const Wb=.551784;function Di(n,e,t=NaN){const i=n.getAttribute(e);if(null==i)return t;const s=parseFloat(i);return Number.isNaN(s)?t:s}function OO(n){return`M ${n.map(t=>`${t.x} ${t.y}`).join(" L")}`}function J5(n){const e=[],t=n.points;if(t)for(let i=0,s=t.numberOfItems;i<s;i+=1)e.push(t.getItem(i));return e}function PO(n){let e;const t=n.x,i=n.y,s=n.width,r=n.height,o=Math.min(n.rx||n["top-rx"]||0,s/2),a=Math.min(n.rx||n["bottom-rx"]||0,s/2),c=Math.min(n.ry||n["top-ry"]||0,r/2),l=Math.min(n.ry||n["bottom-ry"]||0,r/2);return e=o||a||c||l?["M",t,i+c,"v",r-c-l,"a",a,l,0,0,0,a,l,"h",s-2*a,"a",a,l,0,0,0,a,-l,"v",-(r-l-c),"a",o,c,0,0,0,-o,-c,"h",-(s-2*o),"a",o,c,0,0,0,-o,c,"Z"]:["M",t,i,"H",t+s,"V",i+r,"H",t,"V",i,"Z"],e.join(" ")}function IO(n){const e=n.tagName.toLowerCase();switch(e){case"path":return n.getAttribute("d");case"line":return function Zre(n){return["M",Di(n,"x1"),Di(n,"y1"),"L",Di(n,"x2"),Di(n,"y2")].join(" ")}(n);case"polygon":return function Kre(n){const e=J5(n);return 0===e.length?null:`${OO(e)} Z`}(n);case"polyline":return function Jre(n){const e=J5(n);return 0===e.length?null:OO(e)}(n);case"ellipse":return function eoe(n){const e=Di(n,"cx",0),t=Di(n,"cy",0),i=Di(n,"rx"),s=Di(n,"ry")||i,r=i*Wb,o=s*Wb;return["M",e,t-s,"C",e+r,t-s,e+i,t-o,e+i,t,"C",e+i,t+o,e+r,t+s,e,t+s,"C",e-r,t+s,e-i,t+o,e-i,t,"C",e-i,t-o,e-r,t-s,e,t-s,"Z"].join(" ")}(n);case"circle":return function Qre(n){const e=Di(n,"cx",0),t=Di(n,"cy",0),i=Di(n,"r"),s=i*Wb;return["M",e,t-i,"C",e+s,t-i,e+i,t-s,e+i,t,"C",e+i,t+s,e+s,t+i,e,t+i,"C",e-s,t+i,e-i,t+s,e-i,t,"C",e-i,t-s,e-s,t-i,e,t-i,"Z"].join(" ")}(n);case"rect":return function toe(n){return PO({x:Di(n,"x",0),y:Di(n,"y",0),width:Di(n,"width",0),height:Di(n,"height",0),rx:Di(n,"rx",0),ry:Di(n,"ry",0)})}(n)}throw new Error(`"${e}" cannot be converted to svg path element.`)}const Q5=Oa("svg"),ioe=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,LO=/[ ,]+/,soe=/^(\w+)\((.*)\)/;function pi(n){const e=Q5.createSVGMatrix();if(null!=n){const t=n,i=e;for(const s in t)i[s]=t[s]}return e}function s8(n){return null!=n?(n instanceof DOMMatrix||(n=pi(n)),Q5.createSVGTransformFromMatrix(n)):Q5.createSVGTransform()}function r8(n){let e=pi();const t=null!=n&&n.match(ioe);if(!t)return e;for(let i=0,s=t.length;i<s;i+=1){const o=t[i].match(soe);if(o){let a,c,l,h,f,g=pi();const p=o[2].split(LO);switch(o[1].toLowerCase()){case"scale":a=parseFloat(p[0]),c=void 0===p[1]?a:parseFloat(p[1]),g=g.scaleNonUniform(a,c);break;case"translate":l=parseFloat(p[0]),h=parseFloat(p[1]),g=g.translate(l,h);break;case"rotate":f=parseFloat(p[0]),l=parseFloat(p[1])||0,h=parseFloat(p[2])||0,g=0!==l||0!==h?g.translate(l,h).rotate(f).translate(-l,-h):g.rotate(f);break;case"skewx":f=parseFloat(p[0]),g=g.skewX(f);break;case"skewy":f=parseFloat(p[0]),g=g.skewY(f);break;case"matrix":g.a=parseFloat(p[0]),g.b=parseFloat(p[1]),g.c=parseFloat(p[2]),g.d=parseFloat(p[3]),g.e=parseFloat(p[4]),g.f=parseFloat(p[5]);break;default:continue}e=e.multiply(g)}}return e}function _2(n){const e=n||{};return`matrix(${null!=e.a?e.a:1},${null!=e.b?e.b:0},${null!=e.c?e.c:0},${null!=e.d?e.d:1},${null!=e.e?e.e:0},${null!=e.f?e.f:0})`}function eg(n){let e,t,i;if(n){const r=LO;if(n.trim().indexOf("matrix")>=0){const a=function ooe(n){const e=Yb(n,{x:0,y:1}),t=Yb(n,{x:1,y:0}),i=180/Math.PI*Math.atan2(e.y,e.x)-90;return{skewX:i,skewY:180/Math.PI*Math.atan2(t.y,t.x),translateX:n.e,translateY:n.f,scaleX:Math.sqrt(n.a*n.a+n.b*n.b),scaleY:Math.sqrt(n.c*n.c+n.d*n.d),rotation:i}}(r8(n));e=[a.translateX,a.translateY],t=[a.rotation],i=[a.scaleX,a.scaleY];const c=[];(0!==e[0]||0!==e[1])&&c.push(`translate(${e.join(",")})`),(1!==i[0]||1!==i[1])&&c.push(`scale(${i.join(",")})`),0!==t[0]&&c.push(`rotate(${t[0]})`),n=c.join(" ")}else{const o=n.match(/translate\((.*?)\)/);o&&(e=o[1].split(r));const a=n.match(/rotate\((.*?)\)/);a&&(t=a[1].split(r));const c=n.match(/scale\((.*?)\)/);c&&(i=c[1].split(r))}}const s=i&&i[0]?parseFloat(i[0]):1;return{raw:n||"",translation:{tx:e&&e[0]?parseInt(e[0],10):0,ty:e&&e[1]?parseInt(e[1],10):0},rotation:{angle:t&&t[0]?parseInt(t[0],10):0,cx:t&&t[1]?parseInt(t[1],10):void 0,cy:t&&t[2]?parseInt(t[2],10):void 0},scale:{sx:s,sy:i&&i[1]?parseFloat(i[1]):s}}}function Yb(n,e){return{x:e.x*n.a+e.y*n.c+0,y:e.x*n.b+e.y*n.d+0}}function C2(n,e,t={}){if(null==e)return r8(pt(n,"transform"));if(t.absolute)return void n.setAttribute("transform",_2(e));const i=n.transform,s=s8(e);i.baseVal.appendItem(s)}function RO(n,e,t=0,i={}){let s=pt(n,"transform");const r=eg(s);if(null==e)return r.translation;s=r.raw,s=s.replace(/translate\([^)]*\)/g,"").trim(),n.setAttribute("transform",`translate(${i.absolute?e:r.translation.tx+e},${i.absolute?t:r.translation.ty+t}) ${s}`.trim())}function Xb(n,e,t,i,s={}){let r=pt(n,"transform");const o=eg(r);if(null==e)return o.rotation;r=o.raw,r=r.replace(/rotate\([^)]*\)/g,"").trim(),e%=360,n.setAttribute("transform",`${r} rotate(${s.absolute?e:o.rotation.angle+e}${null!=t&&null!=i?`,${t},${i}`:""})`.trim())}function Zb(n,e,t){let i=pt(n,"transform");const s=eg(i);if(null==e)return s.scale;t=t??e,i=s.raw,i=i.replace(/scale\([^)]*\)/g,"").trim(),n.setAttribute("transform",`${i} scale(${e},${t})`.trim())}function o8(n,e){if(Wc(e)&&Wc(n)){const t=e.getScreenCTM(),i=n.getScreenCTM();if(t&&i)return t.inverse().multiply(i)}return pi()}var Or,O1,qe,M2,a8,ds,c8;!function(n){const e={};n.get=function t(r){return e[r]||{}},n.register=function i(r,o){e[r]=o},n.unregister=function s(r){delete e[r]}}(Or||(Or={})),function(n){const e=new WeakMap;n.ensure=function t(r){return e.has(r)||e.set(r,{events:Object.create(null)}),e.get(r)},n.get=function i(r){return e.get(r)},n.remove=function s(r){return e.delete(r)}}(O1||(O1={})),function(n){n.returnTrue=()=>!0,n.returnFalse=()=>!1,n.stopPropagationCallback=function e(s){s.stopPropagation()},n.addEventListener=function t(s,r,o){null!=s.addEventListener&&s.addEventListener(r,o)},n.removeEventListener=function i(s,r,o){null!=s.removeEventListener&&s.removeEventListener(r,o)}}(qe||(qe={})),function(n){const e=/[^\x20\t\r\n\f]+/g,t=/^([^.]*)(?:\.(.+)|)/;n.splitType=function i(a){return(a||"").match(e)||[""]},n.normalizeType=function s(a){const c=t.exec(a)||[];return{originType:c[1]?c[1].trim():c[1],namespaces:c[2]?c[2].split(".").map(l=>l.trim()).sort():[]}},n.isValidTarget=function r(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType},n.isValidSelector=function o(a,c){return!c||null!=a.querySelector&&null!=a.querySelector(c)}}(qe||(qe={})),function(n){let e=0;const t=new WeakMap;n.ensureHandlerId=function i(a){return t.has(a)||(t.set(a,e),e+=1),t.get(a)},n.getHandlerId=function s(a){return t.get(a)},n.removeHandlerId=function r(a){return t.delete(a)},n.setHandlerId=function o(a,c){return t.set(a,c)}}(qe||(qe={})),function(n){n.getHandlerQueue=function e(t,i){const s=[],r=O1.get(t),o=r&&r.events&&r.events[i.type],a=o&&o.handlers||[],c=o?o.delegateCount:0;if(c>0&&!("click"===i.type&&"number"==typeof i.button&&i.button>=1))for(let l=i.target;l!==t;l=l.parentNode||t)if(1===l.nodeType&&("click"!==i.type||!0!==l.disabled)){const h=[],f={};for(let g=0;g<c;g+=1){const p=a[g],v=p.selector;if(null!=v&&null==f[v]){const b=[];t.querySelectorAll(v).forEach(C=>{b.push(C)}),f[v]=b.includes(l)}f[v]&&h.push(p)}h.length&&s.push({elem:l,handlers:h})}return c<a.length&&s.push({elem:t,handlers:a.slice(c)}),s}}(qe||(qe={})),function(n){n.isWindow=function e(t){return null!=t&&t===t.window}}(qe||(qe={})),function(n){n.contains=function e(t,i){const s=9===t.nodeType?t.documentElement:t,r=i&&i.parentNode;return t===r||!(!r||1!==r.nodeType||!(s.contains?s.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}}(qe||(qe={}));class Ho{constructor(e,t){this.isDefaultPrevented=qe.returnFalse,this.isPropagationStopped=qe.returnFalse,this.isImmediatePropagationStopped=qe.returnFalse,this.isSimulated=!1,this.preventDefault=()=>{const i=this.originalEvent;this.isDefaultPrevented=qe.returnTrue,i&&!this.isSimulated&&i.preventDefault()},this.stopPropagation=()=>{const i=this.originalEvent;this.isPropagationStopped=qe.returnTrue,i&&!this.isSimulated&&i.stopPropagation()},this.stopImmediatePropagation=()=>{const i=this.originalEvent;this.isImmediatePropagationStopped=qe.returnTrue,i&&!this.isSimulated&&i.stopImmediatePropagation(),this.stopPropagation()},"string"==typeof e?this.type=e:e.type&&(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?qe.returnTrue:qe.returnFalse,this.target=e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget,this.timeStamp=e.timeStamp),t&&Object.assign(this,t),this.timeStamp||(this.timeStamp=Date.now())}}(function(n){n.create=function e(t){return t instanceof n?t:new n(t)}})(Ho||(Ho={})),function(n){n.addProperty=function e(t,i){Object.defineProperty(n.prototype,t,{enumerable:!0,configurable:!0,get:"function"==typeof i?function(){if(this.originalEvent)return i(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set(s){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:s})}})}}(Ho||(Ho={})),function(n){const e={bubbles:!0,cancelable:!0,eventPhase:!0,detail:!0,view:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pageX:!0,pageY:!0,screenX:!0,screenY:!0,toElement:!0,pointerId:!0,pointerType:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,touches:!0,changedTouches:!0,targetTouches:!0,which:!0,altKey:!0,ctrlKey:!0,metaKey:!0,shiftKey:!0};Object.keys(e).forEach(t=>n.addProperty(t,e[t]))}(Ho||(Ho={})),M2||(M2={}),Or.register("load",{noBubble:!0}),M2||(M2={}),Or.register("beforeunload",{postDispatch(e,t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}),M2||(M2={}),Or.register("mouseenter",{delegateType:"mouseover",bindType:"mouseover",handle(e,t){let i;const s=t.relatedTarget,r=t.handleObj;return(!s||s!==e&&!qe.contains(e,s))&&(t.type=r.originType,i=r.handler.call(e,t),t.type="mouseover"),i}}),Or.register("mouseleave",{delegateType:"mouseout",bindType:"mouseout",handle(e,t){let i;const s=t.relatedTarget,r=t.handleObj;return(!s||s!==e&&!qe.contains(e,s))&&(t.type=r.originType,i=r.handler.call(e,t),t.type="mouseout"),i}}),function(n){let e;function s(o,a,...c){const l=Ho.create(a);l.delegateTarget=o;const h=Or.get(l.type);if(h.preDispatch&&!1===h.preDispatch(o,l))return;const f=qe.getHandlerQueue(o,l);for(let g=0,p=f.length;g<p&&!l.isPropagationStopped();g+=1){const v=f[g];l.currentTarget=v.elem;for(let y=0,b=v.handlers.length;y<b&&!l.isImmediatePropagationStopped();y+=1){const C=v.handlers[y];if(null==l.rnamespace||C.namespace&&l.rnamespace.test(C.namespace)){l.handleObj=C,l.data=C.data;const _=Or.get(C.originType).handle,M=_?_(v.elem,l,...c):C.handler.call(v.elem,l,...c);void 0!==M&&(l.result=M,!1===M&&(l.preventDefault(),l.stopPropagation()))}}}return h.postDispatch&&h.postDispatch(o,l),l.result}n.on=function t(o,a,c,l,h){if(!qe.isValidTarget(o))return;let f;if("function"!=typeof c){const{handler:y,selector:b}=c,C=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(c,["handler","selector"]);c=y,h=b,f=C}const g=O1.ensure(o);let p=g.handler;null==p&&(p=g.handler=function(y,...b){return e!==y.type?s(o,y,...b):void 0});const v=qe.ensureHandlerId(c);qe.splitType(a).forEach(y=>{const{originType:b,namespaces:C}=qe.normalizeType(y);if(!b)return;let _=b,M=Or.get(_);_=(h?M.delegateType:M.bindType)||_,M=Or.get(_);const S=Object.assign({type:_,originType:b,data:l,selector:h,guid:v,handler:c,namespace:C.join(".")},f),D=g.events;let I=D[_];I||(I=D[_]={handlers:[],delegateCount:0},(!M.setup||!1===M.setup(o,l,C,p))&&qe.addEventListener(o,_,p)),M.add&&(qe.removeHandlerId(S.handler),M.add(o,S),qe.setHandlerId(S.handler,v)),h?(I.handlers.splice(I.delegateCount,0,S),I.delegateCount+=1):I.handlers.push(S)})},n.off=function i(o,a,c,l,h){const f=O1.get(o);if(!f)return;const g=f.events;g&&(qe.splitType(a).forEach(p=>{const{originType:v,namespaces:y}=qe.normalizeType(p);if(!v)return void Object.keys(g).forEach(D=>{i(o,D+p,c,l,!0)});let b=v;const C=Or.get(b);b=(l?C.delegateType:C.bindType)||b;const _=g[b]||{},M=y.length>0?new RegExp(`(^|\\.)${y.join("\\.(?:.*\\.|)")}(\\.|$)`):null,S=_.handlers.length;for(let D=_.handlers.length-1;D>=0;D-=1){const I=_.handlers[D];(h||v===I.originType)&&(!c||qe.getHandlerId(c)===I.guid)&&(null==M||I.namespace&&M.test(I.namespace))&&(null==l||l===I.selector||"**"===l&&I.selector)&&(_.handlers.splice(D,1),I.selector&&(_.delegateCount-=1),C.remove&&C.remove(o,I))}S&&0===_.handlers.length&&((!C.teardown||!1===C.teardown(o,y,f.handler))&&qe.removeEventListener(o,b,f.handler),delete g[b])}),0===Object.keys(g).length&&O1.remove(o))},n.dispatch=s,n.trigger=function r(o,a,c,l){let h=o,f="string"==typeof o?o:o.type,g="string"==typeof o||null==h.namespace?[]:h.namespace.split(".");const p=c;if(3===p.nodeType||8===p.nodeType)return;f.indexOf(".")>-1&&(g=f.split("."),f=g.shift(),g.sort());const v=f.indexOf(":")<0&&`on${f}`;h=o instanceof Ho?o:new Ho(f,"object"==typeof o?o:null),h.namespace=g.join("."),h.rnamespace=h.namespace?new RegExp(`(^|\\.)${g.join("\\.(?:.*\\.|)")}(\\.|$)`):null,h.result=void 0,h.target||(h.target=p);const y=[h];Array.isArray(a)?y.push(...a):y.push(a);const b=Or.get(f);if(!l&&b.trigger&&!1===b.trigger(p,h,a))return;let C;const _=[p];if(!l&&!b.noBubble&&!qe.isWindow(p)){C=b.delegateType||f;let S=p,D=p.parentNode;for(;null!=D;)_.push(D),S=D,D=D.parentNode;if(S===(p.ownerDocument||document)){const k=S.defaultView||S.parentWindow||window;_.push(k)}}let M=p;for(let S=0,D=_.length;S<D&&!h.isPropagationStopped();S+=1){const I=_[S];M=I,h.type=S>1?C:b.bindType||f;const k=O1.get(I);k&&k.events[h.type]&&k.handler&&k.handler.call(I,...y);const Y=v&&I[v]||null;Y&&qe.isValidTarget(I)&&(h.result=Y.call(I,...y),!1===h.result&&h.preventDefault())}if(h.type=f,!l&&!h.isDefaultPrevented()){const S=b.preventDefault;if((null==S||!1===S(_.pop(),h,a))&&qe.isValidTarget(p)&&v&&"function"==typeof p[f]&&!qe.isWindow(p)){const D=p[v];D&&(p[v]=null),e=f,h.isPropagationStopped()&&M.addEventListener(f,qe.stopPropagationCallback),p[f](),h.isPropagationStopped()&&M.removeEventListener(f,qe.stopPropagationCallback),e=void 0,D&&(p[v]=D)}}return h.result}}(a8||(a8={})),function(n){n.on=function e(r,o,a,c,l){return c8.on(r,o,a,c,l),r},n.once=function t(r,o,a,c,l){return c8.on(r,o,a,c,l,!0),r},n.off=function i(r,o,a,c){return c8.off(r,o,a,c),r},n.trigger=function s(r,o,a,c){return a8.trigger(o,a,r,c),r}}(ds||(ds={})),function(n){n.on=function e(i,s,r,o,a,c){if("object"==typeof s)return"string"!=typeof r&&(o=o||r,r=void 0),void Object.keys(s).forEach(l=>e(i,l,r,o,s[l],c));if(null==o&&null==a?(a=r,o=r=void 0):null==a&&("string"==typeof r?(a=o,o=void 0):(a=o,o=r,r=void 0)),!1===a)a=qe.returnFalse;else if(!a)return;if(c){const l=a;qe.setHandlerId(a=function(h,...f){return n.off(i,h),l.call(this,h,...f)},qe.ensureHandlerId(l))}a8.on(i,s,a,o,r)},n.off=function t(i,s,r,o){if(s&&null!=s.preventDefault&&null!=s.handleObj){const c=s.handleObj;t(s.delegateTarget,c.namespace?`${c.originType}.${c.namespace}`:c.originType,c.selector,c.handler)}else if("object"!=typeof s)(!1===r||"function"==typeof r)&&(o=r,r=void 0),!1===o&&(o=qe.returnFalse),a8.off(i,s,o,r);else{const c=s;Object.keys(c).forEach(l=>t(i,l,r,c[l]))}}}(c8||(c8={}));class NO{constructor(e,t,i){this.animationFrameId=0,this.deltaX=0,this.deltaY=0,this.eventName=qc.isEventSupported("wheel")?"wheel":"mousewheel",this.target=e,this.onWheelCallback=t,this.onWheelGuard=i,this.onWheel=this.onWheel.bind(this),this.didWheel=this.didWheel.bind(this)}enable(){this.target.addEventListener(this.eventName,this.onWheel,{passive:!1})}disable(){this.target.removeEventListener(this.eventName,this.onWheel)}onWheel(e){if(null!=this.onWheelGuard&&!this.onWheelGuard(e))return;let t;this.deltaX+=e.deltaX,this.deltaY+=e.deltaY,e.preventDefault(),(0!==this.deltaX||0!==this.deltaY)&&(e.stopPropagation(),t=!0),!0===t&&0===this.animationFrameId&&(this.animationFrameId=requestAnimationFrame(()=>{this.didWheel(e)}))}didWheel(e){this.animationFrameId=0,this.onWheelCallback(e,this.deltaX,this.deltaY),this.deltaX=0,this.deltaY=0}}function l8(n){const e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView;return{top:e.top+t.pageYOffset,left:e.left+t.pageXOffset}}function VO(n,e=60){let t=null;return(...i)=>{t&&clearTimeout(t),t=window.setTimeout(()=>{n.apply(this,i)},e)}}const voe=typeof ResizeObserver<"u"?function moe(n){let e=null,t=[];const i=VO(()=>{t.forEach(c=>{c(n)})}),o=()=>{e&&(e.disconnect(),t=[],e=null)};return{element:n,bind:c=>{e||(e=(()=>{const c=new ResizeObserver(i);return c.observe(n),i(),c})()),-1===t.indexOf(c)&&t.push(c)},destroy:o,unbind:c=>{const l=t.indexOf(c);-1!==l&&t.splice(l,1),0===t.length&&e&&o()}}}:function poe(n){let e=null,t=[];const s=VO(()=>{t.forEach(c=>c(n))}),o=()=>{e&&e.parentNode&&(e.contentDocument&&e.contentDocument.defaultView.removeEventListener("resize",s),e.parentNode.removeChild(e),e=null,t=[])};return{element:n,bind:c=>{e||(e=(()=>{"static"===getComputedStyle(n).position&&(n.style.position="relative");const c=document.createElement("object");return c.onload=()=>{c.contentDocument.defaultView.addEventListener("resize",s),s()},c.style.display="block",c.style.position="absolute",c.style.top="0",c.style.left="0",c.style.height="100%",c.style.width="100%",c.style.overflow="hidden",c.style.pointerEvents="none",c.style.zIndex="-1",c.style.opacity="0",c.setAttribute("tabindex","-1"),c.type="text/html",n.appendChild(c),c.data="about:blank",c})()),-1===t.indexOf(c)&&t.push(c)},destroy:o,unbind:c=>{const l=t.indexOf(c);-1!==l&&t.splice(l,1),0===t.length&&e&&o()}}};var tg,Kb,Xc;!function(n){const e=new WeakMap;function t(s){let r=e.get(s);return r||(r=voe(s),e.set(s,r),r)}n.bind=(s,r)=>{const o=t(s);return o.bind(r),()=>o.unbind(r)},n.clear=s=>{!function i(s){s.destroy(),e.delete(s.element)}(t(s))}}(tg||(tg={}));class u8{constructor(e={}){this.comparator=e.comparator||u8.defaultComparator,this.index={},this.data=e.data||[],this.heapify()}isEmpty(){return 0===this.data.length}insert(e,t,i){const s={priority:e,value:t},r=this.data.length;return i&&(s.id=i,this.index[i]=r),this.data.push(s),this.bubbleUp(r),this}peek(){return this.data[0]?this.data[0].value:null}peekPriority(){return this.data[0]?this.data[0].priority:null}updatePriority(e,t){const i=this.index[e];if(typeof i>"u")throw new Error(`Node with id '${e}' was not found in the heap.`);const s=this.data,o=this.comparator(t,s[i].priority);o<0?(s[i].priority=t,this.bubbleUp(i)):o>0&&(s[i].priority=t,this.bubbleDown(i))}remove(){const e=this.data,t=e[0],i=e.pop();return t.id&&delete this.index[t.id],e.length>0&&(e[0]=i,i.id&&(this.index[i.id]=0),this.bubbleDown(0)),t?t.value:null}heapify(){for(let e=0;e<this.data.length;e+=1)this.bubbleUp(e)}bubbleUp(e){const t=this.data;let i,s,r=e;for(;r>0&&(s=r-1>>>1,this.comparator(t[r].priority,t[s].priority)<0);){i=t[s],t[s]=t[r];let o=t[r].id;null!=o&&(this.index[o]=s),t[r]=i,o=t[r].id,null!=o&&(this.index[o]=r),r=s}}bubbleDown(e){const t=this.data,i=t.length-1;let s=e;for(;;){const r=1+(s<<1),o=r+1;let a=s;if(r<=i&&this.comparator(t[r].priority,t[a].priority)<0&&(a=r),o<=i&&this.comparator(t[o].priority,t[a].priority)<0&&(a=o),a===s)break;{const c=t[a];t[a]=t[s];let l=t[s].id;null!=l&&(this.index[l]=a),t[s]=c,l=t[s].id,null!=l&&(this.index[l]=s),s=a}}}}!function(n){n.defaultComparator=(e,t)=>e-t}(u8||(u8={})),function(n){n.run=function e(t,i,s=((r,o)=>1)){const r={},o={},a={},c=new u8;for(r[i]=0,Object.keys(t).forEach(l=>{l!==i&&(r[l]=1/0),c.insert(r[l],l,l)});!c.isEmpty();){const l=c.remove();a[l]=!0;const h=t[l]||[];for(let f=0;f<h.length;f+=1){const g=h[f];if(!a[g]){const p=r[l]+s(l,g);p<r[g]&&(r[g]=p,o[g]=l,c.updatePriority(g,p))}}}return o}}(Kb||(Kb={}));class Pa{constructor(e,t,i,s){return null==e?this.set(255,255,255,1):"number"==typeof e?this.set(e,t,i,s):"string"==typeof e?Pa.fromString(e)||this:Array.isArray(e)?this.set(e):void this.set(e.r,e.g,e.b,null==e.a?1:e.a)}blend(e,t,i){this.set(e.r+(t.r-e.r)*i,e.g+(t.g-e.g)*i,e.b+(t.b-e.b)*i,e.a+(t.a-e.a)*i)}lighten(e){const t=Pa.lighten(this.toArray(),e);this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}darken(e){this.lighten(-e)}set(e,t,i,s){const r=Array.isArray(e)?e[0]:e,o=Array.isArray(e)?e[1]:t,a=Array.isArray(e)?e[2]:i,c=Array.isArray(e)?e[3]:s;return this.r=Math.round(Is(r,0,255)),this.g=Math.round(Is(o,0,255)),this.b=Math.round(Is(a,0,255)),this.a=null==c?1:Is(c,0,1),this}toHex(){return`#${["r","g","b"].map(t=>{const i=this[t].toString(16);return i.length<2?`0${i}`:i}).join("")}`}toRGBA(){return this.toArray()}toHSLA(){return Pa.rgba2hsla(this.r,this.g,this.b,this.a)}toCSS(e){const t=`${this.r},${this.g},${this.b},`;return e?`rgb(${t})`:`rgba(${t},${this.a})`}toGrey(){return Pa.makeGrey(Math.round((this.r+this.g+this.b)/3),this.a)}toArray(){return[this.r,this.g,this.b,this.a]}toString(){return this.toCSS()}}(function(n){function t(M){return new n([...v(M),1])}function i(M){const S=M.toLowerCase().match(/^rgba?\(([\s.,0-9]+)\)/);if(S){const D=S[1].split(/\s*,\s*/).map(I=>parseInt(I,10));return new n(D)}return null}function s(M,S,D){D<0&&++D,D>1&&--D;const I=6*D;return I<1?M+(S-M)*I:2*D<1?S:3*D<2?M+(S-M)*(2/3-D)*6:M}function r(M){const S=M.toLowerCase().match(/^hsla?\(([\s.,0-9]+)\)/);if(S){const D=S[2].split(/\s*,\s*/),I=(parseFloat(D[0])%360+360)%360/360,k=parseFloat(D[1])/100,Y=parseFloat(D[2])/100,j=null==D[3]?1:parseInt(D[3],10);return new n(l(I,k,Y,j))}return null}function l(M,S,D,I){const k=Array.isArray(M)?M[0]:M,Y=Array.isArray(M)?M[1]:S,j=Array.isArray(M)?M[2]:D,Q=Array.isArray(M)?M[3]:I,Z=j<=.5?j*(Y+1):j+Y-j*Y,te=2*j-Z;return[256*s(te,Z,k+1/3),256*s(te,Z,k),256*s(te,Z,k-1/3),Q??1]}function h(M){return new n(Math.round(256*Math.random()),Math.round(256*Math.random()),Math.round(256*Math.random()),M?void 0:parseFloat(Math.random().toFixed(2)))}function v(M){const S=0===M.indexOf("#")?M:`#${M}`;let D=+`0x${S.substr(1)}`;if(4!==S.length&&7!==S.length||Number.isNaN(D))throw new Error("Invalid hex color.");const I=4===S.length?4:8,k=(1<<I)-1,Y=["b","g","r"].map(()=>{const j=D&k;return D>>=I,4===I?17*j:j});return[Y[2],Y[1],Y[0]]}function y(M,S,D){const I=k=>k.length<2?`0${k}`:k;return`${I(M.toString(16))}${I(S.toString(16))}${I(D.toString(16))}`}function _(M,S){if("string"==typeof M){const k="#"===M[0],Y=parseInt(k?M.substr(1):M,16),j=Is((Y>>16)+S,0,255),Q=Is((Y>>8&255)+S,0,255);return`${k?"#":""}${(Is((255&Y)+S,0,255)|Q<<8|j<<16).toString(16)}`}const I=v(_(y(M[0],M[1],M[2]),S));return[I[0],I[1],I[2],M[3]]}n.fromArray=function e(M){return new n(M)},n.fromHex=t,n.fromRGBA=i,n.fromHSLA=r,n.fromString=function o(M){if(M.startsWith("#"))return t(M);if(M.startsWith("rgb"))return i(M);const S=n.named[M];return S?t(S):r(M)},n.makeGrey=function a(M,S){return n.fromArray([M,M,M,S])},n.rgba2hsla=function c(M,S,D,I){const k=Array.isArray(M)?M[0]:M,Y=Array.isArray(M)?M[1]:S,j=Array.isArray(M)?M[2]:D,Q=Array.isArray(M)?M[3]:I,Z=Math.max(k,Y,j),te=Math.min(k,Y,j),Ce=(Z+te)/2;let De=0,H=0;if(te!==Z){const V=Z-te;switch(H=Ce>.5?V/(2-Z-te):V/(Z+te),Z){case k:De=(Y-j)/V+(Y<j?6:0);break;case Y:De=(j-k)/V+2;break;case j:De=(k-Y)/V+4}De/=6}return[De,H,Ce,Q??1]},n.hsla2rgba=l,n.random=h,n.randomHex=function f(){let S="#";for(let D=0;D<6;D+=1)S+="0123456789ABCDEF"[Math.floor(16*Math.random())];return S},n.randomRGBA=function g(M){return h(M).toString()},n.invert=function p(M,S){if("string"==typeof M){const j="#"===M[0],[Q,Z,te]=v(M);return S?.299*Q+.587*Z+.114*te>186?"#000000":"#ffffff":`${j?"#":""}${y(255-Q,255-Z,255-te)}`}const D=M[0],I=M[1],k=M[2],Y=M[3];return S?.299*D+.587*I+.114*k>186?[0,0,0,Y]:[255,255,255,Y]:[255-D,255-I,255-k,Y]},n.lighten=function b(M,S){return _(M,S)},n.darken=function C(M,S){return _(M,-S)}})(Pa||(Pa={})),function(n){n.named={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",burntsienna:"#ea7e5d",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}}(Pa||(Pa={}));class Jb{constructor(){this.clear()}clear(){this.map=new WeakMap,this.arr=[]}has(e){return this.map.has(e)}get(e){return this.map.get(e)}set(e,t){this.map.set(e,t),this.arr.push(e)}delete(e){const t=this.arr.indexOf(e);t>=0&&this.arr.splice(t,1);const i=this.map.get(e);return this.map.delete(e),i}each(e){this.arr.forEach(t=>{const i=this.map.get(t);e(i,t)})}dispose(){this.clear()}}!function(n){function e(s){const r=[],o=[];return Array.isArray(s)?r.push(...s):s.split("|").forEach(a=>{-1===a.indexOf("&")?r.push(a):o.push(...a.split("&"))}),{or:r,and:o}}n.parse=e,n.equals=function t(s,r){if(null!=s&&null!=r){const o=e(s),a=e(r),c=o.or.sort(),l=a.or.sort(),h=o.and.sort(),f=a.and.sort(),g=(p,v)=>p.length===v.length&&(0===p.length||p.every((y,b)=>y===v[b]));return g(c,l)&&g(h,f)}return null==s&&null==r},n.isMatch=function i(s,r,o){if(null==r||Array.isArray(r)&&0===r.length)return!o||!0!==s.altKey&&!0!==s.ctrlKey&&!0!==s.metaKey&&!0!==s.shiftKey;const{or:a,and:c}=e(r),l=h=>{const f=`${h.toLowerCase()}Key`;return!0===s[f]};return a.some(h=>l(h))&&c.every(h=>l(h))}}(Xc||(Xc={}));var x2=function(n){return n.linear=e=>e,n.quad=e=>e*e,n.cubic=e=>e*e*e,n.inout=e=>{if(e<=0)return 0;if(e>=1)return 1;const t=e*e,i=t*e;return 4*(e<.5?i:3*(e-t)+i-.75)},n.exponential=e=>Math.pow(2,10*(e-1)),n.bounce=e=>{for(let t=0,i=1;;t+=i,i/=2)if(e>=(7-4*t)/11){const s=(11-6*t-11*e)/4;return-s*s+i*i}},n}(x2||{});(function(n){n.decorators={reverse:e=>t=>1-e(1-t),reflect:e=>t=>.5*(t<.5?e(2*t):2-e(2-2*t)),clamp:(e,t=0,i=1)=>s=>{const r=e(s);return r<t?t:r>i?i:r},back:(e=1.70158)=>t=>t*t*((e+1)*t-e),elastic:(e=1.5)=>t=>Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*e/3*t)}})(x2||(x2={})),function(n){function te(H){const V=H/1;if(V<1/2.75)return 7.5625*V*V;if(V<2/2.75){const ne=V-.5454545454545454;return 7.5625*ne*ne+.75}if(V<2.5/2.75){const ne=V-.8181818181818182;return 7.5625*ne*ne+.9375}{const ne=V-.9545454545454546;return 7.5625*ne*ne+.984375}}function Ce(H){return 1-te(1-H)}n.easeInSine=function e(H){return-1*Math.cos(H*(Math.PI/2))+1},n.easeOutSine=function t(H){return Math.sin(H*(Math.PI/2))},n.easeInOutSine=function i(H){return-.5*(Math.cos(Math.PI*H)-1)},n.easeInQuad=function s(H){return H*H},n.easeOutQuad=function r(H){return H*(2-H)},n.easeInOutQuad=function o(H){return H<.5?2*H*H:(4-2*H)*H-1},n.easeInCubic=function a(H){return H*H*H},n.easeOutCubic=function c(H){const V=H-1;return V*V*V+1},n.easeInOutCubic=function l(H){return H<.5?4*H*H*H:(H-1)*(2*H-2)*(2*H-2)+1},n.easeInQuart=function h(H){return H*H*H*H},n.easeOutQuart=function f(H){const V=H-1;return 1-V*V*V*V},n.easeInOutQuart=function g(H){const V=H-1;return H<.5?8*H*H*H*H:1-8*V*V*V*V},n.easeInQuint=function p(H){return H*H*H*H*H},n.easeOutQuint=function v(H){const V=H-1;return 1+V*V*V*V*V},n.easeInOutQuint=function y(H){const V=H-1;return H<.5?16*H*H*H*H*H:1+16*V*V*V*V*V},n.easeInExpo=function b(H){return 0===H?0:Math.pow(2,10*(H-1))},n.easeOutExpo=function C(H){return 1===H?1:1-Math.pow(2,-10*H)},n.easeInOutExpo=function _(H){if(0===H||1===H)return H;const V=2*H,ne=V-1;return V<1?.5*Math.pow(2,10*ne):.5*(2-Math.pow(2,-10*ne))},n.easeInCirc=function M(H){return-1*(Math.sqrt(1-H/1*H)-1)},n.easeOutCirc=function S(H){const V=H-1;return Math.sqrt(1-V*V)},n.easeInOutCirc=function D(H){const V=2*H,ne=V-2;return V<1?-.5*(Math.sqrt(1-V*V)-1):.5*(Math.sqrt(1-ne*ne)+1)},n.easeInBack=function I(H,V=1.70158){return H*H*((V+1)*H-V)},n.easeOutBack=function k(H,V=1.70158){const ne=H/1-1;return ne*ne*((V+1)*ne+V)+1},n.easeInOutBack=function Y(H,V=1.70158){const ne=2*H,ue=ne-2,be=1.525*V;return ne<1?.5*ne*ne*((be+1)*ne-be):.5*(ue*ue*((be+1)*ue+be)+2)},n.easeInElastic=function j(H,V=.7){if(0===H||1===H)return H;const ue=H/1-1,be=1-V,Qe=be/(2*Math.PI)*Math.asin(1);return-Math.pow(2,10*ue)*Math.sin((ue-Qe)*(2*Math.PI)/be)},n.easeOutElastic=function Q(H,V=.7){const ne=1-V,ue=2*H;if(0===H||1===H)return H;const be=ne/(2*Math.PI)*Math.asin(1);return Math.pow(2,-10*ue)*Math.sin((ue-be)*(2*Math.PI)/ne)+1},n.easeInOutElastic=function Z(H,V=.65){const ne=1-V;if(0===H||1===H)return H;const ue=2*H,be=ue-1,Qe=ne/(2*Math.PI)*Math.asin(1);return ue<1?Math.pow(2,10*be)*Math.sin((be-Qe)*(2*Math.PI)/ne)*-.5:Math.pow(2,-10*be)*Math.sin((be-Qe)*(2*Math.PI)/ne)*.5+1},n.easeOutBounce=te,n.easeInBounce=Ce,n.easeInOutBounce=function De(H){return H<.5?.5*Ce(2*H):.5*te(2*H-1)+.5}}(x2||(x2={}));var E2=function(n){return n.number=(e,t)=>{const i=t-e;return s=>e+i*s},n.object=(e,t)=>{const i=Object.keys(e);return s=>{const r={};for(let o=i.length-1;-1!==o;o-=1){const a=i[o];r[a]=e[a]+(t[a]-e[a])*s}return r}},n.unit=(e,t)=>{const i=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,s=i.exec(e),r=i.exec(t),o=r?r[1]:"",a=s?+s[1]:0,c=r?+r[1]:0,l=o.indexOf("."),h=l>0?o[1].length-l-1:0,f=c-a,g=s?s[2]:"";return p=>(a+f*p).toFixed(h)+g},n.color=(e,t)=>{const i=parseInt(e.slice(1),16),s=parseInt(t.slice(1),16),r=255&i,o=(255&s)-r,a=65280&i,c=(65280&s)-a,l=16711680&i,h=(16711680&s)-l;return f=>`#${(1<<24|r+o*f&255|a+c*f&65280|l+h*f&16711680).toString(16).slice(1)}`},n}(E2||{});const h8=[];function d8(n,e){const t=h8.find(i=>i.name===n);if(!(t&&(t.loadTimes+=1,t.loadTimes>1)||qc.isApplyingHMR())){const i=document.createElement("style");i.setAttribute("type","text/css"),i.textContent=e;const s=document.querySelector("head");s&&s.insertBefore(i,s.firstChild),h8.push({name:n,loadTimes:1,styleElement:i})}}function f8(n){const e=h8.findIndex(t=>t.name===n);if(e>-1){const t=h8[e];if(t.loadTimes-=1,t.loadTimes>0)return;let i=t.styleElement;i&&i.parentNode&&i.parentNode.removeChild(i),i=null,h8.splice(e,1)}}var mt,wt;!function(n){n.toDeg=function e(i){return 180*i/Math.PI%360},n.toRad=function(i,s=!1){return(s?i:i%360)*Math.PI/180},n.normalize=function t(i){return i%360+(i<0?360:0)}}(mt||(mt={})),function(n){n.round=function e(a,c=0){return Number.isInteger(a)?a:+a.toFixed(c)},n.random=function t(a,c){let l,h;if(null==c?(h=a??1,l=0):(h=c,l=a??0),h<l){const f=l;l=h,h=f}return Math.floor(Math.random()*(h-l+1)+l)},n.clamp=function i(a,c,l){return Number.isNaN(a)?NaN:Number.isNaN(c)||Number.isNaN(l)?0:c<l?a<c?c:a>l?l:a:a<l?l:a>c?c:a},n.snapToGrid=function s(a,c){return c*Math.round(a/c)},n.containsPoint=function r(a,c){return null!=c&&null!=a&&c.x>=a.x&&c.x<=a.x+a.width&&c.y>=a.y&&c.y<=a.y+a.height},n.squaredLength=function o(a,c){const l=a.x-c.x,h=a.y-c.y;return l*l+h*h}}(wt||(wt={}));class Zc{valueOf(){return this.toJSON()}toString(){return JSON.stringify(this.toJSON())}}class T extends Zc{constructor(e,t){super(),this.x=e??0,this.y=t??0}round(e=0){return this.x=wt.round(this.x,e),this.y=wt.round(this.y,e),this}add(e,t){const i=T.create(e,t);return this.x+=i.x,this.y+=i.y,this}update(e,t){const i=T.create(e,t);return this.x=i.x,this.y=i.y,this}translate(e,t){const i=T.create(e,t);return this.x+=i.x,this.y+=i.y,this}rotate(e,t){const i=T.rotate(this,e,t);return this.x=i.x,this.y=i.y,this}scale(e,t,i=new T){const s=T.create(i);return this.x=s.x+e*(this.x-s.x),this.y=s.y+t*(this.y-s.y),this}closest(e){if(1===e.length)return T.create(e[0]);let t=null,i=1/0;return e.forEach(s=>{const r=this.squaredDistance(s);r<i&&(t=s,i=r)}),t?T.create(t):null}distance(e){return Math.sqrt(this.squaredDistance(e))}squaredDistance(e){const t=T.create(e),i=this.x-t.x,s=this.y-t.y;return i*i+s*s}manhattanDistance(e){const t=T.create(e);return Math.abs(t.x-this.x)+Math.abs(t.y-this.y)}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)||.01}theta(e=new T){const t=T.create(e);let r=Math.atan2(-(t.y-this.y),t.x-this.x);return r<0&&(r=2*Math.PI+r),180*r/Math.PI}angleBetween(e,t){if(this.equals(e)||this.equals(t))return NaN;let i=this.theta(t)-this.theta(e);return i<0&&(i+=360),i}vectorAngle(e){return new T(0,0).angleBetween(this,e)}toPolar(e){return this.update(T.toPolar(this,e)),this}changeInAngle(e,t,i=new T){return this.clone().translate(-e,-t).theta(i)-this.theta(i)}adhereToRect(e){return wt.containsPoint(e,this)||(this.x=Math.min(Math.max(this.x,e.x),e.x+e.width),this.y=Math.min(Math.max(this.y,e.y),e.y+e.height)),this}bearing(e){const t=T.create(e),i=mt.toRad(this.y),s=mt.toRad(t.y),a=mt.toRad(t.x-this.x),c=Math.sin(a)*Math.cos(s),l=Math.cos(i)*Math.sin(s)-Math.sin(i)*Math.cos(s)*Math.cos(a);let g=mt.toDeg(Math.atan2(c,l))-22.5;return g<0&&(g+=360),g=parseInt(g/45,10),["NE","E","SE","S","SW","W","NW","N"][g]}cross(e,t){if(null!=e&&null!=t){const i=T.create(e),s=T.create(t);return(s.x-this.x)*(i.y-this.y)-(s.y-this.y)*(i.x-this.x)}return NaN}dot(e){const t=T.create(e);return this.x*t.x+this.y*t.y}diff(e,t){if("number"==typeof e)return new T(this.x-e,this.y-t);const i=T.create(e);return new T(this.x-i.x,this.y-i.y)}lerp(e,t){const i=T.create(e);return new T((1-t)*this.x+t*i.x,(1-t)*this.y+t*i.y)}normalize(e=1){const t=e/this.magnitude();return this.scale(t,t)}move(e,t){const i=T.create(e),s=mt.toRad(i.theta(this));return this.translate(Math.cos(s)*t,-Math.sin(s)*t)}reflection(e){return T.create(e).move(this,this.distance(e))}snapToGrid(e,t){return this.x=wt.snapToGrid(this.x,e),this.y=wt.snapToGrid(this.y,t??e),this}equals(e){const t=T.create(e);return null!=t&&t.x===this.x&&t.y===this.y}clone(){return T.clone(this)}toJSON(){return T.toJSON(this)}serialize(){return`${this.x} ${this.y}`}}(function(n){n.isPoint=function e(t){return null!=t&&t instanceof n}})(T||(T={})),function(n){n.isPointLike=function e(i){return null!=i&&"object"==typeof i&&"number"==typeof i.x&&"number"==typeof i.y},n.isPointData=function t(i){return null!=i&&Array.isArray(i)&&2===i.length&&"number"==typeof i[0]&&"number"==typeof i[1]}}(T||(T={})),function(n){function t(f){return n.isPoint(f)?new n(f.x,f.y):Array.isArray(f)?new n(f[0],f[1]):new n(f.x,f.y)}function o(f,g){return f===g||null!=f&&null!=g&&f.x===g.x&&f.y===g.y}function h(f,g,p,v=new n){const y=t(f),b=t(v),C=y.x-b.x,_=y.y-b.y;return new n(C*g-_*p+b.x,_*g+C*p+b.y)}n.create=function e(f,g){return null==f||"number"==typeof f?new n(f,g):t(f)},n.clone=t,n.toJSON=function i(f){return n.isPoint(f)?{x:f.x,y:f.y}:Array.isArray(f)?{x:f[0],y:f[1]}:{x:f.x,y:f.y}},n.fromPolar=function s(f,g,p=new n){let v=Math.abs(f*Math.cos(g)),y=Math.abs(f*Math.sin(g));const b=t(p),C=mt.normalize(mt.toDeg(g));return C<90?y=-y:C<180?(v=-v,y=-y):C<270&&(v=-v),new n(b.x+v,b.y+y)},n.toPolar=function r(f,g=new n){const p=t(f),v=t(g),y=p.x-v.x,b=p.y-v.y;return new n(Math.sqrt(y*y+b*b),mt.toRad(v.theta(p)))},n.equals=o,n.equalPoints=function a(f,g){if(null==f&&null!=g||null!=f&&null==g||null!=f&&null!=g&&f.length!==g.length)return!1;if(null!=f&&null!=g)for(let p=0,v=f.length;p<v;p+=1)if(!o(f[p],g[p]))return!1;return!0},n.random=function c(f,g,p,v){return new n(wt.random(f,g),wt.random(p,v))},n.rotate=function l(f,g,p){const v=mt.toRad(mt.normalize(-g)),y=Math.sin(v);return h(f,Math.cos(v),y,p)},n.rotateEx=h}(T||(T={}));class re extends Zc{get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get origin(){return new T(this.x,this.y)}get topLeft(){return new T(this.x,this.y)}get topCenter(){return new T(this.x+this.width/2,this.y)}get topRight(){return new T(this.x+this.width,this.y)}get center(){return new T(this.x+this.width/2,this.y+this.height/2)}get bottomLeft(){return new T(this.x,this.y+this.height)}get bottomCenter(){return new T(this.x+this.width/2,this.y+this.height)}get bottomRight(){return new T(this.x+this.width,this.y+this.height)}get corner(){return new T(this.x+this.width,this.y+this.height)}get rightMiddle(){return new T(this.x+this.width,this.y+this.height/2)}get leftMiddle(){return new T(this.x,this.y+this.height/2)}get topLine(){return new ge(this.topLeft,this.topRight)}get rightLine(){return new ge(this.topRight,this.bottomRight)}get bottomLine(){return new ge(this.bottomLeft,this.bottomRight)}get leftLine(){return new ge(this.topLeft,this.bottomLeft)}constructor(e,t,i,s){super(),this.x=e??0,this.y=t??0,this.width=i??0,this.height=s??0}getOrigin(){return this.origin}getTopLeft(){return this.topLeft}getTopCenter(){return this.topCenter}getTopRight(){return this.topRight}getCenter(){return this.center}getCenterX(){return this.x+this.width/2}getCenterY(){return this.y+this.height/2}getBottomLeft(){return this.bottomLeft}getBottomCenter(){return this.bottomCenter}getBottomRight(){return this.bottomRight}getCorner(){return this.corner}getRightMiddle(){return this.rightMiddle}getLeftMiddle(){return this.leftMiddle}getTopLine(){return this.topLine}getRightLine(){return this.rightLine}getBottomLine(){return this.bottomLine}getLeftLine(){return this.leftLine}bbox(e){if(!e)return this.clone();const t=mt.toRad(e),i=Math.abs(Math.sin(t)),s=Math.abs(Math.cos(t)),r=this.width*s+this.height*i,o=this.width*i+this.height*s;return new re(this.x+(this.width-r)/2,this.y+(this.height-o)/2,r,o)}round(e=0){return this.x=wt.round(this.x,e),this.y=wt.round(this.y,e),this.width=wt.round(this.width,e),this.height=wt.round(this.height,e),this}add(e,t,i,s){const r=re.create(e,t,i,s),o=Math.min(this.x,r.x),a=Math.min(this.y,r.y),c=Math.max(this.x+this.width,r.x+r.width),l=Math.max(this.y+this.height,r.y+r.height);return this.x=o,this.y=a,this.width=c-o,this.height=l-a,this}update(e,t,i,s){const r=re.create(e,t,i,s);return this.x=r.x,this.y=r.y,this.width=r.width,this.height=r.height,this}inflate(e,t){const i=e,s=t??e;return this.x-=i,this.y-=s,this.width+=2*i,this.height+=2*s,this}snapToGrid(e,t){const i=this.origin.snapToGrid(e,t),s=this.corner.snapToGrid(e,t);return this.x=i.x,this.y=i.y,this.width=s.x-i.x,this.height=s.y-i.y,this}translate(e,t){const i=T.create(e,t);return this.x+=i.x,this.y+=i.y,this}scale(e,t,i=new T){const s=this.origin.scale(e,t,i);return this.x=s.x,this.y=s.y,this.width*=e,this.height*=t,this}rotate(e,t=this.getCenter()){if(0!==e){const i=mt.toRad(e),s=Math.cos(i),r=Math.sin(i);let o=this.getOrigin(),a=this.getTopRight(),c=this.getBottomRight(),l=this.getBottomLeft();o=T.rotateEx(o,s,r,t),a=T.rotateEx(a,s,r,t),c=T.rotateEx(c,s,r,t),l=T.rotateEx(l,s,r,t);const h=new re(o.x,o.y,0,0);h.add(a.x,a.y,0,0),h.add(c.x,c.y,0,0),h.add(l.x,l.y,0,0),this.update(h)}return this}rotate90(){const e=(this.width-this.height)/2;this.x+=e,this.y-=e;const t=this.width;return this.width=this.height,this.height=t,this}moveAndExpand(e){const t=re.clone(e);return this.x+=t.x||0,this.y+=t.y||0,this.width+=t.width||0,this.height+=t.height||0,this}getMaxScaleToFit(e,t=this.center){const i=re.clone(e),s=t.x,r=t.y;let o=1/0,a=1/0,c=1/0,l=1/0,h=1/0,f=1/0,g=1/0,p=1/0;const v=i.topLeft;v.x<s&&(o=(this.x-s)/(v.x-s)),v.y<r&&(h=(this.y-r)/(v.y-r));const y=i.bottomRight;y.x>s&&(a=(this.x+this.width-s)/(y.x-s)),y.y>r&&(f=(this.y+this.height-r)/(y.y-r));const b=i.topRight;b.x>s&&(c=(this.x+this.width-s)/(b.x-s)),b.y<r&&(g=(this.y-r)/(b.y-r));const C=i.bottomLeft;return C.x<s&&(l=(this.x-s)/(C.x-s)),C.y>r&&(p=(this.y+this.height-r)/(C.y-r)),{sx:Math.min(o,a,c,l),sy:Math.min(h,f,g,p)}}getMaxUniformScaleToFit(e,t=this.center){const i=this.getMaxScaleToFit(e,t);return Math.min(i.sx,i.sy)}containsPoint(e,t){return wt.containsPoint(this,T.create(e,t))}containsRect(e,t,i,s){const r=re.create(e,t,i,s),o=this.x,a=this.y,c=this.width,l=this.height,h=r.x,f=r.y,g=r.width,p=r.height;return 0!==c&&0!==l&&0!==g&&0!==p&&h>=o&&f>=a&&h+g<=o+c&&f+p<=a+l}intersectsWithLine(e){const i=[],s=[];return[this.topLine,this.rightLine,this.bottomLine,this.leftLine].forEach(r=>{const o=e.intersectsWithLine(r);null!==o&&s.indexOf(o.toString())<0&&(i.push(o),s.push(o.toString()))}),i.length>0?i:null}intersectsWithLineFromCenterToPoint(e,t){const i=T.clone(e),s=this.center;let r=null;null!=t&&0!==t&&i.rotate(t,s);const o=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],a=new ge(s,i);for(let c=o.length-1;c>=0;c-=1){const l=o[c].intersectsWithLine(a);if(null!==l){r=l;break}}return r&&null!=t&&0!==t&&r.rotate(-t,s),r}intersectsWithRect(e,t,i,s){const r=re.create(e,t,i,s);if(!this.isIntersectWithRect(r))return null;const o=this.origin,a=this.corner,c=r.origin,l=r.corner,h=Math.max(o.x,c.x),f=Math.max(o.y,c.y);return new re(h,f,Math.min(a.x,l.x)-h,Math.min(a.y,l.y)-f)}isIntersectWithRect(e,t,i,s){const r=re.create(e,t,i,s),o=this.origin,a=this.corner,c=r.origin,l=r.corner;return!(l.x<=o.x||l.y<=o.y||c.x>=a.x||c.y>=a.y)}normalize(){let e=this.x,t=this.y,i=this.width,s=this.height;return this.width<0&&(e=this.x+this.width,i=-this.width),this.height<0&&(t=this.y+this.height,s=-this.height),this.x=e,this.y=t,this.width=i,this.height=s,this}union(e){const t=re.clone(e),i=this.origin,s=this.corner,r=t.origin,o=t.corner,a=Math.min(i.x,r.x),c=Math.min(i.y,r.y),l=Math.max(s.x,o.x),h=Math.max(s.y,o.y);return new re(a,c,l-a,h-c)}getNearestSideToPoint(e){const t=T.clone(e),s=this.x+this.width-t.x,r=t.y-this.y;let a=t.x-this.x,c="left";return s<a&&(a=s,c="right"),r<a&&(a=r,c="top"),this.y+this.height-t.y<a&&(c="bottom"),c}getNearestPointToPoint(e){const t=T.clone(e);if(this.containsPoint(t)){const i=this.getNearestSideToPoint(t);if("left"===i)return new T(this.x,t.y);if("top"===i)return new T(t.x,this.y);if("right"===i)return new T(this.x+this.width,t.y);if("bottom"===i)return new T(t.x,this.y+this.height)}return t.adhereToRect(this)}equals(e){return null!=e&&e.x===this.x&&e.y===this.y&&e.width===this.width&&e.height===this.height}clone(){return new re(this.x,this.y,this.width,this.height)}toJSON(){return{x:this.x,y:this.y,width:this.width,height:this.height}}serialize(){return`${this.x} ${this.y} ${this.width} ${this.height}`}}(function(n){n.isRectangle=function e(t){return null!=t&&t instanceof n}})(re||(re={})),function(n){n.isRectangleLike=function e(t){return null!=t&&"object"==typeof t&&"number"==typeof t.x&&"number"==typeof t.y&&"number"==typeof t.width&&"number"==typeof t.height}}(re||(re={})),function(n){function t(o){return n.isRectangle(o)?o.clone():Array.isArray(o)?new n(o[0],o[1],o[2],o[3]):new n(o.x,o.y,o.width,o.height)}n.create=function e(o,a,c,l){return null==o||"number"==typeof o?new n(o,a,c,l):t(o)},n.clone=t,n.fromEllipse=function i(o){return new n(o.x-o.a,o.y-o.b,2*o.a,2*o.b)},n.fromSize=function s(o){return new n(0,0,o.width,o.height)},n.fromPositionAndSize=function r(o,a){return new n(o.x,o.y,a.width,a.height)}}(re||(re={}));class ge extends Zc{get center(){return new T((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)}constructor(e,t,i,s){super(),"number"==typeof e&&"number"==typeof t?(this.start=new T(e,t),this.end=new T(i,s)):(this.start=T.create(e),this.end=T.create(t))}getCenter(){return this.center}round(e=0){return this.start.round(e),this.end.round(e),this}translate(e,t){return"number"==typeof e?(this.start.translate(e,t),this.end.translate(e,t)):(this.start.translate(e),this.end.translate(e)),this}rotate(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this}scale(e,t,i){return this.start.scale(e,t,i),this.end.scale(e,t,i),this}length(){return Math.sqrt(this.squaredLength())}squaredLength(){const e=this.start.x-this.end.x,t=this.start.y-this.end.y;return e*e+t*t}setLength(e){const t=this.length();if(!t)return this;const i=e/t;return this.scale(i,i,this.start)}parallel(e){const t=this.clone();if(!t.isDifferentiable())return t;const{start:i,end:s}=t,r=i.clone().rotate(270,s),o=s.clone().rotate(90,i);return i.move(o,e),s.move(r,e),t}vector(){return new T(this.end.x-this.start.x,this.end.y-this.start.y)}angle(){const e=new T(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)}bbox(){const e=Math.min(this.start.x,this.end.x),t=Math.min(this.start.y,this.end.y),i=Math.max(this.start.x,this.end.x),s=Math.max(this.start.y,this.end.y);return new re(e,t,i-e,s-t)}bearing(){return this.start.bearing(this.end)}closestPoint(e){return this.pointAt(this.closestPointNormalizedLength(e))}closestPointLength(e){return this.closestPointNormalizedLength(e)*this.length()}closestPointTangent(e){return this.tangentAt(this.closestPointNormalizedLength(e))}closestPointNormalizedLength(e){const t=this.vector().dot(new ge(this.start,e).vector()),i=Math.min(1,Math.max(0,t/this.squaredLength()));return Number.isNaN(i)?0:i}pointAt(e){const t=this.start,i=this.end;return e<=0?t.clone():e>=1?i.clone():t.lerp(i,e)}pointAtLength(e){const t=this.start,i=this.end;let s=!0;e<0&&(s=!1,e=-e);const r=this.length();return e>=r?s?i.clone():t.clone():this.pointAt((s?e:r-e)/r)}divideAt(e){const t=this.pointAt(e);return[new ge(this.start,t),new ge(t,this.end)]}divideAtLength(e){const t=this.pointAtLength(e);return[new ge(this.start,t),new ge(t,this.end)]}containsPoint(e){const t=this.start,i=this.end;if(0!==t.cross(e,i))return!1;const s=this.length();return!(new ge(t,e).length()>s||new ge(e,i).length()>s)}intersect(e,t){const i=e.intersectsWithLine(this,t);return i?Array.isArray(i)?i:[i]:null}intersectsWithLine(e){const t=new T(this.end.x-this.start.x,this.end.y-this.start.y),i=new T(e.end.x-e.start.x,e.end.y-e.start.y),s=t.x*i.y-t.y*i.x,r=new T(e.start.x-this.start.x,e.start.y-this.start.y),o=r.x*i.y-r.y*i.x,a=r.x*t.y-r.y*t.x;if(0===s||o*s<0||a*s<0)return null;if(s>0){if(o>s||a>s)return null}else if(o<s||a<s)return null;return new T(this.start.x+o*t.x/s,this.start.y+o*t.y/s)}isDifferentiable(){return!this.start.equals(this.end)}pointOffset(e){const t=T.clone(e),i=this.start,s=this.end;return((s.x-i.x)*(t.y-i.y)-(s.y-i.y)*(t.x-i.x))/this.length()}pointSquaredDistance(e,t){const i=T.create(e,t);return this.closestPoint(i).squaredDistance(i)}pointDistance(e,t){const i=T.create(e,t);return this.closestPoint(i).distance(i)}tangentAt(e){if(!this.isDifferentiable())return null;const t=this.start,i=this.end,s=this.pointAt(e),r=new ge(t,i);return r.translate(s.x-t.x,s.y-t.y),r}tangentAtLength(e){if(!this.isDifferentiable())return null;const t=this.start,i=this.end,s=this.pointAtLength(e),r=new ge(t,i);return r.translate(s.x-t.x,s.y-t.y),r}relativeCcw(e,t){const i=T.create(e,t);let s=i.x-this.start.x,r=i.y-this.start.y;const o=this.end.x-this.start.x,a=this.end.y-this.start.y;let c=s*a-r*o;return 0===c&&(c=s*o+r*a,c>0&&(s-=o,r-=a,c=s*o+r*a,c<0&&(c=0))),c<0?-1:c>0?1:0}equals(e){return null!=e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y}clone(){return new ge(this.start,this.end)}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.end.serialize()].join(" ")}}!function(n){n.isLine=function e(t){return null!=t&&t instanceof n}}(ge||(ge={}));class so extends Zc{get center(){return new T(this.x,this.y)}constructor(e,t,i,s){super(),this.x=e??0,this.y=t??0,this.a=i??0,this.b=s??0}bbox(){return re.fromEllipse(this)}getCenter(){return this.center}inflate(e,t){const s=t??e;return this.a+=2*e,this.b+=2*s,this}normalizedDistance(e,t){const i=T.create(e,t),s=i.x-this.x,r=i.y-this.y,o=this.a,a=this.b;return s*s/(o*o)+r*r/(a*a)}containsPoint(e,t){return this.normalizedDistance(e,t)<=1}intersectsWithLine(e){const t=[],i=this.a,s=this.b,r=e.start,o=e.end,a=e.vector(),c=r.diff(new T(this.x,this.y)),l=new T(a.x/(i*i),a.y/(s*s)),h=new T(c.x/(i*i),c.y/(s*s)),f=a.dot(l),g=a.dot(h),v=g*g-f*(c.dot(h)-1);if(v<0)return null;if(v>0){const y=Math.sqrt(v),b=(-g-y)/f,C=(-g+y)/f;if((b<0||b>1)&&(C<0||C>1))return null;b>=0&&b<=1&&t.push(r.lerp(o,b)),C>=0&&C<=1&&t.push(r.lerp(o,C))}else{const y=-g/f;if(!(y>=0&&y<=1))return null;t.push(r.lerp(o,y))}return t}intersectsWithLineFromCenterToPoint(e,t=0){const i=T.clone(e);t&&i.rotate(t,this.getCenter());const s=i.x-this.x,r=i.y-this.y;let o;if(0===s)return o=this.bbox().getNearestPointToPoint(i),t?o.rotate(-t,this.getCenter()):o;const a=r/s;let f=Math.sqrt(1/(1/(this.a*this.a)+a*a/(this.b*this.b)));return f=s<0?-f:f,o=new T(this.x+f,this.y+a*f),t?o.rotate(-t,this.getCenter()):o}tangentTheta(e){const t=T.clone(e),i=t.x,s=t.y,r=this.a,o=this.b,a=this.bbox().center,c=a.x,l=a.y;let p,v;return i>a.x+r/2||i<a.x-r/2?(v=i>a.x?s-30:s+30,p=r*r/(i-c)-r*r*(s-l)*(v-l)/(o*o*(i-c))+c):(p=s>a.y?i+30:i-30,v=o*o/(s-l)-o*o*(i-c)*(p-c)/(r*r*(s-l))+l),new T(p,v).theta(t)}scale(e,t){return this.a*=e,this.b*=t,this}rotate(e,t){const i=re.fromEllipse(this);i.rotate(e,t);const s=so.fromRect(i);return this.a=s.a,this.b=s.b,this.x=s.x,this.y=s.y,this}translate(e,t){const i=T.create(e,t);return this.x+=i.x,this.y+=i.y,this}equals(e){return null!=e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b}clone(){return new so(this.x,this.y,this.a,this.b)}toJSON(){return{x:this.x,y:this.y,a:this.a,b:this.b}}serialize(){return`${this.x} ${this.y} ${this.a} ${this.b}`}}(function(n){n.isEllipse=function e(t){return null!=t&&t instanceof n}})(so||(so={})),function(n){function t(s){return n.isEllipse(s)?s.clone():Array.isArray(s)?new n(s[0],s[1],s[2],s[3]):new n(s.x,s.y,s.a,s.b)}n.create=function e(s,r,o,a){return null==s||"number"==typeof s?new n(s,r,o,a):t(s)},n.parse=t,n.fromRect=function i(s){const r=s.center;return new n(r.x,r.y,s.width/2,s.height/2)}}(so||(so={}));const yoe=new RegExp("^[\\s\\dLMCZz,.]*$");function boe(n){return"string"==typeof n&&yoe.test(n)}function Qb(n,e){return(n%e+e)%e}function HO(n,e={}){const t=[];return n&&n.length&&n.forEach(i=>{Array.isArray(i)?t.push({x:i[0],y:i[1]}):t.push({x:i.x,y:i.y})}),function woe(n,e,t,i,s){const r=[],o=n[n.length-1],a=null!=e&&e>0,c=e||0;if(i&&a){const f=(n=n.slice())[0],g=new T(o.x+(f.x-o.x)/2,o.y+(f.y-o.y)/2);n.splice(0,0,g)}let l=n[0],h=1;for(r.push(t?"M":"L",l.x,l.y);h<(i?n.length:n.length-1);){let f=n[Qb(h,n.length)],g=l.x-f.x,p=l.y-f.y;if(a&&(0!==g||0!==p)&&(null==s||s.indexOf(h-1)<0)){let v=Math.sqrt(g*g+p*p);const y=g*Math.min(c,v/2)/v,b=p*Math.min(c,v/2)/v;r.push("L",f.x+y,f.y+b);let M=n[Qb(h+1,n.length)];for(;h<n.length-2&&0===Math.round(M.x-f.x)&&0===Math.round(M.y-f.y);)M=n[Qb(h+2,n.length)],h+=1;g=M.x-f.x,p=M.y-f.y,v=Math.max(1,Math.sqrt(g*g+p*p));const S=g*Math.min(c,v/2)/v,D=p*Math.min(c,v/2)/v,I=f.x+S,k=f.y+D;r.push("Q",f.x,f.y,I,k),f=new T(I,k)}else r.push("L",f.x,f.y);l=f,h+=1}return i?r.push("Z"):r.push("L",o.x,o.y),r.map(f=>"string"==typeof f?f:+f.toFixed(3)).join(" ")}(t,e.round,null==e.initialMove||e.initialMove,e.close,e.exclude)}function ng(n,e,t,i,s=0,r=0,o=0,a,c){if(0===t||0===i)return[];a-=n,c-=e,t=Math.abs(t),i=Math.abs(i);const l=-a/2,h=-c/2,f=Math.cos(s*Math.PI/180),g=Math.sin(s*Math.PI/180),p=f*l+g*h,v=-1*g*l+f*h,y=p*p,b=v*v,C=t*t,_=i*i,M=y/C+b/_;let S;if(M>1)t=Math.sqrt(M)*t,i=Math.sqrt(M)*i,S=0;else{let en=1;r===o&&(en=-1),S=en*Math.sqrt((C*_-C*b-_*y)/(C*b+_*y))}const D=S*t*v/i,I=-1*S*i*p/t,k=f*D-g*I+a/2,Y=g*D+f*I+c/2;let j=Math.atan2((v-I)/i,(p-D)/t)-Math.atan2(0,1),Q=j>=0?j:2*Math.PI+j;j=Math.atan2((-v-I)/i,(-p-D)/t)-Math.atan2((v-I)/i,(p-D)/t);let Z=j>=0?j:2*Math.PI+j;0===o&&Z>0?Z-=2*Math.PI:0!==o&&Z<0&&(Z+=2*Math.PI);const te=2*Z/Math.PI,Ce=Math.ceil(te<0?-1*te:te),De=Z/Ce,H=8/3*Math.sin(De/4)*Math.sin(De/4)/Math.sin(De/2),V=f*t,ne=f*i,ue=g*t,be=g*i;let Qe=Math.cos(Q),vt=Math.sin(Q),yi=-H*(V*vt+be*Qe),ar=-H*(ue*vt-ne*Qe),_t=0,pl=0;const lo=[];for(let en=0;en<Ce;en+=1){Q+=De,Qe=Math.cos(Q),vt=Math.sin(Q),_t=V*Qe-be*vt+k,pl=ue*Qe+ne*vt+Y;const Wo=-H*(V*vt+be*Qe),fs=-H*(ue*vt-ne*Qe),uo=6*en;lo[uo]=Number(yi+n),lo[uo+1]=Number(ar+e),lo[uo+2]=Number(_t-Wo+n),lo[uo+3]=Number(pl-fs+e),lo[uo+4]=Number(_t+n),lo[uo+5]=Number(pl+e),yi=_t+Wo,ar=pl+fs}return lo.map(en=>+en.toFixed(2))}function _oe(n,e,t,i,s=0,r=0,o=0,a,c){const l=[],h=ng(n,e,t,i,s,r,o,a,c);if(null!=h)for(let f=0,g=h.length;f<g;f+=6)l.push("C",h[f],h[f+1],h[f+2],h[f+3],h[f+4],h[f+5]);return l.join(" ")}class Rn extends Zc{get start(){return this.points[0]||null}get end(){return this.points[this.points.length-1]||null}constructor(e){if(super(),null!=e){if("string"==typeof e)return Rn.parse(e);this.points=e.map(t=>T.create(t))}else this.points=[]}scale(e,t,i=new T){return this.points.forEach(s=>s.scale(e,t,i)),this}rotate(e,t){return this.points.forEach(i=>i.rotate(e,t)),this}translate(e,t){const i=T.create(e,t);return this.points.forEach(s=>s.translate(i.x,i.y)),this}round(e=0){return this.points.forEach(t=>t.round(e)),this}bbox(){if(0===this.points.length)return new re;let e=1/0,t=-1/0,i=1/0,s=-1/0;const r=this.points;for(let o=0,a=r.length;o<a;o+=1){const c=r[o],l=c.x,h=c.y;l<e&&(e=l),l>t&&(t=l),h<i&&(i=h),h>s&&(s=h)}return new re(e,i,t-e,s-i)}closestPoint(e){const t=this.closestPointLength(e);return this.pointAtLength(t)}closestPointLength(e){const t=this.points,i=t.length;if(0===i||1===i)return 0;let s=0,r=0,o=1/0;for(let a=0,c=i-1;a<c;a+=1){const l=new ge(t[a],t[a+1]),h=l.length(),f=l.closestPointNormalizedLength(e),p=l.pointAt(f).squaredDistance(e);p<o&&(o=p,r=s+f*h),s+=h}return r}closestPointNormalizedLength(e){const t=this.length();return 0===t?0:this.closestPointLength(e)/t}closestPointTangent(e){const t=this.closestPointLength(e);return this.tangentAtLength(t)}containsPoint(e){if(0===this.points.length)return!1;const t=T.clone(e),i=t.x,s=t.y,r=this.points,o=r.length;let a=o-1,c=0;for(let l=0;l<o;l+=1){const h=r[a],f=r[l];if(t.equals(h))return!0;const g=new ge(h,f);if(g.containsPoint(e))return!0;if(s<=h.y&&s>f.y||s>h.y&&s<=f.y){const p=h.x-i>f.x-i?h.x-i:f.x-i;if(p>=0){const v=new T(i+p,s),y=new ge(e,v);g.intersectsWithLine(y)&&(c+=1)}}a=l}return c%2==1}intersectsWithLine(e){const t=[];for(let i=0,s=this.points.length-1;i<s;i+=1){const a=e.intersectsWithLine(new ge(this.points[i],this.points[i+1]));a&&t.push(a)}return t.length>0?t:null}isDifferentiable(){for(let e=0,t=this.points.length-1;e<t;e+=1)if(new ge(this.points[e],this.points[e+1]).isDifferentiable())return!0;return!1}length(){let e=0;for(let t=0,i=this.points.length-1;t<i;t+=1)e+=this.points[t].distance(this.points[t+1]);return e}pointAt(e){const t=this.points,i=t.length;if(0===i)return null;if(1===i||e<=0)return t[0].clone();if(e>=1)return t[i-1].clone();const r=this.length()*e;return this.pointAtLength(r)}pointAtLength(e){const t=this.points,i=t.length;if(0===i)return null;if(1===i)return t[0].clone();let s=!0;e<0&&(s=!1,e=-e);let r=0;for(let a=0,c=i-1;a<c;a+=1){const l=s?a:c-1-a,h=t[l],f=t[l+1],g=new ge(h,f),p=h.distance(f);if(e<=r+p)return g.pointAtLength((s?1:-1)*(e-r));r+=p}return(s?t[i-1]:t[0]).clone()}tangentAt(e){const i=this.points.length;if(0===i||1===i)return null;e<0&&(e=0),e>1&&(e=1);const r=this.length()*e;return this.tangentAtLength(r)}tangentAtLength(e){const t=this.points,i=t.length;if(0===i||1===i)return null;let s=!0;e<0&&(s=!1,e=-e);let r,o=0;for(let a=0,c=i-1;a<c;a+=1){const l=s?a:c-1-a,h=t[l],f=t[l+1],g=new ge(h,f),p=h.distance(f);if(g.isDifferentiable()){if(e<=o+p)return g.tangentAtLength((s?1:-1)*(e-o));r=g}o+=p}return r?r.tangentAt(s?1:0):null}simplify(e={}){const t=this.points;if(t.length<3)return this;const i=e.threshold||0;let s=0;for(;t[s+2];){const o=s+1,l=t[o];new ge(t[s],t[s+2]).closestPoint(l).distance(l)<=i?t.splice(o,1):s+=1}return this}toHull(){const e=this.points,t=e.length;if(0===t)return new Rn;let i=e[0];for(let g=1;g<t;g+=1)(e[g].y<i.y||e[g].y===i.y&&e[g].x>i.x)&&(i=e[g]);const s=[];for(let g=0;g<t;g+=1){let p=i.theta(e[g]);0===p&&(p=360),s.push([e[g],g,p])}s.sort((g,p)=>{let v=g[2]-p[2];return 0===v&&(v=p[1]-g[1]),v}),s.length>2&&s.unshift(s[s.length-1]);const r={},o=[],a=g=>`${g[0].toString()}@${g[1]}`;for(;0!==s.length;){const g=s.pop(),p=g[0];if(r[a(g)])continue;let v=!1;for(;!v;)if(o.length<2)o.push(g),v=!0;else{const y=o.pop(),b=y[0],C=o.pop(),_=C[0],M=_.cross(b,p);if(M<0)o.push(C),o.push(y),o.push(g),v=!0;else if(0===M){const D=b.angleBetween(_,p);Math.abs(D-180)<1e-10||b.equals(p)||_.equals(b)?(r[a(y)]=b,o.push(C)):Math.abs((D+1)%360-1)<1e-10&&(o.push(C),s.push(y))}else r[a(y)]=b,o.push(C)}}o.length>2&&o.pop();let c,l=-1;for(let g=0,p=o.length;g<p;g+=1){const v=o[g][1];(void 0===c||v<c)&&(c=v,l=g)}let h=[];if(l>0){const g=o.slice(l),p=o.slice(0,l);h=g.concat(p)}else h=o;const f=[];for(let g=0,p=h.length;g<p;g+=1)f.push(h[g][0]);return new Rn(f)}equals(e){return null!=e&&e.points.length===this.points.length&&e.points.every((t,i)=>t.equals(this.points[i]))}clone(){return new Rn(this.points.map(e=>e.clone()))}toJSON(){return this.points.map(e=>e.toJSON())}serialize(){return this.points.map(e=>`${e.serialize()}`).join(" ")}}(function(n){n.isPolyline=function e(t){return null!=t&&t instanceof n}})(Rn||(Rn={})),function(n){n.parse=function e(t){const i=t.trim();if(""===i)return new n;const s=[],r=i.split(/\s*,\s*|\s+/);for(let o=0,a=r.length;o<a;o+=2)s.push({x:+r[o],y:+r[o+1]});return new n(s)}}(Rn||(Rn={}));class Sn extends Zc{constructor(e,t,i,s){super(),this.PRECISION=3,this.start=T.create(e),this.controlPoint1=T.create(t),this.controlPoint2=T.create(i),this.end=T.create(s)}bbox(){const e=this.start,t=this.controlPoint1,i=this.controlPoint2,s=this.end,r=e.x,o=e.y,a=t.x,c=t.y,l=i.x,h=i.y,f=s.x,g=s.y,p=[],v=[],y=[[],[]];let b,C,_,M,S,D,I,k;for(let ne=0;ne<2;ne+=1)if(0===ne?(C=6*r-12*a+6*l,b=-3*r+9*a-9*l+3*f,_=3*a-3*r):(C=6*o-12*c+6*h,b=-3*o+9*c-9*h+3*g,_=3*c-3*o),Math.abs(b)<1e-12){if(Math.abs(C)<1e-12)continue;M=-_/C,M>0&&M<1&&v.push(M)}else I=C*C-4*_*b,k=Math.sqrt(I),!(I<0)&&(S=(-C+k)/(2*b),S>0&&S<1&&v.push(S),D=(-C-k)/(2*b),D>0&&D<1&&v.push(D));let Y,j,Q,Z=v.length;const te=Z;for(;Z;)Z-=1,M=v[Z],Q=1-M,Y=Q*Q*Q*r+3*Q*Q*M*a+3*Q*M*M*l+M*M*M*f,y[0][Z]=Y,j=Q*Q*Q*o+3*Q*Q*M*c+3*Q*M*M*h+M*M*M*g,y[1][Z]=j,p[Z]={X:Y,Y:j};v[te]=0,v[te+1]=1,p[te]={X:r,Y:o},p[te+1]={X:f,Y:g},y[0][te]=r,y[1][te]=o,y[0][te+1]=f,y[1][te+1]=g,v.length=te+2,y[0].length=te+2,y[1].length=te+2,p.length=te+2;const Ce=Math.min.apply(null,y[0]),De=Math.min.apply(null,y[1]),H=Math.max.apply(null,y[0]),V=Math.max.apply(null,y[1]);return new re(Ce,De,H-Ce,V-De)}closestPoint(e,t={}){return this.pointAtT(this.closestPointT(e,t))}closestPointLength(e,t={}){const i=this.getOptions(t);return this.lengthAtT(this.closestPointT(e,i),i)}closestPointNormalizedLength(e,t={}){const i=this.getOptions(t),s=this.closestPointLength(e,i);if(!s)return 0;const r=this.length(i);return 0===r?0:s/r}closestPointT(e,t={}){const i=this.getPrecision(t),s=this.getDivisions(t),r=Math.pow(10,-i);let o=null,a=0,c=0,l=0,h=0,f=0,g=null;const p=s.length;let v=p>0?1/p:0;for(s.forEach((y,b)=>{const C=y.start.distance(e),_=y.end.distance(e),M=C+_;(null==g||M<g)&&(o=y,a=b*v,c=(b+1)*v,l=C,h=_,g=M,f=y.endpointDistance())});;){const y=l?Math.abs(l-h)/l:0,b=null!=h?Math.abs(l-h)/h:0;if(y<r||b<r||!l||l<f*r||!h||h<f*r)return l<=h?a:c;const D=o.divide(.5);v/=2;const I=D[0].start.distance(e),k=D[0].end.distance(e),Y=I+k,j=D[1].start.distance(e),Q=D[1].end.distance(e);Y<=j+Q?(o=D[0],c-=v,l=I,h=k):(o=D[1],a+=v,l=j,h=Q)}}closestPointTangent(e,t={}){return this.tangentAtT(this.closestPointT(e,t))}containsPoint(e,t={}){return this.toPolyline(t).containsPoint(e)}divideAt(e,t={}){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);const i=this.tAt(e,t);return this.divideAtT(i)}divideAtLength(e,t={}){const i=this.tAtLength(e,t);return this.divideAtT(i)}divide(e){return this.divideAtT(e)}divideAtT(e){const t=this.start,i=this.controlPoint1,s=this.controlPoint2,r=this.end;if(e<=0)return[new Sn(t,t,t,t),new Sn(t,i,s,r)];if(e>=1)return[new Sn(t,i,s,r),new Sn(r,r,r,r)];const o=this.getSkeletonPoints(e),l=o.divider,h=o.dividerControlPoint1,f=o.dividerControlPoint2;return[new Sn(t,o.startControlPoint1,o.startControlPoint2,l),new Sn(l,h,f,r)]}endpointDistance(){return this.start.distance(this.end)}getSkeletonPoints(e){const t=this.start,i=this.controlPoint1,s=this.controlPoint2,r=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:s.clone()};if(e>=1)return{startControlPoint1:i.clone(),startControlPoint2:s.clone(),divider:r.clone(),dividerControlPoint1:r.clone(),dividerControlPoint2:r.clone()};const o=new ge(t,i).pointAt(e),a=new ge(i,s).pointAt(e),c=new ge(s,r).pointAt(e),l=new ge(o,a).pointAt(e),h=new ge(a,c).pointAt(e);return{startControlPoint1:o,startControlPoint2:l,divider:new ge(l,h).pointAt(e),dividerControlPoint1:h,dividerControlPoint2:c}}getSubdivisions(e={}){const t=this.getPrecision(e);let i=[new Sn(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(0===t)return i;let s=this.endpointDistance();const r=Math.pow(10,-t);let o=0;for(;;){o+=1;const a=[];i.forEach(h=>{const f=h.divide(.5);a.push(f[0],f[1])});const c=a.reduce((h,f)=>h+f.endpointDistance(),0);if(o>1&&(0!==c?(c-s)/c:0)<r)return a;i=a,s=c}}length(e={}){return this.getDivisions(e).reduce((i,s)=>i+s.endpointDistance(),0)}lengthAtT(e,t={}){if(e<=0)return 0;const i=void 0===t.precision?this.PRECISION:t.precision;return this.divide(e)[0].length({precision:i})}pointAt(e,t={}){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();const i=this.tAt(e,t);return this.pointAtT(i)}pointAtLength(e,t={}){const i=this.tAtLength(e,t);return this.pointAtT(i)}pointAtT(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider}isDifferentiable(){const t=this.controlPoint1,i=this.controlPoint2,s=this.end;return!(this.start.equals(t)&&t.equals(i)&&i.equals(s))}tangentAt(e,t={}){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);const i=this.tAt(e,t);return this.tangentAtT(i)}tangentAtLength(e,t={}){if(!this.isDifferentiable())return null;const i=this.tAtLength(e,t);return this.tangentAtT(i)}tangentAtT(e){if(!this.isDifferentiable())return null;e<0&&(e=0),e>1&&(e=1);const t=this.getSkeletonPoints(e),i=t.startControlPoint2,r=t.divider,o=new ge(i,t.dividerControlPoint1);return o.translate(r.x-i.x,r.y-i.y),o}getPrecision(e={}){return null==e.precision?this.PRECISION:e.precision}getDivisions(e={}){if(null!=e.subdivisions)return e.subdivisions;const t=this.getPrecision(e);return this.getSubdivisions({precision:t})}getOptions(e={}){return{precision:this.getPrecision(e),subdivisions:this.getDivisions(e)}}tAt(e,t={}){if(e<=0)return 0;if(e>=1)return 1;const i=this.getOptions(t),r=this.length(i)*e;return this.tAtLength(r,i)}tAtLength(e,t={}){let i=!0;e<0&&(i=!1,e=-e);const s=this.getPrecision(t),r=this.getDivisions(t),o={precision:s,subdivisions:r};let c,l,a=null,h=0,f=0,g=0;const p=r.length;let v=p>0?1/p:0;for(let C=0;C<p;C+=1){const _=i?C:p-1-C,M=r[C],S=M.endpointDistance();if(e<=g+S){a=M,c=_*v,l=(_+1)*v,h=i?e-g:S+g-e,f=i?S+g-e:e-g;break}g+=S}if(null==a)return i?1:0;const y=this.length(o),b=Math.pow(10,-s);for(;;){let C,_,M;if(C=0!==y?h/y:0,C<b)return c;if(C=0!==y?f/y:0,C<b)return l;const S=a.divide(.5);v/=2;const D=S[0].endpointDistance(),I=S[1].endpointDistance();h<=D?(a=S[0],l-=v,_=h,M=D-_):(a=S[1],c+=v,_=h-D,M=I-_),h=_,f=M}}toPoints(e={}){const t=this.getDivisions(e),i=[t[0].start.clone()];return t.forEach(s=>i.push(s.end.clone())),i}toPolyline(e={}){return new Rn(this.toPoints(e))}scale(e,t,i){return this.start.scale(e,t,i),this.controlPoint1.scale(e,t,i),this.controlPoint2.scale(e,t,i),this.end.scale(e,t,i),this}rotate(e,t){return this.start.rotate(e,t),this.controlPoint1.rotate(e,t),this.controlPoint2.rotate(e,t),this.end.rotate(e,t),this}translate(e,t){return"number"==typeof e?(this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t)):(this.start.translate(e),this.controlPoint1.translate(e),this.controlPoint2.translate(e),this.end.translate(e)),this}equals(e){return null!=e&&this.start.equals(e.start)&&this.controlPoint1.equals(e.controlPoint1)&&this.controlPoint2.equals(e.controlPoint2)&&this.end.equals(e.end)}clone(){return new Sn(this.start,this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.controlPoint1.serialize(),this.controlPoint2.serialize(),this.end.serialize()].join(" ")}}(function(n){n.isCurve=function e(t){return null!=t&&t instanceof n}})(Sn||(Sn={})),function(n){function e(s){const r=s.length,o=[],a=[];let c=2;o[0]=s[0]/c;for(let l=1;l<r;l+=1)a[l]=1/c,c=(l<r-1?4:3.5)-a[l],o[l]=(s[l]-o[l-1])/c;for(let l=1;l<r;l+=1)o[r-l-1]-=a[r-l]*o[r-l];return o}n.throughPoints=function i(s){if(null==s||Array.isArray(s)&&s.length<2)throw new Error("At least 2 points are required");const r=function t(s){const r=s.map(g=>T.clone(g)),o=[],a=[],c=r.length-1;if(1===c)return o[0]=new T((2*r[0].x+r[1].x)/3,(2*r[0].y+r[1].y)/3),a[0]=new T(2*o[0].x-r[0].x,2*o[0].y-r[0].y),[o,a];const l=[];for(let g=1;g<c-1;g+=1)l[g]=4*r[g].x+2*r[g+1].x;l[0]=r[0].x+2*r[1].x,l[c-1]=(8*r[c-1].x+r[c].x)/2;const h=e(l);for(let g=1;g<c-1;g+=1)l[g]=4*r[g].y+2*r[g+1].y;l[0]=r[0].y+2*r[1].y,l[c-1]=(8*r[c-1].y+r[c].y)/2;const f=e(l);for(let g=0;g<c;g+=1)o.push(new T(h[g],f[g])),a.push(g<c-1?new T(2*r[g+1].x-h[g+1],2*r[g+1].y-f[g+1]):new T((r[c].x+h[c-1])/2,(r[c].y+f[c-1])/2));return[o,a]}(s),o=[];for(let a=0,c=r[0].length;a<c;a+=1){const l=new T(r[0][a].x,r[0][a].y),h=new T(r[1][a].x,r[1][a].y);o.push(new n(s[a],l,h,s[a+1]))}return o}}(Sn||(Sn={}));class ig extends Zc{constructor(){super(...arguments),this.isVisible=!0,this.isSegment=!0,this.isSubpathStart=!1}get end(){return this.endPoint}get start(){if(null==this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path, or segment has not yet been added to a path.)");return this.previousSegment.end}closestPointT(e,t){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither `closestPointT` nor `closestPointNormalizedLength` method is implemented.")}lengthAtT(e,t){if(e<=0)return 0;const i=this.length();return e>=1?i:i*e}divideAtT(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither `divideAtT` nor `divideAt` method is implemented.")}pointAtT(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither `pointAtT` nor `pointAt` method is implemented.")}tangentAtT(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither `tangentAtT` nor `tangentAt` method is implemented.")}}class qi extends ig{constructor(e,t){super(),this.endPoint=ge.isLine(e)?e.end.clone().round(2):T.create(e,t).round(2)}get type(){return"L"}get line(){return new ge(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(e){return this.line.closestPoint(e)}closestPointLength(e){return this.line.closestPointLength(e)}closestPointNormalizedLength(e){return this.line.closestPointNormalizedLength(e)}closestPointTangent(e){return this.line.closestPointTangent(e)}length(){return this.line.length()}divideAt(e){const t=this.line.divideAt(e);return[new qi(t[0]),new qi(t[1])]}divideAtLength(e){const t=this.line.divideAtLength(e);return[new qi(t[0]),new qi(t[1])]}getSubdivisions(){return[]}pointAt(e){return this.line.pointAt(e)}pointAtLength(e){return this.line.pointAtLength(e)}tangentAt(e){return this.line.tangentAt(e)}tangentAtLength(e){return this.line.tangentAtLength(e)}isDifferentiable(){return null!=this.previousSegment&&!this.start.equals(this.end)}clone(){return new qi(this.end)}scale(e,t,i){return this.end.scale(e,t,i),this}rotate(e,t){return this.end.rotate(e,t),this}translate(e,t){return"number"==typeof e?this.end.translate(e,t):this.end.translate(e),this}equals(e){return this.type===e.type&&this.start.equals(e.start)&&this.end.equals(e.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){const e=this.end;return`${this.type} ${e.x} ${e.y}`}}!function(n){n.create=function e(...t){const i=t.length,s=t[0];if(ge.isLine(s))return new n(s);if(T.isPointLike(s))return 1===i?new n(s):t.map(o=>new n(o));if(2===i)return new n(+t[0],+t[1]);const r=[];for(let o=0;o<i;o+=2)r.push(new n(+t[o],+t[o+1]));return r}}(qi||(qi={}));class S2 extends ig{get end(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. MoveTo), or segment has not yet been added to a path.)");return this.subpathStartSegment.end}get type(){return"Z"}get line(){return new ge(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(e){return this.line.closestPoint(e)}closestPointLength(e){return this.line.closestPointLength(e)}closestPointNormalizedLength(e){return this.line.closestPointNormalizedLength(e)}closestPointTangent(e){return this.line.closestPointTangent(e)}length(){return this.line.length()}divideAt(e){const t=this.line.divideAt(e);return[t[1].isDifferentiable()?new qi(t[0]):this.clone(),new qi(t[1])]}divideAtLength(e){const t=this.line.divideAtLength(e);return[t[1].isDifferentiable()?new qi(t[0]):this.clone(),new qi(t[1])]}getSubdivisions(){return[]}pointAt(e){return this.line.pointAt(e)}pointAtLength(e){return this.line.pointAtLength(e)}tangentAt(e){return this.line.tangentAt(e)}tangentAtLength(e){return this.line.tangentAtLength(e)}isDifferentiable(){return!(!this.previousSegment||!this.subpathStartSegment||this.start.equals(this.end))}scale(){return this}rotate(){return this}translate(){return this}equals(e){return this.type===e.type&&this.start.equals(e.start)&&this.end.equals(e.end)}clone(){return new S2}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return this.type}}!function(n){n.create=function e(){return new n}}(S2||(S2={}));class z2 extends ig{constructor(e,t){super(),this.isVisible=!1,this.isSubpathStart=!0,this.endPoint=ge.isLine(e)||Sn.isCurve(e)?e.end.clone().round(2):T.create(e,t).round(2)}get start(){throw new Error("Illegal access. Moveto segments should not need a start property.")}get type(){return"M"}bbox(){return null}closestPoint(){return this.end.clone()}closestPointLength(){return 0}closestPointNormalizedLength(){return 0}closestPointT(){return 1}closestPointTangent(){return null}length(){return 0}lengthAtT(){return 0}divideAt(){return[this.clone(),this.clone()]}divideAtLength(){return[this.clone(),this.clone()]}getSubdivisions(){return[]}pointAt(){return this.end.clone()}pointAtLength(){return this.end.clone()}pointAtT(){return this.end.clone()}tangentAt(){return null}tangentAtLength(){return null}tangentAtT(){return null}isDifferentiable(){return!1}scale(e,t,i){return this.end.scale(e,t,i),this}rotate(e,t){return this.end.rotate(e,t),this}translate(e,t){return"number"==typeof e?this.end.translate(e,t):this.end.translate(e),this}clone(){return new z2(this.end)}equals(e){return this.type===e.type&&this.end.equals(e.end)}toJSON(){return{type:this.type,end:this.end.toJSON()}}serialize(){const e=this.end;return`${this.type} ${e.x} ${e.y}`}}!function(n){n.create=function e(...t){const i=t.length,s=t[0];if(ge.isLine(s))return new n(s);if(Sn.isCurve(s))return new n(s);if(T.isPointLike(s)){if(1===i)return new n(s);const o=[];for(let a=0;a<i;a+=1)o.push(0===a?new n(t[a]):new qi(t[a]));return o}if(2===i)return new n(+t[0],+t[1]);const r=[];for(let o=0;o<i;o+=2){const a=+t[o],c=+t[o+1];r.push(0===o?new n(a,c):new qi(a,c))}return r}}(z2||(z2={}));class Pr extends ig{constructor(e,t,i,s,r,o){super(),Sn.isCurve(e)?(this.controlPoint1=e.controlPoint1.clone().round(2),this.controlPoint2=e.controlPoint2.clone().round(2),this.endPoint=e.end.clone().round(2)):"number"==typeof e?(this.controlPoint1=new T(e,t).round(2),this.controlPoint2=new T(i,s).round(2),this.endPoint=new T(r,o).round(2)):(this.controlPoint1=T.create(e).round(2),this.controlPoint2=T.create(t).round(2),this.endPoint=T.create(i).round(2))}get type(){return"C"}get curve(){return new Sn(this.start,this.controlPoint1,this.controlPoint2,this.end)}bbox(){return this.curve.bbox()}closestPoint(e){return this.curve.closestPoint(e)}closestPointLength(e){return this.curve.closestPointLength(e)}closestPointNormalizedLength(e){return this.curve.closestPointNormalizedLength(e)}closestPointTangent(e){return this.curve.closestPointTangent(e)}length(){return this.curve.length()}divideAt(e,t={}){const i=this.curve.divideAt(e,t);return[new Pr(i[0]),new Pr(i[1])]}divideAtLength(e,t={}){const i=this.curve.divideAtLength(e,t);return[new Pr(i[0]),new Pr(i[1])]}divideAtT(e){const t=this.curve.divideAtT(e);return[new Pr(t[0]),new Pr(t[1])]}getSubdivisions(){return[]}pointAt(e){return this.curve.pointAt(e)}pointAtLength(e){return this.curve.pointAtLength(e)}tangentAt(e){return this.curve.tangentAt(e)}tangentAtLength(e){return this.curve.tangentAtLength(e)}isDifferentiable(){if(!this.previousSegment)return!1;const t=this.controlPoint1,i=this.controlPoint2,s=this.end;return!(this.start.equals(t)&&t.equals(i)&&i.equals(s))}scale(e,t,i){return this.controlPoint1.scale(e,t,i),this.controlPoint2.scale(e,t,i),this.end.scale(e,t,i),this}rotate(e,t){return this.controlPoint1.rotate(e,t),this.controlPoint2.rotate(e,t),this.end.rotate(e,t),this}translate(e,t){return"number"==typeof e?(this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t)):(this.controlPoint1.translate(e),this.controlPoint2.translate(e),this.end.translate(e)),this}equals(e){return this.start.equals(e.start)&&this.end.equals(e.end)&&this.controlPoint1.equals(e.controlPoint1)&&this.controlPoint2.equals(e.controlPoint2)}clone(){return new Pr(this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){const e=this.controlPoint1,t=this.controlPoint2,i=this.end;return[this.type,e.x,e.y,t.x,t.y,i.x,i.y].join(" ")}}function sg(n,e,t){return{x:n*Math.cos(t)-e*Math.sin(t),y:n*Math.sin(t)+e*Math.cos(t)}}function kO(n,e,t,i,s,r){const o=.3333333333333333,a=2/3;return[o*n+a*t,o*e+a*i,o*s+a*t,o*r+a*i,s,r]}function FO(n,e,t,i,s,r,o,a,c,l){const h=120*Math.PI/180,f=Math.PI/180*(+s||0);let p,v,y,b,C,g=[];if(l)v=l[0],y=l[1],b=l[2],C=l[3];else{p=sg(n,e,-f),n=p.x,e=p.y,p=sg(a,c,-f);const De=(n-(a=p.x))/2,H=(e-(c=p.y))/2;let V=De*De/(t*t)+H*H/(i*i);V>1&&(V=Math.sqrt(V),t*=V,i*=V);const ne=t*t,ue=i*i,be=(r===o?-1:1)*Math.sqrt(Math.abs((ne*ue-ne*H*H-ue*De*De)/(ne*H*H+ue*De*De)));b=be*t*H/i+(n+a)/2,C=be*-i*De/t+(e+c)/2,v=Math.asin((e-C)/i),y=Math.asin((c-C)/i),v=n<b?Math.PI-v:v,y=a<b?Math.PI-y:y,v<0&&(v=2*Math.PI+v),y<0&&(y=2*Math.PI+y),o&&v>y&&(v-=2*Math.PI),!o&&y>v&&(y-=2*Math.PI)}let _=y-v;if(Math.abs(_)>h){const De=y,H=a,V=c;y=v+h*(o&&y>v?1:-1),g=FO(a=b+t*Math.cos(y),c=C+i*Math.sin(y),t,i,s,0,o,H,V,[y,De,b,C])}_=y-v;const M=Math.cos(v),S=Math.sin(v),D=Math.cos(y),I=Math.sin(y),k=Math.tan(_/4),Y=4/3*(t*k),j=4/3*(i*k),Q=[n,e],Z=[n+Y*S,e-j*M],te=[a+Y*I,c-j*D],Ce=[a,c];if(Z[0]=2*Q[0]-Z[0],Z[1]=2*Q[1]-Z[1],l)return[Z,te,Ce].concat(g);{g=[Z,te,Ce].concat(g).join().split(",");const De=[],H=g.length;for(let V=0;V<H;V+=1)De[V]=V%2?sg(+g[V-1],+g[V],f).y:sg(+g[V],+g[V+1],f).x;return De}}function xoe(n){const e=function Moe(n){const e=function Coe(n){if(!n)return null;const e="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",t=new RegExp(`([a-z])[${e},]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[${e}]*,?[${e}]*)+)`,"ig"),i=new RegExp(`(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[${e}]*,?[${e}]*`,"ig"),s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=[];return n.replace(t,(o,a,c)=>{const l=[];let h=a.toLowerCase();c.replace(i,(g,p)=>(p&&l.push(+p),g)),"m"===h&&l.length>2&&(r.push([a,...l.splice(0,2)]),h="l",a="m"===a?"l":"L");const f=s[h];for(;l.length>=f&&(r.push([a,...l.splice(0,f)]),f););return o}),r}(n);if(!e||!e.length)return[["M",0,0]];let t=0,i=0,s=0,r=0;const o=[];for(let a=0,c=e.length;a<c;a+=1){const l=[];o.push(l);const h=e[a],f=h[0];if(f!==f.toUpperCase())switch(l[0]=f.toUpperCase(),l[0]){case"A":l[1]=h[1],l[2]=h[2],l[3]=h[3],l[4]=h[4],l[5]=h[5],l[6]=+h[6]+t,l[7]=+h[7]+i;break;case"V":l[1]=+h[1]+i;break;case"H":l[1]=+h[1]+t;break;case"M":s=+h[1]+t,r=+h[2]+i;for(let g=1,p=h.length;g<p;g+=1)l[g]=+h[g]+(g%2?t:i);break;default:for(let g=1,p=h.length;g<p;g+=1)l[g]=+h[g]+(g%2?t:i)}else for(let g=0,p=h.length;g<p;g+=1)l[g]=h[g];switch(l[0]){case"Z":t=+s,i=+r;break;case"H":t=l[1];break;case"V":i=l[1];break;case"M":s=l[l.length-2],r=l[l.length-1],t=l[l.length-2],i=l[l.length-1];break;default:t=l[l.length-2],i=l[l.length-1]}}return o}(n),t={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function i(c,l,h){let f,g;if(!c)return["C",l.x,l.y,l.x,l.y,l.x,l.y];switch(c[0]in{T:1,Q:1}||(l.qx=null,l.qy=null),c[0]){case"M":l.X=c[1],l.Y=c[2];break;case"A":return 0===parseFloat(c[1])||0===parseFloat(c[2])?["L",c[6],c[7]]:["C"].concat(FO.apply(0,[l.x,l.y].concat(c.slice(1))));case"S":return"C"===h||"S"===h?(f=2*l.x-l.bx,g=2*l.y-l.by):(f=l.x,g=l.y),["C",f,g].concat(c.slice(1));case"T":return"Q"===h||"T"===h?(l.qx=2*l.x-l.qx,l.qy=2*l.y-l.qy):(l.qx=l.x,l.qy=l.y),["C"].concat(kO(l.x,l.y,l.qx,l.qy,c[1],c[2]));case"Q":return l.qx=c[1],l.qy=c[2],["C"].concat(kO(l.x,l.y,c[1],c[2],c[3],c[4]));case"H":return["L"].concat(c[1],l.y);case"V":return["L"].concat(l.x,c[1])}return c}function s(c,l){if(c[l].length>7){c[l].shift();const h=c[l];for(;h.length;)r[l]="A",c.splice(l+=1,0,["C"].concat(h.splice(0,6)));c.splice(l,1),a=e.length}}const r=[];let o="",a=e.length;for(let c=0;c<a;c+=1){let l="";e[c]&&(l=e[c][0]),"C"!==l&&(r[c]=l,c>0&&(o=r[c-1])),e[c]=i(e[c],t,o),"A"!==r[c]&&"C"===l&&(r[c]="C"),s(e,c);const h=e[c],f=h.length;t.x=h[f-2],t.y=h[f-1],t.bx=parseFloat(h[f-4])||t.x,t.by=parseFloat(h[f-3])||t.y}return(!e[0][0]||"M"!==e[0][0])&&e.unshift(["M",0,0]),e}function Eoe(n){return xoe(n).map(e=>e.map(t=>"string"==typeof t?t:wt.round(t,2))).join(",").split(",").join(" ")}!function(n){n.create=function e(...t){const i=t.length,s=t[0];if(Sn.isCurve(s))return new n(s);if(T.isPointLike(s)){if(3===i)return new n(t[0],t[1],t[2]);const o=[];for(let a=0;a<i;a+=3)o.push(new n(t[a],t[a+1],t[a+2]));return o}if(6===i)return new n(t[0],t[1],t[2],t[3],t[4],t[5]);const r=[];for(let o=0;o<i;o+=6)r.push(new n(t[o],t[o+1],t[o+2],t[o+3],t[o+4],t[o+5]));return r}}(Pr||(Pr={}));class _e extends Zc{constructor(e){if(super(),this.PRECISION=3,this.segments=[],Array.isArray(e))if(ge.isLine(e[0])||Sn.isCurve(e[0])){let t=null;e.forEach((s,r)=>{0===r&&this.appendSegment(_e.createSegment("M",s.start)),null!=t&&!t.end.equals(s.start)&&this.appendSegment(_e.createSegment("M",s.start)),ge.isLine(s)?this.appendSegment(_e.createSegment("L",s.end)):Sn.isCurve(s)&&this.appendSegment(_e.createSegment("C",s.controlPoint1,s.controlPoint2,s.end)),t=s})}else e.forEach(i=>{i.isSegment&&this.appendSegment(i)});else null!=e&&(ge.isLine(e)?(this.appendSegment(_e.createSegment("M",e.start)),this.appendSegment(_e.createSegment("L",e.end))):Sn.isCurve(e)?(this.appendSegment(_e.createSegment("M",e.start)),this.appendSegment(_e.createSegment("C",e.controlPoint1,e.controlPoint2,e.end))):Rn.isPolyline(e)?e.points&&e.points.length&&e.points.forEach((t,i)=>{const s=_e.createSegment(0===i?"M":"L",t);this.appendSegment(s)}):e.isSegment&&this.appendSegment(e))}get start(){const e=this.segments,t=e.length;if(0===t)return null;for(let i=0;i<t;i+=1){const s=e[i];if(s.isVisible)return s.start}return e[t-1].end}get end(){const e=this.segments,t=e.length;if(0===t)return null;for(let i=t-1;i>=0;i-=1){const s=e[i];if(s.isVisible)return s.end}return e[t-1].end}moveTo(...e){return this.appendSegment(z2.create.call(null,...e))}lineTo(...e){return this.appendSegment(qi.create.call(null,...e))}curveTo(...e){return this.appendSegment(Pr.create.call(null,...e))}arcTo(e,t,i,s,r,o,a){const c=this.end||new T,l="number"==typeof o?ng(c.x,c.y,e,t,i,s,r,o,a):ng(c.x,c.y,e,t,i,s,r,o.x,o.y);if(null!=l)for(let h=0,f=l.length;h<f;h+=6)this.curveTo(l[h],l[h+1],l[h+2],l[h+3],l[h+4],l[h+5]);return this}quadTo(e,t,i,s){const r=this.end||new T,o=["M",r.x,r.y];"number"==typeof e?o.push("Q",e,t,i,s):o.push("Q",e.x,e.y,t.x,t.y);const a=_e.parse(o.join(" "));return this.appendSegment(a.segments.slice(1)),this}close(){return this.appendSegment(S2.create())}drawPoints(e,t={}){const i=HO(e,t),s=_e.parse(i);s&&s.segments&&this.appendSegment(s.segments)}bbox(){const e=this.segments,t=e.length;if(0===t)return null;let i;for(let r=0;r<t;r+=1){const o=e[r];if(o.isVisible){const a=o.bbox();null!=a&&(i=i?i.union(a):a)}}if(null!=i)return i;const s=e[t-1];return new re(s.end.x,s.end.y,0,0)}appendSegment(e){const t=this.segments.length;let s,i=0!==t?this.segments[t-1]:null;if(Array.isArray(e))for(let o=0,a=e.length;o<a;o+=1)s=this.prepareSegment(e[o],i,null),this.segments.push(s),i=s;else null!=e&&e.isSegment&&(s=this.prepareSegment(e,i,null),this.segments.push(s));return this}insertSegment(e,t){const i=this.segments.length;if(e<0&&(e=i+e+1),e>i||e<0)throw new Error("Index out of range.");let s,r=null,o=null;if(0!==i&&(e>=1?(r=this.segments[e-1],o=r.nextSegment):(r=null,o=this.segments[0])),Array.isArray(t))for(let a=0,c=t.length;a<c;a+=1)s=this.prepareSegment(t[a],r,o),this.segments.splice(e+a,0,s),r=s;else s=this.prepareSegment(t,r,o),this.segments.splice(e,0,s);return this}removeSegment(e){const t=this.fixIndex(e),i=this.segments.splice(t,1)[0],s=i.previousSegment,r=i.nextSegment;return s&&(s.nextSegment=r),r&&(r.previousSegment=s),i.isSubpathStart&&r&&this.updateSubpathStartSegment(r),i}replaceSegment(e,t){const i=this.fixIndex(e);let s;const r=this.segments[i];let o=r.previousSegment;const a=r.nextSegment;let c=r.isSubpathStart;if(Array.isArray(t)){this.segments.splice(e,1);for(let l=0,h=t.length;l<h;l+=1)s=this.prepareSegment(t[l],o,a),this.segments.splice(e+l,0,s),o=s,c&&s.isSubpathStart&&(c=!1)}else s=this.prepareSegment(t,o,a),this.segments.splice(i,1,s),c&&s.isSubpathStart&&(c=!1);c&&a&&this.updateSubpathStartSegment(a)}getSegment(e){const t=this.fixIndex(e);return this.segments[t]}fixIndex(e){const t=this.segments.length;if(0===t)throw new Error("Path has no segments.");let i=e;for(;i<0;)i=t+i;if(i>=t||i<0)throw new Error("Index out of range.");return i}segmentAt(e,t={}){const i=this.segmentIndexAt(e,t);return i?this.getSegment(i):null}segmentAtLength(e,t={}){const i=this.segmentIndexAtLength(e,t);return i?this.getSegment(i):null}segmentIndexAt(e,t={}){if(0===this.segments.length)return null;const i=wt.clamp(e,0,1),s=this.getOptions(t),o=this.length(s)*i;return this.segmentIndexAtLength(o,s)}segmentIndexAtLength(e,t={}){const i=this.segments.length;if(0===i)return null;let s=!0;e<0&&(s=!1,e=-e);const r=this.getPrecision(t),o=this.getSubdivisions(t);let a=0,c=null;for(let l=0;l<i;l+=1){const h=s?l:i-1-l,f=this.segments[h],p=f.length({precision:r,subdivisions:o[h]});if(f.isVisible){if(e<=a+p)return h;c=h}a+=p}return c}getSegmentSubdivisions(e={}){const t=this.getPrecision(e),i=[];for(let s=0,r=this.segments.length;s<r;s+=1){const a=this.segments[s].getSubdivisions({precision:t});i.push(a)}return i}updateSubpathStartSegment(e){let t=e.previousSegment,i=e;for(;i&&!i.isSubpathStart;)i.subpathStartSegment=null!=t?t.subpathStartSegment:null,t=i,i=i.nextSegment}prepareSegment(e,t,i){e.previousSegment=t,e.nextSegment=i,null!=t&&(t.nextSegment=e),null!=i&&(i.previousSegment=e);let s=e;return e.isSubpathStart&&(e.subpathStartSegment=e,s=i),null!=s&&this.updateSubpathStartSegment(s),e}closestPoint(e,t={}){const i=this.closestPointT(e,t);return i?this.pointAtT(i):null}closestPointLength(e,t={}){const i=this.getOptions(t),s=this.closestPointT(e,i);return s?this.lengthAtT(s,i):0}closestPointNormalizedLength(e,t={}){const i=this.getOptions(t),s=this.closestPointLength(e,i);if(0===s)return 0;const r=this.length(i);return 0===r?0:s/r}closestPointT(e,t={}){if(0===this.segments.length)return null;const i=this.getPrecision(t),s=this.getSubdivisions(t);let r,o=1/0;for(let a=0,c=this.segments.length;a<c;a+=1){const l=this.segments[a];if(l.isVisible){const f=l.closestPointT(e,{precision:i,subdivisions:s[a]}),g=l.pointAtT(f),p=wt.squaredLength(g,e);p<o&&(r={segmentIndex:a,value:f},o=p)}}return r||{segmentIndex:this.segments.length-1,value:1}}closestPointTangent(e,t={}){if(0===this.segments.length)return null;const i=this.getPrecision(t),s=this.getSubdivisions(t);let r,o=1/0;for(let a=0,c=this.segments.length;a<c;a+=1){const l=this.segments[a],h=s[a];if(l.isDifferentiable()){const f=l.closestPointT(e,{precision:i,subdivisions:h}),g=l.pointAtT(f),p=wt.squaredLength(g,e);p<o&&(r=l.tangentAtT(f),o=p)}}return r||null}containsPoint(e,t={}){const i=this.toPolylines(t);if(!i)return!1;let s=0;for(let r=0,o=i.length;r<o;r+=1)i[r].containsPoint(e)&&(s+=1);return s%2==1}pointAt(e,t={}){if(0===this.segments.length)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();const i=this.getOptions(t),r=this.length(i)*e;return this.pointAtLength(r,i)}pointAtLength(e,t={}){if(0===this.segments.length)return null;if(0===e)return this.start.clone();let i=!0;e<0&&(i=!1,e=-e);const s=this.getPrecision(t),r=this.getSubdivisions(t);let o,a=0;for(let l=0,h=this.segments.length;l<h;l+=1){const f=i?l:h-1-l,g=this.segments[f],p=r[f],v=g.length({precision:s,subdivisions:p});if(g.isVisible){if(e<=a+v)return g.pointAtLength((i?1:-1)*(e-a),{precision:s,subdivisions:p});o=g}a+=v}return o?i?o.end:o.start:this.segments[this.segments.length-1].end.clone()}pointAtT(e){const t=this.segments,i=t.length;if(0===i)return null;const s=e.segmentIndex;if(s<0)return t[0].pointAtT(0);if(s>=i)return t[i-1].pointAtT(1);const r=wt.clamp(e.value,0,1);return t[s].pointAtT(r)}divideAt(e,t={}){if(0===this.segments.length)return null;const i=wt.clamp(e,0,1),s=this.getOptions(t),o=this.length(s)*i;return this.divideAtLength(o,s)}divideAtLength(e,t={}){if(0===this.segments.length)return null;let i=!0;e<0&&(i=!1,e=-e);const s=this.getPrecision(t),r=this.getSubdivisions(t);let a,c,l,h,f,o=0;for(let D=0,I=this.segments.length;D<I;D+=1){const k=i?D:I-1-D,Y=this.getSegment(k),Q={precision:s,subdivisions:r[k]},Z=Y.length(Q);if(Y.isDifferentiable()&&(l=Y,h=k,e<=o+Z)){c=k,a=Y.divideAtLength((i?1:-1)*(e-o),Q);break}o+=Z}if(!l)return null;a||(c=h,f=i?1:0,a=l.divideAtT(f));const g=this.clone(),p=c;g.replaceSegment(p,a);const v=p;let y=p+1,b=p+2;a[0].isDifferentiable()||(g.removeSegment(v),y-=1,b-=1);const C=g.getSegment(y).start;g.insertSegment(y,_e.createSegment("M",C)),b+=1,a[1].isDifferentiable()||(g.removeSegment(b-1),b-=1);const _=b-v-1;for(let D=b,I=g.segments.length;D<I;D+=1){const k=this.getSegment(D-_),Y=g.getSegment(D);if("Z"===Y.type&&!k.subpathStartSegment.end.equals(Y.subpathStartSegment.end)){const j=_e.createSegment("L",k.end);g.replaceSegment(D,j)}}return[new _e(g.segments.slice(0,y)),new _e(g.segments.slice(y))]}intersectsWithLine(e,t={}){const i=this.toPolylines(t);if(null==i)return null;let s=null;for(let r=0,o=i.length;r<o;r+=1){const c=e.intersect(i[r]);c&&(null==s&&(s=[]),Array.isArray(c)?s.push(...c):s.push(c))}return s}isDifferentiable(){for(let e=0,t=this.segments.length;e<t;e+=1)if(this.segments[e].isDifferentiable())return!0;return!1}isValid(){const e=this.segments;return 0===e.length||"M"===e[0].type}length(e={}){if(0===this.segments.length)return 0;const t=this.getSubdivisions(e);let i=0;for(let s=0,r=this.segments.length;s<r;s+=1)i+=this.segments[s].length({subdivisions:t[s]});return i}lengthAtT(e,t={}){const i=this.segments.length;if(0===i)return 0;let s=e.segmentIndex;if(s<0)return 0;let r=wt.clamp(e.value,0,1);s>=i&&(s=i-1,r=1);const o=this.getPrecision(t),a=this.getSubdivisions(t);let c=0;for(let f=0;f<s;f+=1)c+=this.segments[f].length({precision:o,subdivisions:a[f]});return c+=this.segments[s].lengthAtT(r,{precision:o,subdivisions:a[s]}),c}tangentAt(e,t={}){if(0===this.segments.length)return null;const i=wt.clamp(e,0,1),s=this.getOptions(t),o=this.length(s)*i;return this.tangentAtLength(o,s)}tangentAtLength(e,t={}){if(0===this.segments.length)return null;let i=!0;e<0&&(i=!1,e=-e);const s=this.getPrecision(t),r=this.getSubdivisions(t);let o,a=0;for(let c=0,l=this.segments.length;c<l;c+=1){const h=i?c:l-1-c,f=this.segments[h],g=r[h],p=f.length({precision:s,subdivisions:g});if(f.isDifferentiable()){if(e<=a+p)return f.tangentAtLength((i?1:-1)*(e-a),{precision:s,subdivisions:g});o=f}a+=p}return o?o.tangentAtT(i?1:0):null}tangentAtT(e){const t=this.segments.length;if(0===t)return null;const i=e.segmentIndex;if(i<0)return this.segments[0].tangentAtT(0);if(i>=t)return this.segments[t-1].tangentAtT(1);const s=wt.clamp(e.value,0,1);return this.segments[i].tangentAtT(s)}getPrecision(e={}){return null==e.precision?this.PRECISION:e.precision}getSubdivisions(e={}){if(null==e.segmentSubdivisions){const t=this.getPrecision(e);return this.getSegmentSubdivisions({precision:t})}return e.segmentSubdivisions}getOptions(e={}){return{precision:this.getPrecision(e),segmentSubdivisions:this.getSubdivisions(e)}}toPoints(e={}){const t=this.segments,i=t.length;if(0===i)return null;const s=this.getSubdivisions(e),r=[];let o=[];for(let a=0;a<i;a+=1){const c=t[a];if(c.isVisible){const l=s[a];l.length>0?l.forEach(h=>o.push(h.start)):o.push(c.start)}else o.length>0&&(o.push(t[a-1].end),r.push(o),o=[])}return o.length>0&&(o.push(this.end),r.push(o)),r}toPolylines(e={}){const t=this.toPoints(e);return t?t.map(i=>new Rn(i)):null}scale(e,t,i){return this.segments.forEach(s=>s.scale(e,t,i)),this}rotate(e,t){return this.segments.forEach(i=>i.rotate(e,t)),this}translate(e,t){return this.segments.forEach("number"==typeof e?i=>i.translate(e,t):i=>i.translate(e)),this}clone(){const e=new _e;return this.segments.forEach(t=>e.appendSegment(t.clone())),e}equals(e){if(null==e)return!1;const t=this.segments,i=e.segments,s=t.length;if(i.length!==s)return!1;for(let r=0;r<s;r+=1){const o=t[r],a=i[r];if(o.type!==a.type||!o.equals(a))return!1}return!0}toJSON(){return this.segments.map(e=>e.toJSON())}serialize(){if(!this.isValid())throw new Error("Invalid path segments.");return this.segments.map(e=>e.serialize()).join(" ")}toString(){return this.serialize()}}(function(n){n.isPath=function e(t){return null!=t&&t instanceof n}})(_e||(_e={})),function(n){function t(i,...s){if("M"===i)return z2.create.call(null,...s);if("L"===i)return qi.create.call(null,...s);if("C"===i)return Pr.create.call(null,...s);if("z"===i||"Z"===i)return S2.create();throw new Error(`Invalid path segment type "${i}"`)}n.parse=function e(i){if(!i)return new n;const s=new n,o=n.normalize(i).match(/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g);if(null!=o)for(let a=0,c=o.length;a<c;a+=1){const f=o[a].match(/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g);if(null!=f){const g=f[0],p=f.slice(1).map(y=>+y),v=t.call(null,g,...p);s.appendSegment(v)}}return s},n.createSegment=t}(_e||(_e={})),function(n){n.normalize=Eoe,n.isValid=boe,n.drawArc=_oe,n.drawPoints=HO,n.arcToCurves=ng}(_e||(_e={}));class Nn{constructor(e){this.options=Object.assign({},e),this.data=this.options.data||{},this.register=this.register.bind(this),this.unregister=this.unregister.bind(this)}get names(){return Object.keys(this.data)}register(e,t,i=!1){if("object"==typeof e)return void Object.entries(e).forEach(([o,a])=>{this.register(o,a,t)});this.exist(e)&&!i&&!qc.isApplyingHMR()&&this.onDuplicated(e);const s=this.options.process,r=s?xe(s,this,e,t):t;return this.data[e]=r,r}unregister(e){const t=e?this.data[e]:null;return delete this.data[e],t}get(e){return e?this.data[e]:null}exist(e){return!!e&&null!=this.data[e]}onDuplicated(e){try{throw this.options.onConflict&&xe(this.options.onConflict,this,e),new Error(`${K0(this.options.type)} with name '${e}' already registered.`)}catch(t){throw t}}onNotFound(e,t){throw new Error(this.getSpellingSuggestion(e,t))}getSpellingSuggestion(e,t){const i=this.getSpellingSuggestionForName(e),s=t?`${t} ${yre(this.options.type)}`:this.options.type;return`${K0(s)} with name '${e}' does not exist.${i?` Did you mean '${i}'?`:""}`}getSpellingSuggestionForName(e){return function bre(n,e,t){const i=Math.min(2,Math.floor(.34*n.length));let r,s=Math.floor(.4*n.length)+1,o=!1;const a=n.toLowerCase();for(const c of e){const l=t(c);if(void 0!==l&&Math.abs(l.length-a.length)<=i){const h=l.toLowerCase();if(h===a){if(l===n)continue;return c}if(o||l.length<3)continue;const f=wre(a,h,s-1);if(void 0===f)continue;f<3?(o=!0,r=c):(s=f,r=c)}}return r}(e,Object.keys(this.data),t=>t)}}!function(n){n.create=function e(t){return new n(t)}}(Nn||(Nn={}));const Soe={color:"#aaaaaa",thickness:1,markup:"rect",update(n,e){const t=e.thickness*e.sx,i=e.thickness*e.sy;pt(n,{width:t,height:i,rx:t,ry:i,fill:e.color})}},zoe={color:"#aaaaaa",thickness:1,markup:"rect",update(n,e){const t=e.sx<=1?e.thickness*e.sx:e.thickness;pt(n,{width:t,height:t,rx:t,ry:t,fill:e.color})}},Doe={color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(n,e){let t;const i=e.width,s=e.height,r=e.thickness;t=i-r>=0&&s-r>=0?["M",i,0,"H0 M0 0 V0",s].join(" "):"M 0 0 0 0",pt(n,{d:t,stroke:e.color,"stroke-width":e.thickness})}},Aoe=[{color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(n,e){let t;const i=e.width,s=e.height,r=e.thickness;t=i-r>=0&&s-r>=0?["M",i,0,"H0 M0 0 V0",s].join(" "):"M 0 0 0 0",pt(n,{d:t,stroke:e.color,"stroke-width":e.thickness})}},{color:"rgba(224,224,224,0.2)",thickness:3,factor:4,markup:"path",update(n,e){let t;const i=e.factor||1,s=e.width*i,r=e.height*i,o=e.thickness;t=s-o>=0&&r-o>=0?["M",s,0,"H0 M0 0 V0",r].join(" "):"M 0 0 0 0",e.width=s,e.height=r,pt(n,{d:t,stroke:e.color,"stroke-width":e.thickness})}}];class Kc{constructor(){this.patterns={},this.root=Le.create(q5(),{width:"100%",height:"100%"},[Oa("defs")]).node}add(e,t){const i=this.root.childNodes[0];i&&i.appendChild(t),this.patterns[e]=t,Le.create("rect",{width:"100%",height:"100%",fill:`url(#${e})`}).appendTo(this.root)}get(e){return this.patterns[e]}has(e){return null!=this.patterns[e]}}!function(n){n.presets=cr,n.registry=Nn.create({type:"grid"}),n.registry.register(n.presets,!0)}(Kc||(Kc={}));const BO=function(n){const e=document.createElement("canvas"),t=n.width,i=n.height;e.width=2*t,e.height=i;const s=e.getContext("2d");return s.drawImage(n,0,0,t,i),s.translate(2*t,0),s.scale(-1,1),s.drawImage(n,0,0,t,i),e},jO=function(n){const e=document.createElement("canvas"),t=n.width,i=n.height;e.width=t,e.height=2*i;const s=e.getContext("2d");return s.drawImage(n,0,0,t,i),s.translate(0,2*i),s.scale(1,-1),s.drawImage(n,0,0,t,i),e},$O=function(n){const e=document.createElement("canvas"),t=n.width,i=n.height;e.width=2*t,e.height=2*i;const s=e.getContext("2d");return s.drawImage(n,0,0,t,i),s.setTransform(-1,0,0,-1,e.width,e.height),s.drawImage(n,0,0,t,i),s.setTransform(-1,0,0,1,e.width,0),s.drawImage(n,0,0,t,i),s.setTransform(1,0,0,-1,0,e.height),s.drawImage(n,0,0,t,i),e},Toe=function(n,e){const t=n.width,i=n.height,s=document.createElement("canvas");s.width=3*t,s.height=3*i;const r=s.getContext("2d"),a=mt.toRad(null!=e.angle?-e.angle:-20),c=s.width/4,l=s.height/4;for(let h=0;h<4;h+=1)for(let f=0;f<4;f+=1)(h+f)%2>0&&(r.setTransform(1,0,0,1,(2*h-1)*c,(2*f-1)*l),r.rotate(a),r.drawImage(n,-t/2,-i/2,t,i));return s};var g8,D2;function ew(n,e){return n??e}function mi(n,e){return null!=n&&Number.isFinite(n)?n:e}function Ooe(n={}){const e=ew(n.color,"blue"),t=mi(n.width,1),i=mi(n.margin,2);return`\n    <filter>\n      <feFlood flood-color="${e}" flood-opacity="${mi(n.opacity,1)}" result="colored"/>\n      <feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${i+t}" />\n      <feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${i}" />\n      <feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/>\n      <feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/>\n      <feMerge>\n        <feMergeNode in="outline"/>\n        <feMergeNode in="SourceGraphic"/>\n      </feMerge>\n    </filter>\n  `.trim()}function Poe(n={}){const e=ew(n.color,"red"),t=mi(n.blur,0),i=mi(n.width,1);return`\n      <filter>\n        <feFlood flood-color="${e}" flood-opacity="${mi(n.opacity,1)}" result="colored"/>\n        <feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${i}"/>\n        <feComposite result="composed" in="colored" in2="morphed" operator="in"/>\n        <feGaussianBlur result="blured" in="composed" stdDeviation="${t}"/>\n        <feBlend in="SourceGraphic" in2="blured" mode="normal"/>\n      </filter>\n    `.trim()}function Ioe(n={}){const e=mi(n.x,2);return`\n    <filter>\n      <feGaussianBlur stdDeviation="${null!=n.y&&Number.isFinite(n.y)?[e,n.y]:e}"/>\n    </filter>\n  `.trim()}function Loe(n={}){const e=mi(n.dx,0),t=mi(n.dy,0),i=ew(n.color,"black"),s=mi(n.blur,4),r=mi(n.opacity,1);return"SVGFEDropShadowElement"in window?`<filter>\n         <feDropShadow stdDeviation="${s}" dx="${e}" dy="${t}" flood-color="${i}" flood-opacity="${r}" />\n       </filter>`.trim():`<filter>\n         <feGaussianBlur in="SourceAlpha" stdDeviation="${s}" />\n         <feOffset dx="${e}" dy="${t}" result="offsetblur" />\n         <feFlood flood-color="${i}" />\n         <feComposite in2="offsetblur" operator="in" />\n         <feComponentTransfer>\n           <feFuncA type="linear" slope="${r}" />\n         </feComponentTransfer>\n         <feMerge>\n           <feMergeNode/>\n           <feMergeNode in="SourceGraphic"/>\n         </feMerge>\n       </filter>`.trim()}function Roe(n={}){const e=mi(n.amount,1),i=.7152-.7152*(1-e);return`\n    <filter>\n      <feColorMatrix type="matrix" values="${.2126+.7874*(1-e)} ${i} ${.0722-.0722*(1-e)} 0 0 ${.2126-.2126*(1-e)} ${.7152+.2848*(1-e)} ${.0722-.0722*(1-e)} 0 0 ${.2126-.2126*(1-e)} ${i} ${.0722+.9278*(1-e)} 0 0 0 0 0 1 0"/>\n    </filter>\n  `.trim()}function Noe(n={}){const e=mi(n.amount,1);return`\n      <filter>\n        <feColorMatrix type="matrix" values="${.393+.607*(1-e)} ${.769-.769*(1-e)} ${.189-.189*(1-e)} 0 0 ${.349-.349*(1-e)} ${.686+.314*(1-e)} ${.168-.168*(1-e)} 0 0 ${.272-.272*(1-e)} ${.534-.534*(1-e)} ${.131+.869*(1-e)} 0 0 0 0 0 1 0"/>\n      </filter>\n    `.trim()}function Voe(n={}){return`\n      <filter>\n        <feColorMatrix type="saturate" values="${1-mi(n.amount,1)}"/>\n      </filter>\n    `.trim()}function Hoe(n={}){return`\n      <filter>\n        <feColorMatrix type="hueRotate" values="${mi(n.angle,0)}"/>\n      </filter>\n    `.trim()}function koe(n={}){const e=mi(n.amount,1),t=1-e;return`\n      <filter>\n        <feComponentTransfer>\n          <feFuncR type="table" tableValues="${e} ${t}"/>\n          <feFuncG type="table" tableValues="${e} ${t}"/>\n          <feFuncB type="table" tableValues="${e} ${t}"/>\n        </feComponentTransfer>\n      </filter>\n    `.trim()}function Foe(n={}){const e=mi(n.amount,1);return`\n    <filter>\n      <feComponentTransfer>\n        <feFuncR type="linear" slope="${e}"/>\n        <feFuncG type="linear" slope="${e}"/>\n        <feFuncB type="linear" slope="${e}"/>\n      </feComponentTransfer>\n    </filter>\n  `.trim()}function Boe(n={}){const e=mi(n.amount,1),t=.5-e/2;return`\n    <filter>\n     <feComponentTransfer>\n        <feFuncR type="linear" slope="${e}" intercept="${t}"/>\n        <feFuncG type="linear" slope="${e}" intercept="${t}"/>\n        <feFuncB type="linear" slope="${e}" intercept="${t}"/>\n      </feComponentTransfer>\n    </filter>\n  `.trim()}!function(n){n.presets=Object.assign({},O),n.presets["flip-x"]=BO,n.presets["flip-y"]=jO,n.presets["flip-xy"]=$O,n.registry=Nn.create({type:"background pattern"}),n.registry.register(n.presets,!0)}(g8||(g8={})),function(n){n.presets=ml,n.registry=Nn.create({type:"filter"}),n.registry.register(n.presets,!0)}(D2||(D2={}));const joe={xlinkHref:"xlink:href",xlinkShow:"xlink:show",xlinkRole:"xlink:role",xlinkType:"xlink:type",xlinkArcrole:"xlink:arcrole",xlinkTitle:"xlink:title",xlinkActuate:"xlink:actuate",xmlSpace:"xml:space",xmlBase:"xml:base",xmlLang:"xml:lang",preserveAspectRatio:"preserveAspectRatio",requiredExtension:"requiredExtension",requiredFeatures:"requiredFeatures",systemLanguage:"systemLanguage",externalResourcesRequired:"externalResourceRequired"},$oe={},UO={position:rg("x","width","origin")},GO={position:rg("y","height","origin")},Uoe={position:rg("x","width","corner")},Goe={position:rg("y","height","corner")},qO={set:Jc("width","width")},WO={set:Jc("height","height")},qoe={set:Jc("rx","width")},Woe={set:Jc("ry","height")},YO={set:(n=>{const e=Jc("r","width"),t=Jc("r","height");return function(i,s){const r=s.refBBox;return xe(r.height>r.width?e:t,this,i,s)}})()},Yoe={set(n,{refBBox:e}){let t=parseFloat(n);const i=Ta(n);i&&(t/=100);const s=Math.sqrt(e.height*e.height+e.width*e.width);let r;return Number.isFinite(t)&&(r=i||t>=0&&t<=1?t*s:Math.max(t+s,0)),{r}}},Xoe={set:Jc("cx","width")},Zoe={set:Jc("cy","height")},XO={set:JO({resetOffset:!0})},Koe={set:JO({resetOffset:!1})},ZO={set:QO({resetOffset:!0})},Joe={set:QO({resetOffset:!1})},Qoe=YO,eae=XO,tae=ZO,nae=UO,iae=GO,sae=qO,rae=WO;function rg(n,e,t){return(i,{refBBox:s})=>{if(null==i)return null;let r=parseFloat(i);const o=Ta(i);let a;if(o&&(r/=100),Number.isFinite(r)){const l=s[t];a=o||r>0&&r<1?l[n]+s[e]*r:l[n]+r}const c=new T;return c[n]=a||0,c}}function Jc(n,e){return function(t,{refBBox:i}){let s=parseFloat(t);const r=Ta(t);r&&(s/=100);const o={};if(Number.isFinite(s)){const a=r||s>=0&&s<=1?s*i[e]:Math.max(s+i[e],0);o[n]=a}return o}}function KO(n,e){const t="x6-shape",i=e&&e.resetOffset;return function(s,{elem:r,refBBox:o}){let a=T1(r,t);if(!a||a.value!==s){const y=n(s);a={value:s,shape:y,shapeBBox:y.bbox()},T1(r,t,a)}const c=a.shape.clone(),l=a.shapeBBox.clone(),h=l.getOrigin(),f=o.getOrigin();l.x=f.x,l.y=f.y;const g=o.getMaxScaleToFit(l,f);return c.scale(0===l.width||0===o.width?1:g.sx,0===l.height||0===o.height?1:g.sy,h),i&&c.translate(-h.x,-h.y),c}}function JO(n){const t=KO(function e(i){return _e.parse(i)},n);return(i,s)=>({d:t(i,s).serialize()})}function QO(n){const e=KO(t=>new Rn(t),n);return(t,i)=>({points:e(t,i).serialize()})}const oae={qualify:Ro,set:(n,{view:e})=>`url(#${e.graph.defineGradient(n)})`},aae={qualify:Ro,set(n,{view:e}){const t=e.cell,i=Object.assign({},n);if(t.isEdge()&&"linearGradient"===i.type){const r=e.sourcePoint,o=e.targetPoint;i.id=`gradient-${i.type}-${t.id}`,i.attrs=Object.assign(Object.assign({},i.attrs),{x1:r.x,y1:r.y,x2:o.x,y2:o.y,gradientUnits:"userSpaceOnUse"}),e.graph.defs.remove(i.id)}return`url(#${e.graph.defineGradient(i)})`}},eP={qualify:(n,{attrs:e})=>null==e.textWrap||!Ro(e.textWrap),set(n,{view:e,elem:t,attrs:i}){const s="x6-text",r=T1(t,s),o=h=>{try{return JSON.parse(h)}catch{return h}},a={x:i.x,eol:i.eol,annotations:o(i.annotations),textPath:o(i["text-path"]||i.textPath),textVerticalAnchor:i["text-vertical-anchor"]||i.textVerticalAnchor,displayEmpty:"true"===(i["display-empty"]||i.displayEmpty),lineHeight:i["line-height"]||i.lineHeight},c=i["font-size"]||i.fontSize,l=JSON.stringify([n,a]);if(c&&t.setAttribute("font-size",c),null==r||r!==l){const h=a.textPath;if(null!=h&&"object"==typeof h){const f=h.selector;if("string"==typeof f){const g=e.find(f)[0];g instanceof SVGPathElement&&(Hb(g),a.textPath=Object.assign({"xlink:href":`#${g.id}`},h))}}DO(t,`${n}`,a),T1(t,s,l)}}},cae={qualify:Ro,set(n,{view:e,elem:t,attrs:i,refBBox:s}){const r=n,o=r.width||0;Ta(o)?s.width*=parseFloat(o)/100:o<=0?s.width+=o:s.width=o;const a=r.height||0;Ta(a)?s.height*=parseFloat(a)/100:a<=0?s.height+=a:s.height=a;let c,l=r.text;null==l&&(l=i.text||t?.textContent),c=null!=l?TO(`${l}`,s,{"font-weight":i["font-weight"]||i.fontWeight,"font-size":i["font-size"]||i.fontSize,"font-family":i["font-family"]||i.fontFamily,lineHeight:i.lineHeight},{ellipsis:r.ellipsis}):"",xe(eP.set,this,c,{view:e,elem:t,attrs:i,refBBox:s,cell:e.cell})}},A2=(n,{attrs:e})=>void 0!==e.text,lae={qualify:A2},uae={qualify:A2},hae={qualify:A2},dae={qualify:A2},fae={qualify:A2},gae={qualify:A2},pae={qualify:(n,{elem:e})=>e instanceof SVGElement,set(n,{elem:e}){const t="x6-title",i=`${n}`,s=T1(e,t);if(null==s||s!==i){T1(e,t,i);const r=e.firstChild;if(r&&"TITLE"===r.tagName.toUpperCase())r.textContent=i;else{const o=document.createElementNS(e.namespaceURI,"title");o.textContent=i,e.insertBefore(o,r)}}}},mae={offset:tP("x","width","right")},vae={offset:tP("y","height","bottom")},yae={offset:(n,{refBBox:e})=>n?{x:-e.x,y:-e.y}:{x:0,y:0}};function tP(n,e,t){return(i,{refBBox:s})=>{const r=new T;let o;return o="middle"===i?s[e]/2:i===t?s[e]:"number"==typeof i&&Number.isFinite(i)?i>-1&&i<1?-s[e]*i:-i:Ta(i)?s[e]*parseFloat(i)/100:0,r[n]=-(s[n]+o),r}}const bae={qualify:Ro,set(n,{elem:e}){ii(e,n)}},wae={set(n,{elem:e}){e.innerHTML=`${n}`}},_ae={qualify:Ro,set:(n,{view:e})=>`url(#${e.graph.defineFilter(n)})`},Cae={set:n=>null!=n&&"object"==typeof n&&n.id?n.id:n};function Qc(n,e,t){let i,s;"object"==typeof e?(i=e.x,s=e.y):(i=e,s=t);const r=_e.parse(n),o=r.bbox();if(o){let a=-o.height/2-o.y,c=-o.width/2-o.x;"number"==typeof i&&(c-=i),"number"==typeof s&&(a-=s),r.translate(c,a)}return r.serialize()}var nP=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t};const Mae=n=>{var{size:e,width:t,height:i,offset:s,open:r}=n;return iP({size:e,width:t,height:i,offset:s},!0===r,!0,void 0,nP(n,["size","width","height","offset","open"]))},xae=n=>{var{size:e,width:t,height:i,offset:s,factor:r}=n;return iP({size:e,width:t,height:i,offset:s},!1,!1,r,nP(n,["size","width","height","offset","factor"]))};function iP(n,e,t,i=3/4,s={}){const r=n.size||10,o=n.width||r,a=n.height||r,c=new _e,l={};if(e)c.moveTo(o,0).lineTo(0,a/2).lineTo(o,a),l.fill="none";else{if(c.moveTo(0,a/2),c.lineTo(o,0),!t){const h=Is(i,0,1);c.lineTo(o*h,a/2)}c.lineTo(o,a),c.close()}return Object.assign(Object.assign(Object.assign({},l),s),{tagName:"path",d:Qc(c.serialize(),{x:null!=n.offset?n.offset:-o/2})})}const Sae=n=>{var{size:e,width:t,height:i,offset:s}=n,r=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(n,["size","width","height","offset"]);const o=e||10,a=t||o,c=i||o,l=new _e;return l.moveTo(0,c/2).lineTo(a/2,0).lineTo(a,c/2).lineTo(a/2,c).close(),Object.assign(Object.assign({},r),{tagName:"path",d:Qc(l.serialize(),s??-a/2)})},Dae=n=>{var{d:e,offsetX:t,offsetY:i}=n,s=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(n,["d","offsetX","offsetY"]);return Object.assign(Object.assign({},s),{tagName:"path",d:Qc(e,t,i)})},Tae=n=>{var{size:e,width:t,height:i,offset:s}=n,r=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(n,["size","width","height","offset"]);const o=e||10,a=t||o,c=i||o,l=new _e;return l.moveTo(0,0).lineTo(a,c).moveTo(0,c).lineTo(a,0),Object.assign(Object.assign({},r),{tagName:"path",fill:"none",d:Qc(l.serialize(),s||-a/2)})},Pae=n=>{var{width:e,height:t,offset:i,open:s,flip:r}=n,o=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(n,["width","height","offset","open","flip"]);let a=t||6;const c=e||10,l=!0===s,h=!0===r,f=Object.assign(Object.assign({},o),{tagName:"path"});h&&(a=-a);const g=new _e;return g.moveTo(0,a).lineTo(c,0),l?f.fill="none":(g.lineTo(c,a),g.close()),f.d=Qc(g.serialize(),{x:i||-c/2,y:a/2}),f};var sP=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t};const rP=n=>{var{r:e}=n,t=sP(n,["r"]);const i=e||5;return Object.assign(Object.assign({cx:i},t),{tagName:"circle",r:i})},Iae=n=>{var{r:e}=n,t=sP(n,["r"]);const i=e||5,s=new _e;return s.moveTo(i,0).lineTo(i,2*i),s.moveTo(0,i).lineTo(2*i,i),{children:[Object.assign(Object.assign({},rP({r:i})),{fill:"none"}),Object.assign(Object.assign({},t),{tagName:"path",d:Qc(s.serialize(),-i)})]}},Rae=n=>{var{rx:e,ry:t}=n,i=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(n,["rx","ry"]);const s=e||5,r=t||5;return Object.assign(Object.assign({cx:s},i),{tagName:"ellipse",rx:s,ry:r})};var el;function tw(n){return"string"==typeof n||Ro(n)}(function(n){n.presets=vl,n.registry=Nn.create({type:"marker"}),n.registry.register(n.presets,!0)})(el||(el={})),function(n){n.normalize=Qc}(el||(el={}));const Vae={qualify:tw,set:(n,{view:e,attrs:t})=>nw("marker-start",n,e,t)},Hae={qualify:tw,set:(n,{view:e,attrs:t})=>nw("marker-end",n,e,t,{transform:"rotate(180)"})},kae={qualify:tw,set:(n,{view:e,attrs:t})=>nw("marker-mid",n,e,t)};function nw(n,e,t,i,s={}){const r="string"==typeof e?{name:e}:e,{name:o,args:a}=r,c=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(r,["name","args"]);let l=c;if(o&&"string"==typeof o){const f=el.registry.get(o);if(!f)return el.registry.onNotFound(o);l=f(Object.assign(Object.assign({},c),a))}const h=Object.assign(Object.assign(Object.assign({},function Fae(n,e){const t={},i=n.stroke;"string"==typeof i&&(t.stroke=i,t.fill=i);let s=n.strokeOpacity;if(null==s&&(s=n["stroke-opacity"]),null==s&&(s=n.opacity),null!=s&&(t["stroke-opacity"]=s,t["fill-opacity"]=s),"marker-mid"!==e){const r=parseFloat(n.strokeWidth||n["stroke-width"]);if(Number.isFinite(r)&&r>1){const o=Math.ceil(r/2);t.refX="marker-start"===e?o:-o}}return t}(i,n)),s),l);return{[n]:`url(#${t.graph.defineMarker(h)})`}}const p8=(n,{view:e})=>e.cell.isEdge(),Bae={qualify:p8,set(n,e){var t,i,s,r;const o=e.view,a=n.reverse||!1,c=n.stubs||0;let l;if(Number.isFinite(c)&&0!==c)if(a){let h,f;const g=o.getConnectionLength()||0;c<0?(h=(g+c)/2,f=-c):(h=c,f=g-2*c);const p=o.getConnection();l=null===(r=null===(s=null===(i=null===(t=p?.divideAtLength(h))||void 0===t?void 0:t[1])||void 0===i?void 0:i.divideAtLength(f))||void 0===s?void 0:s[0])||void 0===r?void 0:r.serialize()}else{let h;h=c<0?((o.getConnectionLength()||0)+c)/2:c;const f=o.getConnection();if(f){const g=f.divideAtLength(h),p=f.divideAtLength(-h);g&&p&&(l=`${g[0].serialize()} ${p[1].serialize()}`)}}return{d:l||o.getConnectionPathData()}}},oP={qualify:p8,set:og("getTangentAtLength",{rotate:!0})},jae={qualify:p8,set:og("getTangentAtLength",{rotate:!1})},aP={qualify:p8,set:og("getTangentAtRatio",{rotate:!0})},$ae={qualify:p8,set:og("getTangentAtRatio",{rotate:!1})},Uae=oP,Gae=aP;function og(n,e){const t={x:1,y:0};return(i,s)=>{let r,o;const a=s.view,c=a[n](Number(i));return c?(o=e.rotate?c.vector().vectorAngle(t):0,r=c.start):(r=a.path.start,o=0),0===o?{transform:`translate(${r.x},${r.y}')`}:{transform:`translate(${r.x},${r.y}') rotate(${o})`}}}var ko;(function(n){n.isValidDefinition=function e(t,i,s){return!(null==t||"string"!=typeof t&&"function"==typeof t.qualify&&!xe(t.qualify,this,i,s))}})(ko||(ko={})),function(n){n.presets=Object.assign(Object.assign({},joe),eh),n.registry=Nn.create({type:"attribute definition"}),n.registry.register(n.presets,!0)}(ko||(ko={}));const Ai={prefixCls:"x6",autoInsertCSS:!0,useCSSSelector:!0,prefix:n=>`${Ai.prefixCls}-${n}`},cP=Ai.prefix("highlighted"),qae={highlight(n,e,t){Ie(e,t&&t.className||cP)},unhighlight(n,e,t){Wn(e,t&&t.className||cP)}},lP=Ai.prefix("highlight-opacity"),Wae={highlight(n,e){Ie(e,lP)},unhighlight(n,e){Wn(e,lP)}};var Lt;!function(n){const e=Oa("svg");function t(p,v){const y=function roe(n,e){const t=Q5.createSVGPoint();return t.x=n,t.y=e,t}(p.x,p.y).matrixTransform(v);return new T(y.x,y.y)}function r(p,v){const y=e.createSVGPoint();y.x=p.x,y.y=p.y;const b=y.matrixTransform(v);y.x=p.x+p.width,y.y=p.y;const C=y.matrixTransform(v);y.x=p.x+p.width,y.y=p.y+p.height;const _=y.matrixTransform(v);y.x=p.x,y.y=p.y+p.height;const M=y.matrixTransform(v),S=Math.min(b.x,C.x,_.x,M.x),D=Math.max(b.x,C.x,_.x,M.x),I=Math.min(b.y,C.y,_.y,M.y),k=Math.max(b.y,C.y,_.y,M.y);return new re(S,I,D-S,k-I)}function a(p,v={}){let y;if(!p.ownerSVGElement||!Wc(p)){if(mO(p)){const{left:M,top:S,width:D,height:I}=c(p);return new re(M,S,D,I)}return new re(0,0,0,0)}let C=v.target;if(!v.recursive){try{y=p.getBBox()}catch{y={x:p.clientLeft,y:p.clientTop,width:p.clientWidth,height:p.clientHeight}}return C?r(y,o8(p,C)):re.create(y)}{const M=p.childNodes,S=M.length;if(0===S)return a(p,{target:C});C||(C=p);for(let D=0;D<S;D+=1){const I=M[D];let k;k=a(I,0===I.childNodes.length?{target:C}:{target:C,recursive:!0}),y=y?y.union(k):k}return y}}function c(p){let v=0,y=0,b=0,C=0;if(p){let _=p;for(;_;)v+=_.offsetLeft,y+=_.offsetTop,_=_.offsetParent,_&&(v+=parseInt(qb(_,"borderLeft"),10),y+=parseInt(qb(_,"borderTop"),10));b=p.offsetWidth,C=p.offsetHeight}return{left:v,top:y,width:b,height:C}}function l(p){const v=y=>{const b=p.getAttribute(y),C=b?parseFloat(b):0;return Number.isNaN(C)?0:C};switch(p instanceof SVGElement&&p.nodeName.toLowerCase()){case"rect":return new re(v("x"),v("y"),v("width"),v("height"));case"circle":return new so(v("cx"),v("cy"),v("r"),v("r"));case"ellipse":return new so(v("cx"),v("cy"),v("rx"),v("ry"));case"polyline":{const y=J5(p);return new Rn(y)}case"polygon":{const y=J5(p);return y.length>1&&y.push(y[0]),new Rn(y)}case"path":{let y=p.getAttribute("d");return _e.isValid(y)||(y=_e.normalize(y)),_e.parse(y)}case"line":return new ge(v("x1"),v("y1"),v("x2"),v("y2"))}return a(p)}function f(p){if(null==p)return null;let v=p;do{let y=v.tagName;if("string"!=typeof y)return null;if(y=y.toUpperCase(),w2(v,"x6-port"))v=v.nextElementSibling;else if("G"===y)v=v.firstElementChild;else{if("TITLE"!==y)break;v=v.nextElementSibling}}while(v);return v}n.normalizeMarker=Qc,n.transformPoint=t,n.transformLine=function i(p,v){return new ge(t(p.start,v),t(p.end,v))},n.transformPolyline=function s(p,v){let y=p instanceof Rn?p.points:p;return Array.isArray(y)||(y=[]),new Rn(y.map(b=>t(b,v)))},n.transformRectangle=r,n.bbox=function o(p,v,y){let b;const C=p.ownerSVGElement;if(!C)return new re(0,0,0,0);try{b=p.getBBox()}catch{b={x:p.clientLeft,y:p.clientTop,width:p.clientWidth,height:p.clientHeight}}return v?re.create(b):r(b,o8(p,y||C))},n.getBBox=a,n.getBoundingOffsetRect=c,n.toGeometryShape=l,n.translateAndAutoOrient=function h(p,v,y,b){const C=T.create(v),_=T.create(y);b||(b=p instanceof SVGSVGElement?p:p.ownerSVGElement);const M=Zb(p);p.setAttribute("transform","");const S=a(p,{target:b}).scale(M.sx,M.sy),D=s8();D.setTranslate(-S.x-S.width/2,-S.y-S.height/2);const I=s8(),k=C.angleBetween(_,C.clone().translate(1,0));k&&I.setRotate(k,0,0);const Y=s8(),j=C.clone().move(_,S.width/2);Y.setTranslate(2*C.x-j.x,2*C.y-j.y);const Q=o8(p,b),Z=s8();Z.setMatrix(Y.matrix.multiply(I.matrix.multiply(D.matrix.multiply(Q.scale(M.sx,M.sy))))),p.setAttribute("transform",_2(Z.matrix))},n.findShapeNode=f,n.getBBoxV2=function g(p){const v=f(p);if(!Wc(v)){if(mO(p)){const{left:C,top:_,width:M,height:S}=c(p);return new re(C,_,M,S)}return new re(0,0,0,0)}return l(v).bbox()||re.create()}}(Lt||(Lt={}));const Yae={padding:3,rx:0,ry:0,attrs:{"stroke-width":3,stroke:"#FEB663"}},Xae={highlight(n,e,t){const i=tl.getHighlighterId(e,t);if(tl.hasCache(i))return;t=aT({},t,Yae);const s=Le.create(e);let r,o;try{r=s.toPathData()}catch{o=Lt.bbox(s.node,!0),r=PO(Object.assign(Object.assign({},t),o))}const a=Oa("path");if(pt(a,Object.assign({d:r,"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},t.attrs?n8(t.attrs):null)),n.isEdgeElement(e))pt(a,"d",n.getConnectionPathData());else{let h=s.getTransformToElement(n.container);const f=t.padding;if(f){null==o&&(o=Lt.bbox(s.node,!0));const g=o.x+o.width/2,p=o.y+o.height/2;o=Lt.transformRectangle(o,h);const v=Math.max(o.width,1),y=Math.max(o.height,1),b=(v+f)/v,C=(y+f)/y,_=pi({a:b,b:0,c:0,d:C,e:g-b*g,f:p-C*p});h=h.multiply(_)}C2(a,h)}Ie(a,Ai.prefix("highlight-stroke"));const c=n.cell,l=()=>tl.removeHighlighter(i);c.on("removed",l),c.model&&c.model.on("reseted",l),n.container.appendChild(a),tl.setCache(i,a)},unhighlight(n,e,t){tl.removeHighlighter(tl.getHighlighterId(e,t))}};var tl,Ia;function iw(n,e={}){return new T(io(e.x,n.width),io(e.y,n.height))}function sw(n,e,t){return Object.assign({angle:e,position:n.toJSON()},t)}!function(n){n.getHighlighterId=function e(o,a){return Hb(o),o.id+JSON.stringify(a)};const t={};n.setCache=function i(o,a){t[o]=a},n.hasCache=function s(o){return null!=t[o]},n.removeHighlighter=function r(o){const a=t[o];a&&(Vo(a),delete t[o])}}(tl||(tl={})),function(n){n.check=function e(t,i){if("function"!=typeof i.highlight)throw new Error(`Highlighter '${t}' is missing required \`highlight()\` method`);if("function"!=typeof i.unhighlight)throw new Error(`Highlighter '${t}' is missing required \`unhighlight()\` method`)}}(Ia||(Ia={})),function(n){n.presets=Ii,n.registry=Nn.create({type:"highlighter"}),n.registry.register(n.presets,!0)}(Ia||(Ia={}));const Zae=(n,e)=>n.map(({x:t,y:i,angle:s})=>sw(iw(e,{x:t,y:i}),s||0)),Kae=(n,e,t)=>{const s=t.step||20;return uP(n,e,t.start||0,(r,o)=>(r+.5-o/2)*s)},Jae=(n,e,t)=>{const s=t.step||360/n.length;return uP(n,e,t.start||0,r=>r*s)};function uP(n,e,t,i){const s=e.getCenter(),r=e.getTopCenter(),o=e.width/e.height,a=so.fromRect(e),c=n.length;return n.map((l,h)=>{const f=t+i(h,c),g=r.clone().rotate(-f,s).scale(o,1,s),p=l.compensateRotate?-a.tangentTheta(g):0;return(l.dx||l.dy)&&g.translate(l.dx||0,l.dy||0),l.dr&&g.move(s,l.dr),sw(g.round(),p,l)})}const ece=(n,e,t)=>m8(n,iw(e,t.start||e.getOrigin()),iw(e,t.end||e.getCorner()),t),tce=(n,e,t)=>m8(n,e.getTopLeft(),e.getBottomLeft(),t),nce=(n,e,t)=>m8(n,e.getTopRight(),e.getBottomRight(),t),ice=(n,e,t)=>m8(n,e.getTopLeft(),e.getTopRight(),t),sce=(n,e,t)=>m8(n,e.getBottomLeft(),e.getBottomRight(),t);function m8(n,e,t,i){const s=new ge(e,t),r=n.length;return n.map((o,a)=>{var{strict:c}=o,l=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(o,["strict"]);const f=s.pointAt(c||i.strict?(a+1)/(r+1):(a+.5)/r);return(l.dx||l.dy)&&f.translate(l.dx||0,l.dy||0),sw(f.round(),0,l)})}var P1;!function(n){n.presets=th,n.registry=Nn.create({type:"port layout"}),n.registry.register(n.presets,!0)}(P1||(P1={}));const rce={position:{x:0,y:0},angle:0,attrs:{".":{y:"0","text-anchor":"start"}}};function nl(n,e){const{x:t,y:i,angle:s,attrs:r}=e||{};return aT({},{angle:s,attrs:r,position:{x:t,y:i}},n,rce)}const oce=(n,e,t)=>nl({position:e.getTopLeft()},t),ace=(n,e,t)=>nl({position:{x:-15,y:0},attrs:{".":{y:".3em","text-anchor":"end"}}},t),cce=(n,e,t)=>nl({position:{x:15,y:0},attrs:{".":{y:".3em","text-anchor":"start"}}},t),lce=(n,e,t)=>nl({position:{x:0,y:-15},attrs:{".":{"text-anchor":"middle"}}},t),uce=(n,e,t)=>nl({position:{x:0,y:15},attrs:{".":{y:".6em","text-anchor":"middle"}}},t),hce=(n,e,t)=>hP(n,e,!1,t),dce=(n,e,t)=>hP(n,e,!0,t),fce=(n,e,t)=>dP(n,e,!1,t),gce=(n,e,t)=>dP(n,e,!0,t);function hP(n,e,t,i){const s=null!=i.offset?i.offset:15,r=e.getCenter().theta(n),o=fP(e);let a,c,l,h,f=0;return r<o[1]||r>o[2]?(a=".3em",c=s,l=0,h="start"):r<o[0]?(a="0",c=0,l=-s,t?(f=-90,h="start"):h="middle"):r<o[3]?(a=".3em",c=-s,l=0,h="end"):(a=".6em",c=0,l=s,t?(f=90,h="start"):h="middle"),nl({position:{x:Math.round(c),y:Math.round(l)},angle:f,attrs:{".":{y:a,"text-anchor":h}}},i)}function dP(n,e,t,i){const s=null!=i.offset?i.offset:15,r=e.getCenter().theta(n),o=fP(e);let a,c,l,h,f=0;return r<o[1]||r>o[2]?(a=".3em",c=-s,l=0,h="end"):r<o[0]?(a=".6em",c=0,l=s,t?(f=90,h="start"):h="middle"):r<o[3]?(a=".3em",c=s,l=0,h="start"):(a="0em",c=0,l=-s,t?(f=-90,h="start"):h="middle"),nl({position:{x:Math.round(c),y:Math.round(l)},angle:f,attrs:{".":{y:a,"text-anchor":h}}},i)}function fP(n){const e=n.getCenter(),t=e.theta(n.getTopLeft()),i=e.theta(n.getBottomLeft()),s=e.theta(n.getBottomRight());return[t,e.theta(n.getTopRight()),s,i]}const pce=(n,e,t)=>gP(n.diff(e.getCenter()),!1,t),mce=(n,e,t)=>gP(n.diff(e.getCenter()),!0,t);function gP(n,e,t){const i=null!=t.offset?t.offset:20,s=new T(0,0),r=-n.theta(s);let c,a=".3em",l=r;return(r+90)%180==0?(c=e?"end":"middle",!e&&-270===r&&(a="0em")):r>-270&&r<-90?(c="start",l=r-180):c="end",nl({position:n.clone().move(s,i).diff(n).round().round().toJSON(),angle:e?l:0,attrs:{".":{y:a,"text-anchor":c}}},t)}var T2,rw,Qt;!function(n){n.presets=yl,n.registry=Nn.create({type:"port label layout"}),n.registry.register(n.presets,!0)}(T2||(T2={}));class St extends qn{get priority(){return 2}constructor(){super(),this.cid=rw.uniqueId(),St.views[this.cid]=this}confirmUpdate(e,t){return 0}empty(e=this.container){return e8(e),this}unmount(e=this.container){return Vo(e),this}remove(e=this.container){return e===this.container&&(this.removeEventListeners(document),this.onRemove(),delete St.views[this.cid]),this.unmount(e),this}onRemove(){}setClass(e,t=this.container){t.classList.value=Array.isArray(e)?e.join(" "):e}addClass(e,t=this.container){return Ie(t,Array.isArray(e)?e.join(" "):e),this}removeClass(e,t=this.container){return Wn(t,Array.isArray(e)?e.join(" "):e),this}setStyle(e,t=this.container){return ii(t,e),this}setAttrs(e,t=this.container){return null!=e&&null!=t&&pt(t,e),this}findAttr(e,t=this.container){let i=t;for(;i&&1===i.nodeType;){const s=i.getAttribute(e);if(null!=s)return s;if(i===this.container)return null;i=i.parentNode}return null}find(e,t=this.container,i=this.selectors){return St.find(e,t,i).elems}findOne(e,t=this.container,i=this.selectors){const s=this.find(e,t,i);return s.length>0?s[0]:null}findByAttr(e,t=this.container){let i=t;for(;i&&i.getAttribute;){const s=i.getAttribute(e);if((null!=s||i===this.container)&&"false"!==s)return i;i=i.parentNode}return null}getSelector(e,t){let i;if(e===this.container)return"string"==typeof t&&(i=`> ${t}`),i;if(e){const s=Fb(e)+1;i=`${e.tagName.toLowerCase()}:nth-child(${s})`,t&&(i+=` > ${t}`),i=this.getSelector(e.parentNode,i)}return i}prefixClassName(e){return Ai.prefix(e)}delegateEvents(e,t){if(null==e)return this;t||this.undelegateEvents();const i=/^(\S+)\s*(.*)$/;return Object.keys(e).forEach(s=>{const r=s.match(i);if(null==r)return;const o=this.getEventHandler(e[s]);"function"==typeof o&&this.delegateEvent(r[1],r[2],o)}),this}undelegateEvents(){return ds.off(this.container,this.getEventNamespace()),this}delegateDocumentEvents(e,t){return this.addEventListeners(document,e,t),this}undelegateDocumentEvents(){return this.removeEventListeners(document),this}delegateEvent(e,t,i){return ds.on(this.container,e+this.getEventNamespace(),t,i),this}undelegateEvent(e,t,i){const s=e+this.getEventNamespace();return null==t?ds.off(this.container,s):"string"==typeof t?ds.off(this.container,s,t,i):ds.off(this.container,s,t),this}addEventListeners(e,t,i){if(null==t)return this;const s=this.getEventNamespace();return Object.keys(t).forEach(r=>{const o=this.getEventHandler(t[r]);"function"==typeof o&&ds.on(e,r+s,i,o)}),this}removeEventListeners(e){return null!=e&&ds.off(e,this.getEventNamespace()),this}getEventNamespace(){return`.${Ai.prefixCls}-event-${this.cid}`}getEventHandler(e){let t;if("string"==typeof e){const i=this[e];"function"==typeof i&&(t=(...s)=>i.call(this,...s))}else t=(...i)=>e.call(this,...i);return t}getEventTarget(e,t={}){const{target:i,type:s,clientX:r=0,clientY:o=0}=e;return t.fromPoint||"touchmove"===s||"touchend"===s?document.elementFromPoint(r,o):i}stopPropagation(e){return this.setEventData(e,{propagationStopped:!0}),this}isPropagationStopped(e){return!0===this.getEventData(e).propagationStopped}getEventData(e){return this.eventData(e)}setEventData(e,t){return this.eventData(e,t)}eventData(e,t){if(null==e)throw new TypeError("Event object required");let i=e.data;const s=`__${this.cid}__`;return null==t?null==i?{}:i[s]||{}:(null==i&&(i=e.data={}),i[s]=Object.assign(null==i[s]?{}:Object.assign({},i[s]),t),i[s])}normalizeEvent(e){return St.normalizeEvent(e)}}(function(n){n.createElement=function e(s,r){return r?Oa(s||"g"):kb(s||"div")},n.find=function t(s,r,o){if(!s||"."===s)return{elems:[r]};if(o){const a=o[s];if(a)return{elems:Array.isArray(a)?a:[a]}}if(Ai.useCSSSelector){const a=s.includes(">")?`:scope ${s}`:s;return{isCSSSelector:!0,elems:Array.prototype.slice.call(r.querySelectorAll(a))}}return{elems:[]}},n.normalizeEvent=function i(s){let r=s;const o=s.originalEvent,a=o&&o.changedTouches&&o.changedTouches[0];if(a){for(const c in s)void 0===a[c]&&(a[c]=s[c]);r=a}return r}})(St||(St={})),function(n){n.views={},n.getView=function e(t){return n.views[t]||null}}(St||(St={})),function(n){let e=0;n.uniqueId=function t(){const i=`v${e}`;return e+=1,i}}(rw||(rw={}));class vce{constructor(e){this.view=e,this.clean()}clean(){this.elemCache&&this.elemCache.dispose(),this.elemCache=new Jb,this.pathCache={}}get(e){return this.elemCache.has(e)||this.elemCache.set(e,{}),this.elemCache.get(e)}getData(e){const t=this.get(e);return t.data||(t.data={}),t.data}getMatrix(e){const t=this.get(e);return null==t.matrix&&(t.matrix=function uoe(n,e){let t=pi();if(Wc(e)&&Wc(n)){let i=n;const s=[];for(;i&&i!==e;){const o=r8(i.getAttribute("transform")||null);s.push(o),i=i.parentNode}s.reverse().forEach(r=>{t=t.multiply(r)})}return t}(e,this.view.container)),pi(t.matrix)}getShape(e){const t=this.get(e);return null==t.shape&&(t.shape=Lt.toGeometryShape(e)),t.shape.clone()}getBoundingRect(e){const t=this.get(e);return null==t.boundingRect&&(t.boundingRect=Lt.getBBoxV2(e)),t.boundingRect.clone()}}(function(n){function t(l){return null!=l&&"string"==typeof l}function r(l,h={ns:gi.svg}){const f=document.createDocumentFragment(),g={},p={},v=[{markup:Array.isArray(l)?l:[l],parent:f,ns:h.ns}];for(;v.length>0;){const y=v.pop();let b=y.ns||gi.svg;const _=y.parent;y.markup.forEach(M=>{const S=M.tagName;if(!S)throw new TypeError("Invalid tagName");M.ns&&(b=M.ns);const D=b?kb(S,b):dO(S),I=M.attrs;I&&pt(D,n8(I));const k=M.style;k&&ii(D,k);const Y=M.className;null!=Y&&D.setAttribute("class",Array.isArray(Y)?Y.join(" "):Y),M.textContent&&(D.textContent=M.textContent);const j=M.selector;if(null!=j){if(p[j])throw new TypeError("Selector must be unique");p[j]=D}if(M.groupSelector){let Z=M.groupSelector;Array.isArray(Z)||(Z=[Z]),Z.forEach(te=>{g[te]||(g[te]=[]),g[te].push(D)})}_.appendChild(D);const Q=M.children;Array.isArray(Q)&&v.push({ns:b,markup:Q,parent:D})})}return Object.keys(g).forEach(y=>{if(p[y])throw new Error("Ambiguous group selector");p[y]=g[y]}),{fragment:f,selectors:p,groups:g}}function o(l){return l instanceof SVGElement?Oa("g"):dO("div")}n.isJSONMarkup=function e(l){return null!=l&&!t(l)},n.isStringMarkup=t,n.clone=function i(l){return null==l||t(l)?l:an(l)},n.sanitize=function s(l){return`${l}`.trim().replace(/[\r|\n]/g," ").replace(/>\s+</g,"><")},n.parseJSONMarkup=r,n.renderMarkup=function a(l){if(t(l)){const p=Le.createVectors(l),v=p.length;if(1===v)return{elem:p[0].node};if(v>1){const y=o(p[0].node);return p.forEach(b=>{y.appendChild(b.node)}),{elem:y}}return{}}const h=r(l),f=h.fragment;let g=null;return f.childNodes.length>1?(g=o(f.firstChild),g.appendChild(f)):g=f.firstChild,{elem:g,selectors:h.selectors}},n.parseLabelStringMarkup=function c(l){const h=Le.createVectors(l),f=document.createDocumentFragment();for(let g=0,p=h.length;g<p;g+=1)f.appendChild(h[g].node);return{fragment:f,selectors:{}}}})(Qt||(Qt={})),function(n){n.getSelector=function e(t,i,s){if(null!=t){let r;const o=t.tagName.toLowerCase();if(t===i)return r="string"==typeof s?`> ${o} > ${s}`:`> ${o}`,r;const a=t.parentNode;return r=a&&a.childNodes.length>1?`${o}:nth-child(${Fb(t)+1})`:o,s&&(r+=` > ${s}`),e(t.parentNode,i,r)}return s}}(Qt||(Qt={})),function(n){n.getPortContainerMarkup=function e(){return"g"},n.getPortMarkup=function t(){return{tagName:"circle",selector:"circle",attrs:{r:10,fill:"#FFFFFF",stroke:"#000000"}}},n.getPortLabelMarkup=function i(){return{tagName:"text",selector:"text",attrs:{fill:"#000000"}}}}(Qt||(Qt={})),function(n){n.getEdgeMarkup=function e(){return[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}]}}(Qt||(Qt={})),function(n){n.getForeignObjectMarkup=function e(t=!1){return{tagName:"foreignObject",selector:"fo",children:[{ns:gi.xhtml,tagName:"body",selector:"foBody",attrs:{xmlns:gi.xhtml},style:{width:"100%",height:"100%",background:"transparent"},children:t?[]:[{tagName:"div",selector:"foContent",style:{width:"100%",height:"100%"}}]}]}}}(Qt||(Qt={}));class pP{constructor(e){this.view=e}get cell(){return this.view.cell}getDefinition(e){return this.cell.getAttrDefinition(e)}processAttrs(e,t){let i,s,r,o;const a=[];return Object.keys(t).forEach(c=>{const l=t[c],h=this.getDefinition(c),f=xe(ko.isValidDefinition,this.view,h,l,{elem:e,attrs:t,cell:this.cell,view:this.view});if(h&&f)"string"==typeof h?(null==i&&(i={}),i[h]=l):null!==l&&a.push({name:c,definition:h});else{null==i&&(i={});const g=vO.includes(c)?c:WT(c);i[g]=l}}),a.forEach(({name:c,definition:l})=>{const h=t[c];"function"==typeof l.set&&(null==s&&(s={}),s[c]=h),"function"==typeof l.offset&&(null==r&&(r={}),r[c]=h),"function"==typeof l.position&&(null==o&&(o={}),o[c]=h)}),{raw:t,normal:i,set:s,offset:r,position:o}}mergeProcessedAttrs(e,t){e.set=Object.assign(Object.assign({},e.set),t.set),e.position=Object.assign(Object.assign({},e.position),t.position),e.offset=Object.assign(Object.assign({},e.offset),t.offset);const i=e.normal&&e.normal.transform;null!=i&&t.normal&&(t.normal.transform=i),e.normal=t.normal}findAttrs(e,t,i,s){const r=[],o=new Jb;return Object.keys(e).forEach(a=>{const c=e[a];if(!Ro(c))return;const{isCSSSelector:l,elems:h}=St.find(a,t,s);i[a]=h;for(let f=0,g=h.length;f<g;f+=1){const p=h[f],v=s&&s[a]===p,y=o.get(p);if(y){y.array||(r.push(p),y.array=!0,y.attrs=[y.attrs],y.priority=[y.priority]);const b=y.attrs,C=y.priority;if(v)b.unshift(c),C.unshift(-1);else{const _=Ene(C,l?-1:g);b.splice(_,0,c),C.splice(_,0,g)}}else o.set(p,{elem:p,attrs:c,priority:v?-1:g,array:!1})}}),r.forEach(a=>{const c=o.get(a);c.attrs=c.attrs.reduceRight((h,f)=>En(h,f),{})}),o}updateRelativeAttrs(e,t,i){const s=t.raw||{};let r=t.normal||{};const o=t.set,a=t.position,c=t.offset,l=()=>({elem:e,cell:this.cell,view:this.view,attrs:s,refBBox:i.clone()});if(null!=o&&Object.keys(o).forEach(b=>{const C=o[b],_=this.getDefinition(b);if(null!=_){const M=xe(_.set,this.view,C,l());"object"==typeof M?r=Object.assign(Object.assign({},r),M):null!=M&&(r[b]=M)}}),e instanceof HTMLElement)return void this.view.setAttrs(r,e);const h=r.transform,g=r8(h?`${h}`:null),p=new T(g.e,g.f);h&&(delete r.transform,g.e=0,g.f=0);let v=!1;null!=a&&Object.keys(a).forEach(b=>{const C=a[b],_=this.getDefinition(b);if(null!=_){const M=xe(_.position,this.view,C,l());null!=M&&(v=!0,p.translate(T.create(M)))}}),this.view.setAttrs(r,e);let y=!1;if(null!=c){const b=this.view.getBoundingRectOfElement(e);if(b.width>0&&b.height>0){const C=Lt.transformRectangle(b,g);Object.keys(c).forEach(_=>{const M=c[_],S=this.getDefinition(_);if(null!=S){const D=xe(S.offset,this.view,M,{elem:e,cell:this.cell,view:this.view,attrs:s,refBBox:C});null!=D&&(y=!0,p.translate(T.create(D)))}})}}(null!=h||v||y)&&(p.round(1),g.e=p.x,g.f=p.y,e.setAttribute("transform",_2(g)))}update(e,t,i){const s={},r=this.findAttrs(i.attrs||t,e,s,i.selectors),o=i.attrs?this.findAttrs(t,e,s,i.selectors):r,a=[];r.each(h=>{const f=h.elem,g=h.attrs,p=this.processAttrs(f,g);if(null==p.set&&null==p.position&&null==p.offset)this.view.setAttrs(p.normal,f);else{const v=o.get(f),y=v?v.attrs:null,b=y&&null==g.ref?y.ref:g.ref;let C;if(b){if(C=(s[b]||this.view.find(b,e,i.selectors))[0],!C)throw new Error(`"${b}" reference does not exist.`)}else C=null;const _={node:f,refNode:C,attributes:y,processedAttributes:p},M=a.findIndex(S=>S.refNode===f);M>-1?a.splice(M,0,_):a.push(_)}});const c=new Jb;let l;a.forEach(h=>{const f=h.node,g=h.refNode;let p;const v=null!=g&&null!=i.rotatableNode&&gO(i.rotatableNode,g);let y;g&&(p=c.get(g)),p||(p=g?Lt.getBBox(g,{target:v?i.rotatableNode:e}):i.rootBBox,g&&c.set(g,p)),i.attrs&&h.attributes?(y=this.processAttrs(f,h.attributes),this.mergeProcessedAttrs(y,h.processedAttributes)):y=h.processedAttributes;let b=p;v&&null!=i.rotatableNode&&!i.rotatableNode.contains(f)&&(l||(l=r8(pt(i.rotatableNode,"transform"))),b=Lt.transformRectangle(p,l)),this.updateRelativeAttrs(f,y,b)})}}class mP{get cell(){return this.view.cell}constructor(e,t,i=[]){this.view=e;const s={},r={};let o=0;Object.keys(t).forEach(c=>{let l=t[c];Array.isArray(l)||(l=[l]),l.forEach(h=>{let f=s[h];f||(o+=1,f=s[h]=1<<o),r[c]|=f})});let a=i;if(Array.isArray(a)||(a=[a]),a.forEach(c=>{s[c]||(o+=1,s[c]=1<<o)}),o>25)throw new Error("Maximum number of flags exceeded.");this.flags=s,this.attrs=r,this.bootstrap=i}getFlag(e){const t=this.flags;return null==t?0:Array.isArray(e)?e.reduce((i,s)=>i|t[s],0):0|t[e]}hasAction(e,t){return e&this.getFlag(t)}removeAction(e,t){return e^e&this.getFlag(t)}getBootstrapFlag(){return this.getFlag(this.bootstrap)}getChangedFlag(){let e=0;return this.attrs&&Object.keys(this.attrs).forEach(t=>{this.cell.hasChanged(t)&&(e|=this.attrs[t])}),e}}let Wi=(()=>{class n extends St{static getDefaults(){return this.defaults}static config(t){this.defaults=this.getOptions(t)}static getOptions(t){const i=(h,f)=>null!=f?fT([...Array.isArray(h)?h:[h],...Array.isArray(f)?f:[f]]):Array.isArray(h)?[...h]:[h],s=an(this.getDefaults()),{bootstrap:r,actions:o,events:a,documentEvents:c}=t,l=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(t,["bootstrap","actions","events","documentEvents"]);return r&&(s.bootstrap=i(s.bootstrap,r)),o&&Object.entries(o).forEach(([h,f])=>{const g=s.actions[h];f&&g?s.actions[h]=i(g,f):f&&(s.actions[h]=i(f))}),a&&(s.events=Object.assign(Object.assign({},s.events),a)),t.documentEvents&&(s.documentEvents=Object.assign(Object.assign({},s.documentEvents),c)),En(s,l)}get[Symbol.toStringTag](){return n.toStringTag}constructor(t,i={}){super(),this.cell=t,this.options=this.ensureOptions(i),this.graph=this.options.graph,this.attr=new pP(this),this.flag=new mP(this,this.options.actions,this.options.bootstrap),this.cache=new vce(this),this.setContainer(this.ensureContainer()),this.setup(),this.init()}init(){}onRemove(){this.removeTools()}get priority(){return this.options.priority}get rootSelector(){return this.options.rootSelector}getConstructor(){return this.constructor}ensureOptions(t){return this.getConstructor().getOptions(t)}getContainerTagName(){return this.options.isSvgElement?"g":"div"}getContainerStyle(){}getContainerAttrs(){return{"data-cell-id":this.cell.id,"data-shape":this.cell.shape}}getContainerClassName(){return this.prefixClassName("cell")}ensureContainer(){return St.createElement(this.getContainerTagName(),this.options.isSvgElement)}setContainer(t){if(this.container!==t){this.undelegateEvents(),this.container=t,null!=this.options.events&&this.delegateEvents(this.options.events);const i=this.getContainerAttrs();null!=i&&this.setAttrs(i,t);const s=this.getContainerStyle();null!=s&&this.setStyle(s,t);const r=this.getContainerClassName();null!=r&&this.addClass(r,t)}return this}isNodeView(){return!1}isEdgeView(){return!1}render(){return this}confirmUpdate(t,i={}){return 0}getBootstrapFlag(){return this.flag.getBootstrapFlag()}getFlag(t){return this.flag.getFlag(t)}hasAction(t,i){return this.flag.hasAction(t,i)}removeAction(t,i){return this.flag.removeAction(t,i)}handleAction(t,i,s,r){if(this.hasAction(t,i)){s();const o=[i];return r&&("string"==typeof r?o.push(r):o.push(...r)),this.removeAction(t,o)}return t}setup(){this.cell.on("changed",({options:t})=>this.onAttrsChange(t))}onAttrsChange(t){let i=this.flag.getChangedFlag();t.updated||!i||(t.dirty&&this.hasAction(i,"update")&&(i|=this.getFlag("render")),t.toolId&&(t.async=!1),null!=this.graph&&this.graph.renderer.requestViewUpdate(this,i,t))}parseJSONMarkup(t,i){const s=Qt.parseJSONMarkup(t),r=s.selectors,o=this.rootSelector;if(i&&o){if(r[o])throw new Error("Invalid root selector");r[o]=i}return s}can(t){let i=this.graph.options.interacting;if("function"==typeof i&&(i=xe(i,this.graph,this)),"object"==typeof i){let s=i[t];return"function"==typeof s&&(s=xe(s,this.graph,this)),!1!==s}return"boolean"==typeof i&&i}cleanCache(){return this.cache.clean(),this}getCache(t){return this.cache.get(t)}getDataOfElement(t){return this.cache.getData(t)}getMatrixOfElement(t){return this.cache.getMatrix(t)}getShapeOfElement(t){return this.cache.getShape(t)}getBoundingRectOfElement(t){return this.cache.getBoundingRect(t)}getBBoxOfElement(t){const i=this.getBoundingRectOfElement(t),s=this.getMatrixOfElement(t),r=this.getRootRotatedMatrix(),o=this.getRootTranslatedMatrix();return Lt.transformRectangle(i,o.multiply(r).multiply(s))}getUnrotatedBBoxOfElement(t){const i=this.getBoundingRectOfElement(t),s=this.getMatrixOfElement(t),r=this.getRootTranslatedMatrix();return Lt.transformRectangle(i,r.multiply(s))}getBBox(t={}){let i;if(t.useCellGeometry){const s=this.cell,r=s.isNode()?s.getAngle():0;i=s.getBBox().bbox(r)}else i=this.getBBoxOfElement(this.container);return this.graph.coord.localToGraphRect(i)}getRootTranslatedMatrix(){const t=this.cell,i=t.isNode()?t.getPosition():{x:0,y:0};return pi().translate(i.x,i.y)}getRootRotatedMatrix(){let t=pi();const i=this.cell,s=i.isNode()?i.getAngle():0;if(s){const r=i.getBBox(),o=r.width/2,a=r.height/2;t=t.translate(o,a).rotate(s).translate(-o,-a)}return t}findMagnet(t=this.container){return this.findByAttr("magnet",t)}updateAttrs(t,i,s={}){null==s.rootBBox&&(s.rootBBox=new re),null==s.selectors&&(s.selectors=this.selectors),this.attr.update(t,i,s)}isEdgeElement(t){return this.cell.isEdge()&&(null==t||t===this.container)}prepareHighlight(t,i={}){const s=t||this.container;return i.partial=s===this.container,s}highlight(t,i={}){const s=this.prepareHighlight(t,i);return this.notify("cell:highlight",{magnet:s,options:i,view:this,cell:this.cell}),this.isEdgeView()?this.notify("edge:highlight",{magnet:s,options:i,view:this,edge:this.cell,cell:this.cell}):this.isNodeView()&&this.notify("node:highlight",{magnet:s,options:i,view:this,node:this.cell,cell:this.cell}),this}unhighlight(t,i={}){const s=this.prepareHighlight(t,i);return this.notify("cell:unhighlight",{magnet:s,options:i,view:this,cell:this.cell}),this.isNodeView()?this.notify("node:unhighlight",{magnet:s,options:i,view:this,node:this.cell,cell:this.cell}):this.isEdgeView()&&this.notify("edge:unhighlight",{magnet:s,options:i,view:this,edge:this.cell,cell:this.cell}),this}notifyUnhighlight(t,i){}getEdgeTerminal(t,i,s,r,o){const a=this.cell,c=this.findAttr("port",t),l=t.getAttribute("data-selector"),h={cell:a.id};return null!=l&&(h.magnet=l),null!=c?(h.port=c,a.isNode()&&!a.hasPort(c)&&null==l&&(h.selector=this.getSelector(t))):null==l&&this.container!==t&&(h.selector=this.getSelector(t)),h}getMagnetFromEdgeTerminal(t){const i=this.cell,s=this.container,r=t.port;let a,o=t.magnet;return null!=r&&i.isNode()&&i.hasPort(r)?a=this.findPortElem(r,o)||s:(o||(o=t.selector),!o&&null!=r&&(o=`[port="${r}"]`),a=this.findOne(o,s,this.selectors)),a}hasTools(t){const i=this.tools;return null!=i&&(null==t||i.name===t)}addTools(t){if(this.removeTools(),t){if(!this.can("toolsAddable"))return this;const i=Yn.isToolsView(t)?t:new Yn(t);this.tools=i,i.config({view:this}),i.mount()}return this}updateTools(t={}){return this.tools&&this.tools.update(t),this}removeTools(){return this.tools&&(this.tools.remove(),this.tools=null),this}hideTools(){return this.tools&&this.tools.hide(),this}showTools(){return this.tools&&this.tools.show(),this}renderTools(){const t=this.cell.getTools();return this.addTools(t),this}notify(t,i){return this.trigger(t,i),this.graph.trigger(t,i),this}getEventArgs(t,i,s){const r=this,o=r.cell;return null==i||null==s?{e:t,view:r,cell:o}:{e:t,x:i,y:s,view:r,cell:o}}onClick(t,i,s){this.notify("cell:click",this.getEventArgs(t,i,s))}onDblClick(t,i,s){this.notify("cell:dblclick",this.getEventArgs(t,i,s))}onContextMenu(t,i,s){this.notify("cell:contextmenu",this.getEventArgs(t,i,s))}onMouseDown(t,i,s){this.cell.model&&(this.cachedModelForMouseEvent=this.cell.model,this.cachedModelForMouseEvent.startBatch("mouse")),this.notify("cell:mousedown",this.getEventArgs(t,i,s))}onMouseUp(t,i,s){this.notify("cell:mouseup",this.getEventArgs(t,i,s)),this.cachedModelForMouseEvent&&(this.cachedModelForMouseEvent.stopBatch("mouse",{cell:this.cell}),this.cachedModelForMouseEvent=null)}onMouseMove(t,i,s){this.notify("cell:mousemove",this.getEventArgs(t,i,s))}onMouseOver(t){this.notify("cell:mouseover",this.getEventArgs(t))}onMouseOut(t){this.notify("cell:mouseout",this.getEventArgs(t))}onMouseEnter(t){this.notify("cell:mouseenter",this.getEventArgs(t))}onMouseLeave(t){this.notify("cell:mouseleave",this.getEventArgs(t))}onMouseWheel(t,i,s,r){this.notify("cell:mousewheel",Object.assign({delta:r},this.getEventArgs(t,i,s)))}onCustomEvent(t,i,s,r){this.notify("cell:customevent",Object.assign({name:i},this.getEventArgs(t,s,r))),this.notify(i,Object.assign({},this.getEventArgs(t,s,r)))}onMagnetMouseDown(t,i,s,r){}onMagnetDblClick(t,i,s,r){}onMagnetContextMenu(t,i,s,r){}onLabelMouseDown(t,i,s){}checkMouseleave(t){const i=this.getEventTarget(t,{fromPoint:!0}),s=this.graph.findViewByElem(i);s!==this&&(this.onMouseLeave(t),s&&s.onMouseEnter(t))}}return n.defaults={isSvgElement:!0,rootSelector:"root",priority:0,bootstrap:[],actions:{}},n})();(function(n){n.Flag=mP,n.Attr=pP})(Wi||(Wi={})),function(n){n.toStringTag=`X6.${n.name}`,n.isCellView=function e(t){if(null==t)return!1;if(t instanceof n)return!0;const i=t[Symbol.toStringTag];return(null==i||i===n.toStringTag)&&"function"==typeof t.isNodeView&&"function"==typeof t.isEdgeView&&"function"==typeof t.confirmUpdate}}(Wi||(Wi={})),function(n){n.priority=function e(i){return function(s){s.config({priority:i})}},n.bootstrap=function t(i){return function(s){s.config({bootstrap:i})}}}(Wi||(Wi={})),function(n){n.registry=Nn.create({type:"view"})}(Wi||(Wi={}));class Yn extends St{get name(){return this.options.name}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get[Symbol.toStringTag](){return Yn.toStringTag}constructor(e={}){super(),this.svgContainer=this.createContainer(!0,e),this.htmlContainer=this.createContainer(!1,e),this.config(e)}createContainer(e,t){const i=e?St.createElement("g",!0):St.createElement("div",!1);return Ie(i,this.prefixClassName("cell-tools")),t.className&&Ie(i,t.className),i}config(e){if(this.options=Object.assign(Object.assign({},this.options),e),!Wi.isCellView(e.view)||e.view===this.cellView)return this;this.cellView=e.view,this.cell.isEdge()?(Ie(this.svgContainer,this.prefixClassName("edge-tools")),Ie(this.htmlContainer,this.prefixClassName("edge-tools"))):this.cell.isNode()&&(Ie(this.svgContainer,this.prefixClassName("node-tools")),Ie(this.htmlContainer,this.prefixClassName("node-tools"))),this.svgContainer.setAttribute("data-cell-id",this.cell.id),this.htmlContainer.setAttribute("data-cell-id",this.cell.id),this.name&&(this.svgContainer.setAttribute("data-tools-name",this.name),this.htmlContainer.setAttribute("data-tools-name",this.name));const t=this.options.items;if(!Array.isArray(t))return this;this.tools=[];const i=[];t.forEach(s=>{Yn.ToolItem.isToolItem(s)?"vertices"===s.name?i.unshift(s):i.push(s):"vertices"===("object"==typeof s?s.name:s)?i.unshift(s):i.push(s)});for(let s=0;s<i.length;s+=1){const r=i[s];let o;if(Yn.ToolItem.isToolItem(r))o=r;else{const a="object"==typeof r?r.name:r,c="object"==typeof r&&r.args||{};if(a)if(this.cell.isNode()){const l=P2.registry.get(a);if(!l)return P2.registry.onNotFound(a);o=new l(c)}else if(this.cell.isEdge()){const l=I2.registry.get(a);if(!l)return I2.registry.onNotFound(a);o=new l(c)}}o&&(o.config(this.cellView,this),o.render(),(!1!==o.options.isSVGElement?this.svgContainer:this.htmlContainer).appendChild(o.container),this.tools.push(o))}return this}update(e={}){const t=this.tools;return t&&t.forEach(i=>{e.toolId!==i.cid&&i.isVisible()&&i.update()}),this}focus(e){const t=this.tools;return t&&t.forEach(i=>{e===i?i.show():i.hide()}),this}blur(e){const t=this.tools;return t&&t.forEach(i=>{i!==e&&!i.isVisible()&&(i.show(),i.update())}),this}hide(){return this.focus(null)}show(){return this.blur(null)}remove(){const e=this.tools;return e&&(e.forEach(t=>t.remove()),this.tools=null),Vo(this.svgContainer),Vo(this.htmlContainer),super.remove()}mount(){const e=this.tools,t=this.cellView;if(t&&e){const i=e.some(r=>!1!==r.options.isSVGElement),s=e.some(r=>!1===r.options.isSVGElement);i&&(this.options.local?t.container:t.graph.view.decorator).appendChild(this.svgContainer),s&&this.graph.container.appendChild(this.htmlContainer)}return this}}(function(n){n.toStringTag=`X6.${n.name}`,n.isToolsView=function e(t){if(null==t)return!1;if(t instanceof n)return!0;const i=t[Symbol.toStringTag];return(null==i||i===n.toStringTag)&&null!=t.graph&&null!=t.cell&&"function"==typeof t.config&&"function"==typeof t.update&&"function"==typeof t.focus&&"function"==typeof t.blur&&"function"==typeof t.show&&"function"==typeof t.hide}})(Yn||(Yn={})),function(n){let e=(()=>{class t extends St{static getDefaults(){return this.defaults}static config(s){this.defaults=this.getOptions(s)}static getOptions(s){return En(an(this.getDefaults()),s)}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get name(){return this.options.name}get[Symbol.toStringTag](){return t.toStringTag}constructor(s={}){super(),this.visible=!0,this.options=this.getOptions(s),this.container=St.createElement(this.options.tagName||"g",!1!==this.options.isSVGElement),Ie(this.container,this.prefixClassName("cell-tool")),"string"==typeof this.options.className&&Ie(this.container,this.options.className),this.init()}init(){}getOptions(s){return this.constructor.getOptions(s)}delegateEvents(){return this.options.events&&super.delegateEvents(this.options.events),this}config(s,r){return this.cellView=s,this.parent=r,this.stamp(this.container),this.cell.isEdge()?Ie(this.container,this.prefixClassName("edge-tool")):this.cell.isNode()&&Ie(this.container,this.prefixClassName("node-tool")),this.name&&this.container.setAttribute("data-tool-name",this.name),this.delegateEvents(),this}render(){this.empty();const s=this.options.markup;if(s){const r=Qt.parseJSONMarkup(s);this.container.appendChild(r.fragment),this.childNodes=r.selectors}return this.onRender(),this}onRender(){}update(){return this}stamp(s){s&&s.setAttribute("data-cell-id",this.cellView.cell.id)}show(){return this.container.style.display="",this.visible=!0,this}hide(){return this.container.style.display="none",this.visible=!1,this}isVisible(){return this.visible}focus(){const s=this.options.focusOpacity;return null!=s&&Number.isFinite(s)&&(this.container.style.opacity=`${s}`),this.parent.focus(this),this}blur(){return this.container.style.opacity="",this.parent.blur(this),this}guard(s){return null==this.graph||null==this.cellView||this.graph.view.guard(s,this.cellView)}}return t.defaults={isSVGElement:!0,tagName:"g"},t})();var t;n.ToolItem=e,function(t){let i=0;t.define=function r(o){const a=zb(function s(o){return o?Ib(o):(i+=1,`CustomTool${i}`)}(o.name),this);return a.config(o),a}}(e=n.ToolItem||(n.ToolItem={})),(t=e=n.ToolItem||(n.ToolItem={})).toStringTag=`X6.${t.name}`,t.isToolItem=function i(s){if(null==s)return!1;if(s instanceof t)return!0;const r=s[Symbol.toStringTag];return(null==r||r===t.toStringTag)&&null!=s.graph&&null!=s.cell&&"function"==typeof s.config&&"function"==typeof s.update&&"function"==typeof s.focus&&"function"==typeof s.blur&&"function"==typeof s.show&&"function"==typeof s.hide&&"function"==typeof s.isVisible}}(Yn||(Yn={}));const bce=n=>n;function vP(n,e){return 0===e?"0%":`${Math.round(n/e*100)}%`}function yP(n){return(t,i,s,r)=>i.isEdgeElement(s)?function _ce(n,e,t,i,s){const r=t.getConnection();if(!r)return e;const o=r.closestPointLength(s);if(n){const a=r.length();e.anchor={name:"ratio",args:{ratio:o/a}}}else e.anchor={name:"length",args:{length:o}};return e}(n,t,i,0,r):function wce(n,e,t,i,s){const r=t.cell,o=r.getAngle(),a=t.getUnrotatedBBoxOfElement(i),c=r.getBBox().getCenter(),l=T.create(s).rotate(o,c);let h=l.x-a.x,f=l.y-a.y;return n&&(h=vP(h,a.width),f=vP(f,a.height)),e.anchor={name:"topLeft",args:{dx:h,dy:f,rotate:!0}},e}(n,t,i,s,r)}const Cce=yP(!0),Mce=yP(!1);var ow;function bP(n,e,t,i){return xe(ow.presets.pinRelative,this.graph,{},e,t,n,this.cell,i,{}).anchor}function wP(n,e){return e?n.cell.getBBox():n.cell.isEdge()?n.getConnection().bbox():n.getUnrotatedBBoxOfElement(n.container)}!function(n){n.presets=nh,n.registry=Nn.create({type:"connection strategy"}),n.registry.register(n.presets,!0)}(ow||(ow={}));class il extends Yn.ToolItem{onRender(){Ie(this.container,this.prefixClassName("cell-tool-button")),this.update()}update(){return this.updatePosition(),this}updatePosition(){const t=this.cellView.cell.isEdge()?this.getEdgeMatrix():this.getNodeMatrix();C2(this.container,t,{absolute:!0})}getNodeMatrix(){const e=this.cellView,t=this.options;let{x:i=0,y:s=0}=t;const{offset:r,useCellGeometry:o,rotate:a}=t;let c=wP(e,o);const l=e.cell.getAngle();a||(c=c.bbox(l));let h=0,f=0;"number"==typeof r?(h=r,f=r):"object"==typeof r&&(h=r.x,f=r.y),i=io(i,c.width),s=io(s,c.height);let g=pi().translate(c.x+c.width/2,c.y+c.height/2);return a&&(g=g.rotate(l)),g=g.translate(i+h-c.width/2,s+f-c.height/2),g}getEdgeMatrix(){const e=this.cellView,t=this.options,{offset:i=0,distance:s=0,rotate:r}=t;let o,a,c;const l=io(s,1);o=l>=0&&l<=1?e.getTangentAtRatio(l):e.getTangentAtLength(l),o?(a=o.start,c=o.vector().vectorAngle(new T(1,0))||0):(a=e.getConnection().start,c=0);let h=pi().translate(a.x,a.y).rotate(c);return h="object"==typeof i?h.translate(i.x||0,i.y||0):h.translate(0,i),r||(h=h.rotate(-c)),h}onMouseDown(e){if(this.guard(e))return;e.stopPropagation(),e.preventDefault();const t=this.options.onClick;"function"==typeof t&&xe(t,this.cellView,{e,view:this.cellView,cell:this.cellView.cell,btn:this})}}(function(n){n.config({name:"button",useCellGeometry:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"}})})(il||(il={})),function(n){n.Remove=n.define({name:"button-remove",markup:[{tagName:"circle",selector:"button",attrs:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attrs:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],distance:60,offset:0,useCellGeometry:!0,onClick({view:e,btn:t}){t.parent.remove(),e.cell.remove({ui:!0,toolId:t.cid})}})}(il||(il={}));class ag extends Yn.ToolItem{onRender(){if(Ie(this.container,this.prefixClassName("cell-tool-boundary")),this.options.attrs){const e=this.options.attrs,{class:t}=e,i=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(e,["class"]);pt(this.container,n8(i)),t&&Ie(this.container,t)}this.update()}update(){const e=this.cellView,t=this.options,{useCellGeometry:i,rotate:s}=t,r=D1(t.padding);let o=wP(e,i).moveAndExpand({x:-r.left,y:-r.top,width:r.left+r.right,height:r.top+r.bottom});const a=e.cell;if(a.isNode()){const c=a.getAngle();if(c)if(s){const l=a.getBBox().getCenter();Xb(this.container,c,l.x,l.y,{absolute:!0})}else o=o.bbox(c)}return pt(this.container,o.toJSON()),this}}!function(n){n.config({name:"boundary",tagName:"rect",padding:10,useCellGeometry:!0,attrs:{fill:"none",stroke:"#333","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"}})}(ag||(ag={}));class v8 extends Yn.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}onRender(){return this.addClass(this.prefixClassName("edge-tool-vertices")),this.options.addable&&this.updatePath(),this.resetHandles(),this.renderHandles(),this}update(){return this.vertices.length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.addable&&this.updatePath(),this}resetHandles(){const e=this.handles;this.handles=[],e&&e.forEach(t=>{this.stopHandleListening(t),t.remove()})}renderHandles(){const e=this.vertices;for(let t=0,i=e.length;t<i;t+=1){const s=e[t],o=this.options.processHandle,a=(0,this.options.createHandle)({index:t,graph:this.graph,guard:c=>this.guard(c),attrs:this.options.attrs||{}});o&&o(a),a.updatePosition(s.x,s.y),this.stamp(a.container),this.container.appendChild(a.container),this.handles.push(a),this.startHandleListening(a)}}updateHandles(){const e=this.vertices;for(let t=0,i=e.length;t<i;t+=1){const s=e[t],r=this.handles[t];r&&r.updatePosition(s.x,s.y)}}updatePath(){const e=this.childNodes.connection;e&&e.setAttribute("d",this.cellView.getConnectionPathData())}startHandleListening(e){const t=this.cellView;t.can("vertexMovable")&&(e.on("change",this.onHandleChange,this),e.on("changing",this.onHandleChanging,this),e.on("changed",this.onHandleChanged,this)),t.can("vertexDeletable")&&e.on("remove",this.onHandleRemove,this)}stopHandleListening(e){const t=this.cellView;t.can("vertexMovable")&&(e.off("change",this.onHandleChange,this),e.off("changing",this.onHandleChanging,this),e.off("changed",this.onHandleChanged,this)),t.can("vertexDeletable")&&e.off("remove",this.onHandleRemove,this)}getNeighborPoints(e){const t=this.cellView,i=this.vertices,r=e<i.length-1?i[e+1]:t.targetAnchor;return{prev:T.create(e>0?i[e-1]:t.sourceAnchor),next:T.create(r)}}getMouseEventArgs(e){const t=this.normalizeEvent(e),{x:i,y:s}=this.graph.snapToGrid(t.clientX,t.clientY);return{e:t,x:i,y:s}}onHandleChange({e}){this.focus();const t=this.cellView;if(t.cell.startBatch("move-vertex",{ui:!0,toolId:this.cid}),!this.options.stopPropagation){const{e:i,x:s,y:r}=this.getMouseEventArgs(e);this.eventData(i,{start:{x:s,y:r}}),t.notifyMouseDown(i,s,r)}}onHandleChanging({handle:e,e:t}){const i=this.cellView,s=e.options.index,{e:r,x:o,y:a}=this.getMouseEventArgs(t),c={x:o,y:a};this.snapVertex(c,s),i.cell.setVertexAt(s,c,{ui:!0,toolId:this.cid}),e.updatePosition(c.x,c.y),this.options.stopPropagation||i.notifyMouseMove(r,o,a)}stopBatch(e){this.cell.stopBatch("move-vertex",{ui:!0,toolId:this.cid}),e&&this.cell.stopBatch("add-vertex",{ui:!0,toolId:this.cid})}onHandleChanged({e}){const t=this.options,i=this.cellView;if(t.addable&&this.updatePath(),!t.removeRedundancies)return void this.stopBatch(this.eventData(e).vertexAdded);i.removeRedundantLinearVertices({ui:!0,toolId:this.cid})&&this.render(),this.blur(),this.stopBatch(this.eventData(e).vertexAdded);const{e:r,x:o,y:a}=this.getMouseEventArgs(e);if(!this.options.stopPropagation){i.notifyMouseUp(r,o,a);const{start:c}=this.eventData(r);if(c){const{x:l,y:h}=c;l===o&&h===a&&i.onClick(r,o,a)}}i.checkMouseleave(r),t.onChanged&&t.onChanged({edge:i.cell,edgeView:i})}snapVertex(e,t){const i=this.options.snapRadius||0;if(i>0){const s=this.getNeighborPoints(t),r=s.prev,o=s.next;Math.abs(e.x-r.x)<i?e.x=r.x:Math.abs(e.x-o.x)<i&&(e.x=o.x),Math.abs(e.y-r.y)<i?e.y=s.prev.y:Math.abs(e.y-o.y)<i&&(e.y=o.y)}}onHandleRemove({handle:e,e:t}){if(this.options.removable){const s=this.cellView;s.cell.removeVertexAt(e.options.index,{ui:!0}),this.options.addable&&this.updatePath(),s.checkMouseleave(this.normalizeEvent(t))}}allowAddVertex(e){const t=this.guard(e),i=this.options.addable&&this.cellView.can("vertexAddable"),s=!this.options.modifiers||Xc.isMatch(e,this.options.modifiers);return!t&&i&&s}onPathMouseDown(e){const t=this.cellView;if(!this.allowAddVertex(e))return;e.stopPropagation(),e.preventDefault();const i=this.normalizeEvent(e),s=this.graph.snapToGrid(i.clientX,i.clientY).toJSON();t.cell.startBatch("add-vertex",{ui:!0,toolId:this.cid});const r=t.getVertexIndex(s.x,s.y);this.snapVertex(s,r),t.cell.insertVertex(s,r,{ui:!0,toolId:this.cid}),this.render();const o=this.handles[r];this.eventData(i,{vertexAdded:!0}),o.onMouseDown(i)}onRemove(){this.resetHandles()}}(function(n){n.Handle=class e extends St{get graph(){return this.options.graph}constructor(i){super(),this.options=i,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDoubleClick"})}render(){this.container=St.createElement("circle",!0);const i=this.options.attrs;if("function"==typeof i){const s=n.getDefaults();this.setAttrs(Object.assign(Object.assign({},s.attrs),i(this)))}else this.setAttrs(i);this.addClass(this.prefixClassName("edge-tool-vertex"))}updatePosition(i,s){this.setAttrs({cx:i,cy:s})}onMouseDown(i){this.options.guard(i)||(i.stopPropagation(),i.preventDefault(),this.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},i.data),this.emit("change",{e:i,handle:this}))}onMouseMove(i){this.emit("changing",{e:i,handle:this})}onMouseUp(i){this.emit("changed",{e:i,handle:this}),this.undelegateDocumentEvents(),this.graph.view.delegateEvents()}onDoubleClick(i){this.emit("remove",{e:i,handle:this})}}})(v8||(v8={})),function(n){const e=Ai.prefix("edge-tool-vertex-path");n.config({name:"vertices",snapRadius:20,addable:!0,removable:!0,removeRedundancies:!0,stopPropagation:!0,attrs:{r:6,fill:"#333",stroke:"#fff",cursor:"move","stroke-width":2},createHandle:t=>new n.Handle(t),markup:[{tagName:"path",selector:"connection",className:e,attrs:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"pointer"}}],events:{[`mousedown .${e}`]:"onPathMouseDown",[`touchstart .${e}`]:"onPathMouseDown"}})}(v8||(v8={}));class y8 extends Yn.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}update(){return this.render(),this}onRender(){Ie(this.container,this.prefixClassName("edge-tool-segments")),this.resetHandles();const e=this.cellView,t=[...this.vertices];t.unshift(e.sourcePoint),t.push(e.targetPoint);for(let i=0,s=t.length;i<s-1;i+=1){const a=this.renderHandle(t[i],t[i+1],i);this.stamp(a.container),this.handles.push(a)}return this}renderHandle(e,t,i){const s=this.options.createHandle({index:i,graph:this.graph,guard:r=>this.guard(r),attrs:this.options.attrs||{}});return this.options.processHandle&&this.options.processHandle(s),this.updateHandle(s,e,t),this.container.appendChild(s.container),this.startHandleListening(s),s}startHandleListening(e){e.on("change",this.onHandleChange,this),e.on("changing",this.onHandleChanging,this),e.on("changed",this.onHandleChanged,this)}stopHandleListening(e){e.off("change",this.onHandleChange,this),e.off("changing",this.onHandleChanging,this),e.off("changed",this.onHandleChanged,this)}resetHandles(){const e=this.handles;this.handles=[],e&&e.forEach(t=>{this.stopHandleListening(t),t.remove()})}shiftHandleIndexes(e){const t=this.handles;for(let i=0,s=t.length;i<s;i+=1)t[i].options.index+=e}resetAnchor(e,t){const i=this.cellView.cell,s={ui:!0,toolId:this.cid};t?i.prop([e,"anchor"],t,s):i.removeProp([e,"anchor"],s)}snapHandle(e,t,i){const s=e.options.axis,r=e.options.index,c=this.cellView.cell.getVertices(),l=c[r-2]||i.sourceAnchor,h=c[r+1]||i.targetAnchor,f=this.options.snapRadius;return Math.abs(t[s]-l[s])<f?t[s]=l[s]:Math.abs(t[s]-h[s])<f&&(t[s]=h[s]),t}onHandleChanging({handle:e,e:t}){const i=this.graph,s=this.options,r=this.cellView,o=s.anchor,a=e.options.axis,c=e.options.index-1,l=this.getEventData(t),h=this.normalizeEvent(t),f=i.snapToGrid(h.clientX,h.clientY),g=this.snapHandle(e,f.clone(),l),p=an(this.vertices);let v=p[c],y=p[c+1];const b=r.sourceView,C=r.sourceBBox;let _=!1,M=!1;if(v?0===c?C.containsPoint(v)?(p.shift(),this.shiftHandleIndexes(-1),_=!0):(v[a]=g[a],M=!0):v[a]=g[a]:(v=r.sourceAnchor.toJSON(),v[a]=g[a],C.containsPoint(v)?_=!0:(p.unshift(v),this.shiftHandleIndexes(1),M=!0)),"function"==typeof o&&b){if(_){const Y=l.sourceAnchor.clone();Y[a]=g[a];const j=xe(o,r,Y,b,r.sourceMagnet||b.container,"source",r,this);this.resetAnchor("source",j)}M&&this.resetAnchor("source",l.sourceAnchorDef)}const S=r.targetView,D=r.targetBBox;let I=!1,k=!1;if(y?c===p.length-2?D.containsPoint(y)?(p.pop(),I=!0):(y[a]=g[a],k=!0):y[a]=g[a]:(y=r.targetAnchor.toJSON(),y[a]=g[a],D.containsPoint(y)?I=!0:(p.push(y),k=!0)),"function"==typeof o&&S){if(I){const Y=l.targetAnchor.clone();Y[a]=g[a];const j=xe(o,r,Y,S,r.targetMagnet||S.container,"target",r,this);this.resetAnchor("target",j)}k&&this.resetAnchor("target",l.targetAnchorDef)}T.equalPoints(p,this.vertices)||this.cellView.cell.setVertices(p,{ui:!0,toolId:this.cid}),this.updateHandle(e,v,y,0),s.stopPropagation||r.notifyMouseMove(h,f.x,f.y)}onHandleChange({handle:e,e:t}){const i=this.options,s=this.handles,r=this.cellView,o=e.options.index;if(Array.isArray(s)){for(let a=0,c=s.length;a<c;a+=1)a!==o&&s[a].hide();if(this.focus(),this.setEventData(t,{sourceAnchor:r.sourceAnchor.clone(),targetAnchor:r.targetAnchor.clone(),sourceAnchorDef:an(this.cell.prop(["source","anchor"])),targetAnchorDef:an(this.cell.prop(["target","anchor"]))}),this.cell.startBatch("move-segment",{ui:!0,toolId:this.cid}),!i.stopPropagation){const a=this.normalizeEvent(t),c=this.graph.snapToGrid(a.clientX,a.clientY);r.notifyMouseDown(a,c.x,c.y)}}}onHandleChanged({e}){const t=this.options,i=this.cellView;t.removeRedundancies&&i.removeRedundantLinearVertices({ui:!0,toolId:this.cid});const s=this.normalizeEvent(e),r=this.graph.snapToGrid(s.clientX,s.clientY);this.render(),this.blur(),this.cell.stopBatch("move-segment",{ui:!0,toolId:this.cid}),t.stopPropagation||i.notifyMouseUp(s,r.x,r.y),i.checkMouseleave(s),t.onChanged&&t.onChanged({edge:i.cell,edgeView:i})}updateHandle(e,t,i,s=0){const r=this.options.precision||0,o=Math.abs(t.x-i.x)<r,a=Math.abs(t.y-i.y)<r;if(o||a){const c=new ge(t,i);if(c.length()<this.options.threshold)e.hide();else{const h=c.getCenter(),f=o?"x":"y";h[f]+=s||0;const g=c.vector().vectorAngle(new T(1,0));e.updatePosition(h.x,h.y,g,this.cellView),e.show(),e.options.axis=f}}else e.hide()}onRemove(){this.resetHandles()}}(function(n){n.Handle=class e extends St{constructor(i){super(),this.options=i,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"})}render(){this.container=St.createElement("rect",!0);const i=this.options.attrs;if("function"==typeof i){const s=n.getDefaults();this.setAttrs(Object.assign(Object.assign({},s.attrs),i(this)))}else this.setAttrs(i);this.addClass(this.prefixClassName("edge-tool-segment"))}updatePosition(i,s,r,o){const a=o.getClosestPoint(new T(i,s))||new T(i,s);let c=pi().translate(a.x,a.y);if(a.equals({x:i,y:s}))c=c.rotate(r);else{let h=new ge(i,s,a.x,a.y).vector().vectorAngle(new T(1,0));0!==h&&(h+=90),c=c.rotate(h)}this.setAttrs({transform:_2(c),cursor:r%180==0?"row-resize":"col-resize"})}onMouseDown(i){this.options.guard(i)||(this.trigger("change",{e:i,handle:this}),i.stopPropagation(),i.preventDefault(),this.options.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},i.data))}onMouseMove(i){this.emit("changing",{e:i,handle:this})}onMouseUp(i){this.emit("changed",{e:i,handle:this}),this.undelegateDocumentEvents(),this.options.graph.view.delegateEvents()}show(){this.container.style.display=""}hide(){this.container.style.display="none"}}})(y8||(y8={})),function(n){n.config({name:"segments",precision:.5,threshold:40,snapRadius:10,stopPropagation:!0,removeRedundancies:!0,attrs:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#333",stroke:"#fff","stroke-width":2},createHandle:e=>new n.Handle(e),anchor:bP})}(y8||(y8={}));class cg extends Yn.ToolItem{get type(){return this.options.type}onRender(){Ie(this.container,this.prefixClassName(`edge-tool-${this.type}-anchor`)),this.toggleArea(!1),this.update()}update(){return this.cellView.getTerminalView(this.type)?(this.updateAnchor(),this.updateArea(),this.container.style.display=""):this.container.style.display="none",this}updateAnchor(){const e=this.childNodes;if(!e)return;const t=e.anchor;if(!t)return;const i=this.type,s=this.cellView,r=this.options,o=s.getTerminalAnchor(i),a=s.cell.prop([i,"anchor"]);t.setAttribute("transform",`translate(${o.x}, ${o.y})`);const c=a?r.customAnchorAttrs:r.defaultAnchorAttrs;c&&Object.keys(c).forEach(l=>{t.setAttribute(l,c[l])})}updateArea(){const e=this.childNodes;if(!e)return;const t=e.area;if(!t)return;const i=this.type,s=this.cellView,r=s.getTerminalView(i);if(r){const o=r.cell,a=s.getTerminalMagnet(i);let l,h,f,c=this.options.areaPadding||0;Number.isFinite(c)||(c=0),r.isEdgeElement(a)?(l=r.getBBox(),h=0,f=l.getCenter()):(l=r.getUnrotatedBBoxOfElement(a),h=o.getAngle(),f=l.getCenter(),h&&f.rotate(-h,o.getBBox().getCenter())),l.inflate(c),pt(t,{x:-l.width/2,y:-l.height/2,width:l.width,height:l.height,transform:`translate(${f.x}, ${f.y}) rotate(${h})`})}}toggleArea(e){if(this.childNodes){const t=this.childNodes.area;t&&(t.style.display=e?"":"none")}}onMouseDown(e){this.guard(e)||(e.stopPropagation(),e.preventDefault(),this.graph.view.undelegateEvents(),this.options.documentEvents&&this.delegateDocumentEvents(this.options.documentEvents),this.focus(),this.toggleArea(this.options.restrictArea),this.cell.startBatch("move-anchor",{ui:!0,toolId:this.cid}))}resetAnchor(e){const t=this.type,i=this.cell;e?i.prop([t,"anchor"],e,{rewrite:!0,ui:!0,toolId:this.cid}):i.removeProp([t,"anchor"],{ui:!0,toolId:this.cid})}onMouseMove(e){const t=this.type,i=this.cellView,s=i.getTerminalView(t);if(null==s)return;const r=this.normalizeEvent(e),o=s.cell,a=i.getTerminalMagnet(t);let c=this.graph.coord.clientToLocalPoint(r.clientX,r.clientY);const l=this.options.snap;if("function"==typeof l){const g=xe(l,i,c,s,a,t,i,this);c=T.create(g)}if(this.options.restrictArea)if(s.isEdgeElement(a)){const g=s.getClosestPoint(c);g&&(c=g)}else{const g=s.getUnrotatedBBoxOfElement(a),p=o.getAngle(),v=o.getBBox().getCenter(),y=c.clone().rotate(p,v);g.containsPoint(y)||(c=g.getNearestPointToPoint(y).rotate(-p,v))}let h;const f=this.options.anchor;"function"==typeof f&&(h=xe(f,i,c,s,a,t,i,this)),this.resetAnchor(h),this.update()}onMouseUp(e){this.graph.view.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1),this.options.removeRedundancies&&this.cellView.removeRedundantLinearVertices({ui:!0,toolId:this.cid}),this.cell.stopBatch("move-anchor",{ui:!0,toolId:this.cid})}onDblClick(){const e=this.options.resetAnchor;e&&this.resetAnchor(!0===e?void 0:e),this.update()}}!function(n){n.config({tagName:"g",markup:[{tagName:"circle",selector:"anchor",attrs:{cursor:"pointer"}},{tagName:"rect",selector:"area",attrs:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDblClick"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},customAnchorAttrs:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttrs:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,resetAnchor:!0,restrictArea:!0,removeRedundancies:!0,anchor:bP,snap(e,t,i,s,r,o){const a=o.options.snapRadius||0,c="source"===s,h=this.cell.getVertexAt(c?0:-1)||this.getTerminalAnchor(c?"target":"source");return h&&(Math.abs(h.x-e.x)<a&&(e.x=h.x),Math.abs(h.y-e.y)<a&&(e.y=h.y)),e}})}(cg||(cg={}));const Ece=cg.define({name:"source-anchor",type:"source"}),Sce=cg.define({name:"target-anchor",type:"target"});class lg extends Yn.ToolItem{get type(){return this.options.type}get ratio(){return this.options.ratio}init(){if(this.options.attrs){const e=this.options.attrs,{class:t}=e,i=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(e,["class"]);this.setAttrs(i,this.container),t&&Ie(this.container,t)}}onRender(){Ie(this.container,this.prefixClassName(`edge-tool-${this.type}-arrowhead`)),this.update()}update(){const e=this.ratio,t=this.cellView,i=t.getTangentAtRatio(e),s=i?i.start:t.getPointAtRatio(e),r=i&&i.vector().vectorAngle(new T(1,0))||0;if(!s)return this;const o=pi().translate(s.x,s.y).rotate(r);return C2(this.container,o,{absolute:!0}),this}onMouseDown(e){if(this.guard(e))return;e.stopPropagation(),e.preventDefault();const t=this.cellView;if(t.can("arrowheadMovable")){t.cell.startBatch("move-arrowhead",{ui:!0,toolId:this.cid});const i=this.graph.snapToGrid(e.clientX,e.clientY),s=t.prepareArrowheadDragging(this.type,{x:i.x,y:i.y,options:Object.assign(Object.assign({},this.options),{toolId:this.cid})});this.cellView.setEventData(e,s),this.delegateDocumentEvents(this.options.documentEvents,e.data),t.graph.view.undelegateEvents(),this.container.style.pointerEvents="none"}this.focus()}onMouseMove(e){const t=this.normalizeEvent(e),i=this.graph.snapToGrid(t.clientX,t.clientY);this.cellView.onMouseMove(t,i.x,i.y),this.update()}onMouseUp(e){this.undelegateDocumentEvents();const t=this.normalizeEvent(e),i=this.cellView,s=this.graph.snapToGrid(t.clientX,t.clientY);i.onMouseUp(t,s.x,s.y),this.graph.view.delegateEvents(),this.blur(),this.container.style.pointerEvents="",i.cell.stopBatch("move-arrowhead",{ui:!0,toolId:this.cid})}}!function(n){n.config({tagName:"path",isSVGElement:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}})}(lg||(lg={}));const Dce=lg.define({name:"source-arrowhead",type:"source",ratio:0,attrs:{d:"M 10 -8 -10 0 10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}}),Ace=lg.define({name:"target-arrowhead",type:"target",ratio:1,attrs:{d:"M -10 -8 10 0 -10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}});class O2 extends Yn.ToolItem{constructor(){super(...arguments),this.labelIndex=-1,this.distance=.5,this.dblClick=this.onCellDblClick.bind(this)}onRender(){const e=this.cellView;e&&e.on("cell:dblclick",this.dblClick)}createElement(){const e=[this.prefixClassName((this.cell.isEdge()?"edge":"node")+"-tool-editor"),this.prefixClassName("cell-tool-editor")];this.editor=Yn.createElement("div",!1),this.addClass(e,this.editor),this.editor.contentEditable="true",this.container.appendChild(this.editor)}removeElement(){this.undelegateDocumentEvents(),this.editor&&(this.container.removeChild(this.editor),this.editor=null)}updateEditor(){const{cell:e,editor:t}=this;if(!t)return;const{style:i}=t;e.isNode()?this.updateNodeEditorTransform():e.isEdge()&&this.updateEdgeEditorTransform();const{attrs:s}=this.options;i.fontSize=`${s.fontSize}px`,i.fontFamily=s.fontFamily,i.color=s.color,i.backgroundColor=s.backgroundColor;const r=this.getCellText()||"";return t.innerText=r,this.setCellText(""),this}updateNodeEditorTransform(){const{graph:e,cell:t,editor:i}=this;if(!i)return;let s=T.create(),r=20,o="",{x:a,y:c}=this.options;const{width:l,height:h}=this.options;if(typeof a<"u"&&typeof c<"u"){const p=t.getBBox();a=io(a,p.width),c=io(c,p.height),s=p.topLeft.translate(a,c),r=p.width-2*a}else{const p=t.getBBox();s=p.center,r=p.width-4,o="translate(-50%, -50%)"}const f=e.scale(),{style:g}=i;s=e.localToGraph(s),g.left=`${s.x}px`,g.top=`${s.y}px`,g.transform=`scale(${f.sx}, ${f.sy}) ${o}`,g.minWidth=`${r}px`,"number"==typeof l&&(g.width=`${l}px`),"number"==typeof h&&(g.height=`${h}px`)}updateEdgeEditorTransform(){if(!this.event)return;const{graph:e,editor:t}=this;if(!t)return;let i=T.create(),s=20;const{style:r}=t,o=this.event.target,a=o.parentElement;if(a&&w2(a,this.prefixClassName("edge-label"))){const h=a.getAttribute("data-index")||"0";this.labelIndex=parseInt(h,10);const f=a.getAttribute("transform"),{translation:g}=eg(f);i=new T(g.tx,g.ty),s=Lt.getBBox(o).width}else{if(!this.options.labelAddable)return this;i=e.clientToLocal(T.create(this.event.clientX,this.event.clientY));const f=this.cellView.path.closestPointLength(i);this.distance=f,this.labelIndex=-1}i=e.localToGraph(i);const l=e.scale();r.left=`${i.x}px`,r.top=`${i.y}px`,r.minWidth=`${s}px`,r.transform=`scale(${l.sx}, ${l.sy}) translate(-50%, -50%)`}onDocumentMouseDown(e){if(this.editor&&e.target!==this.editor){const t=this.editor.innerText.replace(/\n$/,"")||"";this.setCellText(""!==t?t:null),this.removeElement()}}onCellDblClick({e}){e.stopPropagation(),this.removeElement(),this.event=e,this.createElement(),this.updateEditor(),this.autoFocus(),this.delegateDocumentEvents(this.options.documentEvents)}onMouseDown(e){e.stopPropagation()}autoFocus(){setTimeout(()=>{this.editor&&(this.editor.focus(),this.selectText())})}selectText(){if(window.getSelection&&this.editor){const e=document.createRange(),t=window.getSelection();e.selectNodeContents(this.editor),t.removeAllRanges(),t.addRange(e)}}getCellText(){const{getText:e}=this.options;if("function"==typeof e)return xe(e,this.cellView,{cell:this.cell,index:this.labelIndex});if("string"==typeof e){if(this.cell.isNode())return this.cell.attr(e);if(this.cell.isEdge()&&-1!==this.labelIndex)return this.cell.prop(`labels/${this.labelIndex}/attrs/${e}`)}}setCellText(e){const t=this.options.setText;if("function"!=typeof t){if("string"==typeof t){if(this.cell.isNode())return void(null!==e&&this.cell.attr(t,e));if(this.cell.isEdge()){const i=this.cell;if(-1===this.labelIndex){if(e){const s={position:{distance:this.distance},attrs:{}};m2(s,`attrs/${t}`,e),i.appendLabel(s)}}else null!==e?i.prop(`labels/${this.labelIndex}/attrs/${t}`,e):"number"==typeof this.labelIndex&&i.removeLabelAt(this.labelIndex)}}}else xe(t,this.cellView,{cell:this.cell,value:e,index:this.labelIndex,distance:this.distance})}onRemove(){const e=this.cellView;e&&e.off("cell:dblclick",this.dblClick),this.removeElement()}}(function(n){n.config({tagName:"div",isSVGElement:!1,events:{mousedown:"onMouseDown"},documentEvents:{mousedown:"onDocumentMouseDown"}})})(O2||(O2={})),function(n){n.NodeEditor=n.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},getText:"text/text",setText:"text/text"}),n.EdgeEditor=n.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},labelAddable:!0,getText:"label/text",setText:"label/text"})}(O2||(O2={}));var P2,I2,_P=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t};!function(n){n.presets={boundary:ag,button:il,"button-remove":il.Remove,"node-editor":O2.NodeEditor},n.registry=Nn.create({type:"node tool",process(e,t){if("function"==typeof t)return t;let i=Yn.ToolItem;const{inherit:s}=t,r=_P(t,["inherit"]);if(s){const o=this.get(s);null==o?this.onNotFound(s,"inherited"):i=o}return null==r.name&&(r.name=e),i.define.call(i,r)}}),n.registry.register(n.presets,!0)}(P2||(P2={})),function(n){n.presets={boundary:ag,vertices:v8,segments:y8,button:il,"button-remove":il.Remove,"source-anchor":Ece,"target-anchor":Sce,"source-arrowhead":Dce,"target-arrowhead":Ace,"edge-editor":O2.EdgeEditor},n.registry=Nn.create({type:"edge tool",process(e,t){if("function"==typeof t)return t;let i=Yn.ToolItem;const{inherit:s}=t,r=_P(t,["inherit"]);if(s){const o=this.get(s);null==o?this.onNotFound(s,"inherited"):i=o}return null==r.name&&(r.name=e),i.define.call(i,r)}}),n.registry.register(n.presets,!0)}(I2||(I2={}));const Tce=La("center"),Oce=La("topCenter"),Pce=La("bottomCenter"),Ice=La("leftMiddle"),Lce=La("rightMiddle"),Rce=La("topLeft"),Nce=La("topRight"),Vce=La("bottomLeft"),Hce=La("bottomRight");function La(n){return function(e,t,i,s={}){const r=s.rotate?e.getUnrotatedBBoxOfElement(t):e.getBBoxOfElement(t),o=r[n];o.x+=io(s.dx,r.width),o.y+=io(s.dy,r.height);const a=e.cell;return s.rotate?o.rotate(-a.getAngle(),a.getBBox().getCenter()):o}}function ug(n){return function(e,t,i,s){if(i instanceof Element){const r=this.graph.findViewByElem(i);let o;return o=r?r.isEdgeElement(i)?CP(r,null!=s.fixedAt?s.fixedAt:"50%"):r.getBBoxOfElement(i).getCenter():new T,n.call(this,e,t,o,s)}return n.apply(this,arguments)}}function CP(n,e){const t=Ta(e),i="string"==typeof e?parseFloat(e):e;return t?n.getPointAtRatio(i/100):n.getPointAtLength(i)}const kce=ug(function(n,e,t,i){const s=n.cell.getAngle(),r=n.getBBoxOfElement(e),o=r.getCenter(),a=r.getTopLeft(),c=r.getBottomRight();let l=i.padding;if(Number.isFinite(l)||(l=0),a.y+l<=t.y&&t.y<=c.y-l){const h=t.y-o.y;o.x+=0===s||180===s?0:1*h/Math.tan(mt.toRad(s)),o.y+=h}else if(a.x+l<=t.x&&t.x<=c.x-l){const h=t.x-o.x;o.y+=90===s||270===s?0:h*Math.tan(mt.toRad(s)),o.x+=h}return o}),Fce=function(n,e,t,i,s){const r=n.cell.getConnectionPoint(this.cell,s);return(i.dx||i.dy)&&r.translate(i.dx||0,i.dy||0),r},Bce=ug(function(n,e,t,i){let s,o,r=0;const a=n.cell;i.rotate?(s=n.getUnrotatedBBoxOfElement(e),o=a.getBBox().getCenter(),r=a.getAngle()):s=n.getBBoxOfElement(e);const c=i.padding;null!=c&&Number.isFinite(c)&&s.inflate(c),i.rotate&&t.rotate(r,o);const l=s.getNearestSideToPoint(t);let h;switch(l){case"left":h=s.getLeftMiddle();break;case"right":h=s.getRightMiddle();break;case"top":h=s.getTopCenter();break;case"bottom":h=s.getBottomCenter()}const f=i.direction;return"H"===f?("top"===l||"bottom"===l)&&(h=t.x<=s.x+s.width?s.getLeftMiddle():s.getRightMiddle()):"V"===f&&(h=t.y<=s.y+s.height?s.getTopCenter():s.getBottomCenter()),i.rotate?h.rotate(-r,o):h});var L2;!function(n){n.presets=Fa,n.registry=Nn.create({type:"node endpoint"}),n.registry.register(n.presets,!0)}(L2||(L2={}));const jce=function(n,e,t,i){let s=null!=i.ratio?i.ratio:.5;return s>1&&(s/=100),n.getPointAtRatio(s)},$ce=function(n,e,t,i){return n.getPointAtLength(null!=i.length?i.length:20)},MP=function(n,e,t,i){return n.getClosestPoint(t)??new T},Uce=ug(MP),Gce=ug(function(n,e,t,i){const r=n.getConnection(),o=n.getConnectionSubdivisions(),a=new ge(t.clone().translate(0,1e6),t.clone().translate(0,-1e6)),c=new ge(t.clone().translate(1e6,0),t.clone().translate(-1e6,0)),l=a.intersect(r,{segmentSubdivisions:o}),h=c.intersect(r,{segmentSubdivisions:o}),f=[];return l&&f.push(...l),h&&f.push(...h),f.length>0?t.closest(f):null!=i.fallbackAt?CP(n,i.fallbackAt):xe(MP,this,n,e,t,i)});var R2;function hg(n,e,t){let i;if("object"==typeof t){if(Number.isFinite(t.y)){const r=new ge(e,n),{start:o,end:a}=r.parallel(t.y);e=o,n=a}i=t.x}else i=t;if(null==i||!Number.isFinite(i))return n;const s=n.distance(e);return 0===i&&s>0?n:n.move(e,-Math.min(i,s-1))}function dg(n){const e=n.getAttribute("stroke-width");return null===e?0:parseFloat(e)||0}!function(n){n.presets=lr,n.registry=Nn.create({type:"edge endpoint"}),n.registry.register(n.presets,!0)}(R2||(R2={}));const xP=function(n,e,t,i){const s=e.getBBoxOfElement(t);i.stroked&&s.inflate(dg(t)/2);const r=n.intersect(s);return hg(r&&r.length?n.start.closest(r):n.end,n.start,i.offset)},Wce=function(n,e,t,i,s){const r=e.cell,o=r.isNode()?r.getAngle():0;if(0===o)return xe(xP,this,n,e,t,i,s);const a=e.getUnrotatedBBoxOfElement(t);i.stroked&&a.inflate(dg(t)/2);const c=a.getCenter(),l=n.clone().rotate(o,c),h=l.setLength(1e6).intersect(a);return hg(h&&h.length?l.start.closest(h).rotate(-o,c):n.end,n.start,i.offset)},Yce=function(n,e,t,i){let s,r;const o=n.end,a=i.selector;if(s="string"==typeof a?e.findOne(a):Array.isArray(a)?Db(t,a):function qce(n){if(null==n)return null;let e=n;do{let t=e.tagName;if("string"!=typeof t)return null;if(t=t.toUpperCase(),"G"===t)e=e.firstElementChild;else{if("TITLE"!==t)break;e=e.nextElementSibling}}while(e);return e}(t),!Wc(s)){if(s===t||!Wc(t))return o;s=t}const c=e.getShapeOfElement(s),l=e.getMatrixOfElement(s),h=e.getRootTranslatedMatrix(),f=e.getRootRotatedMatrix(),g=h.multiply(f).multiply(l),p=g.inverse(),v=Lt.transformLine(n,p),y=v.start.clone(),b=e.getDataOfElement(s);if(!1===i.insideout){null==b.shapeBBox&&(b.shapeBBox=c.bbox());const S=b.shapeBBox;if(null!=S&&S.containsPoint(y))return o}let C;if(!0===i.extrapolate&&v.setLength(1e6),_e.isPath(c)){const S=i.precision||2;null==b.segmentSubdivisions&&(b.segmentSubdivisions=c.getSegmentSubdivisions({precision:S})),C={precision:S,segmentSubdivisions:b.segmentSubdivisions},r=v.intersect(c,C)}else r=v.intersect(c);r?Array.isArray(r)&&(r=y.closest(r)):!0===i.sticky&&(r=re.isRectangle(c)?c.getNearestPointToPoint(y):so.isEllipse(c)?c.intersectsWithLineFromCenterToPoint(y):c.closestPoint(y,C));const _=r?Lt.transformPoint(r,g):o;let M=i.offset||0;return!1!==i.stroked&&("object"==typeof M?(M=Object.assign({},M),null==M.x&&(M.x=0),M.x+=dg(s)/2):M+=dg(s)/2),hg(_,n.start,M)},Zce=function(n,e,t,i){const{alignOffset:s,align:r}=i;return r&&function Xce(n,e,t=0){const{start:i,end:s}=n;let r,o,a,c;switch(e){case"left":c="x",r=s,o=i,a=-1;break;case"right":c="x",r=i,o=s,a=1;break;case"top":c="y",r=s,o=i,a=-1;break;case"bottom":c="y",r=i,o=s,a=1;break;default:return}i[c]<s[c]?r[c]=o[c]:o[c]=r[c],Number.isFinite(t)&&(r[c]+=a*t,o[c]+=a*t)}(n,r,s),hg(n.end,n.start,i.offset)};var N2;!function(n){n.presets=U1,n.registry=Nn.create({type:"connection point"}),n.registry.register(n.presets,!0)}(N2||(N2={}));const Kce=function(n){return[...n]},Jce=function(n,e,t){const i=e.side||"bottom",s=D1(e.padding||40),r=t.sourceBBox,o=t.targetBBox,a=r.getCenter(),c=o.getCenter();let l,h,f;switch(i){case"top":f=-1,l="y",h="height";break;case"left":f=-1,l="x",h="width";break;case"right":f=1,l="x",h="width";break;default:f=1,l="y",h="height"}return a[l]+=f*(r[h]/2+s[i]),c[l]+=f*(o[h]/2+s[i]),f*(a[l]-c[l])>0?c[l]=a[l]:a[l]=c[l],[a.toJSON(),...n,c.toJSON()]};function fg(n){return new re(n.x,n.y,0,0)}function gg(n={}){const e=D1(n.padding||20);return{x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}function EP(n,e={}){return n.sourceBBox.clone().moveAndExpand(gg(e))}function SP(n,e={}){return n.targetBBox.clone().moveAndExpand(gg(e))}const zP=function(n,e,t){let i=EP(t,e),s=SP(t,e);const r=function Qce(n,e={}){return n.sourceAnchor?n.sourceAnchor:EP(n,e).getCenter()}(t,e),o=function ele(n,e={}){return n.targetAnchor?n.targetAnchor:SP(n,e).getCenter()}(t,e);i=i.union(fg(r)),s=s.union(fg(o));const a=n.map(h=>T.create(h));a.unshift(r),a.push(o);let c=null;const l=[];for(let h=0,f=a.length-1;h<f;h+=1){let g=null;const p=a[h],v=a[h+1],y=null!=Ir.getBearing(p,v);if(0===h)h+1===f?i.intersectsWithRect(s.clone().inflate(1))?g=Ir.insideNode(p,v,i,s):y||(g=Ir.nodeToNode(p,v,i,s)):i.containsPoint(v)?g=Ir.insideNode(p,v,i,fg(v).moveAndExpand(gg(e))):y||(g=Ir.nodeToVertex(p,v,i));else if(h+1===f){const b=y&&Ir.getBearing(v,p)===c;s.containsPoint(p)||b?g=Ir.insideNode(p,v,fg(p).moveAndExpand(gg(e)),s,c):y||(g=Ir.vertexToNode(p,v,s,c))}else y||(g=Ir.vertexToVertex(p,v,c));g?(l.push(...g.points),c=g.direction):c=Ir.getBearing(p,v),h+1<f&&l.push(v)}return l};var Ir;!function(n){const e={N:"S",S:"N",E:"W",W:"E"},t={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function i(f,g,p){let v=new T(f.x,g.y);return p.containsPoint(v)&&(v=new T(g.x,f.y)),v}function s(f,g){return f["W"===g||"E"===g?"width":"height"]}function r(f,g){return f.x===g.x?f.y>g.y?"N":"S":f.y===g.y?f.x>g.x?"W":"E":null}function o(f,g,p){const v=new T(f.x,g.y),y=new T(g.x,f.y),b=r(f,v),C=r(f,y),_=p?e[p]:null,M=b===p||b!==_&&(C===_||C!==p)?v:y;return{points:[M],direction:r(M,g)}}function a(f,g,p){const v=i(f,g,p);return{points:[v],direction:r(v,g)}}n.getBBoxSize=s,n.getBearing=r,n.vertexToVertex=o,n.nodeToVertex=a,n.vertexToNode=function c(f,g,p,v){const y=[new T(f.x,g.y),new T(g.x,f.y)],b=y.filter(M=>!p.containsPoint(M)),C=b.filter(M=>r(M,f)!==v);let _;if(C.length>0)return _=C.filter(M=>r(f,M)===v).pop(),_=_||C[0],{points:[_],direction:r(_,g)};{_=Eie(y,b)[0];const M=T.create(g).move(_,-s(p,v)/2);return{points:[i(M,f,p),M],direction:r(M,g)}}},n.nodeToNode=function l(f,g,p,v){let y=a(g,f,v);const b=y.points[0];if(p.containsPoint(b)){y=a(f,g,p);const C=y.points[0];if(v.containsPoint(C)){const _=T.create(f).move(C,-s(p,r(f,C))/2),M=T.create(g).move(b,-s(v,r(g,b))/2),S=new ge(_,M).getCenter(),D=a(f,S,p),I=o(S,g,D.direction);y.points=[D.points[0],I.points[0]],y.direction=I.direction}}return y},n.insideNode=function h(f,g,p,v,y){const b=p.union(v).inflate(1),C=b.getCenter(),_=C.distance(g)>C.distance(f),M=_?g:f,S=_?f:g;let D,I,k,Y;return y?(D=T.fromPolar(b.width+b.height,t[y],M),D=b.getNearestPointToPoint(D).move(D,-1)):D=b.getNearestPointToPoint(M).move(M,1),I=i(D,S,b),D.round().equals(I.round())?(I=T.fromPolar(b.width+b.height,mt.toRad(D.theta(M))+Math.PI/2,S),I=b.getNearestPointToPoint(I).move(S,1).round(),k=i(D,I,b),Y=_?[I,k,D]:[D,k,I]):Y=_?[I,D]:[D,I],{points:Y,direction:r(_?D:I,g)}}}(Ir||(Ir={}));const tle={step:10,maxLoopCount:2e3,precision:1,maxDirectionChange:90,perpendicular:!0,excludeTerminals:[],excludeNodes:[],excludeShapes:[],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost(){return sl(this.step,this)},directions(){const n=sl(this.step,this),e=sl(this.cost,this);return[{cost:e,offsetX:n,offsetY:0},{cost:e,offsetX:-n,offsetY:0},{cost:e,offsetX:0,offsetY:n},{cost:e,offsetX:0,offsetY:-n}]},penalties(){const n=sl(this.step,this);return{0:0,45:n/2,90:n/2}},paddingBox(){const n=sl(this.step,this);return{x:-n,y:-n,width:2*n,height:2*n}},fallbackRouter:zP,draggingRouter:null,snapToGrid:!0};function sl(n,e){return"function"==typeof n?n.call(e):n}class ile{constructor(){this.items=[],this.hash={},this.values={}}add(e,t){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=1,this.values[e]=t;const i=function Xne(n,e,t){return pT(n,e,Ab(t))}(this.items,e,s=>this.values[s]);this.items.splice(i,0,e)}pop(){const e=this.items.shift();return e&&(this.hash[e]=2),e}isOpen(e){return 1===this.hash[e]}isClose(e){return 2===this.hash[e]}isEmpty(){return 0===this.items.length}}class sle{constructor(e){this.options=e,this.mapGridSize=100,this.map={}}build(e,t){const i=this.options,s=i.excludeTerminals.reduce((l,h)=>{const f=t[h];if(f){const g=e.getCell(f.cell);g&&l.push(g)}return l},[]);let r=[];const o=e.getCell(t.getSourceCellId());o&&(r=gT(r,o.getAncestors().map(l=>l.id)));const a=e.getCell(t.getTargetCellId());a&&(r=gT(r,a.getAncestors().map(l=>l.id)));const c=this.mapGridSize;return e.getNodes().reduce((l,h)=>{const f=s.some(b=>b.id===h.id),g=!!h.shape&&i.excludeShapes.includes(h.shape),p=i.excludeNodes.some(b=>"string"==typeof b?h.id===b:b===h),v=r.includes(h.id);if(!(g||f||p||v)){const b=h.getBBox().moveAndExpand(i.paddingBox),C=b.getOrigin().snapToGrid(c),_=b.getCorner().snapToGrid(c);for(let M=C.x;M<=_.x;M+=c)for(let S=C.y;S<=_.y;S+=c){const D=new T(M,S).toString();null==l[D]&&(l[D]=[]),l[D].push(b)}}return l},this.map),this}isAccessible(e){const t=e.clone().snapToGrid(this.mapGridSize).toString(),i=this.map[t];return!i||i.every(s=>!s.containsPoint(e))}}function TP(n,e){const t=n.sourceBBox.clone();return e&&e.paddingBox?t.moveAndExpand(e.paddingBox):t}function OP(n,e){const t=n.targetBBox.clone();return e&&e.paddingBox?t.moveAndExpand(e.paddingBox):t}function PP(n,e){return n.sourceAnchor?n.sourceAnchor:TP(n,e).getCenter()}function aw(n,e,t,i,s){const r=360/t,o=n.theta(function ole(n,e,t,i){const s=i.step;return new T(n.x+(e.x-n.x)/t.x*s,n.y+(e.y-n.y)/t.y*s)}(n,e,i,s)),a=mt.normalize(o+r/2);return r*Math.floor(a/r)}function IP(n,e){const t=Math.abs(n-e);return t>180?360-t:t}function LP(n,e){if(!n)return e;const t=Math.abs(n),i=Math.round(t/e);return i?e+(t-i*e)/i:t}function b8(n,e){return n.round(e)}function pg(n,e,t){return b8(function lle(n,e){const t=e.source,i=wt.snapToGrid(n.x-t.x,e.x)+t.x,s=wt.snapToGrid(n.y-t.y,e.y)+t.y;return new T(i,s)}(n.clone(),e),t)}function w8(n){return n.toString()}function cw(n){return new T(0===n.x?0:Math.abs(n.x)/n.x,0===n.y?0:Math.abs(n.y)/n.y)}function RP(n,e){let t=1/0;for(let i=0,s=e.length;i<s;i+=1){const r=n.manhattanDistance(e[i]);r<t&&(t=r)}return t}function NP(n,e,t,i,s){const r=s.precision,o=s.directionMap,a=n.diff(e.getCenter()),c=Object.keys(o).reduce((l,h)=>{if(t.includes(h)){const f=o[h],g=new T(n.x+f.x*(Math.abs(a.x)+e.width),n.y+f.y*(Math.abs(a.y)+e.height)),v=new ge(n,g).intersect(e)||[];let y,b=null;for(let C=0;C<v.length;C+=1){const _=v[C],M=n.squaredDistance(_);(null==y||M>y)&&(y=M,b=_)}if(b){let C=pg(b,i,r);e.containsPoint(C)&&(C=pg(C.translate(f.x*i.x,f.y*i.y),i,r)),l.push(C)}}return l},[]);return e.containsPoint(n)||c.push(pg(n,i,r)),c}function ule(n,e,t,i,s){const r=[];let l,o=cw(s.diff(t)),a=w8(t),c=n[a];for(;c;){l=e[a];const g=cw(l.diff(c));g.equals(o)||(r.unshift(l),o=g),a=w8(c),c=n[a]}const h=e[a];return cw(h.diff(i)).equals(o)||r.unshift(h),r}function hle(n,e,t,i,s){const r=s.precision;let o,a;o=re.isRectangle(e)?b8(PP(n,s).clone(),r):b8(e.clone(),r),a=re.isRectangle(t)?b8(function rle(n,e){return n.targetAnchor?n.targetAnchor:OP(n,e).getCenter()}(n,s).clone(),r):b8(t.clone(),r);const c=function cle(n,e,t){return{source:e.clone(),x:LP(t.x-e.x,n),y:LP(t.y-e.y,n)}}(s.step,o,a),l=o,h=a;let f,g;if(f=re.isRectangle(e)?NP(l,e,s.startDirections,c,s):[l],g=re.isRectangle(t)?NP(a,t,s.endDirections,c,s):[h],f=f.filter(p=>i.isAccessible(p)),g=g.filter(p=>i.isAccessible(p)),f.length>0&&g.length>0){const p=new ile,v={},y={},b={};for(let Q=0,Z=f.length;Q<Z;Q+=1){const te=f[Q],Ce=w8(te);p.add(Ce,RP(te,g)),v[Ce]=te,b[Ce]=0}const C=s.previousDirectionAngle,_=void 0===C;let M,S;const D=function ale(n,e){const t=e.step;return e.directions.forEach(i=>{i.gridOffsetX=i.offsetX/t*n.x,i.gridOffsetY=i.offsetY/t*n.y}),e.directions}(c,s),I=D.length,k=g.reduce((Q,Z)=>{const te=w8(Z);return Q.push(te),Q},[]),Y=T.equalPoints(f,g);let j=s.maxLoopCount;for(;!p.isEmpty()&&j>0;){const Q=p.pop(),Z=v[Q],te=y[Q],Ce=b[Q],De=Z.equals(l),H=null==te;let V;if(V=H?_?De?null:aw(l,Z,I,c,s):C:aw(te,Z,I,c,s),(!H||!Y)&&k.indexOf(Q)>=0)return s.previousDirectionAngle=V,ule(y,v,Z,l,h);for(let ue=0;ue<I;ue+=1){M=D[ue];const be=M.angle;if(S=IP(V,be),(!_||!De)&&S>s.maxDirectionChange)continue;const Qe=pg(Z.clone().translate(M.gridOffsetX||0,M.gridOffsetY||0),c,r),vt=w8(Qe);if(p.isClose(vt)||!i.isAccessible(Qe))continue;if(k.indexOf(vt)>=0&&!Qe.equals(h)&&IP(be,aw(Qe,h,I,c,s))>s.maxDirectionChange)continue;const _t=Ce+M.cost+(De?0:s.penalties[S]);(!p.isOpen(vt)||_t<b[vt])&&(v[vt]=Qe,y[vt]=Z,b[vt]=_t,p.add(vt,_t+RP(Qe,g)))}j-=1}}return s.fallbackRoute?xe(s.fallbackRoute,this,l,h,s):null}const fle=function(n,e,t){const i=function nle(n){const e=Object.keys(n).reduce((t,i)=>(t[i]="fallbackRouter"===i||"draggingRouter"===i||"fallbackRoute"===i?n[i]:sl(n[i],n),t),{});if(e.padding){const t=D1(e.padding);e.paddingBox={x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}return e.directions.forEach(t=>{const i=new T(0,0),s=new T(t.offsetX,t.offsetY);t.angle=mt.normalize(i.theta(s))}),e}(e),s=TP(t,i),r=OP(t,i),o=PP(t,i),a=new sle(i).build(t.graph.model,t.cell),c=n.map(p=>T.create(p)),l=[];let f,g,h=o;for(let p=0,v=c.length;p<=v;p+=1){let y=null;if(f=g||s,g=c[p],null==g){g=r;const C=t.cell;if((null==C.getSourceCellId()||null==C.getTargetCellId())&&"function"==typeof i.draggingRouter){const M=f===s?o:f,S=g.getOrigin();y=xe(i.draggingRouter,t,M,S,i)}}if(null==y&&(y=hle(t,f,g,a,i)),null===y)return console.warn("Unable to execute manhattan algorithm, use orth instead"),xe(i.fallbackRouter,this,n,i,t);const b=y[0];b&&b.equals(h)&&y.shift(),h=y[y.length-1]||h,l.push(...y)}return i.snapToGrid?function dle(n,e=10){if(n.length<=1)return n;for(let t=0,i=n.length;t<i-1;t+=1){const s=n[t],r=n[t+1];if(s.x===r.x){const o=e*Math.round(s.x/e);s.x!==o&&(s.x=o,r.x=o)}else if(s.y===r.y){const o=e*Math.round(s.y/e);s.y!==o&&(s.y=o,r.y=o)}}return n}(l,t.graph.grid.getGridSize()):l},VP=function(n,e,t){return xe(fle,this,n,Object.assign(Object.assign({},tle),e),t)},gle={maxDirectionChange:45,directions(){const n=sl(this.step,this),e=sl(this.cost,this),t=Math.ceil(Math.sqrt(n*n<<1));return[{cost:e,offsetX:n,offsetY:0},{cost:t,offsetX:n,offsetY:n},{cost:e,offsetX:0,offsetY:n},{cost:t,offsetX:-n,offsetY:n},{cost:e,offsetX:-n,offsetY:0},{cost:t,offsetX:-n,offsetY:-n},{cost:e,offsetX:0,offsetY:-n},{cost:t,offsetX:n,offsetY:-n}]},fallbackRoute(n,e,t){const i=n.theta(e),s=[];let r={x:e.x,y:n.y},o={x:n.x,y:e.y};if(i%180>90){const M=r;r=o,o=M}const a=i%90<45?r:o,c=new ge(n,a),l=90*Math.ceil(i/90),h=T.fromPolar(c.squaredLength(),mt.toRad(l+135),a),f=new ge(e,h),g=c.intersectsWithLine(f),p=g||e,y=360/t.directions.length,b=(g?p:n).theta(e),C=mt.normalize(b+y/2),_=y*Math.floor(C/y);return t.previousDirectionAngle=_,p&&s.push(p.round()),s.push(e),s}},ple=function(n,e,t){return xe(VP,this,n,Object.assign(Object.assign({},gle),e),t)},mle=function(n,e,t){const i=e.offset||32,s=null==e.min?16:e.min;let r=0,o=e.direction;const a=t.sourceBBox,c=t.targetBBox,l=a.getCenter(),h=c.getCenter();if("number"==typeof i&&(r=i),null==o){let C=c.left-a.right,_=c.top-a.bottom;C>=0&&_>=0?o=C>=_?"L":"T":C<=0&&_>=0?(C=a.left-c.right,o=C>=0&&C>=_?"R":"T"):C>=0&&_<=0?(_=a.top-c.bottom,o=_>=0?C>=_?"L":"B":"L"):(C=a.left-c.right,_=a.top-c.bottom,o=C>=0&&_>=0?C>=_?"R":"B":C<=0&&_>=0?"B":C>=0&&_<=0||Math.abs(C)>Math.abs(_)?"R":"B")}let f,g,p;"H"===o?o=h.x-l.x>=0?"L":"R":"V"===o&&(o=h.y-l.y>=0?"T":"B"),"center"===i&&("L"===o?r=(c.left-a.right)/2:"R"===o?r=(a.left-c.right)/2:"T"===o?r=(c.top-a.bottom)/2:"B"===o&&(r=(a.top-c.bottom)/2));const v="L"===o||"R"===o;if(v){if(h.y===l.y)return[...n];p="L"===o?1:-1,f="x",g="width"}else{if(h.x===l.x)return[...n];p="T"===o?1:-1,f="y",g="height"}const y=l.clone(),b=h.clone();if(y[f]+=p*(a[g]/2+r),b[f]-=p*(c[g]/2+r),v){const C=y.x,_=b.x,M=a.width/2+s,S=c.width/2+s;h.x>l.x?_<=C&&(y.x=Math.max(_,l.x+M),b.x=Math.min(C,h.x-S)):_>=C&&(y.x=Math.min(_,l.x-M),b.x=Math.max(C,h.x+S))}else{const C=y.y,_=b.y,M=a.height/2+s,S=c.height/2+s;h.y>l.y?_<=C&&(y.y=Math.max(_,l.y+M),b.y=Math.min(C,h.y-S)):_>=C&&(y.y=Math.min(_,l.y-M),b.y=Math.max(C,h.y+S))}return[y.toJSON(),...n,b.toJSON()]};function V2(n,e){if(null!=e&&!1!==e){const t="boolean"==typeof e?0:e;if(t>0){const i=T.create(n[1]).move(n[2],t),s=T.create(n[1]).move(n[0],t);return[i.toJSON(),...n,s.toJSON()]}{const i=n[1];return[Object.assign({},i),...n,Object.assign({},i)]}}return n}const vle=function(n,e,t){const i=e.width||50,r=(e.height||80)/2,o=e.angle||"auto",a=t.sourceAnchor,c=t.targetAnchor,l=t.sourceBBox,h=t.targetBBox;if(a.equals(c)){const f=C=>{const _=mt.toRad(C),M=Math.sin(_),S=Math.cos(_),D=new T(a.x+S*i,a.y+M*i),I=new T(D.x-S*r,D.y-M*r),k=I.clone().rotate(-90,D),Y=I.clone().rotate(90,D);return[k.toJSON(),D.toJSON(),Y.toJSON()]},g=C=>{const _=a.clone().move(C,-1),M=new ge(_,C);return!l.containsPoint(C)&&!l.intersectsWithLine(M)},p=[0,90,180,270,45,135,225,315];if("number"==typeof o)return V2(f(o),e.merge);const v=l.getCenter();if(v.equals(a))return V2(f(0),e.merge);const y=v.angleBetween(a,v.clone().translate(1,0));let b=f(y);if(g(b[1]))return V2(b,e.merge);for(let C=1,_=p.length;C<_;C+=1)if(b=f(y+p[C]),g(b[1]))return V2(b,e.merge);return V2(b,e.merge)}{const f=new ge(a,c);let g=f.parallel(-i),p=g.getCenter(),v=g.start.clone().move(g.end,r),y=g.end.clone().move(g.start,r);const b=f.parallel(-1),C=new ge(b.start,p),_=new ge(b.end,p);if((l.containsPoint(p)||h.containsPoint(p)||l.intersectsWithLine(C)||l.intersectsWithLine(_)||h.intersectsWithLine(C)||h.intersectsWithLine(_))&&(g=f.parallel(i),p=g.getCenter(),v=g.start.clone().move(g.end,r),y=g.end.clone().move(g.start,r)),e.merge){const M=new ge(a,c),S=new ge(p,M.center).setLength(Number.MAX_SAFE_INTEGER),D=l.intersectsWithLine(S),I=h.intersectsWithLine(S),k=D?Array.isArray(D)?D:[D]:[];I&&(Array.isArray(I)?k.push(...I):k.push(I));const Y=M.center.closest(k);Y?(t.sourceAnchor=Y.clone(),t.targetAnchor=Y.clone()):(t.sourceAnchor=M.center.clone(),t.targetAnchor=M.center.clone())}return V2([v.toJSON(),p.toJSON(),y.toJSON()],e.merge)}};var rl;!function(n){n.presets=ho,n.registry=Nn.create({type:"router"}),n.registry.register(n.presets,!0)}(rl||(rl={}));const yle=function(n,e,t,i={}){const s=[n,...t,e],r=new Rn(s),o=new _e(r);return i.raw?o:o.serialize()},ble=function(n,e,t,i={}){const s=3===t.length?0:1,r=T.create(t[0+s]),o=T.create(t[2+s]),a=T.create(t[1+s]);if(!T.equals(n,e)){const l=new T((n.x+e.x)/2,(n.y+e.y)/2),h=l.angleBetween(T.create(n).rotate(90,l),a);h>1&&(r.rotate(180-h,l),o.rotate(180-h,l),a.rotate(180-h,l))}const c=`\n     M ${n.x} ${n.y}\n     Q ${r.x} ${r.y} ${a.x} ${a.y}\n     Q ${o.x} ${o.y} ${e.x} ${e.y}\n  `;return i.raw?_e.parse(c):c},wle=function(n,e,t,i={}){const s=new _e;s.appendSegment(_e.createSegment("M",n));const r=1/3,o=2/3,a=i.radius||10;let c,l;for(let h=0,f=t.length;h<f;h+=1){const g=T.create(t[h]),p=t[h-1]||n,v=t[h+1]||e;c=l||g.distance(p)/2,l=g.distance(v)/2;const y=-Math.min(a,c),b=-Math.min(a,l),C=g.clone().move(p,y).round(),_=g.clone().move(v,b).round(),M=new T(r*C.x+o*g.x,o*g.y+r*C.y),S=new T(r*_.x+o*g.x,o*g.y+r*_.y);s.appendSegment(_e.createSegment("L",C)),s.appendSegment(_e.createSegment("C",M,S,_))}return s.appendSegment(_e.createSegment("L",e)),i.raw?s:s.serialize()},_le=function(n,e,t,i={}){let s,r=i.direction;if(t&&0!==t.length){const o=[n,...t,e],a=Sn.throughPoints(o);s=new _e(a)}else if(s=new _e,s.appendSegment(_e.createSegment("M",n)),r||(r=Math.abs(n.x-e.x)>=Math.abs(n.y-e.y)?"H":"V"),"H"===r){const o=(n.x+e.x)/2;s.appendSegment(_e.createSegment("C",o,n.y,o,e.y,e.x,e.y))}else{const o=(n.y+e.y)/2;s.appendSegment(_e.createSegment("C",n.x,o,e.x,o,e.x,e.y))}return i.raw?s:s.serialize()},mg=1/3,vg=2/3;function lw(n,e,t=[]){const i=[n,...t,e],s=[];return i.forEach((r,o)=>{const a=i[o+1];null!=a&&s.push(new ge(r,a))}),s}function kP(n,e){return new ge(n,e).squaredLength()}function FP(n,e,t,i){const s=new _e;let r;return r=_e.createSegment("M",n[0].start),s.appendSegment(r),n.forEach((o,a)=>{if(_8.includes(o)){let c,l,h,f;if("arc"===t){c=-90,l=o.start.diff(o.end),(l.x<0||0===l.x&&l.y<0)&&(c+=180);const p=o.getCenter(),v=new ge(p,o.end).rotate(c,p);let y;y=new ge(o.start,p),h=y.pointAt(2/3).rotate(c,o.start),f=v.pointAt(1/3).rotate(-c,v.end),r=_e.createSegment("C",h,f,v.end),s.appendSegment(r),y=new ge(p,o.end),h=v.pointAt(1/3).rotate(c,v.end),f=y.pointAt(1/3).rotate(-c,o.end),r=_e.createSegment("C",h,f,o.end),s.appendSegment(r)}else if("gap"===t)r=_e.createSegment("M",o.end),s.appendSegment(r);else if("cubic"===t){c=o.start.theta(o.end);const g=.6*e;let p=1.35*e;l=o.start.diff(o.end),(l.x<0||0===l.x&&l.y<0)&&(p*=-1),h=new T(o.start.x+g,o.start.y+p).rotate(c,o.start),f=new T(o.end.x-g,o.end.y+p).rotate(c,o.end),r=_e.createSegment("C",h,f,o.end),s.appendSegment(r)}}else{const c=n[a+1];0===i||!c||_8.includes(c)?(r=_e.createSegment("L",o.end),s.appendSegment(r)):function Ele(n,e,t,i,s){const r=t.distance(i)/2,o=t.distance(s)/2,a=-Math.min(n,r),c=-Math.min(n,o),l=t.clone().move(i,a).round(),h=t.clone().move(s,c).round(),f=new T(mg*l.x+vg*t.x,vg*t.y+mg*l.y),g=new T(mg*h.x+vg*t.x,vg*t.y+mg*h.y);let p;p=_e.createSegment("L",l),e.appendSegment(p),p=_e.createSegment("C",f,g,h),e.appendSegment(p)}(i,s,o.end,o.start,c.end)}}),s}let _8,yg;const Sle=function(n,e,t,i={}){_8=[],yg=[],function Cle(n){let e=n.graph._jumpOverUpdateList;if(null==e&&(e=n.graph._jumpOverUpdateList=[],n.graph.on("cell:mouseup",()=>{const t=n.graph._jumpOverUpdateList;setTimeout(()=>{for(let i=0;i<t.length;i+=1)t[i].update()})}),n.graph.on("model:reseted",()=>{e=n.graph._jumpOverUpdateList=[]})),e.indexOf(n)<0){e.push(n);const t=()=>e.splice(e.indexOf(n),1);n.cell.once("change:connector",t),n.cell.once("removed",t)}}(this);const s=i.size||5,r=i.type||"arc",o=i.radius||0,a=i.ignoreConnectors||["smooth"],c=this.graph,h=c.model.getEdges();if(1===h.length)return FP(lw(n,e,t),s,r,o);const f=this.cell,g=h.indexOf(f),p=c.options.connecting.connector||{},v=h.filter((S,D)=>{const I=S.getConnector()||p;return!(a.includes(I.name)||D>g&&"jumpover"===I.name)}),y=v.map(S=>c.findViewByCell(S)),b=lw(n,e,t),C=y.map(S=>null==S?[]:S===this?b:lw(S.sourcePoint,S.targetPoint,S.routePoints)),_=[];b.forEach(S=>{const D=v.reduce((I,k,Y)=>{if(k!==f){const j=function Mle(n,e){const t=[];return e.forEach(i=>{const s=n.intersectsWithLine(i);s&&t.push(s)}),t}(S,C[Y]);I.push(...j)}return I},[]).sort((I,k)=>kP(S.start,I)-kP(S.start,k));D.length>0?_.push(...function xle(n,e,t){return e.reduce((i,s,r)=>{if(yg.includes(s))return i;const o=i.pop()||n,a=T.create(s).move(o.start,-t);let c=T.create(s).move(o.start,+t);const l=e[r+1];if(null!=l){const g=c.distance(l);g<=t&&(c=l.move(o.start,g),yg.push(l))}else if(a.distance(o.end)<2*t+1)return i.push(o),i;if(c.distance(o.start)<2*t+1)return i.push(o),i;const f=new ge(a,c);return _8.push(f),i.push(new ge(o.start,a),f,new ge(c,o.end)),i},[])}(S,D,s)):_.push(S)});const M=FP(_,s,r,o);return _8=[],yg=[],i.raw?M:M.serialize()};var I1;!function(n){n.presets=fo,n.registry=Nn.create({type:"connector"}),n.registry.register(n.presets,!0)}(I1||(I1={}));class BP extends qn{constructor(e={}){super(),this.pending=!1,this.changing=!1,this.data={},this.mutate(an(e)),this.changed={}}mutate(e,t={}){const i=!0===t.unset,s=!0===t.silent,r=[],o=this.changing;this.changing=!0,o||(this.previous=an(this.data),this.changed={});const a=this.data,c=this.previous,l=this.changed;if(Object.keys(e).forEach(h=>{const f=h,g=e[f];No(a[f],g)||r.push(f),No(c[f],g)?delete l[f]:l[f]=g,i?delete a[f]:a[f]=g}),!s&&r.length>0&&(this.pending=!0,this.pendingOptions=t,r.forEach(h=>{this.emit("change:*",{key:h,options:t,store:this,current:a[h],previous:c[h]})})),o)return this;if(!s)for(;this.pending;)this.pending=!1,this.emit("changed",{current:a,previous:c,store:this,options:this.pendingOptions});return this.pending=!1,this.changing=!1,this.pendingOptions=null,this}get(e,t){return null==e?this.data:this.data[e]??t}getPrevious(e){if(this.previous)return this.previous[e]??void 0}set(e,t,i){return null!=e&&("object"==typeof e?this.mutate(e,t):this.mutate({[e]:t},i)),this}remove(e,t){const s={};let r;if("string"==typeof e)s[e]=void 0,r=t;else if(Array.isArray(e))e.forEach(o=>s[o]=void 0),r=t;else{for(const o in this.data)s[o]=void 0;r=e}return this.mutate(s,Object.assign(Object.assign({},r),{unset:!0})),this}getByPath(e){return Db(this.data,e,"/")}setByPath(e,t,i={}){const s="/",r=Array.isArray(e)?[...e]:e.split(s),o=Array.isArray(e)?e.join(s):e,a=r[0],c=r.length;if(i.propertyPath=o,i.propertyValue=t,i.propertyPathArray=r,1===c)this.set(a,t,i);else{const l={};let h=l,f=a;for(let v=1;v<c;v+=1){const y=r[v],b=Number.isFinite(Number(y));h=h[f]=b?[]:{},f=y}m2(l,r,t,s);const g=an(this.data);i.rewrite&&lT(g,e,s);const p=En(g,l);this.set(a,p[a],i)}return this}removeByPath(e,t){const i=Array.isArray(e)?e:e.split("/"),s=i[0];if(1===i.length)this.remove(s,t);else{const r=i.slice(1),o=an(this.get(s));o&&lT(o,r),this.set(s,o,t)}return this}hasChanged(e){return null==e?Object.keys(this.changed).length>0:e in this.changed}getChanges(e){if(null==e)return this.hasChanged()?an(this.changed):null;const t=this.changing?this.previous:this.data,i={};let s;for(const r in e){const o=e[r];No(t[r],o)||(i[r]=o,s=!0)}return s?an(i):null}toJSON(){return an(this.data)}clone(){return new(0,this.constructor)(this.data)}dispose(){this.off(),this.data={},this.previous={},this.changed={},this.pending=!1,this.changing=!1,this.pendingOptions=null,this.trigger("disposed",{store:this})}}!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([qn.dispose()],BP.prototype,"dispose",null);class C8{constructor(e){this.cell=e,this.ids={},this.cache={}}get(){return Object.keys(this.ids)}start(e,t,i={},s="/"){const r=this.cell.getPropByPath(e),o=Hte(i,C8.defaultOptions),a=this.getTiming(o.timing),c=this.getInterp(o.interp,r,t);let l=0;const h=Array.isArray(e)?e.join(s):e,f=Array.isArray(e)?e:e.split(s),g=()=>{const p=(new Date).getTime();0===l&&(l=p);let y=(p-l)/o.duration;y<1?this.ids[h]=requestAnimationFrame(g):y=1;const b=c(a(y));this.cell.setPropByPath(f,b),i.progress&&i.progress(Object.assign({progress:y,currentValue:b},this.getArgs(h))),1===y&&(this.cell.notify("transition:complete",this.getArgs(h)),i.complete&&i.complete(this.getArgs(h)),this.cell.notify("transition:finish",this.getArgs(h)),i.finish&&i.finish(this.getArgs(h)),this.clean(h))};return setTimeout(()=>{this.stop(e,void 0,s),this.cache[h]={startValue:r,targetValue:t,options:o},this.ids[h]=requestAnimationFrame(g),this.cell.notify("transition:start",this.getArgs(h)),i.start&&i.start(this.getArgs(h))},i.delay),this.stop.bind(this,e,s,i)}stop(e,t={},i="/"){const s=Array.isArray(e)?e:e.split(i);return Object.keys(this.ids).filter(r=>No(s,r.split(i).slice(0,s.length))).forEach(r=>{cancelAnimationFrame(this.ids[r]);const o=this.cache[r],a=this.getArgs(r),c=Object.assign(Object.assign({},o.options),t),l=c.jumpedToEnd;l&&null!=o.targetValue&&(this.cell.setPropByPath(r,o.targetValue),this.cell.notify("transition:end",Object.assign({},a)),this.cell.notify("transition:complete",Object.assign({},a)),c.complete&&c.complete(Object.assign({},a)));const h=Object.assign({jumpedToEnd:l},a);this.cell.notify("transition:stop",Object.assign({},h)),c.stop&&c.stop(Object.assign({},h)),this.cell.notify("transition:finish",Object.assign({},a)),c.finish&&c.finish(Object.assign({},a)),this.clean(r)}),this}clean(e){delete this.ids[e],delete this.cache[e]}getTiming(e){return"string"==typeof e?x2[e]:e}getInterp(e,t,i){return e?e(t,i):"number"==typeof i?E2.number(t,i):"string"==typeof i?"#"===i[0]?E2.color(t,i):E2.unit(t,i):E2.object(t,i)}getArgs(e){const t=this.cache[e];return{path:e,startValue:t.startValue,targetValue:t.targetValue,cell:this.cell}}}!function(n){n.defaultOptions={delay:10,duration:100,timing:"linear"}}(C8||(C8={}));var H2,jP=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t};class ot extends qn{static config(e){const{markup:t,propHooks:i,attrHooks:s}=e,r=jP(e,["markup","propHooks","attrHooks"]);null!=t&&(this.markup=t),i&&(this.propHooks=this.propHooks.slice(),Array.isArray(i)?this.propHooks.push(...i):"function"==typeof i?this.propHooks.push(i):Object.values(i).forEach(o=>{"function"==typeof o&&this.propHooks.push(o)})),s&&(this.attrHooks=Object.assign(Object.assign({},this.attrHooks),s)),this.defaults=En({},this.defaults,r)}static getMarkup(){return this.markup}static getDefaults(e){return e?this.defaults:an(this.defaults)}static getAttrHooks(){return this.attrHooks}static applyPropHooks(e,t){return this.propHooks.reduce((i,s)=>s?xe(s,e,i):i,t)}get[Symbol.toStringTag](){return ot.toStringTag}constructor(e={}){super();const i=this.constructor.getDefaults(!0),s=En({},this.preprocess(i),this.preprocess(e));this.id=s.id||G5(),this.store=new BP(s),this.animation=new C8(this),this.setup(),this.init(),this.postprocess(e)}init(){}get model(){return this._model}set model(e){this._model!==e&&(this._model=e)}preprocess(e,t){const i=e.id,r=this.constructor.applyPropHooks(this,e);return null==i&&!0!==t&&(r.id=G5()),r}postprocess(e){}setup(){this.store.on("change:*",e=>{const{key:t,current:i,previous:s,options:r}=e;this.notify("change:*",{key:t,options:r,current:i,previous:s,cell:this}),this.notify(`change:${t}`,{options:r,current:i,previous:s,cell:this}),("source"===t||"target"===t)&&this.notify("change:terminal",{type:t,current:i,previous:s,options:r,cell:this})}),this.store.on("changed",({options:e})=>this.notify("changed",{options:e,cell:this}))}notify(e,t){this.trigger(e,t);const i=this.model;return i&&(i.notify(`cell:${e}`,t),this.isNode()?i.notify(`node:${e}`,Object.assign(Object.assign({},t),{node:this})):this.isEdge()&&i.notify(`edge:${e}`,Object.assign(Object.assign({},t),{edge:this}))),this}isNode(){return!1}isEdge(){return!1}isSameStore(e){return this.store===e.store}get view(){return this.store.get("view")}get shape(){return this.store.get("shape","")}getProp(e,t){return null==e?this.store.get():this.store.get(e,t)}setProp(e,t,i){if("string"==typeof e)this.store.set(e,t,i);else{const s=this.preprocess(e,!0);this.store.set(En({},this.getProp(),s),t),this.postprocess(e)}return this}removeProp(e,t){return"string"==typeof e||Array.isArray(e)?this.store.removeByPath(e,t):this.store.remove(t),this}hasChanged(e){return null==e?this.store.hasChanged():this.store.hasChanged(e)}getPropByPath(e){return this.store.getByPath(e)}setPropByPath(e,t,i={}){return this.model&&("children"===e?this._children=t?t.map(s=>this.model.getCell(s)).filter(s=>null!=s):null:"parent"===e&&(this._parent=t?this.model.getCell(t):null)),this.store.setByPath(e,t,i),this}removePropByPath(e,t={}){const i=Array.isArray(e)?e:e.split("/");return"attrs"===i[0]&&(t.dirty=!0),this.store.removeByPath(i,t),this}prop(e,t,i){return null==e?this.getProp():"string"==typeof e||Array.isArray(e)?1===arguments.length?this.getPropByPath(e):null==t?this.removePropByPath(e,i||{}):this.setPropByPath(e,t,i||{}):this.setProp(e,t||{})}previous(e){return this.store.getPrevious(e)}get zIndex(){return this.getZIndex()}set zIndex(e){null==e?this.removeZIndex():this.setZIndex(e)}getZIndex(){return this.store.get("zIndex")}setZIndex(e,t={}){return this.store.set("zIndex",e,t),this}removeZIndex(e={}){return this.store.remove("zIndex",e),this}toFront(e={}){const t=this.model;if(t){let s,i=t.getMaxZIndex();e.deep?(s=this.getDescendants({deep:!0,breadthFirst:!0}),s.unshift(this)):s=[this],i=i-s.length+1;const r=t.total();let o=t.indexOf(this)!==r-s.length;o||(o=s.some((a,c)=>a.getZIndex()!==i+c)),o&&this.batchUpdate("to-front",()=>{i+=s.length,s.forEach((a,c)=>{a.setZIndex(i+c,e)})})}return this}toBack(e={}){const t=this.model;if(t){let s,i=t.getMinZIndex();e.deep?(s=this.getDescendants({deep:!0,breadthFirst:!0}),s.unshift(this)):s=[this];let r=0!==t.indexOf(this);r||(r=s.some((o,a)=>o.getZIndex()!==i+a)),r&&this.batchUpdate("to-back",()=>{i-=s.length,s.forEach((o,a)=>{o.setZIndex(i+a,e)})})}return this}get markup(){return this.getMarkup()}set markup(e){null==e?this.removeMarkup():this.setMarkup(e)}getMarkup(){let e=this.store.get("markup");return null==e&&(e=this.constructor.getMarkup()),e}setMarkup(e,t={}){return this.store.set("markup",e,t),this}removeMarkup(e={}){return this.store.remove("markup",e),this}get attrs(){return this.getAttrs()}set attrs(e){null==e?this.removeAttrs():this.setAttrs(e)}getAttrs(){const e=this.store.get("attrs");return e?Object.assign({},e):{}}setAttrs(e,t={}){if(null==e)this.removeAttrs(t);else{const i=s=>this.store.set("attrs",s,t);if(!0===t.overwrite)i(e);else{const s=this.getAttrs();i(!1===t.deep?Object.assign(Object.assign({},s),e):En({},s,e))}}return this}replaceAttrs(e,t={}){return this.setAttrs(e,Object.assign(Object.assign({},t),{overwrite:!0}))}updateAttrs(e,t={}){return this.setAttrs(e,Object.assign(Object.assign({},t),{deep:!1}))}removeAttrs(e={}){return this.store.remove("attrs",e),this}getAttrDefinition(e){if(!e)return null;const i=this.constructor.getAttrHooks()||{};let s=i[e]||ko.registry.get(e);if(!s){const r=J0(e);s=i[r]||ko.registry.get(r)}return s||null}getAttrByPath(e){return null==e||""===e?this.getAttrs():this.getPropByPath(this.prefixAttrPath(e))}setAttrByPath(e,t,i={}){return this.setPropByPath(this.prefixAttrPath(e),t,i),this}removeAttrByPath(e,t={}){return this.removePropByPath(this.prefixAttrPath(e),t),this}prefixAttrPath(e){return Array.isArray(e)?["attrs"].concat(e):`attrs/${e}`}attr(e,t,i){return null==e?this.getAttrByPath():"string"==typeof e||Array.isArray(e)?1===arguments.length?this.getAttrByPath(e):null==t?this.removeAttrByPath(e,i||{}):this.setAttrByPath(e,t,i||{}):this.setAttrs(e,t||{})}get visible(){return this.isVisible()}set visible(e){this.setVisible(e)}setVisible(e,t={}){return this.store.set("visible",e,t),this}isVisible(){return!1!==this.store.get("visible")}show(e={}){return this.isVisible()||this.setVisible(!0,e),this}hide(e={}){return this.isVisible()&&this.setVisible(!1,e),this}toggleVisible(e,t={}){const s="boolean"==typeof e?t:e;return("boolean"==typeof e?e:!this.isVisible())?this.show(s):this.hide(s),this}get data(){return this.getData()}set data(e){this.setData(e)}getData(){return this.store.get("data")}setData(e,t={}){if(null==e)this.removeData(t);else{const i=s=>this.store.set("data",s,t);if(!0===t.overwrite)i(e);else{const s=this.getData();i(!1===t.deep?"object"==typeof e?Object.assign(Object.assign({},s),e):e:En({},s,e))}}return this}replaceData(e,t={}){return this.setData(e,Object.assign(Object.assign({},t),{overwrite:!0}))}updateData(e,t={}){return this.setData(e,Object.assign(Object.assign({},t),{deep:!1}))}removeData(e={}){return this.store.remove("data",e),this}get parent(){return this.getParent()}get children(){return this.getChildren()}getParentId(){return this.store.get("parent")}getParent(){const e=this.getParentId();if(e&&this.model){const t=this.model.getCell(e);return this._parent=t,t}return null}getChildren(){const e=this.store.get("children");if(e&&e.length&&this.model){const t=e.map(i=>{var s;return null===(s=this.model)||void 0===s?void 0:s.getCell(i)}).filter(i=>null!=i);return this._children=t,[...t]}return null}hasParent(){return null!=this.parent}isParentOf(e){return null!=e&&e.getParent()===this}isChildOf(e){return null!=e&&this.getParent()===e}eachChild(e,t){return this.children&&this.children.forEach(e,t),this}filterChild(e,t){return this.children?this.children.filter(e,t):[]}getChildCount(){return null==this.children?0:this.children.length}getChildIndex(e){return null==this.children?-1:this.children.indexOf(e)}getChildAt(e){return null!=this.children&&e>=0?this.children[e]:null}getAncestors(e={}){const t=[];let i=this.getParent();for(;i;)t.push(i),i=!1!==e.deep?i.getParent():null;return t}getDescendants(e={}){if(!1!==e.deep){if(e.breadthFirst){const t=[],i=this.getChildren()||[];for(;i.length>0;){const s=i.shift(),r=s.getChildren();t.push(s),r&&i.push(...r)}return t}{const t=this.getChildren()||[];return t.forEach(i=>{t.push(...i.getDescendants(e))}),t}}return this.getChildren()||[]}isDescendantOf(e,t={}){if(null==e)return!1;if(!1!==t.deep){let i=this.getParent();for(;i;){if(i===e)return!0;i=i.getParent()}return!1}return this.isChildOf(e)}isAncestorOf(e,t={}){return null!=e&&e.isDescendantOf(this,t)}contains(e){return this.isAncestorOf(e)}getCommonAncestor(...e){return ot.getCommonAncestor(this,...e)}setParent(e,t={}){return this._parent=e,e?this.store.set("parent",e.id,t):this.store.remove("parent",t),this}setChildren(e,t={}){return this._children=e,null!=e?this.store.set("children",e.map(i=>i.id),t):this.store.remove("children",t),this}unembed(e,t={}){const i=this.children;if(null!=i&&null!=e){const s=this.getChildIndex(e);-1!==s&&(i.splice(s,1),e.setParent(null,t),this.setChildren(i,t))}return this}embed(e,t={}){return e.addTo(this,t),this}addTo(e,t={}){return ot.isCell(e)?e.addChild(this,t):e.addCell(this,t),this}insertTo(e,t,i={}){return e.insertChild(this,t,i),this}addChild(e,t={}){return this.insertChild(e,void 0,t)}insertChild(e,t,i={}){if(null!=e&&e!==this){const s=e.getParent(),r=this!==s;let o=t;if(null==o&&(o=this.getChildCount(),r||(o-=1)),s){const c=s.getChildren();if(c){const l=c.indexOf(e);l>=0&&(e.setParent(null,i),c.splice(l,1),s.setChildren(c,i))}}let a=this.children;if(null==a?(a=[],a.push(e)):a.splice(o,0,e),e.setParent(this,i),this.setChildren(a,i),r&&this.model){const c=this.model.getIncomingEdges(this),l=this.model.getOutgoingEdges(this);c&&c.forEach(h=>h.updateParent(i)),l&&l.forEach(h=>h.updateParent(i))}this.model&&this.model.addCell(e,i)}return this}removeFromParent(e={}){const t=this.getParent();if(null!=t){const i=t.getChildIndex(this);t.removeChildAt(i,e)}return this}removeChild(e,t={}){const i=this.getChildIndex(e);return this.removeChildAt(i,t)}removeChildAt(e,t={}){const i=this.getChildAt(e);return null!=this.children&&null!=i&&(this.unembed(i,t),i.remove(t)),i}remove(e={}){return this.batchUpdate("remove",()=>{const t=this.getParent();t&&t.removeChild(this,e),!1!==e.deep&&this.eachChild(i=>i.remove(e)),this.model&&this.model.removeCell(this,e)}),this}transition(e,t,i={},s="/"){return this.animation.start(e,t,i,s)}stopTransition(e,t,i="/"){return this.animation.stop(e,t,i),this}getTransitions(){return this.animation.get()}translate(e,t,i){return this}scale(e,t,i,s){return this}addTools(e,t,i){const s=Array.isArray(e)?e:[e],r="string"==typeof t?t:null,o="object"==typeof t?t:"object"==typeof i?i:{};if(o.reset)return this.setTools({name:r,items:s,local:o.local},o);let a=an(this.getTools());return null==a||null==r||a.name===r?(null==a&&(a={}),a.items||(a.items=[]),a.name=r,a.items=[...a.items,...s],this.setTools(Object.assign({},a),o)):void 0}setTools(e,t={}){return null==e?this.removeTools():this.store.set("tools",ot.normalizeTools(e),t),this}getTools(){return this.store.get("tools")}removeTools(e={}){return this.store.remove("tools",e),this}hasTools(e){const t=this.getTools();return null!=t&&(null==e||t.name===e)}hasTool(e){const t=this.getTools();return null!=t&&t.items.some(i=>"string"==typeof i?i===e:i.name===e)}removeTool(e,t={}){const i=an(this.getTools());if(i){let s=!1;const r=i.items.slice(),o=a=>{r.splice(a,1),s=!0};if("number"==typeof e)o(e);else for(let a=r.length-1;a>=0;a-=1){const c=r[a];("string"==typeof c?c===e:c.name===e)&&o(a)}s&&(i.items=r,this.setTools(i,t))}return this}getBBox(e){return new re}getConnectionPoint(e,t){return new T}toJSON(e={}){const t=Object.assign({},this.store.get()),i=Object.prototype.toString,s=this.isNode()?"node":this.isEdge()?"edge":"cell";if(!t.shape){const v=this.constructor;throw new Error(`Unable to serialize ${s} missing "shape" prop, check the ${s} "${v.name||i.call(v)}"`)}const o=!0===e.diff,a=t.attrs||{},c=this.constructor.getDefaults(!0),l=o?this.preprocess(c,!0):c,h=l.attrs||{},f={};Object.entries(t).forEach(([v,y])=>{if(null!=y&&!Array.isArray(y)&&"object"==typeof y&&!Ro(y))throw new Error(`Can only serialize ${s} with plain-object props, but got a "${i.call(y)}" type of key "${v}" on ${s} "${this.id}"`);"attrs"!==v&&"shape"!==v&&o&&No(y,l[v])&&delete t[v]}),Object.keys(a).forEach(v=>{const y=a[v],b=h[v];Object.keys(y).forEach(C=>{const _=y[C],M=b?b[C]:null;null==_||"object"!=typeof _||Array.isArray(_)?(null==b||!No(M,_))&&(null==f[v]&&(f[v]={}),f[v][C]=_):Object.keys(_).forEach(S=>{const D=_[S];null!=b&&null!=M&&xn(M)&&No(M[S],D)||(null==f[v]&&(f[v]={}),null==f[v][C]&&(f[v][C]={}),f[v][C][S]=D)})})});const g=Object.assign(Object.assign({},t),{attrs:XA(f)?void 0:f});null==g.attrs&&delete g.attrs;const p=g;return 0===p.angle&&delete p.angle,an(p)}clone(e={}){if(!e.deep){const i=Object.assign({},this.store.get());return e.keepId||delete i.id,delete i.parent,delete i.children,new(0,this.constructor)(i)}return ot.deepClone(this)[this.id]}findView(e){return e.findViewByCell(this)}startBatch(e,t={},i=this.model){return this.notify("batch:start",{name:e,data:t,cell:this}),i&&i.startBatch(e,Object.assign(Object.assign({},t),{cell:this})),this}stopBatch(e,t={},i=this.model){return i&&i.stopBatch(e,Object.assign(Object.assign({},t),{cell:this})),this.notify("batch:stop",{name:e,data:t,cell:this}),this}batchUpdate(e,t,i){const s=this.model;this.startBatch(e,i,s);const r=t();return this.stopBatch(e,i,s),r}dispose(){this.removeFromParent(),this.store.dispose()}}ot.defaults={},ot.attrHooks={},ot.propHooks=[],function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([qn.dispose()],ot.prototype,"dispose",null),function(n){n.normalizeTools=function e(t){return"string"==typeof t?{items:[t]}:Array.isArray(t)?{items:t}:t.items?t:{items:[t]}}}(ot||(ot={})),function(n){n.toStringTag=`X6.${n.name}`,n.isCell=function e(t){if(null==t)return!1;if(t instanceof n)return!0;const i=t[Symbol.toStringTag];return(null==i||i===n.toStringTag)&&"function"==typeof t.isNode&&"function"==typeof t.isEdge&&"function"==typeof t.prop&&"function"==typeof t.attr}}(ot||(ot={})),function(n){n.getCommonAncestor=function e(...r){const o=r.filter(c=>null!=c).map(c=>c.getAncestors()).sort((c,l)=>c.length-l.length);return o.shift().find(c=>o.every(l=>l.includes(c)))||null},n.getCellsBBox=function t(r,o={}){let a=null;for(let c=0,l=r.length;c<l;c+=1){const h=r[c];let f=h.getBBox(o);if(f){if(h.isNode()){const g=h.getAngle();null!=g&&0!==g&&(f=f.bbox(g))}a=null==a?f:a.union(f)}}return a},n.deepClone=function i(r){const o=[r,...r.getDescendants({deep:!0})];return n.cloneCells(o)},n.cloneCells=function s(r){const o=fT(r),a=o.reduce((c,l)=>(c[l.id]=l.clone(),c),{});return o.forEach(c=>{const l=a[c.id];if(l.isEdge()){const g=l.getSourceCellId(),p=l.getTargetCellId();g&&a[g]&&l.setSource(Object.assign(Object.assign({},l.getSource()),{cell:a[g].id})),p&&a[p]&&l.setTarget(Object.assign(Object.assign({},l.getTarget()),{cell:a[p].id}))}const h=c.getParent();h&&a[h.id]&&l.setParent(a[h.id]);const f=c.getChildren();if(f&&f.length){const g=f.reduce((p,v)=>(a[v.id]&&p.push(a[v.id]),p),[]);g.length>0&&l.setChildren(g)}}),a}}(ot||(ot={})),function(n){n.config({propHooks(e){var{tools:t}=e,i=jP(e,["tools"]);return t&&(i.tools=n.normalizeTools(t)),i}})}(ot||(ot={})),function(n){let e,t;n.exist=function i(o,a){return a?null!=e&&e.exist(o):null!=t&&t.exist(o)},n.setEdgeRegistry=function s(o){e=o},n.setNodeRegistry=function r(o){t=o}}(H2||(H2={}));class Ale{constructor(e){this.ports=[],this.groups={},this.init(an(e))}getPorts(){return this.ports}getGroup(e){return null!=e?this.groups[e]:null}getPortsByGroup(e){return this.ports.filter(t=>t.group===e||null==t.group&&null==e)}getPortsLayoutByGroup(e,t){const i=this.getPortsByGroup(e),s=e?this.getGroup(e):null,r=s?s.position:null,o=r?r.name:null;let a;if(null!=o){const f=P1.registry.get(o);if(null==f)return P1.registry.onNotFound(o);a=f}else a=P1.presets.left;return a(i.map(f=>f&&f.position&&f.position.args||{}),t,r&&r.args||{}).map((f,g)=>{const p=i[g];return{portLayout:f,portId:p.id,portSize:p.size,portAttrs:p.attrs,labelSize:p.label.size,labelLayout:this.getPortLabelLayout(p,T.create(f.position),t)}})}init(e){const{groups:t,items:i}=e;null!=t&&Object.keys(t).forEach(s=>{this.groups[s]=this.parseGroup(t[s])}),Array.isArray(i)&&i.forEach(s=>{this.ports.push(this.parsePort(s))})}parseGroup(e){return Object.assign(Object.assign({},e),{label:this.getLabel(e,!0),position:this.getPortPosition(e.position,!0)})}parsePort(e){const t=Object.assign({},e),i=this.getGroup(e.group)||{};return t.markup=t.markup||i.markup,t.attrs=En({},i.attrs,t.attrs),t.position=this.createPosition(i,t),t.label=En({},i.label,this.getLabel(t)),t.zIndex=this.getZIndex(i,t),t.size=Object.assign(Object.assign({},i.size),t.size),t}getZIndex(e,t){return"number"==typeof t.zIndex?t.zIndex:"number"==typeof e.zIndex||"auto"===e.zIndex?e.zIndex:"auto"}createPosition(e,t){return En({name:"left",args:{}},e.position,{args:t.args})}getPortPosition(e,t=!1){if(null==e){if(t)return{name:"left",args:{}}}else{if("string"==typeof e)return{name:e,args:{}};if(Array.isArray(e))return{name:"absolute",args:{x:e[0],y:e[1]}};if("object"==typeof e)return e}return{args:{}}}getPortLabelPosition(e,t=!1){if(null==e){if(t)return{name:"left",args:{}}}else{if("string"==typeof e)return{name:e,args:{}};if("object"==typeof e)return e}return{args:{}}}getLabel(e,t=!1){const i=e.label||{};return i.position=this.getPortLabelPosition(i.position,t),i}getPortLabelLayout(e,t,i){const r=e.label.position.args||{},o=T2.registry.get(e.label.position.name||"left")||T2.presets.left;return o?o(t,i,r):null}}var bg=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t};let Vn=(()=>{class n extends ot{get[Symbol.toStringTag](){return n.toStringTag}constructor(t={}){super(t),this.initPorts()}preprocess(t,i){const{x:s,y:r,width:o,height:a}=t,c=bg(t,["x","y","width","height"]);if(null!=s||null!=r){const l=c.position;c.position=Object.assign(Object.assign({},l),{x:s??(l?l.x:0),y:r??(l?l.y:0)})}if(null!=o||null!=a){const l=c.size;c.size=Object.assign(Object.assign({},l),{width:o??(l?l.width:0),height:a??(l?l.height:0)})}return super.preprocess(c,i)}isNode(){return!0}size(t,i,s){return void 0===t?this.getSize():"number"==typeof t?this.setSize(t,i,s):this.setSize(t,i)}getSize(){const t=this.store.get("size");return t?Object.assign({},t):{width:1,height:1}}setSize(t,i,s){return"object"==typeof t?this.resize(t.width,t.height,i):this.resize(t,i,s),this}resize(t,i,s={}){this.startBatch("resize",s);const r=s.direction;if(r){const o=this.getSize();switch(r){case"left":case"right":i=o.height;break;case"top":case"bottom":t=o.width}let c={right:0,"top-right":0,top:1,"top-left":1,left:2,"bottom-left":2,bottom:3,"bottom-right":3}[r];const l=mt.normalize(this.getAngle()||0);s.absolute&&(c+=Math.floor((l+45)/90),c%=4);const h=this.getBBox();let f;f=0===c?h.getBottomLeft():1===c?h.getCorner():2===c?h.getTopRight():h.getOrigin();const g=f.clone().rotate(-l,h.getCenter()),p=Math.sqrt(t*t+i*i)/2;let v=c*Math.PI/2;v+=Math.atan(c%2==0?i/t:t/i),v-=mt.toRad(l);const b=T.fromPolar(p,v,g).clone().translate(t/-2,i/-2);this.store.set("size",{width:t,height:i},s),this.setPosition(b.x,b.y,s)}else this.store.set("size",{width:t,height:i},s);return this.stopBatch("resize",s),this}scale(t,i,s,r={}){const o=this.getBBox().scale(t,i,s??void 0);return this.startBatch("scale",r),this.setPosition(o.x,o.y,r),this.resize(o.width,o.height,r),this.stopBatch("scale"),this}position(t,i,s){return"number"==typeof t?this.setPosition(t,i,s):this.getPosition(t)}getPosition(t={}){if(t.relative){const s=this.getParent();if(null!=s&&s.isNode()){const r=this.getPosition(),o=s.getPosition();return{x:r.x-o.x,y:r.y-o.y}}}const i=this.store.get("position");return i?Object.assign({},i):{x:0,y:0}}setPosition(t,i,s={}){let r,o,a;if("object"==typeof t?(r=t.x,o=t.y,a=i||{}):(r=t,o=i,a=s||{}),a.relative){const c=this.getParent();if(null!=c&&c.isNode()){const l=c.getPosition();r+=l.x,o+=l.y}}if(a.deep){const c=this.getPosition();this.translate(r-c.x,o-c.y,a)}else this.store.set("position",{x:r,y:o},a);return this}translate(t=0,i=0,s={}){if(0===t&&0===i)return this;s.translateBy=s.translateBy||this.id;const r=this.getPosition();if(null!=s.restrict&&s.translateBy===this.id){const a=this.getBBox({deep:!0}),c=s.restrict,l=r.x-a.x,h=r.y-a.y,f=Math.max(c.x+l,Math.min(c.x+c.width+l-a.width,r.x+t)),g=Math.max(c.y+h,Math.min(c.y+c.height+h-a.height,r.y+i));t=f-r.x,i=g-r.y}const o={x:r.x+t,y:r.y+i};return s.tx=t,s.ty=i,s.transition?("object"!=typeof s.transition&&(s.transition={}),this.transition("position",o,Object.assign(Object.assign({},s.transition),{interp:E2.object})),this.eachChild(a=>{var c;(null===(c=s.exclude)||void 0===c?void 0:c.includes(a))||a.translate(t,i,s)})):(this.startBatch("translate",s),this.store.set("position",o,s),this.eachChild(a=>{var c;(null===(c=s.exclude)||void 0===c?void 0:c.includes(a))||a.translate(t,i,s)}),this.stopBatch("translate",s)),this}angle(t,i){return null==t?this.getAngle():this.rotate(t,i)}getAngle(){return this.store.get("angle",0)}rotate(t,i={}){const s=this.getAngle();if(i.center){const r=this.getSize(),o=this.getPosition(),a=this.getBBox().getCenter();a.rotate(s-t,i.center);const c=a.x-r.width/2-o.x,l=a.y-r.height/2-o.y;this.startBatch("rotate",{angle:t,options:i}),this.setPosition(o.x+c,o.y+l,i),this.rotate(t,Object.assign(Object.assign({},i),{center:null})),this.stopBatch("rotate")}else this.store.set("angle",i.absolute?t:(s+t)%360,i);return this}getBBox(t={}){if(t.deep){const i=this.getDescendants({deep:!0,breadthFirst:!0});return i.push(this),ot.getCellsBBox(i)}return re.fromPositionAndSize(this.getPosition(),this.getSize())}getConnectionPoint(t,i){const s=this.getBBox(),r=s.getCenter(),o=t.getTerminal(i);if(null==o)return r;const a=o.port;if(!a||!this.hasPort(a))return r;const c=this.getPort(a);if(!c||!c.group)return r;const h=this.getPortsPosition(c.group)[a].position,f=T.create(h).translate(s.getOrigin()),g=this.getAngle();return g&&f.rotate(-g,r),f}fit(t={}){const s=(this.getChildren()||[]).filter(h=>h.isNode());if(0===s.length)return this;this.startBatch("fit-embeds",t),t.deep&&s.forEach(h=>h.fit(t));let{x:r,y:o,width:a,height:c}=ot.getCellsBBox(s);const l=D1(t.padding);return r-=l.left,o-=l.top,a+=l.left+l.right,c+=l.bottom+l.top,this.store.set({position:{x:r,y:o},size:{width:a,height:c}},t),this.stopBatch("fit-embeds"),this}get portContainerMarkup(){return this.getPortContainerMarkup()}set portContainerMarkup(t){this.setPortContainerMarkup(t)}getDefaultPortContainerMarkup(){return this.store.get("defaultPortContainerMarkup")||Qt.getPortContainerMarkup()}getPortContainerMarkup(){return this.store.get("portContainerMarkup")||this.getDefaultPortContainerMarkup()}setPortContainerMarkup(t,i={}){return this.store.set("portContainerMarkup",Qt.clone(t),i),this}get portMarkup(){return this.getPortMarkup()}set portMarkup(t){this.setPortMarkup(t)}getDefaultPortMarkup(){return this.store.get("defaultPortMarkup")||Qt.getPortMarkup()}getPortMarkup(){return this.store.get("portMarkup")||this.getDefaultPortMarkup()}setPortMarkup(t,i={}){return this.store.set("portMarkup",Qt.clone(t),i),this}get portLabelMarkup(){return this.getPortLabelMarkup()}set portLabelMarkup(t){this.setPortLabelMarkup(t)}getDefaultPortLabelMarkup(){return this.store.get("defaultPortLabelMarkup")||Qt.getPortLabelMarkup()}getPortLabelMarkup(){return this.store.get("portLabelMarkup")||this.getDefaultPortLabelMarkup()}setPortLabelMarkup(t,i={}){return this.store.set("portLabelMarkup",Qt.clone(t),i),this}get ports(){const t=this.store.get("ports",{items:[]});return null==t.items&&(t.items=[]),t}getPorts(){return an(this.ports.items)}getPortsByGroup(t){return this.getPorts().filter(i=>i.group===t)}getPort(t){return an(this.ports.items.find(i=>i.id&&i.id===t))}getPortAt(t){return this.ports.items[t]||null}hasPorts(){return this.ports.items.length>0}hasPort(t){return-1!==this.getPortIndex(t)}getPortIndex(t){const i="string"==typeof t?t:t.id;return null!=i?this.ports.items.findIndex(s=>s.id===i):-1}getPortsPosition(t){const i=this.getSize();return this.port.getPortsLayoutByGroup(t,new re(0,0,i.width,i.height)).reduce((r,o)=>{const a=o.portLayout;return r[o.portId]={position:Object.assign({},a.position),angle:a.angle||0},r},{})}getPortProp(t,i){return this.getPropByPath(this.prefixPortPath(t,i))}setPortProp(t,i,s,r){if("string"==typeof i||Array.isArray(i)){const c=this.prefixPortPath(t,i);return this.setPropByPath(c,s,r)}const o=this.prefixPortPath(t);return this.setPropByPath(o,i,s)}removePortProp(t,i,s){return"string"==typeof i||Array.isArray(i)?this.removePropByPath(this.prefixPortPath(t,i),s):this.removePropByPath(this.prefixPortPath(t),i)}portProp(t,i,s,r){return null==i?this.getPortProp(t):"string"==typeof i||Array.isArray(i)?2===arguments.length?this.getPortProp(t,i):null==s?this.removePortProp(t,i,r):this.setPortProp(t,i,s,r):this.setPortProp(t,i,s)}prefixPortPath(t,i){const s=this.getPortIndex(t);if(-1===s)throw new Error(`Unable to find port with id: "${t}"`);return null==i||""===i?["ports","items",`${s}`]:Array.isArray(i)?["ports","items",`${s}`,...i]:`ports/items/${s}/${i}`}addPort(t,i){const s=[...this.ports.items];return s.push(t),this.setPropByPath("ports/items",s,i),this}addPorts(t,i){return this.setPropByPath("ports/items",[...this.ports.items,...t],i),this}insertPort(t,i,s){const r=[...this.ports.items];return r.splice(t,0,i),this.setPropByPath("ports/items",r,s),this}removePort(t,i={}){return this.removePortAt(this.getPortIndex(t),i)}removePortAt(t,i={}){if(t>=0){const s=[...this.ports.items];s.splice(t,1),i.rewrite=!0,this.setPropByPath("ports/items",s,i)}return this}removePorts(t,i){let s;if(Array.isArray(t)){if(s=i||{},t.length){s.rewrite=!0;const o=[...this.ports.items].filter(a=>!t.some(c=>a.id===("string"==typeof c?c:c.id)));this.setPropByPath("ports/items",o,s)}}else s=t||{},s.rewrite=!0,this.setPropByPath("ports/items",[],s);return this}getParsedPorts(){return this.port.getPorts()}getParsedGroups(){return this.port.groups}getPortsLayoutByGroup(t,i){return this.port.getPortsLayoutByGroup(t,i)}initPorts(){this.updatePortData(),this.on("change:ports",()=>{this.processRemovedPort(),this.updatePortData()})}processRemovedPort(){const i={};this.ports.items.forEach(a=>{a.id&&(i[a.id]=!0)});const s={};(this.store.getPrevious("ports")||{items:[]}).items.forEach(a=>{a.id&&!i[a.id]&&(s[a.id]=!0)});const o=this.model;o&&!XA(s)&&(o.getConnectedEdges(this,{incoming:!0}).forEach(l=>{const h=l.getTargetPortId();h&&s[h]&&l.remove()}),o.getConnectedEdges(this,{outgoing:!0}).forEach(l=>{const h=l.getSourcePortId();h&&s[h]&&l.remove()}))}validatePorts(){const t={},i=[];return this.ports.items.forEach(s=>{"object"!=typeof s&&i.push(`Invalid port ${s}.`),null==s.id&&(s.id=this.generatePortId()),t[s.id]&&i.push("Duplicitied port id."),t[s.id]=!0}),i}generatePortId(){return G5()}updatePortData(){const t=this.validatePorts();if(t.length>0)throw this.store.set("ports",this.store.getPrevious("ports")),new Error(t.join(" "));const i=this.port?this.port.getPorts():null;this.port=new Ale(this.ports);const s=this.port.getPorts(),r=i?s.filter(a=>i.find(c=>c.id===a.id)?null:a):[...s],o=i?i.filter(a=>s.find(c=>c.id===a.id)?null:a):[];r.length>0&&this.notify("ports:added",{added:r,cell:this,node:this}),o.length>0&&this.notify("ports:removed",{removed:o,cell:this,node:this})}}return n.defaults={angle:0,position:{x:0,y:0},size:{width:1,height:1}},n})();(function(n){n.toStringTag=`X6.${n.name}`,n.isNode=function e(t){if(null==t)return!1;if(t instanceof n)return!0;const i=t[Symbol.toStringTag];return(null==i||i===n.toStringTag)&&"function"==typeof t.isNode&&"function"==typeof t.isEdge&&"function"==typeof t.prop&&"function"==typeof t.attr&&"function"==typeof t.size&&"function"==typeof t.position}})(Vn||(Vn={})),function(n){n.config({propHooks(e){var{ports:t}=e,i=bg(e,["ports"]);return t&&(i.ports=Array.isArray(t)?{items:t}:t),i}})}(Vn||(Vn={})),function(n){n.registry=Nn.create({type:"node",process(e,t){if(H2.exist(e,!0))throw new Error(`Node with name '${e}' was registered by anthor Edge`);if("function"==typeof t)return t.config({shape:e}),t;let i=n;const{inherit:s}=t,r=bg(t,["inherit"]);if(s)if("string"==typeof s){const a=this.get(s);null==a?this.onNotFound(s,"inherited"):i=a}else i=s;null==r.constructorName&&(r.constructorName=e);const o=i.define.call(i,r);return o.config({shape:e}),o}}),H2.setNodeRegistry(n.registry)}(Vn||(Vn={})),function(n){let e=0;n.define=function i(r){const{constructorName:o,overwrite:a}=r,c=bg(r,["constructorName","overwrite"]),l=zb(function t(r){return r?Ib(r):(e+=1,`CustomNode${e}`)}(o||c.shape),this);return l.config(c),c.shape&&n.registry.register(c.shape,l,a),l},n.create=function s(r){const o=r.shape||"rect",a=n.registry.get(o);return a?new a(r):n.registry.onNotFound(o)}}(Vn||(Vn={}));var wg=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t};let Hn=(()=>{class n extends ot{get[Symbol.toStringTag](){return n.toStringTag}constructor(t={}){super(t)}preprocess(t,i){const{source:s,sourceCell:r,sourcePort:o,sourcePoint:a,target:c,targetCell:l,targetPort:h,targetPoint:f}=t,p=wg(t,["source","sourceCell","sourcePort","sourcePoint","target","targetCell","targetPort","targetPoint"]),v=y=>"string"==typeof y||"number"==typeof y;if(null!=s)if(ot.isCell(s))p.source={cell:s.id};else if(v(s))p.source={cell:s};else if(T.isPoint(s))p.source=s.toJSON();else if(Array.isArray(s))p.source={x:s[0],y:s[1]};else{const y=s.cell;p.source=ot.isCell(y)?Object.assign(Object.assign({},s),{cell:y.id}):s}if(null!=r||null!=o){let y=p.source;if(null!=r){const b=v(r)?r:r.id;y?y.cell=b:y=p.source={cell:b}}null!=o&&y&&(y.port=o)}else null!=a&&(p.source=T.create(a).toJSON());if(null!=c)if(ot.isCell(c))p.target={cell:c.id};else if(v(c))p.target={cell:c};else if(T.isPoint(c))p.target=c.toJSON();else if(Array.isArray(c))p.target={x:c[0],y:c[1]};else{const y=c.cell;p.target=ot.isCell(y)?Object.assign(Object.assign({},c),{cell:y.id}):c}if(null!=l||null!=h){let y=p.target;if(null!=l){const b=v(l)?l:l.id;y?y.cell=b:y=p.target={cell:b}}null!=h&&y&&(y.port=h)}else null!=f&&(p.target=T.create(f).toJSON());return super.preprocess(p,i)}setup(){super.setup(),this.on("change:labels",t=>this.onLabelsChanged(t)),this.on("change:vertices",t=>this.onVertexsChanged(t))}isEdge(){return!0}disconnect(t={}){return this.store.set({source:{x:0,y:0},target:{x:0,y:0}},t),this}get source(){return this.getSource()}set source(t){this.setSource(t)}getSource(){return this.getTerminal("source")}getSourceCellId(){return this.source.cell}getSourcePortId(){return this.source.port}setSource(t,i,s={}){return this.setTerminal("source",t,i,s)}get target(){return this.getTarget()}set target(t){this.setTarget(t)}getTarget(){return this.getTerminal("target")}getTargetCellId(){return this.target.cell}getTargetPortId(){return this.target.port}setTarget(t,i,s={}){return this.setTerminal("target",t,i,s)}getTerminal(t){return Object.assign({},this.store.get(t))}setTerminal(t,i,s,r={}){if(ot.isCell(i))return this.store.set(t,En({},s,{cell:i.id}),r),this;const o=i;return T.isPoint(i)||null!=o.x&&null!=o.y?(this.store.set(t,En({},s,{x:o.x,y:o.y}),r),this):(this.store.set(t,an(i),r),this)}getSourcePoint(){return this.getTerminalPoint("source")}getTargetPoint(){return this.getTerminalPoint("target")}getTerminalPoint(t){const i=this[t];if(T.isPointLike(i))return T.create(i);const s=this.getTerminalCell(t);return s?s.getConnectionPoint(this,t):new T}getSourceCell(){return this.getTerminalCell("source")}getTargetCell(){return this.getTerminalCell("target")}getTerminalCell(t){if(this.model){const i="source"===t?this.getSourceCellId():this.getTargetCellId();if(i)return this.model.getCell(i)}return null}getSourceNode(){return this.getTerminalNode("source")}getTargetNode(){return this.getTerminalNode("target")}getTerminalNode(t){let i=this;const s={};for(;i&&i.isEdge();){if(s[i.id])return null;s[i.id]=!0,i=i.getTerminalCell(t)}return i&&i.isNode()?i:null}get router(){return this.getRouter()}set router(t){null==t?this.removeRouter():this.setRouter(t)}getRouter(){return this.store.get("router")}setRouter(t,i,s){return"object"==typeof t?this.store.set("router",t,i):this.store.set("router",{name:t,args:i},s),this}removeRouter(t={}){return this.store.remove("router",t),this}get connector(){return this.getConnector()}set connector(t){null==t?this.removeConnector():this.setConnector(t)}getConnector(){return this.store.get("connector")}setConnector(t,i,s){return"object"==typeof t?this.store.set("connector",t,i):this.store.set("connector",{name:t,args:i},s),this}removeConnector(t={}){return this.store.remove("connector",t)}getDefaultLabel(){const t=this.constructor,i=this.store.get("defaultLabel")||t.defaultLabel||{};return an(i)}get labels(){return this.getLabels()}set labels(t){this.setLabels(t)}getLabels(){return[...this.store.get("labels",[])].map(t=>this.parseLabel(t))}setLabels(t,i={}){return this.store.set("labels",Array.isArray(t)?t:[t],i),this}insertLabel(t,i,s={}){const r=this.getLabels(),o=r.length;let a=null!=i&&Number.isFinite(i)?i:o;return a<0&&(a=o+a+1),r.splice(a,0,this.parseLabel(t)),this.setLabels(r,s)}appendLabel(t,i={}){return this.insertLabel(t,-1,i)}getLabelAt(t){const i=this.getLabels();return null!=t&&Number.isFinite(t)?this.parseLabel(i[t]):null}setLabelAt(t,i,s={}){if(null!=t&&Number.isFinite(t)){const r=this.getLabels();r[t]=this.parseLabel(i),this.setLabels(r,s)}return this}removeLabelAt(t,i={}){const s=this.getLabels(),r=null!=t&&Number.isFinite(t)?t:-1,o=s.splice(r,1);return this.setLabels(s,i),o.length?o[0]:null}parseLabel(t){return"string"==typeof t?this.constructor.parseStringLabel(t):t}onLabelsChanged({previous:t,current:i}){const s=t&&i?i.filter(o=>t.find(a=>o===a||No(o,a))?null:o):i?[...i]:[],r=t&&i?t.filter(o=>i.find(a=>o===a||No(o,a))?null:o):t?[...t]:[];s.length>0&&this.notify("labels:added",{added:s,cell:this,edge:this}),r.length>0&&this.notify("labels:removed",{removed:r,cell:this,edge:this})}get vertices(){return this.getVertices()}set vertices(t){this.setVertices(t)}getVertices(){return[...this.store.get("vertices",[])]}setVertices(t,i={}){const s=Array.isArray(t)?t:[t];return this.store.set("vertices",s.map(r=>T.toJSON(r)),i),this}insertVertex(t,i,s={}){const r=this.getVertices(),o=r.length;let a=null!=i&&Number.isFinite(i)?i:o;return a<0&&(a=o+a+1),r.splice(a,0,T.toJSON(t)),this.setVertices(r,s)}appendVertex(t,i={}){return this.insertVertex(t,-1,i)}getVertexAt(t){return null!=t&&Number.isFinite(t)?this.getVertices()[t]:null}setVertexAt(t,i,s={}){if(null!=t&&Number.isFinite(t)){const r=this.getVertices();r[t]=i,this.setVertices(r,s)}return this}removeVertexAt(t,i={}){const s=this.getVertices(),r=null!=t&&Number.isFinite(t)?t:-1;return s.splice(r,1),this.setVertices(s,i)}onVertexsChanged({previous:t,current:i}){const s=t&&i?i.filter(o=>t.find(a=>T.equals(o,a))?null:o):i?[...i]:[],r=t&&i?t.filter(o=>i.find(a=>T.equals(o,a))?null:o):t?[...t]:[];s.length>0&&this.notify("vertexs:added",{added:s,cell:this,edge:this}),r.length>0&&this.notify("vertexs:removed",{removed:r,cell:this,edge:this})}getDefaultMarkup(){return this.store.get("defaultMarkup")||Qt.getEdgeMarkup()}getMarkup(){return super.getMarkup()||this.getDefaultMarkup()}translate(t,i,s={}){return s.translateBy=s.translateBy||this.id,s.tx=t,s.ty=i,this.applyToPoints(r=>({x:(r.x||0)+t,y:(r.y||0)+i}),s)}scale(t,i,s,r={}){return this.applyToPoints(o=>T.create(o).scale(t,i,s).toJSON(),r)}applyToPoints(t,i={}){const s={},r=this.getSource(),o=this.getTarget();T.isPointLike(r)&&(s.source=t(r)),T.isPointLike(o)&&(s.target=t(o));const a=this.getVertices();return a.length>0&&(s.vertices=a.map(t)),this.store.set(s,i),this}getBBox(){return this.getPolyline().bbox()}getConnectionPoint(){return this.getPolyline().pointAt(.5)}getPolyline(){const t=[this.getSourcePoint(),...this.getVertices().map(i=>T.create(i)),this.getTargetPoint()];return new Rn(t)}updateParent(t){let i=null;const s=this.getSourceCell(),r=this.getTargetCell(),o=this.getParent();return s&&r&&(i=s===r||s.isDescendantOf(r)?r:r.isDescendantOf(s)?s:ot.getCommonAncestor(s,r)),o&&i&&i.id!==o.id&&o.unembed(this,t),i&&(!o||o.id!==i.id)&&i.embed(this,t),i}hasLoop(t={}){const i=this.getSource(),s=this.getTarget(),r=i.cell,o=s.cell;if(!r||!o)return!1;let a=r===o;if(!a&&t.deep&&this._model){const c=this.getSourceCell(),l=this.getTargetCell();c&&l&&(a=c.isAncestorOf(l,t)||l.isAncestorOf(c,t))}return a}getFragmentAncestor(){const t=[this,this.getSourceNode(),this.getTargetNode()].filter(i=>null!=i);return this.getCommonAncestor(...t)}isFragmentDescendantOf(t){const i=this.getFragmentAncestor();return!!i&&(i.id===t.id||i.isDescendantOf(t))}}return n.defaults={},n})();(function(n){n.equalTerminals=function e(t,i){return t.cell===i.cell&&(t.port===i.port||null==t.port&&null==i.port)}})(Hn||(Hn={})),function(n){n.defaultLabel={markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}],attrs:{text:{fill:"#000",fontSize:14,textAnchor:"middle",textVerticalAnchor:"middle",pointerEvents:"none"},rect:{ref:"label",fill:"#fff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}},n.parseStringLabel=function e(t){return{attrs:{label:{text:t}}}}}(Hn||(Hn={})),function(n){n.toStringTag=`X6.${n.name}`,n.isEdge=function e(t){if(null==t)return!1;if(t instanceof n)return!0;const i=t[Symbol.toStringTag];return(null==i||i===n.toStringTag)&&"function"==typeof t.isNode&&"function"==typeof t.isEdge&&"function"==typeof t.prop&&"function"==typeof t.attr&&"function"==typeof t.disconnect&&"function"==typeof t.getSource&&"function"==typeof t.getTarget}}(Hn||(Hn={})),function(n){n.registry=Nn.create({type:"edge",process(e,t){if(H2.exist(e,!1))throw new Error(`Edge with name '${e}' was registered by anthor Node`);if("function"==typeof t)return t.config({shape:e}),t;let i=n;const{inherit:s="edge"}=t,r=wg(t,["inherit"]);if("string"==typeof s){const a=this.get(s||"edge");null==a&&s?this.onNotFound(s,"inherited"):i=a}else i=s;null==r.constructorName&&(r.constructorName=e);const o=i.define.call(i,r);return o.config({shape:e}),o}}),H2.setEdgeRegistry(n.registry)}(Hn||(Hn={})),function(n){let e=0;n.define=function i(r){const{constructorName:o,overwrite:a}=r,c=wg(r,["constructorName","overwrite"]),l=zb(function t(r){return r?Ib(r):(e+=1,`CustomEdge${e}`)}(o||c.shape),this);return l.config(c),c.shape&&n.registry.register(c.shape,l,a),l},n.create=function s(r){const o=r.shape||"edge",a=n.registry.get(o);return a?new a(r):n.registry.onNotFound(o)}}(Hn||(Hn={})),function(n){const e="basic.edge";n.config({shape:e,propHooks(t){const{label:i,vertices:s}=t,r=wg(t,["label","vertices"]);if(i){null==r.labels&&(r.labels=[]);const o="string"==typeof i?n.parseStringLabel(i):i;r.labels.push(o)}return s&&Array.isArray(s)&&(r.vertices=s.map(o=>T.create(o).toJSON())),r}}),n.registry.register(e,n)}(Hn||(Hn={}));class $P extends qn{constructor(e,t={}){super(),this.length=0,this.comparator=t.comparator||"zIndex",this.clean(),e&&this.reset(e,{silent:!0})}toJSON(){return this.cells.map(e=>e.toJSON())}add(e,t,i){let s,r;"number"==typeof t?(s=t,r=Object.assign({merge:!1},i)):(s=this.length,r=Object.assign({merge:!1},t)),s>this.length&&(s=this.length),s<0&&(s+=this.length+1);const o=Array.isArray(e)?e:[e],a=this.comparator&&"number"!=typeof t&&!1!==r.sort,c=this.comparator||null;let l=!1;const h=[],f=[];return o.forEach(g=>{const p=this.get(g);p?r.merge&&!g.isSameStore(p)&&(p.setProp(g.getProp(),i),f.push(p),a&&!l&&(l=null==c||"function"==typeof c?p.hasChanged():"string"==typeof c?p.hasChanged(c):c.some(v=>p.hasChanged(v)))):(h.push(g),this.reference(g))}),h.length&&(a&&(l=!0),this.cells.splice(s,0,...h),this.length=this.cells.length),l&&this.sort({silent:!0}),r.silent||(h.forEach((g,p)=>{const v={cell:g,index:s+p,options:r};this.trigger("added",v),r.dryrun||g.notify("added",Object.assign({},v))}),l&&this.trigger("sorted"),(h.length||f.length)&&this.trigger("updated",{added:h,merged:f,removed:[],options:r})),this}remove(e,t={}){const i=Array.isArray(e)?e:[e],s=this.removeCells(i,t);return!t.silent&&s.length>0&&this.trigger("updated",{options:t,removed:s,added:[],merged:[]}),Array.isArray(e)?s:s[0]}removeCells(e,t){const i=[];for(let s=0;s<e.length;s+=1){const r=this.get(e[s]);if(null==r)continue;const o=this.cells.indexOf(r);this.cells.splice(o,1),this.length-=1,delete this.map[r.id],i.push(r),this.unreference(r),t.dryrun||r.remove(),t.silent||(this.trigger("removed",{cell:r,index:o,options:t}),t.dryrun||r.notify("removed",{cell:r,index:o,options:t}))}return i}reset(e,t={}){const i=this.cells.slice();if(i.forEach(s=>this.unreference(s)),this.clean(),this.add(e,Object.assign({silent:!0},t)),!t.silent){const s=this.cells.slice();this.trigger("reseted",{options:t,previous:i,current:s});const r=[],o=[];s.forEach(a=>{i.some(l=>l.id===a.id)||r.push(a)}),i.forEach(a=>{s.some(l=>l.id===a.id)||o.push(a)}),this.trigger("updated",{options:t,added:r,removed:o,merged:[]})}return this}push(e,t){return this.add(e,this.length,t)}pop(e){const t=this.at(this.length-1);return this.remove(t,e)}unshift(e,t){return this.add(e,0,t)}shift(e){const t=this.at(0);return this.remove(t,e)}get(e){return null==e?null:this.map["string"==typeof e||"number"==typeof e?e:e.id]||null}has(e){return null!=this.get(e)}at(e){return e<0&&(e+=this.length),this.cells[e]||null}first(){return this.at(0)}last(){return this.at(-1)}indexOf(e){return this.cells.indexOf(e)}toArray(){return this.cells.slice()}sort(e={}){return null!=this.comparator&&(this.cells=bT(this.cells,this.comparator),e.silent||this.trigger("sorted")),this}clone(){return new(0,this.constructor)(this.cells.slice(),{comparator:this.comparator})}reference(e){this.map[e.id]=e,e.on("*",this.notifyCellEvent,this)}unreference(e){e.off("*",this.notifyCellEvent,this),delete this.map[e.id]}notifyCellEvent(e,t){const i=t.cell;this.trigger(`cell:${e}`,t),i&&(i.isNode()?this.trigger(`node:${e}`,Object.assign(Object.assign({},t),{node:i})):i.isEdge()&&this.trigger(`edge:${e}`,Object.assign(Object.assign({},t),{edge:i})))}clean(){this.length=0,this.cells=[],this.map={}}}class Fo extends qn{get[Symbol.toStringTag](){return Fo.toStringTag}constructor(e=[]){super(),this.batches={},this.addings=new WeakMap,this.nodes={},this.edges={},this.outgoings={},this.incomings={},this.collection=new $P(e),this.setup()}notify(e,t){this.trigger(e,t);const i=this.graph;return i&&i.trigger("sorted"===e||"reseted"===e||"updated"===e?`model:${e}`:e,t),this}setup(){const e=this.collection;e.on("sorted",()=>this.notify("sorted",null)),e.on("updated",t=>this.notify("updated",t)),e.on("cell:change:zIndex",()=>this.sortOnChangeZ()),e.on("added",({cell:t})=>{this.onCellAdded(t)}),e.on("removed",t=>{const i=t.cell;this.onCellRemoved(i,t.options),this.notify("cell:removed",t),i.isNode()?this.notify("node:removed",Object.assign(Object.assign({},t),{node:i})):i.isEdge()&&this.notify("edge:removed",Object.assign(Object.assign({},t),{edge:i}))}),e.on("reseted",t=>{this.onReset(t.current),this.notify("reseted",t)}),e.on("edge:change:source",({edge:t})=>this.onEdgeTerminalChanged(t,"source")),e.on("edge:change:target",({edge:t})=>{this.onEdgeTerminalChanged(t,"target")})}sortOnChangeZ(){this.collection.sort()}onCellAdded(e){const t=e.id;e.isEdge()?(e.updateParent(),this.edges[t]=!0,this.onEdgeTerminalChanged(e,"source"),this.onEdgeTerminalChanged(e,"target")):this.nodes[t]=!0}onCellRemoved(e,t){const i=e.id;if(e.isEdge()){delete this.edges[i];const s=e.getSource(),r=e.getTarget();if(s&&s.cell){const o=this.outgoings[s.cell],a=o?o.indexOf(i):-1;a>=0&&(o.splice(a,1),0===o.length&&delete this.outgoings[s.cell])}if(r&&r.cell){const o=this.incomings[r.cell],a=o?o.indexOf(i):-1;a>=0&&(o.splice(a,1),0===o.length&&delete this.incomings[r.cell])}}else delete this.nodes[i];t.clear||(t.disconnectEdges?this.disconnectConnectedEdges(e,t):this.removeConnectedEdges(e,t)),e.model===this&&(e.model=null)}onReset(e){this.nodes={},this.edges={},this.outgoings={},this.incomings={},e.forEach(t=>this.onCellAdded(t))}onEdgeTerminalChanged(e,t){const i="source"===t?this.outgoings:this.incomings,s=e.previous(t);if(s&&s.cell){const o=ot.isCell(s.cell)?s.cell.id:s.cell,a=i[o],c=a?a.indexOf(e.id):-1;c>=0&&(a.splice(c,1),0===a.length&&delete i[o])}const r=e.getTerminal(t);if(r&&r.cell){const o=ot.isCell(r.cell)?r.cell.id:r.cell,a=i[o]||[];-1===a.indexOf(e.id)&&a.push(e.id),i[o]=a}}prepareCell(e,t){return!e.model&&(!t||!t.dryrun)&&(e.model=this),null==e.zIndex&&e.setZIndex(this.getMaxZIndex()+1,{silent:!0}),e}resetCells(e,t={}){return e.map(i=>this.prepareCell(i,Object.assign(Object.assign({},t),{dryrun:!0}))),this.collection.reset(e,t),e.map(i=>this.prepareCell(i,{options:t})),this}clear(e={}){const t=this.getCells();if(0===t.length)return this;const i=Object.assign(Object.assign({},e),{clear:!0});return this.batchUpdate("clear",()=>{const s=t.sort((r,o)=>(r.isEdge()?1:2)-(o.isEdge()?1:2));for(;s.length>0;){const r=s.shift();r&&r.remove(i)}},i),this}addNode(e,t={}){const i=Vn.isNode(e)?e:this.createNode(e);return this.addCell(i,t),i}updateNode(e,t={}){const i=this.createNode(e),s=i.getProp();return i.dispose(),this.updateCell(s,t)}createNode(e){return Vn.create(e)}addEdge(e,t={}){const i=Hn.isEdge(e)?e:this.createEdge(e);return this.addCell(i,t),i}createEdge(e){return Hn.create(e)}updateEdge(e,t={}){const i=this.createEdge(e),s=i.getProp();return i.dispose(),this.updateCell(s,t)}addCell(e,t={}){return Array.isArray(e)?this.addCells(e,t):(!this.collection.has(e)&&!this.addings.has(e)&&(this.addings.set(e,!0),this.collection.add(this.prepareCell(e,t),t),e.eachChild(i=>this.addCell(i,t)),this.addings.delete(e)),this)}addCells(e,t={}){const i=e.length;if(0===i)return this;const s=Object.assign(Object.assign({},t),{position:i-1,maxPosition:i-1});return this.startBatch("add",Object.assign(Object.assign({},s),{cells:e})),e.forEach(r=>{this.addCell(r,s),s.position-=1}),this.stopBatch("add",Object.assign(Object.assign({},s),{cells:e})),this}updateCell(e,t={}){const i=e.id&&this.getCell(e.id);return!!i&&this.batchUpdate("update",()=>(Object.entries(e).forEach(([s,r])=>i.setProp(s,r,t)),!0),e)}removeCell(e,t={}){const i="string"==typeof e?this.getCell(e):e;return i&&this.has(i)?this.collection.remove(i,t):null}updateCellId(e,t){if(e.id===t)return;this.startBatch("update",{id:t}),e.prop("id",t);const i=e.clone({keepId:!0});return this.addCell(i),this.getConnectedEdges(e).forEach(r=>{const o=r.getSourceCell(),a=r.getTargetCell();o===e&&r.setSource(Object.assign(Object.assign({},r.getSource()),{cell:t})),a===e&&r.setTarget(Object.assign(Object.assign({},r.getTarget()),{cell:t}))}),this.removeCell(e),this.stopBatch("update",{id:t}),i}removeCells(e,t={}){return e.length?this.batchUpdate("remove",()=>e.map(i=>this.removeCell(i,t))):[]}removeConnectedEdges(e,t={}){const i=this.getConnectedEdges(e);return i.forEach(s=>{s.remove(t)}),i}disconnectConnectedEdges(e,t={}){const i="string"==typeof e?e:e.id;this.getConnectedEdges(e).forEach(s=>{const r=s.getSourceCellId(),o=s.getTargetCellId();r===i&&s.setSource({x:0,y:0},t),o===i&&s.setTarget({x:0,y:0},t)})}has(e){return this.collection.has(e)}total(){return this.collection.length}indexOf(e){return this.collection.indexOf(e)}getCell(e){return this.collection.get(e)}getCells(){return this.collection.toArray()}getFirstCell(){return this.collection.first()}getLastCell(){return this.collection.last()}getMinZIndex(){const e=this.collection.first();return e&&e.getZIndex()||0}getMaxZIndex(){const e=this.collection.last();return e&&e.getZIndex()||0}getCellsFromCache(e){return e?Object.keys(e).map(t=>this.getCell(t)).filter(t=>null!=t):[]}getNodes(){return this.getCellsFromCache(this.nodes)}getEdges(){return this.getCellsFromCache(this.edges)}getOutgoingEdges(e){const i=this.outgoings["string"==typeof e?e:e.id];return i?i.map(s=>this.getCell(s)).filter(s=>s&&s.isEdge()):null}getIncomingEdges(e){const i=this.incomings["string"==typeof e?e:e.id];return i?i.map(s=>this.getCell(s)).filter(s=>s&&s.isEdge()):null}getConnectedEdges(e,t={}){const i=[],s="string"==typeof e?this.getCell(e):e;if(null==s)return i;const r={},o=t.indirect;let a=t.incoming,c=t.outgoing;null==a&&null==c&&(a=c=!0);const l=(h,f)=>{const g=f?this.getOutgoingEdges(h):this.getIncomingEdges(h);if(g?.forEach(p=>{r[p.id]||(i.push(p),r[p.id]=!0,o&&(a&&l(p,!1),c&&l(p,!0)))}),o&&h.isEdge()){const p=f?h.getTargetCell():h.getSourceCell();p&&p.isEdge()&&(r[p.id]||(i.push(p),l(p,f)))}};if(c&&l(s,!0),a&&l(s,!1),t.deep){const h=s.getDescendants({deep:!0}),f={};h.forEach(p=>{p.isNode()&&(f[p.id]=!0)});const g=(p,v)=>{const y=v?this.getOutgoingEdges(p.id):this.getIncomingEdges(p.id);y?.forEach(b=>{if(!r[b.id]){const C=b.getSourceCell(),_=b.getTargetCell();if(!t.enclosed&&C&&f[C.id]&&_&&f[_.id])return;i.push(b),r[b.id]=!0}})};h.forEach(p=>{p.isEdge()||(c&&g(p,!0),a&&g(p,!1))})}return i}isBoundary(e,t){const i="string"==typeof e?this.getCell(e):e,s=t?this.getIncomingEdges(i):this.getOutgoingEdges(i);return null==s||0===s.length}getBoundaryNodes(e){const t=[];return Object.keys(this.nodes).forEach(i=>{if(this.isBoundary(i,e)){const s=this.getCell(i);s&&t.push(s)}}),t}getRoots(){return this.getBoundaryNodes(!0)}getLeafs(){return this.getBoundaryNodes(!1)}isRoot(e){return this.isBoundary(e,!0)}isLeaf(e){return this.isBoundary(e,!1)}getNeighbors(e,t={}){let i=t.incoming,s=t.outgoing;null==i&&null==s&&(i=s=!0);const o=this.getConnectedEdges(e,t).reduce((a,c)=>{const l=c.hasLoop(t),h=c.getSourceCell(),f=c.getTargetCell();return i&&h&&h.isNode()&&!a[h.id]&&(l||h!==e&&(!t.deep||!h.isDescendantOf(e)))&&(a[h.id]=h),s&&f&&f.isNode()&&!a[f.id]&&(l||f!==e&&(!t.deep||!f.isDescendantOf(e)))&&(a[f.id]=f),a},{});if(e.isEdge()){if(i){const a=e.getSourceCell();a&&a.isNode()&&!o[a.id]&&(o[a.id]=a)}if(s){const a=e.getTargetCell();a&&a.isNode()&&!o[a.id]&&(o[a.id]=a)}}return Object.keys(o).map(a=>o[a])}isNeighbor(e,t,i={}){let s=i.incoming,r=i.outgoing;return null==s&&null==r&&(s=r=!0),this.getConnectedEdges(e,i).some(o=>{const a=o.getSourceCell(),c=o.getTargetCell();return!!(s&&a&&a.id===t.id||r&&c&&c.id===t.id)})}getSuccessors(e,t={}){const i=[];return this.search(e,(s,r)=>{s!==e&&this.matchDistance(r,t.distance)&&i.push(s)},Object.assign(Object.assign({},t),{outgoing:!0})),i}isSuccessor(e,t,i={}){let s=!1;return this.search(e,(r,o)=>{if(r===t&&r!==e&&this.matchDistance(o,i.distance))return s=!0,!1},Object.assign(Object.assign({},i),{outgoing:!0})),s}getPredecessors(e,t={}){const i=[];return this.search(e,(s,r)=>{s!==e&&this.matchDistance(r,t.distance)&&i.push(s)},Object.assign(Object.assign({},t),{incoming:!0})),i}isPredecessor(e,t,i={}){let s=!1;return this.search(e,(r,o)=>{if(r===t&&r!==e&&this.matchDistance(o,i.distance))return s=!0,!1},Object.assign(Object.assign({},i),{incoming:!0})),s}matchDistance(e,t){return null==t||("function"==typeof t?t(e):!(!Array.isArray(t)||!t.includes(e))||e===t)}getCommonAncestor(...e){const t=[];return e.forEach(i=>{i&&(Array.isArray(i)?t.push(...i):t.push(i))}),ot.getCommonAncestor(...t)}getSubGraph(e,t={}){const i=[],s={},r=[],o=[],a=c=>{s[c.id]||(i.push(c),s[c.id]=c,c.isEdge()&&o.push(c),c.isNode()&&r.push(c))};return e.forEach(c=>{a(c),t.deep&&c.getDescendants({deep:!0}).forEach(h=>a(h))}),o.forEach(c=>{const l=c.getSourceCell(),h=c.getTargetCell();l&&!s[l.id]&&(i.push(l),s[l.id]=l,l.isNode()&&r.push(l)),h&&!s[h.id]&&(i.push(h),s[h.id]=h,h.isNode()&&r.push(h))}),r.forEach(c=>{this.getConnectedEdges(c,t).forEach(h=>{const f=h.getSourceCell(),g=h.getTargetCell();!s[h.id]&&f&&s[f.id]&&g&&s[g.id]&&(i.push(h),s[h.id]=h)})}),i}cloneSubGraph(e,t={}){const i=this.getSubGraph(e,t);return this.cloneCells(i)}cloneCells(e){return ot.cloneCells(e)}getNodesFromPoint(e,t){const i="number"==typeof e?{x:e,y:t||0}:e;return this.getNodes().filter(s=>s.getBBox().containsPoint(i))}getNodesInArea(e,t,i,s,r){const o="number"==typeof e?new re(e,t,i,s):re.create(e),a="number"==typeof e?r:t,c=a&&a.strict;return this.getNodes().filter(l=>{const h=l.getBBox();return c?o.containsRect(h):o.isIntersectWithRect(h)})}getEdgesInArea(e,t,i,s,r){const o="number"==typeof e?new re(e,t,i,s):re.create(e),a="number"==typeof e?r:t,c=a&&a.strict;return this.getEdges().filter(l=>{const h=l.getBBox();return 0===h.width?h.inflate(1,0):0===h.height&&h.inflate(0,1),c?o.containsRect(h):o.isIntersectWithRect(h)})}getNodesUnderNode(e,t={}){const i=e.getBBox();return(null==t.by||"bbox"===t.by?this.getNodesInArea(i):this.getNodesFromPoint(i[t.by])).filter(r=>e.id!==r.id&&!r.isDescendantOf(e))}getAllCellsBBox(){return this.getCellsBBox(this.getCells())}getCellsBBox(e,t={}){return ot.getCellsBBox(e,t)}search(e,t,i={}){i.breadthFirst?this.breadthFirstSearch(e,t,i):this.depthFirstSearch(e,t,i)}breadthFirstSearch(e,t,i={}){const s=[],r={},o={};for(s.push(e),o[e.id]=0;s.length>0;){const a=s.shift();null==a||r[a.id]||(r[a.id]=!0,!1===xe(t,this,a,o[a.id]))||this.getNeighbors(a,i).forEach(l=>{o[l.id]=o[a.id]+1,s.push(l)})}}depthFirstSearch(e,t,i={}){const s=[],r={},o={};for(s.push(e),o[e.id]=0;s.length>0;){const a=s.pop();if(null==a||r[a.id]||(r[a.id]=!0,!1===xe(t,this,a,o[a.id])))continue;const c=this.getNeighbors(a,i),l=s.length;c.forEach(h=>{o[h.id]=o[a.id]+1,s.splice(l,0,h)})}}getShortestPath(e,t,i={}){const s={};this.getEdges().forEach(l=>{const h=l.getSourceCellId(),f=l.getTargetCellId();h&&f&&(s[h]||(s[h]=[]),s[f]||(s[f]=[]),s[h].push(f),i.directed||s[f].push(h))});const o=Kb.run(s,"string"==typeof e?e:e.id,i.weight),a=[];let c="string"==typeof t?t:t.id;for(o[c]&&a.push(c);c=o[c];)a.unshift(c);return a}translate(e,t,i){return this.getCells().filter(s=>!s.hasParent()).forEach(s=>s.translate(e,t,i)),this}resize(e,t,i){return this.resizeCells(e,t,this.getCells(),i)}resizeCells(e,t,i,s={}){const r=this.getCellsBBox(i);if(r){const o=Math.max(e/r.width,0),a=Math.max(t/r.height,0),c=r.getOrigin();i.forEach(l=>l.scale(o,a,c,s))}return this}toJSON(e={}){return Fo.toJSON(this.getCells(),e)}parseJSON(e){return Fo.fromJSON(e)}fromJSON(e,t={}){const i=this.parseJSON(e);return this.resetCells(i,t),this}startBatch(e,t={}){return this.batches[e]=(this.batches[e]||0)+1,this.notify("batch:start",{name:e,data:t}),this}stopBatch(e,t={}){return this.batches[e]=(this.batches[e]||0)-1,this.notify("batch:stop",{name:e,data:t}),this}batchUpdate(e,t,i={}){this.startBatch(e,i);const s=t();return this.stopBatch(e,i),s}hasActiveBatch(e=Object.keys(this.batches)){return(Array.isArray(e)?e:[e]).some(i=>this.batches[i]>0)}}(function(n){n.toStringTag=`X6.${n.name}`,n.isModel=function e(t){if(null==t)return!1;if(t instanceof n)return!0;const i=t[Symbol.toStringTag];return(null==i||i===n.toStringTag)&&"function"==typeof t.addNode&&"function"==typeof t.addEdge&&null!=t.collection}})(Fo||(Fo={})),function(n){n.toJSON=function e(i,s={}){return{cells:i.map(r=>r.toJSON(s))}},n.fromJSON=function t(i){const s=[];return Array.isArray(i)?s.push(...i):(i.cells&&s.push(...i.cells),i.nodes&&i.nodes.forEach(r=>{null==r.shape&&(r.shape="rect"),s.push(r)}),i.edges&&i.edges.forEach(r=>{null==r.shape&&(r.shape="edge"),s.push(r)})),s.map(r=>{const o=r.shape;if(o){if(Vn.registry.exist(o))return Vn.create(r);if(Hn.registry.exist(o))return Hn.create(r)}throw new Error("The `shape` should be specified when creating a node/edge instance")})}}(Fo||(Fo={}));class ol extends Vn{get label(){return this.getLabel()}set label(e){this.setLabel(e)}getLabel(){return this.getAttrByPath("text/text")}setLabel(e,t){return null==e?this.removeLabel():this.setAttrByPath("text/text",e,t),this}removeLabel(){return this.removeAttrByPath("text/text"),this}}function Ple(n,e="body"){return[{tagName:n,selector:e},{tagName:"text",selector:"label"}]}function k2(n,e,t={}){const i={constructorName:n,markup:Ple(n,t.selector),attrs:{[n]:Object.assign({},ol.bodyAttr)}};return(t.parent||ol).define(En(i,e,{shape:n}))}!function(n){n.bodyAttr={fill:"#ffffff",stroke:"#333333",strokeWidth:2},n.labelAttr={fontSize:14,fill:"#000000",refX:.5,refY:.5,textAnchor:"middle",textVerticalAnchor:"middle",fontFamily:"Arial, helvetica, sans-serif"},n.config({attrs:{text:Object.assign({},n.labelAttr)},propHooks(e){const{label:t}=e,i=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(e,["label"]);return t&&m2(i,"attrs/text/text",t),i},visible:!0})}(ol||(ol={})),k2("rect",{attrs:{body:{refWidth:"100%",refHeight:"100%"}}});const uw=Hn.define({shape:"edge",markup:[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}],attrs:{lines:{connection:!0,strokeLinejoin:"round"},wrap:{strokeWidth:10},line:{stroke:"#333",strokeWidth:2,targetMarker:"classic"}}});k2("ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}}});class F2 extends ol{get points(){return this.getPoints()}set points(e){this.setPoints(e)}getPoints(){return this.getAttrByPath("body/refPoints")}setPoints(e,t){return null==e?this.removePoints():this.setAttrByPath("body/refPoints",F2.pointsToString(e),t),this}removePoints(){return this.removeAttrByPath("body/refPoints"),this}}!function(n){function e(t){return"string"==typeof t?t:t.map(i=>Array.isArray(i)?i.join(","):T.isPointLike(i)?`${i.x}, ${i.y}`:"").join(" ")}n.pointsToString=e,n.config({propHooks(t){const{points:i}=t,s=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(t,["points"]);if(i){const r=e(i);r&&m2(s,"attrs/body/refPoints",r)}return s}})}(F2||(F2={})),k2("polygon",{},{parent:F2}),k2("polyline",{},{parent:F2}),ol.define({shape:"path",markup:[{tagName:"rect",selector:"bg"},{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}],attrs:{bg:{refWidth:"100%",refHeight:"100%",fill:"none",stroke:"none",pointerEvents:"all"},body:{fill:"none",stroke:"#000",strokeWidth:2}},propHooks(n){const{path:e}=n,t=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(n,["path"]);return e&&m2(t,"attrs/body/refD",e),t}}),ol.define({shape:"text-block",markup:[{tagName:"rect",selector:"body"},qc.SUPPORT_FOREIGNOBJECT?{tagName:"foreignObject",selector:"foreignObject",children:[{tagName:"div",ns:gi.xhtml,selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attrs:{textAnchor:"middle"}}],attrs:{body:Object.assign(Object.assign({},ol.bodyAttr),{refWidth:"100%",refHeight:"100%"}),foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}},propHooks(n){const{text:e}=n,t=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(n,["text"]);return e&&m2(t,"attrs/label/text",e),t},attrHooks:{text:{set(n,{cell:e,view:t,refBBox:i,elem:s,attrs:r}){if(!(s instanceof HTMLElement)){const o=r.style||{},a={text:n,width:-5,height:"100%"},c=Object.assign({textVerticalAnchor:"middle"},o);return xe(ko.presets.textWrap.set,this,a,{cell:e,view:t,elem:s,refBBox:i,attrs:c}),{fill:o.color||null}}s.textContent=n},position(n,{refBBox:e,elem:t}){if(t instanceof SVGElement)return e.getCenter()}}}}),k2("image",{attrs:{image:{refWidth:"100%",refHeight:"100%"}},propHooks:function Ile(n="xlink:href"){return t=>{const{imageUrl:i,imageWidth:s,imageHeight:r}=t,o=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(t,["imageUrl","imageWidth","imageHeight"]);if(null!=i||null!=s||null!=r){const a=()=>{if(o.attrs){const c=o.attrs.image;null!=i&&(c[n]=i),null!=s&&(c.width=s),null!=r&&(c.height=r),o.attrs.image=c}};o.attrs?(null==o.attrs.image&&(o.attrs.image={}),a()):(o.attrs={image:{}},a())}return o}}()},{selector:"image"}),k2("circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%"}}});class nr extends Wi{constructor(){super(...arguments),this.portsCache={}}get[Symbol.toStringTag](){return nr.toStringTag}getContainerClassName(){const e=[super.getContainerClassName(),this.prefixClassName("node")];return this.can("nodeMovable")||e.push(this.prefixClassName("node-immovable")),e.join(" ")}updateClassName(e){const t=e.target;if(t.hasAttribute("magnet")){const i=this.prefixClassName("port-unconnectable");this.can("magnetConnectable")?Wn(t,i):Ie(t,i)}else{const i=this.prefixClassName("node-immovable");this.can("nodeMovable")?this.removeClass(i):this.addClass(i)}}isNodeView(){return!0}confirmUpdate(e,t={}){let i=e;return this.hasAction(i,"ports")&&(this.removePorts(),this.cleanPortsCache()),this.hasAction(i,"render")?(this.render(),i=this.removeAction(i,["render","update","resize","translate","rotate","ports","tools"])):(i=this.handleAction(i,"resize",()=>this.resize(),"update"),i=this.handleAction(i,"update",()=>this.update(),Ai.useCSSSelector?"ports":null),i=this.handleAction(i,"translate",()=>this.translate()),i=this.handleAction(i,"rotate",()=>this.rotate()),i=this.handleAction(i,"ports",()=>this.renderPorts()),i=this.handleAction(i,"tools",()=>{this.getFlag("tools")===e?this.renderTools():this.updateTools(t)})),i}update(e){this.cleanCache(),Ai.useCSSSelector&&this.removePorts();const t=this.cell,i=t.getSize(),s=t.getAttrs();this.updateAttrs(this.container,s,{attrs:e===s?null:e,rootBBox:new re(0,0,i.width,i.height),selectors:this.selectors}),Ai.useCSSSelector&&this.renderPorts()}renderMarkup(){const e=this.cell.markup;if(e){if("string"==typeof e)throw new TypeError("Not support string markup.");return this.renderJSONMarkup(e)}throw new TypeError("Invalid node markup.")}renderJSONMarkup(e){const t=this.parseJSONMarkup(e,this.container);this.selectors=t.selectors,this.container.appendChild(t.fragment)}render(){return this.empty(),this.renderMarkup(),this.resize(),this.updateTransform(),Ai.useCSSSelector||this.renderPorts(),this.renderTools(),this}resize(){this.cell.getAngle()&&this.rotate(),this.update()}translate(){this.updateTransform()}rotate(){this.updateTransform()}getTranslationString(){const e=this.cell.getPosition();return`translate(${e.x},${e.y})`}getRotationString(){const e=this.cell.getAngle();if(e){const t=this.cell.getSize();return`rotate(${e},${t.width/2},${t.height/2})`}}updateTransform(){let e=this.getTranslationString();const t=this.getRotationString();t&&(e+=` ${t}`),this.container.setAttribute("transform",e)}findPortElem(e,t){const i=e?this.portsCache[e]:null;return i?this.findOne(t,i.portContentElement,i.portContentSelectors||{}):null}cleanPortsCache(){this.portsCache={}}removePorts(){Object.values(this.portsCache).forEach(e=>{Vo(e.portElement)})}renderPorts(){const e=this.container,t=[];e.childNodes.forEach(o=>{t.push(o)});const i=this.cell.getParsedPorts(),s=wT(i,"zIndex"),r="auto";s[r]&&s[r].forEach(o=>{const a=this.getPortElement(o);e.append(a),t.push(a)}),Object.keys(s).forEach(o=>{if(o!==r){const a=parseInt(o,10);this.appendPorts(s[o],a,t)}}),this.updatePorts()}appendPorts(e,t,i){const s=e.map(r=>this.getPortElement(r));i[t]||t<0?Bb(i[Math.max(t,0)],s):Yc(this.container,s)}getPortElement(e){const t=this.portsCache[e.id];return t?t.portElement:this.createPortElement(e)}createPortElement(e){let t=Qt.renderMarkup(this.cell.getPortContainerMarkup());const i=t.elem;if(null==i)throw new Error("Invalid port container markup.");t=Qt.renderMarkup(this.getPortMarkup(e));const s=t.elem,r=t.selectors;if(null==s)throw new Error("Invalid port markup.");this.setAttrs({port:e.id,"port-group":e.group},s);let o="x6-port";e.group&&(o+=` x6-port-${e.group}`),Ie(i,o),Ie(i,"x6-port"),Ie(s,"x6-port-body"),i.appendChild(s);let c,l,a=r;if(this.existPortLabel(e)){if(t=Qt.renderMarkup(this.getPortLabelMarkup(e.label)),c=t.elem,l=t.selectors,null==c)throw new Error("Invalid port label markup.");if(r&&l){for(const f in l)if(r[f]&&f!==this.rootSelector)throw new Error("Selectors within port must be unique.");a=Object.assign(Object.assign({},r),l)}Ie(c,"x6-port-label"),i.appendChild(c)}return this.portsCache[e.id]={portElement:i,portSelectors:a,portLabelElement:c,portLabelSelectors:l,portContentElement:s,portContentSelectors:r},this.graph.options.onPortRendered&&this.graph.options.onPortRendered({port:e,node:this.cell,container:i,selectors:a,labelContainer:c,labelSelectors:l,contentContainer:s,contentSelectors:r}),i}updatePorts(){const e=this.cell.getParsedGroups(),t=Object.keys(e);0===t.length?this.updatePortGroup():t.forEach(i=>this.updatePortGroup(i))}updatePortGroup(e){const t=re.fromSize(this.cell.getSize()),i=this.cell.getPortsLayoutByGroup(e,t);for(let s=0,r=i.length;s<r;s+=1){const o=i[s],c=this.portsCache[o.portId]||{},l=o.portLayout;if(this.applyPortTransform(c.portElement,l),null!=o.portAttrs){const f={selectors:c.portSelectors||{}};o.portSize&&(f.rootBBox=re.fromSize(o.portSize)),this.updateAttrs(c.portElement,o.portAttrs,f)}const h=o.labelLayout;if(h&&c.portLabelElement&&(this.applyPortTransform(c.portLabelElement,h,-(l.angle||0)),h.attrs)){const f={selectors:c.portLabelSelectors||{}};o.labelSize&&(f.rootBBox=re.fromSize(o.labelSize)),this.updateAttrs(c.portLabelElement,h.attrs,f)}}}applyPortTransform(e,t,i=0){const s=t.angle,r=t.position;C2(e,pi().rotate(i).translate(r.x||0,r.y||0).rotate(s||0),{absolute:!0})}getPortMarkup(e){return e.markup||this.cell.portMarkup}getPortLabelMarkup(e){return e.markup||this.cell.portLabelMarkup}existPortLabel(e){return e.attrs&&e.attrs.text}getEventArgs(e,t,i){const s=this,r=s.cell;return null==t||null==i?{e,view:s,node:r,cell:r}:{e,x:t,y:i,view:s,node:r,cell:r}}getPortEventArgs(e,t,i){const s=this,r=s.cell;return i?{e,x:i.x,y:i.y,view:s,node:r,cell:r,port:t}:{e,view:s,node:r,cell:r,port:t}}notifyMouseDown(e,t,i){super.onMouseDown(e,t,i),this.notify("node:mousedown",this.getEventArgs(e,t,i))}notifyMouseMove(e,t,i){super.onMouseMove(e,t,i),this.notify("node:mousemove",this.getEventArgs(e,t,i))}notifyMouseUp(e,t,i){super.onMouseUp(e,t,i),this.notify("node:mouseup",this.getEventArgs(e,t,i))}notifyPortEvent(e,t,i){const s=this.findAttr("port",t.target);if(s){const r=t.type;"node:port:mouseenter"===e?t.type="mouseenter":"node:port:mouseleave"===e&&(t.type="mouseleave"),this.notify(e,this.getPortEventArgs(t,s,i)),t.type=r}}onClick(e,t,i){super.onClick(e,t,i),this.notify("node:click",this.getEventArgs(e,t,i)),this.notifyPortEvent("node:port:click",e,{x:t,y:i})}onDblClick(e,t,i){super.onDblClick(e,t,i),this.notify("node:dblclick",this.getEventArgs(e,t,i)),this.notifyPortEvent("node:port:dblclick",e,{x:t,y:i})}onContextMenu(e,t,i){super.onContextMenu(e,t,i),this.notify("node:contextmenu",this.getEventArgs(e,t,i)),this.notifyPortEvent("node:port:contextmenu",e,{x:t,y:i})}onMouseDown(e,t,i){this.isPropagationStopped(e)||(this.notifyMouseDown(e,t,i),this.notifyPortEvent("node:port:mousedown",e,{x:t,y:i}),this.startNodeDragging(e,t,i))}onMouseMove(e,t,i){const s=this.getEventData(e),r=s.action;if("magnet"===r)this.dragMagnet(e,t,i);else{if("move"===r){const a=s.targetView||this;a.dragNode(e,t,i),a.notify("node:moving",{e,x:t,y:i,view:a,cell:a.cell,node:a.cell})}this.notifyMouseMove(e,t,i),this.notifyPortEvent("node:port:mousemove",e,{x:t,y:i})}this.setEventData(e,s)}onMouseUp(e,t,i){const s=this.getEventData(e),r=s.action;"magnet"===r?this.stopMagnetDragging(e,t,i):(this.notifyMouseUp(e,t,i),this.notifyPortEvent("node:port:mouseup",e,{x:t,y:i}),"move"===r&&(s.targetView||this).stopNodeDragging(e,t,i));const o=s.targetMagnet;o&&this.onMagnetClick(e,o,t,i),this.checkMouseleave(e)}onMouseOver(e){super.onMouseOver(e),this.notify("node:mouseover",this.getEventArgs(e)),this.notifyPortEvent("node:port:mouseenter",e),this.notifyPortEvent("node:port:mouseover",e)}onMouseOut(e){super.onMouseOut(e),this.notify("node:mouseout",this.getEventArgs(e)),this.notifyPortEvent("node:port:mouseleave",e),this.notifyPortEvent("node:port:mouseout",e)}onMouseEnter(e){this.updateClassName(e),super.onMouseEnter(e),this.notify("node:mouseenter",this.getEventArgs(e))}onMouseLeave(e){super.onMouseLeave(e),this.notify("node:mouseleave",this.getEventArgs(e))}onMouseWheel(e,t,i,s){super.onMouseWheel(e,t,i,s),this.notify("node:mousewheel",Object.assign({delta:s},this.getEventArgs(e,t,i)))}onMagnetClick(e,t,i,s){const r=this.graph;r.view.getMouseMovedCount(e)>r.options.clickThreshold||this.notify("node:magnet:click",Object.assign({magnet:t},this.getEventArgs(e,i,s)))}onMagnetDblClick(e,t,i,s){this.notify("node:magnet:dblclick",Object.assign({magnet:t},this.getEventArgs(e,i,s)))}onMagnetContextMenu(e,t,i,s){this.notify("node:magnet:contextmenu",Object.assign({magnet:t},this.getEventArgs(e,i,s)))}onMagnetMouseDown(e,t,i,s){this.startMagnetDragging(e,i,s)}onCustomEvent(e,t,i,s){this.notify("node:customevent",Object.assign({name:t},this.getEventArgs(e,i,s))),super.onCustomEvent(e,t,i,s)}prepareEmbedding(e){const t=this.graph,s=this.getEventData(e).cell||this.cell,r=t.findViewByCell(s),o=t.snapToGrid(e.clientX,e.clientY);this.notify("node:embed",{e,node:s,view:r,cell:s,x:o.x,y:o.y,currentParent:s.getParent()})}processEmbedding(e,t){const i=t.cell||this.cell,s=t.graph||this.graph,r=s.options.embedding,o=r.findParent;let a="function"==typeof o?xe(o,s,{view:this,node:this.cell}).filter(g=>ot.isCell(g)&&this.cell.id!==g.id&&!g.isDescendantOf(this.cell)):s.model.getNodesUnderNode(i,{by:o});if(r.frontOnly&&a.length>0){const g=wT(a,"zIndex"),p=Oie(Object.keys(g).map(v=>parseInt(v,10)));p&&(a=g[p])}a=a.filter(g=>g.visible);let c=null;const l=t.candidateEmbedView,h=r.validate;for(let g=a.length-1;g>=0;g-=1){const p=a[g];if(l&&l.cell.id===p.id){c=l;break}{const v=p.findView(s);if(xe(h,s,{child:this.cell,parent:v.cell,childView:this,parentView:v})){c=v;break}}}this.clearEmbedding(t),c&&c.highlight(null,{type:"embedding"}),t.candidateEmbedView=c;const f=s.snapToGrid(e.clientX,e.clientY);this.notify("node:embedding",{e,cell:i,node:i,view:s.findViewByCell(i),x:f.x,y:f.y,currentParent:i.getParent(),candidateParent:c?c.cell:null})}clearEmbedding(e){const t=e.candidateEmbedView;t&&(t.unhighlight(null,{type:"embedding"}),e.candidateEmbedView=null)}finalizeEmbedding(e,t){this.graph.startBatch("embedding");const i=t.cell||this.cell,s=t.graph||this.graph,r=s.findViewByCell(i),o=i.getParent(),a=t.candidateEmbedView;if(a?(a.unhighlight(null,{type:"embedding"}),t.candidateEmbedView=null,(null==o||o.id!==a.cell.id)&&a.cell.insertChild(i,void 0,{ui:!0})):o&&o.unembed(i,{ui:!0}),s.model.getConnectedEdges(i,{deep:!0}).forEach(c=>{c.updateParent({ui:!0})}),r&&a){const c=s.snapToGrid(e.clientX,e.clientY);r.notify("node:embedded",{e,cell:i,x:c.x,y:c.y,node:i,view:s.findViewByCell(i),previousParent:o,currentParent:i.getParent()})}this.graph.stopBatch("embedding")}getDelegatedView(){let e=this.cell,t=this;for(;t&&!e.isEdge();){if(!e.hasParent()||t.can("stopDelegateOnDragging"))return t;e=e.getParent(),t=this.graph.findViewByCell(e)}return null}validateMagnet(e,t,i){if("passive"!==t.getAttribute("magnet")){const s=this.graph.options.connecting.validateMagnet;return!s||xe(s,this.graph,{e:i,magnet:t,view:e,cell:e.cell})}return!1}startMagnetDragging(e,t,i){if(!this.can("magnetConnectable"))return;e.stopPropagation();const s=e.currentTarget,r=this.graph;this.setEventData(e,{targetMagnet:s}),this.validateMagnet(this,s,e)?(r.options.magnetThreshold<=0&&this.startConnectting(e,s,t,i),this.setEventData(e,{action:"magnet"}),this.stopPropagation(e)):this.onMouseDown(e,t,i),r.view.delegateDragEvents(e,this)}startConnectting(e,t,i,s){this.graph.model.startBatch("add-edge");const r=this.createEdgeFromMagnet(t,i,s);r.setEventData(e,r.prepareArrowheadDragging("target",{x:i,y:s,isNewEdge:!0,fallbackAction:"remove"})),this.setEventData(e,{edgeView:r}),r.notifyMouseDown(e,i,s)}getDefaultEdge(e,t){let i;const s=this.graph.options.connecting.createEdge;return s&&(i=xe(s,this.graph,{sourceMagnet:t,sourceView:e,sourceCell:e.cell})),i}createEdgeFromMagnet(e,t,i){const s=this.graph,r=s.model,o=this.getDefaultEdge(this,e);return o.setSource(Object.assign(Object.assign({},o.getSource()),this.getEdgeTerminal(e,t,i,o,"source"))),o.setTarget(Object.assign(Object.assign({},o.getTarget()),{x:t,y:i})),o.addTo(r,{async:!1,ui:!0}),o.findView(s)}dragMagnet(e,t,i){const s=this.getEventData(e),r=s.edgeView;if(r)r.onMouseMove(e,t,i),this.autoScrollGraph(e.clientX,e.clientY);else{const o=this.graph,a=o.options.magnetThreshold,c=this.getEventTarget(e),l=s.targetMagnet;if("onleave"===a){if(l===c||l.contains(c))return}else if(o.view.getMouseMovedCount(e)<=a)return;this.startConnectting(e,l,t,i)}}stopMagnetDragging(e,t,i){const r=this.eventData(e).edgeView;r&&(r.onMouseUp(e,t,i),this.graph.model.stopBatch("add-edge"))}notifyUnhandledMouseDown(e,t,i){this.notify("node:unhandled:mousedown",{e,x:t,y:i,view:this,cell:this.cell,node:this.cell})}notifyNodeMove(e,t,i,s,r){let o=[r];const a=this.graph.getPlugin("selection");if(a&&a.isSelectionMovable()){const c=a.getSelectedCells();c.includes(r)&&(o=c.filter(l=>l.isNode()))}o.forEach(c=>{this.notify(e,{e:t,x:i,y:s,cell:c,node:c,view:c.findView(this.graph)})})}getRestrictArea(e){const t=this.graph.options.translating.restrict,i="function"==typeof t?xe(t,this.graph,e):t;return"number"==typeof i?this.graph.transform.getGraphArea().inflate(i):!0===i?this.graph.transform.getGraphArea():i||null}startNodeDragging(e,t,i){const s=this.getDelegatedView();if(null==s||!s.can("nodeMovable"))return this.notifyUnhandledMouseDown(e,t,i);this.setEventData(e,{targetView:s,action:"move"});const r=T.create(s.cell.getPosition());s.setEventData(e,{moving:!1,offset:r.diff(t,i),restrict:this.getRestrictArea(s)})}dragNode(e,t,i){const s=this.cell,r=this.graph,o=r.getGridSize(),a=this.getEventData(e),c=a.offset,l=a.restrict;a.moving||(a.moving=!0,this.addClass("node-moving"),this.notifyNodeMove("node:move",e,t,i,this.cell)),this.autoScrollGraph(e.clientX,e.clientY);const h=wt.snapToGrid(t+c.x,o),f=wt.snapToGrid(i+c.y,o);s.setPosition(h,f,{restrict:l,deep:!0,ui:!0}),r.options.embedding.enabled&&(a.embedding||(this.prepareEmbedding(e),a.embedding=!0),this.processEmbedding(e,a))}stopNodeDragging(e,t,i){const s=this.getEventData(e);s.embedding&&this.finalizeEmbedding(e,s),s.moving&&(this.removeClass("node-moving"),this.notifyNodeMove("node:moved",e,t,i,this.cell)),s.moving=!1,s.embedding=!1}autoScrollGraph(e,t){const i=this.graph.getPlugin("scroller");i&&i.autoScroll(e,t)}}(function(n){n.toStringTag=`X6.${n.name}`,n.isNodeView=function e(t){if(null==t)return!1;if(t instanceof n)return!0;const i=t[Symbol.toStringTag];return(null==i||i===n.toStringTag)&&"function"==typeof t.isNodeView&&"function"==typeof t.isEdgeView&&"function"==typeof t.confirmUpdate&&"function"==typeof t.update&&"function"==typeof t.findPortElem&&"function"==typeof t.resize&&"function"==typeof t.rotate&&"function"==typeof t.translate}})(nr||(nr={})),nr.config({isSvgElement:!0,priority:0,bootstrap:["render"],actions:{view:["render"],markup:["render"],attrs:["update"],size:["resize","ports","tools"],angle:["rotate","tools"],position:["translate","tools"],ports:["ports"],tools:["tools"]}}),nr.registry.register("node",nr,!0);class Ra extends Wi{constructor(){super(...arguments),this.POINT_ROUNDING=2}get[Symbol.toStringTag](){return Ra.toStringTag}getContainerClassName(){return[super.getContainerClassName(),this.prefixClassName("edge")].join(" ")}get sourceBBox(){const e=this.sourceView;if(!e){const i=this.cell.getSource();return new re(i.x,i.y)}const t=this.sourceMagnet;return e.isEdgeElement(t)?new re(this.sourceAnchor.x,this.sourceAnchor.y):e.getBBoxOfElement(t||e.container)}get targetBBox(){const e=this.targetView;if(!e){const i=this.cell.getTarget();return new re(i.x,i.y)}const t=this.targetMagnet;return e.isEdgeElement(t)?new re(this.targetAnchor.x,this.targetAnchor.y):e.getBBoxOfElement(t||e.container)}isEdgeView(){return!0}confirmUpdate(e,t={}){let i=e;if(this.hasAction(i,"source")){if(!this.updateTerminalProperties("source"))return i;i=this.removeAction(i,"source")}if(this.hasAction(i,"target")){if(!this.updateTerminalProperties("target"))return i;i=this.removeAction(i,"target")}return this.hasAction(i,"render")?(this.render(),i=this.removeAction(i,["render","update","labels","tools"]),i):(i=this.handleAction(i,"update",()=>this.update(t)),i=this.handleAction(i,"labels",()=>this.onLabelsChange(t)),i=this.handleAction(i,"tools",()=>this.renderTools()),i)}render(){return this.empty(),this.renderMarkup(),this.labelContainer=null,this.renderLabels(),this.update(),this.renderTools(),this}renderMarkup(){const e=this.cell.markup;if(e){if("string"==typeof e)throw new TypeError("Not support string markup.");return this.renderJSONMarkup(e)}throw new TypeError("Invalid edge markup.")}renderJSONMarkup(e){const t=this.parseJSONMarkup(e,this.container);this.selectors=t.selectors,this.container.append(t.fragment)}customizeLabels(){if(this.labelContainer){const e=this.cell,t=e.labels;for(let i=0,s=t.length;i<s;i+=1){const c=this.graph.options.onEdgeLabelRendered;c&&c({edge:e,label:t[i],container:this.labelCache[i],selectors:this.labelSelectors[i]})}}}renderLabels(){const e=this.cell,t=e.getLabels(),i=t.length;let s=this.labelContainer;if(this.labelCache={},this.labelSelectors={},i<=0)return s&&s.parentNode&&s.parentNode.removeChild(s),this;s?this.empty(s):(s=Oa("g"),this.addClass(this.prefixClassName("edge-labels"),s),this.labelContainer=s);for(let r=0,o=t.length;r<o;r+=1){const c=this.normalizeLabelMarkup(this.parseLabelMarkup(t[r].markup));let l,h;if(c)l=c.node,h=c.selectors;else{const g=e.getDefaultLabel(),p=this.normalizeLabelMarkup(this.parseLabelMarkup(g.markup));l=p.node,h=p.selectors}l.setAttribute("data-index",`${r}`),s.appendChild(l);const f=this.rootSelector;if(h[f])throw new Error("Ambiguous label root selector.");h[f]=l,this.labelCache[r]=l,this.labelSelectors[r]=h}return null==s.parentNode&&this.container.appendChild(s),this.updateLabels(),this.customizeLabels(),this}onLabelsChange(e={}){this.shouldRerenderLabels(e)?this.renderLabels():this.updateLabels(),this.updateLabelPositions()}shouldRerenderLabels(e={}){const t=this.cell.previous("labels");if(null==t)return!0;if("propertyPathArray"in e&&"propertyValue"in e){const i=e.propertyPathArray||[],s=i.length;if(s>1&&t[i[1]]){if(2===s)return"object"==typeof e.propertyValue&&O5(e.propertyValue,"markup");if("markup"!==i[2])return!1}}return!0}parseLabelMarkup(e){return e?"string"==typeof e?this.parseLabelStringMarkup(e):this.parseJSONMarkup(e):null}parseLabelStringMarkup(e){const t=Le.createVectors(e),i=document.createDocumentFragment();for(let s=0,r=t.length;s<r;s+=1)i.appendChild(t[s].node);return{fragment:i,selectors:{}}}normalizeLabelMarkup(e){if(null==e)return;const t=e.fragment;if(!(t instanceof DocumentFragment&&t.hasChildNodes()))throw new Error("Invalid label markup.");let i;const s=t.childNodes;return i=s.length>1||"G"!==s[0].nodeName.toUpperCase()?Le.create("g").append(t):Le.create(s[0]),i.addClass(this.prefixClassName("edge-label")),{node:i.node,selectors:e.selectors}}updateLabels(){if(this.labelContainer){const e=this.cell,t=e.labels,i=this.can("edgeLabelMovable"),s=e.getDefaultLabel();for(let r=0,o=t.length;r<o;r+=1){const a=this.labelCache[r],c=this.labelSelectors[r];a.setAttribute("cursor",i?"move":"default");const l=t[r],h=En({},s.attrs,l.attrs);this.updateAttrs(a,h,{selectors:c,rootBBox:l.size?re.fromSize(l.size):void 0})}}}renderTools(){const e=this.cell.getTools();return this.addTools(e),this}update(e={}){this.cleanCache(),this.updateConnection(e);const t=this.cell.getAttrs();return null!=t&&this.updateAttrs(this.container,t,{selectors:this.selectors}),this.updateLabelPositions(),this.updateTools(e),this}removeRedundantLinearVertices(e={}){const t=this.cell,i=t.getVertices(),s=[this.sourceAnchor,...i,this.targetAnchor],r=s.length,o=new Rn(s);o.simplify({threshold:.01});const a=o.points.map(l=>l.toJSON()),c=a.length;return r===c?0:(t.setVertices(a.slice(1,c-1),e),r-c)}getTerminalView(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalAnchor(e){switch(e){case"source":return T.create(this.sourceAnchor);case"target":return T.create(this.targetAnchor);default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalConnectionPoint(e){switch(e){case"source":return T.create(this.sourcePoint);case"target":return T.create(this.targetPoint);default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalMagnet(e,t={}){switch(e){case"source":{if(t.raw)return this.sourceMagnet;const i=this.sourceView;return i?this.sourceMagnet||i.container:null}case"target":{if(t.raw)return this.targetMagnet;const i=this.targetView;return i?this.targetMagnet||i.container:null}default:throw new Error(`Unknown terminal type '${e}'`)}}updateConnection(e={}){const t=this.cell;if(e.translateBy&&t.isFragmentDescendantOf(e.translateBy)){const i=e.tx||0,s=e.ty||0;this.routePoints=new Rn(this.routePoints).translate(i,s).points,this.translateConnectionPoints(i,s),this.path.translate(i,s)}else{const i=t.getVertices(),s=this.findAnchors(i);this.sourceAnchor=s.source,this.targetAnchor=s.target,this.routePoints=this.findRoutePoints(i);const r=this.findConnectionPoints(this.routePoints,this.sourceAnchor,this.targetAnchor);this.sourcePoint=r.source,this.targetPoint=r.target;const o=this.findMarkerPoints(this.routePoints,this.sourcePoint,this.targetPoint);this.path=this.findPath(this.routePoints,o.source||this.sourcePoint,o.target||this.targetPoint)}this.cleanCache()}findAnchors(e){const t=this.cell,r=e[0],o=e[e.length-1];return t.target.priority&&!t.source.priority?this.findAnchorsOrdered("target",o,"source",r):this.findAnchorsOrdered("source",r,"target",o)}findAnchorsOrdered(e,t,i,s){let r,o;const a=this.cell,c=a[e],l=a[i],h=this.getTerminalView(e),f=this.getTerminalView(i),g=this.getTerminalMagnet(e),p=this.getTerminalMagnet(i);if(h){let v;v=t?T.create(t):f?p:T.create(l),r=this.getAnchor(c.anchor,h,g,v,e)}else r=T.create(c);if(f){const v=T.create(s||r);o=this.getAnchor(l.anchor,f,p,v,i)}else o=T.isPointLike(l)?T.create(l):new T;return{[e]:r,[i]:o}}getAnchor(e,t,i,s,r){const o=t.isEdgeElement(i),a=this.graph.options.connecting;let l,c="string"==typeof e?{name:e}:e;if(!c){const f=o?("source"===r?a.sourceEdgeAnchor:a.targetEdgeAnchor)||a.edgeAnchor:("source"===r?a.sourceAnchor:a.targetAnchor)||a.anchor;c="string"==typeof f?{name:f}:f}if(!c)throw new Error("Anchor should be specified.");const h=c.name;if(o){const f=R2.registry.get(h);if("function"!=typeof f)return R2.registry.onNotFound(h);l=xe(f,this,t,i,s,c.args||{},r)}else{const f=L2.registry.get(h);if("function"!=typeof f)return L2.registry.onNotFound(h);l=xe(f,this,t,i,s,c.args||{},r)}return l?l.round(this.POINT_ROUNDING):new T}findRoutePoints(e=[]){const t=this.graph.options.connecting.router||rl.presets.normal,i=this.cell.getRouter()||t;let s;if("function"==typeof i)s=xe(i,this,e,{},this);else{const r="string"==typeof i?i:i.name,o="string"==typeof i?{}:i.args||{},a=r?rl.registry.get(r):rl.presets.normal;if("function"!=typeof a)return rl.registry.onNotFound(r);s=xe(a,this,e,o,this)}return null==s?e.map(r=>T.create(r)):s.map(r=>T.create(r))}findConnectionPoints(e,t,i){const s=this.cell,r=this.graph.options.connecting,o=s.getSource(),a=s.getTarget(),c=this.sourceView,l=this.targetView,h=e[0],f=e[e.length-1];let g,p;if(c&&!c.isEdgeElement(this.sourceMagnet)){const v=this.sourceMagnet||c.container,b=new ge(h||i,t);g=this.getConnectionPoint(o.connectionPoint||r.sourceConnectionPoint||r.connectionPoint,c,v,b,"source")}else g=t;if(l&&!l.isEdgeElement(this.targetMagnet)){const v=this.targetMagnet||l.container,y=a.connectionPoint||r.targetConnectionPoint||r.connectionPoint,C=new ge(f||t,i);p=this.getConnectionPoint(y,l,v,C,"target")}else p=i;return{source:g,target:p}}getConnectionPoint(e,t,i,s,r){const o=s.end;if(null==e)return o;const a="string"==typeof e?e:e.name,c="string"==typeof e?{}:e.args,l=N2.registry.get(a);if("function"!=typeof l)return N2.registry.onNotFound(a);const h=xe(l,this,s,t,i,c||{},r);return h?h.round(this.POINT_ROUNDING):o}findMarkerPoints(e,t,i){const s=f=>{const g=this.cell.getAttrs(),p=Object.keys(g);for(let v=0,y=p.length;v<y;v+=1){const b=g[p[v]];if(b[`${f}Marker`]||b[`${f}-marker`]){const C=b.strokeWidth||b["stroke-width"];if(C)return parseFloat(C);break}}return null},r=e[0],o=e[e.length-1];let a,c;const l=s("source");l&&(a=t.clone().move(r||i,-l));const h=s("target");return h&&(c=i.clone().move(o||t,-h)),this.sourceMarkerPoint=a||t.clone(),this.targetMarkerPoint=c||i.clone(),{source:a,target:c}}findPath(e,t,i){const s=this.cell.getConnector()||this.graph.options.connecting.connector;let r,o,a;if("string"==typeof s?r=s:(r=s.name,o=s.args),r){const l=I1.registry.get(r);if("function"!=typeof l)return I1.registry.onNotFound(r);a=l}else a=I1.presets.normal;const c=xe(a,this,t,i,e,Object.assign(Object.assign({},o),{raw:!0}),this);return"string"==typeof c?_e.parse(c):c}translateConnectionPoints(e,t){this.sourcePoint.translate(e,t),this.targetPoint.translate(e,t),this.sourceAnchor.translate(e,t),this.targetAnchor.translate(e,t),this.sourceMarkerPoint.translate(e,t),this.targetMarkerPoint.translate(e,t)}updateLabelPositions(){if(null==this.labelContainer)return this;if(!this.path)return this;const t=this.cell,i=t.getLabels();if(0===i.length)return this;const s=t.getDefaultLabel(),r=this.normalizeLabelPosition(s.position);for(let o=0,a=i.length;o<a;o+=1){const c=i[o],l=this.labelCache[o];if(!l)continue;const h=this.normalizeLabelPosition(c.position),f=En({},r,h),g=this.getLabelTransformationMatrix(f);l.setAttribute("transform",_2(g))}return this}updateTerminalProperties(e){const i=this.graph,s=this.cell[e],r=s&&s.cell,o=`${e}View`;if(!r)return this[o]=null,this.updateTerminalMagnet(e),!0;const a=i.getCellById(r);if(!a)throw new Error(`Edge's ${e} node with id "${r}" not exists`);const c=a.findView(i);return!!c&&(this[o]=c,this.updateTerminalMagnet(e),!0)}updateTerminalMagnet(e){const t=`${e}Magnet`,i=this.getTerminalView(e);if(i){let s=i.getMagnetFromEdgeTerminal(this.cell[e]);s===i.container&&(s=null),this[t]=s}else this[t]=null}getLabelPositionAngle(e){const t=this.cell.getLabelAt(e);return t&&t.position&&"object"==typeof t.position&&t.position.angle||0}getLabelPositionArgs(e){const t=this.cell.getLabelAt(e);if(t&&t.position&&"object"==typeof t.position)return t.position.options}getDefaultLabelPositionArgs(){const e=this.cell.getDefaultLabel();if(e&&e.position&&"object"==typeof e.position)return e.position.options}mergeLabelPositionArgs(e,t){return null===e?null:void 0===e?null===t?null:t:En({},t,e)}getConnection(){return null!=this.path?this.path.clone():null}getConnectionPathData(){if(null==this.path)return"";const e=this.cache.pathCache;return O5(e,"data")||(e.data=this.path.serialize()),e.data||""}getConnectionSubdivisions(){if(null==this.path)return null;const e=this.cache.pathCache;return O5(e,"segmentSubdivisions")||(e.segmentSubdivisions=this.path.getSegmentSubdivisions()),e.segmentSubdivisions}getConnectionLength(){if(null==this.path)return 0;const e=this.cache.pathCache;return O5(e,"length")||(e.length=this.path.length({segmentSubdivisions:this.getConnectionSubdivisions()})),e.length}getPointAtLength(e){return null==this.path?null:this.path.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getPointAtRatio(e){return null==this.path?null:(Ta(e)&&(e=parseFloat(e)/100),this.path.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}))}getTangentAtLength(e){return null==this.path?null:this.path.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getTangentAtRatio(e){return null==this.path?null:this.path.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPoint(e){return null==this.path?null:this.path.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointLength(e){return null==this.path?null:this.path.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointRatio(e){return null==this.path?null:this.path.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getLabelPosition(e,t,i,s){const r={distance:0};let a,o=0;"number"==typeof i?(o=i,a=s):a=i,null!=a&&(r.options=a);const c=a&&a.absoluteOffset,l=!(a&&a.absoluteDistance),h=a&&a.absoluteDistance&&a.reverseDistance,f=this.path,g={segmentSubdivisions:this.getConnectionSubdivisions()},p=new T(e,t),v=f.closestPointT(p,g),y=this.getConnectionLength()||0;let C,_,b=f.lengthAtT(v,g);if(l&&(b=y>0?b/y:0),h&&(b=-1*(y-b)||1),r.distance=b,c||(C=f.tangentAtT(v)),C)_=C.pointOffset(p);else{const M=f.pointAtT(v),S=p.diff(M);_={x:S.x,y:S.y}}return r.offset=_,r.angle=o,r}normalizeLabelPosition(e){return"number"==typeof e?{distance:e}:e}getLabelTransformationMatrix(e){const t=this.normalizeLabelPosition(e),i=t.options||{},s=t.angle||0,r=t.distance,o=r>0&&r<=1;let a=0;const c={x:0,y:0},l=t.offset;l&&("number"==typeof l?a=l:(null!=l.x&&(c.x=l.x),null!=l.y&&(c.y=l.y)));const h=0!==c.x||0!==c.y||0===a,f=i.keepGradient,g=i.ensureLegibility,p=this.path,v={segmentSubdivisions:this.getConnectionSubdivisions()},y=o?r*this.getConnectionLength():r,b=p.tangentAtLength(y,v);let C,_=s;if(b){if(h)C=b.start,C.translate(c);else{const M=b.clone();M.rotate(-90,b.start),M.setLength(a),C=M.end}f&&(_=b.angle()+s,g&&(_=mt.normalize((_+90)%180-90)))}else C=p.start,h&&C.translate(c);return pi().translate(C.x,C.y).rotate(_)}getVertexIndex(e,t){const s=this.cell.getVertices(),r=this.getClosestPointLength(new T(e,t));let o=0;if(null!=r)for(const a=s.length;o<a;o+=1){const l=this.getClosestPointLength(s[o]);if(null!=l&&r<l)break}return o}getEventArgs(e,t,i){const s=this,r=s.cell;return null==t||null==i?{e,view:s,edge:r,cell:r}:{e,x:t,y:i,view:s,edge:r,cell:r}}notifyUnhandledMouseDown(e,t,i){this.notify("edge:unhandled:mousedown",{e,x:t,y:i,view:this,cell:this.cell,edge:this.cell})}notifyMouseDown(e,t,i){super.onMouseDown(e,t,i),this.notify("edge:mousedown",this.getEventArgs(e,t,i))}notifyMouseMove(e,t,i){super.onMouseMove(e,t,i),this.notify("edge:mousemove",this.getEventArgs(e,t,i))}notifyMouseUp(e,t,i){super.onMouseUp(e,t,i),this.notify("edge:mouseup",this.getEventArgs(e,t,i))}onClick(e,t,i){super.onClick(e,t,i),this.notify("edge:click",this.getEventArgs(e,t,i))}onDblClick(e,t,i){super.onDblClick(e,t,i),this.notify("edge:dblclick",this.getEventArgs(e,t,i))}onContextMenu(e,t,i){super.onContextMenu(e,t,i),this.notify("edge:contextmenu",this.getEventArgs(e,t,i))}onMouseDown(e,t,i){this.notifyMouseDown(e,t,i),this.startEdgeDragging(e,t,i)}onMouseMove(e,t,i){const s=this.getEventData(e);switch(s.action){case"drag-label":this.dragLabel(e,t,i);break;case"drag-arrowhead":this.dragArrowhead(e,t,i);break;case"drag-edge":this.dragEdge(e,t,i)}return this.notifyMouseMove(e,t,i),s}onMouseUp(e,t,i){const s=this.getEventData(e);switch(s.action){case"drag-label":this.stopLabelDragging(e,t,i);break;case"drag-arrowhead":this.stopArrowheadDragging(e,t,i);break;case"drag-edge":this.stopEdgeDragging(e,t,i)}return this.notifyMouseUp(e,t,i),this.checkMouseleave(e),s}onMouseOver(e){super.onMouseOver(e),this.notify("edge:mouseover",this.getEventArgs(e))}onMouseOut(e){super.onMouseOut(e),this.notify("edge:mouseout",this.getEventArgs(e))}onMouseEnter(e){super.onMouseEnter(e),this.notify("edge:mouseenter",this.getEventArgs(e))}onMouseLeave(e){super.onMouseLeave(e),this.notify("edge:mouseleave",this.getEventArgs(e))}onMouseWheel(e,t,i,s){super.onMouseWheel(e,t,i,s),this.notify("edge:mousewheel",Object.assign({delta:s},this.getEventArgs(e,t,i)))}onCustomEvent(e,t,i,s){if(fO(e.target,"edge-tool",this.container)){if(e.stopPropagation(),this.can("useEdgeTools")){if("edge:remove"===t)return void this.cell.remove({ui:!0});this.notify("edge:customevent",Object.assign({name:t},this.getEventArgs(e,i,s)))}this.notifyMouseDown(e,i,s)}else this.notify("edge:customevent",Object.assign({name:t},this.getEventArgs(e,i,s))),super.onCustomEvent(e,t,i,s)}onLabelMouseDown(e,t,i){this.notifyMouseDown(e,t,i),this.startLabelDragging(e,t,i),this.getEventData(e).stopPropagation&&e.stopPropagation()}startEdgeDragging(e,t,i){this.can("edgeMovable")?this.setEventData(e,{x:t,y:i,moving:!1,action:"drag-edge"}):this.notifyUnhandledMouseDown(e,t,i)}dragEdge(e,t,i){const s=this.getEventData(e);s.moving||(s.moving=!0,this.addClass("edge-moving"),this.notify("edge:move",{e,x:t,y:i,view:this,cell:this.cell,edge:this.cell})),this.cell.translate(t-s.x,i-s.y,{ui:!0}),this.setEventData(e,{x:t,y:i}),this.notify("edge:moving",{e,x:t,y:i,view:this,cell:this.cell,edge:this.cell})}stopEdgeDragging(e,t,i){const s=this.getEventData(e);s.moving&&(this.removeClass("edge-moving"),this.notify("edge:moved",{e,x:t,y:i,view:this,cell:this.cell,edge:this.cell})),s.moving=!1}prepareArrowheadDragging(e,t){const i=this.getTerminalMagnet(e),s={action:"drag-arrowhead",x:t.x,y:t.y,isNewEdge:!0===t.isNewEdge,terminalType:e,initialMagnet:i,initialTerminal:Sb(this.cell[e]),fallbackAction:t.fallbackAction||"revert",getValidateConnectionArgs:this.createValidateConnectionArgs(e),options:t.options};return this.beforeArrowheadDragging(s),s}createValidateConnectionArgs(e){const t=[];t[4]=e,t[5]=this;let i,s=0,r=0;"source"===e?(s=2,i="target"):(r=2,i="source");const o=this.cell[i],a=o.cell;if(a){let c;const l=t[s]=this.graph.findViewByCell(a);l&&(c=l.getMagnetFromEdgeTerminal(o),c===l.container&&(c=void 0)),t[s+1]=c}return(c,l)=>(t[r]=c,t[r+1]=c.container===l?void 0:l,t)}beforeArrowheadDragging(e){e.zIndex=this.cell.zIndex,this.cell.toFront();const t=this.container.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.graph.options.connecting.highlight&&this.highlightAvailableMagnets(e)}afterArrowheadDragging(e){null!=e.zIndex&&(this.cell.setZIndex(e.zIndex,{ui:!0}),e.zIndex=null),this.container.style.pointerEvents=e.pointerEvents||"",this.graph.options.connecting.highlight&&this.unhighlightAvailableMagnets(e)}validateConnection(e,t,i,s,r,o,a){const c=this.graph.options.connecting,l=c.allowLoop,h=c.allowNode,f=c.allowEdge,g=c.allowPort,p=c.allowMulti,v=c.validateConnection,y=o?o.cell:null,b="target"===r?i:e,C="target"===r?s:t;let _=!0;const M=S=>{const D="source"===r?a?a.port:null:y?y.getSourcePortId():null,I="target"===r?a?a.port:null:y?y.getTargetPortId():null;return xe(S,this.graph,{edge:y,edgeView:o,sourceView:e,targetView:i,sourcePort:D,targetPort:I,sourceMagnet:t,targetMagnet:s,sourceCell:e?e.cell:null,targetCell:i?i.cell:null,type:r})};if(null!=l&&("boolean"==typeof l?!l&&e===i&&(_=!1):_=M(l)),_&&null!=g&&("boolean"==typeof g?!g&&C&&(_=!1):_=M(g)),_&&null!=f&&("boolean"==typeof f?!f&&Ra.isEdgeView(b)&&(_=!1):_=M(f)),_&&null!=h&&null==C&&("boolean"==typeof h?!h&&nr.isNodeView(b)&&(_=!1):_=M(h)),_&&null!=p&&o){const S=o.cell,D="source"===r?a:S.getSource(),I="target"===r?a:S.getTarget(),k=a?this.graph.getCellById(a.cell):null;if(D&&I&&D.cell&&I.cell&&k)if("function"==typeof p)_=M(p);else{const Y=this.graph.model.getConnectedEdges(k,{outgoing:"source"===r,incoming:"target"===r});Y.length&&("withPort"===p?Y.some(Q=>{const Z=Q.getSource(),te=Q.getTarget();return Z&&te&&Z.cell===D.cell&&te.cell===I.cell&&null!=Z.port&&Z.port===D.port&&null!=te.port&&te.port===I.port})&&(_=!1):p||Y.some(Q=>{const Z=Q.getSource(),te=Q.getTarget();return Z&&te&&Z.cell===D.cell&&te.cell===I.cell})&&(_=!1))}}return _&&null!=v&&(_=M(v)),_}allowConnectToBlank(e){const t=this.graph,s=t.options.connecting.allowBlank;if("function"!=typeof s)return!!s;const r=t.findViewByCell(e),o=e.getSourceCell(),a=e.getTargetCell(),c=t.findViewByCell(o),l=t.findViewByCell(a);return xe(s,t,{edge:e,edgeView:r,sourceCell:o,targetCell:a,sourceView:c,targetView:l,sourcePort:e.getSourcePortId(),targetPort:e.getTargetPortId(),sourceMagnet:r.sourceMagnet,targetMagnet:r.targetMagnet})}validateEdge(e,t,i){const s=this.graph;if(!this.allowConnectToBlank(e)){const o=e.getSourceCellId(),a=e.getTargetCellId();if(!o||!a)return!1}const r=s.options.connecting.validateEdge;return!r||xe(r,s,{edge:e,type:t,previous:i})}arrowheadDragging(e,t,i,s){s.x=t,s.y=i,s.currentTarget!==e&&(s.currentMagnet&&s.currentView&&s.currentView.unhighlight(s.currentMagnet,{type:"magnetAdsorbed"}),s.currentView=this.graph.findViewByElem(e),s.currentView?(s.currentMagnet=s.currentView.findMagnet(e),s.currentMagnet&&this.validateConnection(...s.getValidateConnectionArgs(s.currentView,s.currentMagnet),s.currentView.getEdgeTerminal(s.currentMagnet,t,i,this.cell,s.terminalType))?s.currentView.highlight(s.currentMagnet,{type:"magnetAdsorbed"}):s.currentMagnet=null):s.currentMagnet=null),s.currentTarget=e,this.cell.prop(s.terminalType,{x:t,y:i},Object.assign(Object.assign({},s.options),{ui:!0}))}arrowheadDragged(e,t,i){const s=e.currentView,r=e.currentMagnet;if(!r||!s)return;s.unhighlight(r,{type:"magnetAdsorbed"});const o=e.terminalType,a=s.getEdgeTerminal(r,t,i,this.cell,o);this.cell.setTerminal(o,a,{ui:!0})}snapArrowhead(e,t,i){const s=this.graph,{snap:r,allowEdge:o}=s.options.connecting,a="object"==typeof r&&r.radius||50,c=s.renderer.findViewsInArea({x:e-a,y:t-a,width:2*a,height:2*a},{nodeOnly:!0});if(o){const M=s.renderer.findEdgeViewsFromPoint({x:e,y:t},a).filter(S=>S!==this);c.push(...M)}const l=i.closestView||null,h=i.closestMagnet||null;i.closestView=null,i.closestMagnet=null;let f,g=Number.MAX_SAFE_INTEGER;const p=new T(e,t);let v;c.forEach(M=>{if("false"!==M.container.getAttribute("magnet")){if(M.isNodeView())f=M.cell.getBBox().getCenter().distance(p);else if(M.isEdgeView()){const S=M.getClosestPoint(p);f=S?S.distance(p):Number.MAX_SAFE_INTEGER}f<a&&f<g&&(h===M.container||this.validateConnection(...i.getValidateConnectionArgs(M,null),M.getEdgeTerminal(M.container,e,t,this.cell,i.terminalType)))&&(g=f,i.closestView=M,i.closestMagnet=M.container)}M.container.querySelectorAll("[magnet]").forEach(S=>{if("false"!==S.getAttribute("magnet")){const D=M.getBBoxOfElement(S);f=p.distance(D.getCenter()),f<a&&f<g&&(h===S||this.validateConnection(...i.getValidateConnectionArgs(M,S),M.getEdgeTerminal(S,e,t,this.cell,i.terminalType)))&&(g=f,i.closestView=M,i.closestMagnet=S)}})});const y=i.terminalType,b=i.closestView,C=i.closestMagnet,_=h!==C;if(l&&_&&l.unhighlight(h,{type:"magnetAdsorbed"}),b){if(!_)return;b.highlight(C,{type:"magnetAdsorbed"}),v=b.getEdgeTerminal(C,e,t,this.cell,y)}else v={x:e,y:t};this.cell.setTerminal(y,v,{},Object.assign(Object.assign({},i.options),{ui:!0}))}snapArrowheadEnd(e){const t=e.closestView,i=e.closestMagnet;t&&i&&(t.unhighlight(i,{type:"magnetAdsorbed"}),e.currentMagnet=t.findMagnet(i)),e.closestView=null,e.closestMagnet=null}finishEmbedding(e){this.graph.options.embedding.enabled&&this.cell.updateParent()&&(e.zIndex=null)}fallbackConnection(e){"remove"===e.fallbackAction?this.cell.remove({ui:!0}):this.cell.prop(e.terminalType,e.initialTerminal,{ui:!0})}notifyConnectionEvent(e,t){const i=e.terminalType,s=e.initialTerminal,r=this.cell[i];if(r&&!Hn.equalTerminals(s,r)){const a=this.graph,c=s,l=c.cell?a.getCellById(c.cell):null,h=c.port,f=l?a.findViewByCell(l):null,g=l||e.isNewEdge?null:T.create(s).toJSON(),p=r,v=p.cell?a.getCellById(p.cell):null,y=p.port,b=v?a.findViewByCell(v):null,C=v?null:T.create(r).toJSON();this.notify("edge:connected",{e:t,previousCell:l,previousPort:h,previousView:f,previousPoint:g,currentCell:v,currentView:b,currentPort:y,currentPoint:C,previousMagnet:e.initialMagnet,currentMagnet:e.currentMagnet,edge:this.cell,view:this,type:i,isNew:e.isNewEdge})}}highlightAvailableMagnets(e){const t=this.graph,i=t.model.getCells();e.marked={};for(let s=0,r=i.length;s<r;s+=1){const o=t.findViewByCell(i[s]);if(!o||o.cell.id===this.cell.id)continue;const a=Array.prototype.slice.call(o.container.querySelectorAll("[magnet]"));"false"!==o.container.getAttribute("magnet")&&a.push(o.container);const c=a.filter(l=>this.validateConnection(...e.getValidateConnectionArgs(o,l),o.getEdgeTerminal(l,e.x,e.y,this.cell,e.terminalType)));if(c.length>0){for(let l=0,h=c.length;l<h;l+=1)o.highlight(c[l],{type:"magnetAvailable"});o.highlight(null,{type:"nodeAvailable"}),e.marked[o.cell.id]=c}}}unhighlightAvailableMagnets(e){const t=e.marked||{};Object.keys(t).forEach(i=>{const s=this.graph.findViewByCell(i);s&&(t[i].forEach(o=>{s.unhighlight(o,{type:"magnetAvailable"})}),s.unhighlight(null,{type:"nodeAvailable"}))}),e.marked=null}startArrowheadDragging(e,t,i){if(!this.can("arrowheadMovable"))return void this.notifyUnhandledMouseDown(e,t,i);const r=e.target.getAttribute("data-terminal"),o=this.prepareArrowheadDragging(r,{x:t,y:i});this.setEventData(e,o)}dragArrowhead(e,t,i){const s=this.getEventData(e);this.graph.options.connecting.snap?this.snapArrowhead(t,i,s):this.arrowheadDragging(this.getEventTarget(e),t,i,s)}stopArrowheadDragging(e,t,i){const s=this.graph,r=this.getEventData(e);s.options.connecting.snap?this.snapArrowheadEnd(r):this.arrowheadDragged(r,t,i),this.validateEdge(this.cell,r.terminalType,r.initialTerminal)?(this.finishEmbedding(r),this.notifyConnectionEvent(r,e)):this.fallbackConnection(r),this.afterArrowheadDragging(r)}startLabelDragging(e,t,i){if(this.can("edgeLabelMovable")){const r=parseInt(e.currentTarget.getAttribute("data-index"),10),o=this.getLabelPositionAngle(r),a=this.getLabelPositionArgs(r),c=this.getDefaultLabelPositionArgs(),l=this.mergeLabelPositionArgs(a,c);this.setEventData(e,{index:r,positionAngle:o,positionArgs:l,stopPropagation:!0,action:"drag-label"})}else this.setEventData(e,{stopPropagation:!0});this.graph.view.delegateDragEvents(e,this)}dragLabel(e,t,i){const s=this.getEventData(e),r=this.cell.getLabelAt(s.index),o=En({},r,{position:this.getLabelPosition(t,i,s.positionAngle,s.positionArgs)});this.cell.setLabelAt(s.index,o)}stopLabelDragging(e,t,i){}}(function(n){n.toStringTag=`X6.${n.name}`,n.isEdgeView=function e(t){if(null==t)return!1;if(t instanceof n)return!0;const i=t[Symbol.toStringTag];return(null==i||i===n.toStringTag)&&"function"==typeof t.isNodeView&&"function"==typeof t.isEdgeView&&"function"==typeof t.confirmUpdate&&"function"==typeof t.update&&"function"==typeof t.getConnection}})(Ra||(Ra={})),Ra.config({isSvgElement:!0,priority:1,bootstrap:["render","source","target"],actions:{view:["render"],markup:["render"],attrs:["update"],source:["source","update"],target:["target","update"],router:["update"],connector:["update"],labels:["labels"],defaultLabel:["labels"],tools:["tools"],vertices:["vertices","update"]}}),Ra.registry.register("edge",Ra,!0);class Bo extends St{get options(){return this.graph.options}constructor(e){super(),this.graph=e;const{selectors:t,fragment:i}=Qt.parseJSONMarkup(Bo.markup);this.background=t.background,this.grid=t.grid,this.svg=t.svg,this.defs=t.defs,this.viewport=t.viewport,this.primer=t.primer,this.stage=t.stage,this.decorator=t.decorator,this.overlay=t.overlay,this.container=this.options.container,this.restore=Bo.snapshoot(this.container),Ie(this.container,this.prefixClassName("graph")),Yc(this.container,i),this.delegateEvents()}delegateEvents(){return super.delegateEvents(this.constructor.events),this}guard(e,t){return!!("mousedown"===e.type&&2===e.button||this.options.guard&&this.options.guard(e,t))||(e.data&&void 0!==e.data.guarded?e.data.guarded:!(t&&t.cell&&ot.isCell(t.cell)||this.svg===e.target||this.container===e.target||this.svg.contains(e.target)))}findView(e){return this.graph.findViewByElem(e)}onDblClick(e){this.options.preventDefaultDblClick&&e.preventDefault();const t=this.normalizeEvent(e),i=this.findView(t.target);if(this.guard(t,i))return;const s=this.graph.snapToGrid(t.clientX,t.clientY);i?i.onDblClick(t,s.x,s.y):this.graph.trigger("blank:dblclick",{e:t,x:s.x,y:s.y})}onClick(e){if(this.getMouseMovedCount(e)<=this.options.clickThreshold){const t=this.normalizeEvent(e),i=this.findView(t.target);if(this.guard(t,i))return;const s=this.graph.snapToGrid(t.clientX,t.clientY);i?i.onClick(t,s.x,s.y):this.graph.trigger("blank:click",{e:t,x:s.x,y:s.y})}}isPreventDefaultContextMenu(e){let t=this.options.preventDefaultContextMenu;return"function"==typeof t&&(t=xe(t,this.graph,{view:e})),t}onContextMenu(e){const t=this.normalizeEvent(e),i=this.findView(t.target);if(this.isPreventDefaultContextMenu(i)&&e.preventDefault(),this.guard(t,i))return;const s=this.graph.snapToGrid(t.clientX,t.clientY);i?i.onContextMenu(t,s.x,s.y):this.graph.trigger("blank:contextmenu",{e:t,x:s.x,y:s.y})}delegateDragEvents(e,t){null==e.data&&(e.data={}),this.setEventData(e,{currentView:t||null,mouseMovedCount:0,startPosition:{x:e.clientX,y:e.clientY}}),this.delegateDocumentEvents(this.constructor.documentEvents,e.data),this.undelegateEvents()}getMouseMovedCount(e){return this.getEventData(e).mouseMovedCount||0}onMouseDown(e){const t=this.normalizeEvent(e),i=this.findView(t.target);if(this.guard(t,i))return;this.options.preventDefaultMouseDown&&e.preventDefault();const s=this.graph.snapToGrid(t.clientX,t.clientY);i?i.onMouseDown(t,s.x,s.y):(this.options.preventDefaultBlankAction&&["touchstart"].includes(t.type)&&e.preventDefault(),this.graph.trigger("blank:mousedown",{e:t,x:s.x,y:s.y})),this.delegateDragEvents(t,i)}onMouseMove(e){const t=this.getEventData(e),i=t.startPosition;if(i&&i.x===e.clientX&&i.y===e.clientY||(null==t.mouseMovedCount&&(t.mouseMovedCount=0),t.mouseMovedCount+=1,t.mouseMovedCount<=this.options.moveThreshold))return;const r=this.normalizeEvent(e),o=this.graph.snapToGrid(r.clientX,r.clientY),a=t.currentView;a?a.onMouseMove(r,o.x,o.y):this.graph.trigger("blank:mousemove",{e:r,x:o.x,y:o.y}),this.setEventData(r,t)}onMouseUp(e){this.undelegateDocumentEvents();const t=this.normalizeEvent(e),i=this.graph.snapToGrid(t.clientX,t.clientY),r=this.getEventData(e).currentView;if(r?r.onMouseUp(t,i.x,i.y):this.graph.trigger("blank:mouseup",{e:t,x:i.x,y:i.y}),!e.isPropagationStopped()){const o=new Ho(e,{type:"click",data:e.data});this.onClick(o)}e.stopImmediatePropagation(),this.delegateEvents()}onMouseOver(e){const t=this.normalizeEvent(e),i=this.findView(t.target);if(!this.guard(t,i))if(i)i.onMouseOver(t);else{if(this.container===t.target)return;this.graph.trigger("blank:mouseover",{e:t})}}onMouseOut(e){const t=this.normalizeEvent(e),i=this.findView(t.target);if(!this.guard(t,i))if(i)i.onMouseOut(t);else{if(this.container===t.target)return;this.graph.trigger("blank:mouseout",{e:t})}}onMouseEnter(e){const t=this.normalizeEvent(e),i=this.findView(t.target);if(this.guard(t,i))return;const s=this.graph.findViewByElem(t.relatedTarget);if(i){if(s===i)return;i.onMouseEnter(t)}else{if(s)return;this.graph.trigger("graph:mouseenter",{e:t})}}onMouseLeave(e){const t=this.normalizeEvent(e),i=this.findView(t.target);if(this.guard(t,i))return;const s=this.graph.findViewByElem(t.relatedTarget);if(i){if(s===i)return;i.onMouseLeave(t)}else{if(s)return;this.graph.trigger("graph:mouseleave",{e:t})}}onMouseWheel(e){const t=this.normalizeEvent(e),i=this.findView(t.target);if(this.guard(t,i))return;const s=t.originalEvent,r=this.graph.snapToGrid(s.clientX,s.clientY),o=Math.max(-1,Math.min(1,s.wheelDelta||-s.detail));i?i.onMouseWheel(t,r.x,r.y,o):this.graph.trigger("blank:mousewheel",{e:t,delta:o,x:r.x,y:r.y})}onCustomEvent(e){const t=e.currentTarget,i=t.getAttribute("event")||t.getAttribute("data-event");if(i){const s=this.findView(t);if(s){const r=this.normalizeEvent(e);if(this.guard(r,s))return;const o=this.graph.snapToGrid(r.clientX,r.clientY);s.onCustomEvent(r,i,o.x,o.y)}}}handleMagnetEvent(e,t){const i=e.currentTarget,s=i.getAttribute("magnet");if(s&&"false"!==s.toLowerCase()){const r=this.findView(i);if(r){const o=this.normalizeEvent(e);if(this.guard(o,r))return;const a=this.graph.snapToGrid(o.clientX,o.clientY);xe(t,this.graph,r,o,i,a.x,a.y)}}}onMagnetMouseDown(e){this.handleMagnetEvent(e,(t,i,s,r,o)=>{t.onMagnetMouseDown(i,s,r,o)})}onMagnetDblClick(e){this.handleMagnetEvent(e,(t,i,s,r,o)=>{t.onMagnetDblClick(i,s,r,o)})}onMagnetContextMenu(e){const t=this.findView(e.target);this.isPreventDefaultContextMenu(t)&&e.preventDefault(),this.handleMagnetEvent(e,(i,s,r,o,a)=>{i.onMagnetContextMenu(s,r,o,a)})}onLabelMouseDown(e){const i=this.findView(e.currentTarget);if(i){const s=this.normalizeEvent(e);if(this.guard(s,i))return;const r=this.graph.snapToGrid(s.clientX,s.clientY);i.onLabelMouseDown(s,r.x,r.y)}}onImageDragStart(){return!1}dispose(){this.undelegateEvents(),this.undelegateDocumentEvents(),this.restore(),this.restore=()=>{}}}(function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)})([St.dispose()],Bo.prototype,"dispose",null),function(n){const e=`${Ai.prefixCls}-graph`;n.markup=[{ns:gi.xhtml,tagName:"div",selector:"background",className:`${e}-background`},{ns:gi.xhtml,tagName:"div",selector:"grid",className:`${e}-grid`},{ns:gi.svg,tagName:"svg",selector:"svg",className:`${e}-svg`,attrs:{width:"100%",height:"100%","xmlns:xlink":gi.xlink},children:[{tagName:"defs",selector:"defs"},{tagName:"g",selector:"viewport",className:`${e}-svg-viewport`,children:[{tagName:"g",selector:"primer",className:`${e}-svg-primer`},{tagName:"g",selector:"stage",className:`${e}-svg-stage`},{tagName:"g",selector:"decorator",className:`${e}-svg-decorator`},{tagName:"g",selector:"overlay",className:`${e}-svg-overlay`}]}]}],n.snapshoot=function t(i){const s=i.cloneNode();return i.childNodes.forEach(r=>s.appendChild(r)),()=>{for(e8(i);i.attributes.length>0;)i.removeAttribute(i.attributes[0].name);for(let r=0,o=s.attributes.length;r<o;r+=1){const a=s.attributes[r];i.setAttribute(a.name,a.value)}s.childNodes.forEach(r=>i.appendChild(r))}}}(Bo||(Bo={})),function(n){const e=Ai.prefixCls;n.events={dblclick:"onDblClick",contextmenu:"onContextMenu",touchstart:"onMouseDown",mousedown:"onMouseDown",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousewheel:"onMouseWheel",DOMMouseScroll:"onMouseWheel",[`mouseenter  .${e}-cell`]:"onMouseEnter",[`mouseleave  .${e}-cell`]:"onMouseLeave",[`mouseenter  .${e}-cell-tools`]:"onMouseEnter",[`mouseleave  .${e}-cell-tools`]:"onMouseLeave",[`mousedown   .${e}-cell [event]`]:"onCustomEvent",[`touchstart  .${e}-cell [event]`]:"onCustomEvent",[`mousedown   .${e}-cell [data-event]`]:"onCustomEvent",[`touchstart  .${e}-cell [data-event]`]:"onCustomEvent",[`dblclick    .${e}-cell [magnet]`]:"onMagnetDblClick",[`contextmenu .${e}-cell [magnet]`]:"onMagnetContextMenu",[`mousedown   .${e}-cell [magnet]`]:"onMagnetMouseDown",[`touchstart  .${e}-cell [magnet]`]:"onMagnetMouseDown",[`dblclick    .${e}-cell [data-magnet]`]:"onMagnetDblClick",[`contextmenu .${e}-cell [data-magnet]`]:"onMagnetContextMenu",[`mousedown   .${e}-cell [data-magnet]`]:"onMagnetMouseDown",[`touchstart  .${e}-cell [data-magnet]`]:"onMagnetMouseDown",[`dragstart   .${e}-cell image`]:"onImageDragStart",[`mousedown   .${e}-edge .${e}-edge-label`]:"onLabelMouseDown",[`touchstart  .${e}-edge .${e}-edge-label`]:"onLabelMouseDown"},n.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}}(Bo||(Bo={}));class vi extends Io{get options(){return this.graph.options}get model(){return this.graph.model}get view(){return this.graph.view}constructor(e){super(),this.graph=e,this.init()}init(){}}class hw extends vi{init(){Ai.autoInsertCSS&&d8("core",".x6-graph {\n  position: relative;\n  overflow: hidden;\n  outline: none;\n  touch-action: none;\n}\n.x6-graph-background,\n.x6-graph-grid,\n.x6-graph-svg {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.x6-graph-background-stage,\n.x6-graph-grid-stage,\n.x6-graph-svg-stage {\n  user-select: none;\n}\n.x6-graph.x6-graph-pannable {\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n.x6-graph.x6-graph-panning {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n  user-select: none;\n}\n.x6-node {\n  cursor: move;\n  /* stylelint-disable-next-line */\n}\n.x6-node.x6-node-immovable {\n  cursor: default;\n}\n.x6-node * {\n  -webkit-user-drag: none;\n}\n.x6-node .scalable * {\n  vector-effect: non-scaling-stroke;\n}\n.x6-node [magnet='true'] {\n  cursor: crosshair;\n  transition: opacity 0.3s;\n}\n.x6-node [magnet='true']:hover {\n  opacity: 0.7;\n}\n.x6-node foreignObject {\n  display: block;\n  overflow: visible;\n  background-color: transparent;\n}\n.x6-node foreignObject > body {\n  position: static;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  overflow: visible;\n  background-color: transparent;\n}\n.x6-edge .source-marker,\n.x6-edge .target-marker {\n  vector-effect: non-scaling-stroke;\n}\n.x6-edge .connection {\n  stroke-linejoin: round;\n  fill: none;\n}\n.x6-edge .connection-wrap {\n  cursor: move;\n  opacity: 0;\n  fill: none;\n  stroke: #000;\n  stroke-width: 15;\n  stroke-linecap: round;\n  stroke-linejoin: round;\n}\n.x6-edge .connection-wrap:hover {\n  opacity: 0.4;\n  stroke-opacity: 0.4;\n}\n.x6-edge .vertices {\n  cursor: move;\n  opacity: 0;\n}\n.x6-edge .vertices .vertex {\n  fill: #1abc9c;\n}\n.x6-edge .vertices .vertex :hover {\n  fill: #34495e;\n  stroke: none;\n}\n.x6-edge .vertices .vertex-remove {\n  cursor: pointer;\n  fill: #fff;\n}\n.x6-edge .vertices .vertex-remove-area {\n  cursor: pointer;\n  opacity: 0.1;\n}\n.x6-edge .vertices .vertex-group:hover .vertex-remove-area {\n  opacity: 1;\n}\n.x6-edge .arrowheads {\n  cursor: move;\n  opacity: 0;\n}\n.x6-edge .arrowheads .arrowhead {\n  fill: #1abc9c;\n}\n.x6-edge .arrowheads .arrowhead :hover {\n  fill: #f39c12;\n  stroke: none;\n}\n.x6-edge .tools {\n  cursor: pointer;\n  opacity: 0;\n}\n.x6-edge .tools .tool-options {\n  display: none;\n}\n.x6-edge .tools .tool-remove circle {\n  fill: #f00;\n}\n.x6-edge .tools .tool-remove path {\n  fill: #fff;\n}\n.x6-edge:hover .vertices,\n.x6-edge:hover .arrowheads,\n.x6-edge:hover .tools {\n  opacity: 1;\n}\n.x6-highlight-opacity {\n  opacity: 0.3;\n}\n.x6-cell-tool-editor {\n  position: relative;\n  display: inline-block;\n  min-height: 1em;\n  margin: 0;\n  padding: 0;\n  line-height: 1;\n  white-space: normal;\n  text-align: center;\n  vertical-align: top;\n  overflow-wrap: normal;\n  outline: none;\n  transform-origin: 0 0;\n  -webkit-user-drag: none;\n}\n.x6-edge-tool-editor {\n  border: 1px solid #275fc5;\n  border-radius: 2px;\n}\n")}dispose(){f8("core")}}var M8;!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([hw.dispose()],hw.prototype,"dispose",null),function(n){n.get=function e(t){const{grid:i}=t,a=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(t,["grid","panning","mousewheel","embedding"]),c=t.container;if(null==c)throw new Error("Ensure the container of the graph is specified and valid");null==a.width&&(a.width=c.clientWidth),null==a.height&&(a.height=c.clientHeight);const l=En({},n.defaults,a);return l.grid="number"==typeof i?{size:i,visible:!1}:Object.assign(Object.assign({},{size:10,visible:!1}),"boolean"==typeof i?{visible:i}:i),["panning","mousewheel","embedding"].forEach(g=>{const p=t[g];"boolean"==typeof p?l[g].enabled=p:l[g]=Object.assign(Object.assign({},l[g]),p)}),l}}(M8||(M8={})),function(n){n.defaults={x:0,y:0,scaling:{min:.01,max:16},grid:{size:10,visible:!1},background:!1,panning:{enabled:!1,eventTypes:["leftMouseDown"]},mousewheel:{enabled:!1,factor:1.2,zoomAtMousePosition:!0},highlighting:{default:{name:"stroke",args:{padding:3}},nodeAvailable:{name:"className",args:{className:Ai.prefix("available-node")}},magnetAvailable:{name:"className",args:{className:Ai.prefix("available-magnet")}}},connecting:{snap:!1,allowLoop:!0,allowNode:!0,allowEdge:!1,allowPort:!0,allowBlank:!0,allowMulti:!0,highlight:!1,anchor:"center",edgeAnchor:"ratio",connectionPoint:"boundary",router:"normal",connector:"normal",validateConnection:({type:e,sourceView:t,targetView:i})=>null!=("target"===e?i:t),createEdge:()=>new uw},translating:{restrict:!1},embedding:{enabled:!1,findParent:"bbox",frontOnly:!0,validate:()=>!0},moveThreshold:0,clickThreshold:0,magnetThreshold:0,preventDefaultDblClick:!0,preventDefaultMouseDown:!1,preventDefaultContextMenu:!0,preventDefaultBlankAction:!0,interacting:{edgeLabelMovable:!1},async:!0,virtual:!1,guard:()=>!1}}(M8||(M8={}));class dw extends vi{get elem(){return this.view.grid}get grid(){return this.options.grid}init(){this.startListening(),this.draw(this.grid)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}setVisible(e){this.grid.visible!==e&&(this.grid.visible=e,this.update())}getGridSize(){return this.grid.size}setGridSize(e){this.grid.size=Math.max(e,1),this.update()}show(){this.setVisible(!0),this.update()}hide(){this.setVisible(!1),this.update()}clear(){this.elem.style.backgroundImage=""}draw(e){this.clear(),this.instance=null,Object.assign(this.grid,e),this.patterns=this.resolveGrid(e),this.update()}update(e={}){const t=this.grid.size;if(t<=1||!this.grid.visible)return this.clear();const i=this.graph.matrix(),s=this.getInstance(),r=Array.isArray(e)?e:[e];this.patterns.forEach((c,l)=>{const h=`pattern_${l}`,f=i.a||1,g=i.d||1,{update:p,markup:v}=c,y=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(c,["update","markup"]),b=Object.assign(Object.assign(Object.assign({},y),r[l]),{sx:f,sy:g,ox:i.e||0,oy:i.f||0,width:t*f,height:t*g});s.has(h)||s.add(h,Le.create("pattern",{id:h,patternUnits:"userSpaceOnUse"},Le.createVectors(v)).node);const C=s.get(h);"function"==typeof p&&p(C.childNodes[0],b);let _=b.ox%b.width;_<0&&(_+=b.width);let M=b.oy%b.height;M<0&&(M+=b.height),pt(C,{x:_,y:M,width:b.width,height:b.height})});const o=(new XMLSerializer).serializeToString(s.root),a=`url(data:image/svg+xml;base64,${btoa(o)})`;this.elem.style.backgroundImage=a}getInstance(){return this.instance||(this.instance=new Kc),this.instance}resolveGrid(e){if(!e)return[];const t=e.type;if(null==t)return[Object.assign(Object.assign({},Kc.presets.dot),e.args)];const i=Kc.registry.get(t);if(i){let s=e.args||[];return Array.isArray(s)||(s=[s]),Array.isArray(i)?i.map((r,o)=>Object.assign(Object.assign({},r),s[o])):[Object.assign(Object.assign({},i),s[0])]}return Kc.registry.onNotFound(t)}dispose(){this.stopListening(),this.clear()}}!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([vi.dispose()],dw.prototype,"dispose",null);class UP extends vi{get container(){return this.graph.view.container}get viewport(){return this.graph.view.viewport}get stage(){return this.graph.view.stage}init(){this.resize()}getMatrix(){const e=this.viewport.getAttribute("transform");return e!==this.viewportTransformString&&(this.viewportMatrix=this.viewport.getCTM(),this.viewportTransformString=e),pi(this.viewportMatrix)}setMatrix(e){const t=pi(e),i=_2(t);this.viewport.setAttribute("transform",i),this.viewportMatrix=t,this.viewportTransformString=i}resize(e,t){let i=void 0===e?this.options.width:e,s=void 0===t?this.options.height:t;this.options.width=i,this.options.height=s,"number"==typeof i&&(i=Math.round(i)),"number"==typeof s&&(s=Math.round(s)),this.container.style.width=null==i?"":`${i}px`,this.container.style.height=null==s?"":`${s}px`;const r=this.getComputedSize();return this.graph.trigger("resize",Object.assign({},r)),this}getComputedSize(){let e=this.options.width,t=this.options.height;return YT(e)||(e=this.container.clientWidth),YT(t)||(t=this.container.clientHeight),{width:e,height:t}}getScale(){return function aoe(n){let e,t,i,s;return n?(e=null==n.a?1:n.a,s=null==n.d?1:n.d,t=n.b,i=n.c):e=s=1,{sx:t?Math.sqrt(e*e+t*t):e,sy:i?Math.sqrt(i*i+s*s):s}}(this.getMatrix())}scale(e,t=e,i=0,s=0){if(e=this.clampScale(e),t=this.clampScale(t),i||s){const o=this.getTranslation(),a=o.tx-i*(e-1),c=o.ty-s*(t-1);(a!==o.tx||c!==o.ty)&&this.translate(a,c)}const r=this.getMatrix();return r.a=e,r.d=t,this.setMatrix(r),this.graph.trigger("scale",{sx:e,sy:t,ox:i,oy:s}),this}clampScale(e){const t=this.graph.options.scaling;return Is(e,t.min||.01,t.max||16)}getZoom(){return this.getScale().sx}zoom(e,t){t=t||{};let i=e,s=e;const r=this.getScale(),o=this.getComputedSize();let a=o.width/2,c=o.height/2;if(t.absolute||(i+=r.sx,s+=r.sy),t.scaleGrid&&(i=Math.round(i/t.scaleGrid)*t.scaleGrid,s=Math.round(s/t.scaleGrid)*t.scaleGrid),t.maxScale&&(i=Math.min(t.maxScale,i),s=Math.min(t.maxScale,s)),t.minScale&&(i=Math.max(t.minScale,i),s=Math.max(t.minScale,s)),t.center&&(a=t.center.x,c=t.center.y),i=this.clampScale(i),s=this.clampScale(s),a||c){const l=this.getTranslation(),h=a-i/r.sx*(a-l.tx),f=c-s/r.sy*(c-l.ty);(h!==l.tx||f!==l.ty)&&this.translate(h,f)}return this.scale(i,s),this}getRotation(){return function coe(n){let e={x:0,y:1};n&&(e=Yb(n,e));const t=180*Math.atan2(e.y,e.x)/Math.PI%360-90;return{angle:t%360+(t<0?360:0)}}(this.getMatrix())}rotate(e,t,i){if(null==t||null==i){const r=Lt.getBBox(this.stage);t=r.width/2,i=r.height/2}const s=this.getMatrix().translate(t,i).rotate(e).translate(-t,-i);return this.setMatrix(s),this}getTranslation(){return function loe(n){return{tx:n&&n.e||0,ty:n&&n.f||0}}(this.getMatrix())}translate(e,t){const i=this.getMatrix();i.e=e||0,i.f=t||0,this.setMatrix(i);const s=this.getTranslation();return this.options.x=s.tx,this.options.y=s.ty,this.graph.trigger("translate",Object.assign({},s)),this}setOrigin(e,t){return this.translate(e||0,t||0)}fitToContent(e,t,i,s){if("object"==typeof e){const M=e;e=M.gridWidth||1,t=M.gridHeight||1,i=M.padding||0,s=M}else e=e||1,t=t||1,i=i||0,null==s&&(s={});const r=D1(i),o=s.border||0,a=s.contentArea?re.create(s.contentArea):this.getContentArea(s);o>0&&a.inflate(o);const c=this.getScale(),l=this.getTranslation(),h=c.sx,f=c.sy;a.x*=h,a.y*=f,a.width*=h,a.height*=f;let g=Math.max(Math.ceil((a.width+a.x)/e),1)*e,p=Math.max(Math.ceil((a.height+a.y)/t),1)*t,v=0,y=0;("negative"===s.allowNewOrigin&&a.x<0||"positive"===s.allowNewOrigin&&a.x>=0||"any"===s.allowNewOrigin)&&(v=Math.ceil(-a.x/e)*e,v+=r.left,g+=v),("negative"===s.allowNewOrigin&&a.y<0||"positive"===s.allowNewOrigin&&a.y>=0||"any"===s.allowNewOrigin)&&(y=Math.ceil(-a.y/t)*t,y+=r.top,p+=y),g+=r.right,p+=r.bottom,g=Math.max(g,s.minWidth||0),p=Math.max(p,s.minHeight||0),g=Math.min(g,s.maxWidth||Number.MAX_SAFE_INTEGER),p=Math.min(p,s.maxHeight||Number.MAX_SAFE_INTEGER);const b=this.getComputedSize(),C=g!==b.width||p!==b.height;return(v!==l.tx||y!==l.ty)&&this.translate(v,y),C&&this.resize(g,p),new re(-v/h,-y/f,g/h,p/f)}scaleContentToFit(e={}){this.scaleContentToFitImpl(e)}scaleContentToFitImpl(e={},t=!0){let i,s;if(e.contentArea){const C=e.contentArea;i=this.graph.localToGraph(C),s=T.create(C)}else i=this.getContentBBox(e),s=this.graph.graphToLocal(i);if(!i.width||!i.height)return;const r=D1(e.padding),o=e.minScale||0,a=e.maxScale||Number.MAX_SAFE_INTEGER,c=e.minScaleX||o,l=e.maxScaleX||a,h=e.minScaleY||o,f=e.maxScaleY||a;let g;if(e.viewportArea)g=e.viewportArea;else{const C=this.getComputedSize(),_=this.getTranslation();g={x:_.tx,y:_.ty,width:C.width,height:C.height}}g=re.create(g).moveAndExpand({x:r.left,y:r.top,width:-r.left-r.right,height:-r.top-r.bottom});const p=this.getScale();let v=g.width/i.width*p.sx,y=g.height/i.height*p.sy;!1!==e.preserveAspectRatio&&(v=y=Math.min(v,y));const b=e.scaleGrid;if(b&&(v=b*Math.floor(v/b),y=b*Math.floor(y/b)),v=Is(v,c,l),y=Is(y,h,f),this.scale(v,y),t){const C=this.options;this.translate(g.x-s.x*v-C.x,g.y-s.y*y-C.y)}}getContentArea(e={}){return!1!==e.useCellGeometry?this.model.getAllCellsBBox()||new re:Lt.getBBox(this.stage)}getContentBBox(e={}){return this.graph.localToGraph(this.getContentArea(e))}getGraphArea(){const e=re.fromSize(this.getComputedSize());return this.graph.graphToLocal(e)}zoomToRect(e,t={}){const i=re.create(e),s=this.graph;t.contentArea=i,null==t.viewportArea&&(t.viewportArea={x:s.options.x,y:s.options.y,width:this.options.width,height:this.options.height}),this.scaleContentToFitImpl(t,!1);const r=i.getCenter();return this.centerPoint(r.x,r.y),this}zoomToFit(e={}){return this.zoomToRect(this.getContentArea(e),e)}centerPoint(e,t){const i=this.getComputedSize(),s=this.getScale(),r=this.getTranslation(),o=i.width/2,a=i.height/2;t=a-(t="number"==typeof t?t:a)*s.sy,(r.tx!==(e=o-(e="number"==typeof e?e:o)*s.sx)||r.ty!==t)&&this.translate(e,t)}centerContent(e){const i=this.graph.getContentArea(e).getCenter();this.centerPoint(i.x,i.y)}centerCell(e){return this.positionCell(e,"center")}positionPoint(e,t,i){const s=this.getComputedSize();(t=io(t,Math.max(0,s.width)))<0&&(t=s.width+t),(i=io(i,Math.max(0,s.height)))<0&&(i=s.height+i);const r=this.getTranslation(),o=this.getScale(),a=t-e.x*o.sx,c=i-e.y*o.sy;(r.tx!==a||r.ty!==c)&&this.translate(a,c)}positionRect(e,t){const i=re.create(e);switch(t){case"center":return this.positionPoint(i.getCenter(),"50%","50%");case"top":return this.positionPoint(i.getTopCenter(),"50%",0);case"top-right":return this.positionPoint(i.getTopRight(),"100%",0);case"right":return this.positionPoint(i.getRightMiddle(),"100%","50%");case"bottom-right":return this.positionPoint(i.getBottomRight(),"100%","100%");case"bottom":return this.positionPoint(i.getBottomCenter(),"50%","100%");case"bottom-left":return this.positionPoint(i.getBottomLeft(),0,"100%");case"left":return this.positionPoint(i.getLeftMiddle(),0,"50%");case"top-left":return this.positionPoint(i.getTopLeft(),0,0);default:return this}}positionCell(e,t){const i=e.getBBox();return this.positionRect(i,t)}positionContent(e,t){const i=this.graph.getContentArea(t);return this.positionRect(i,e)}}class fw extends vi{get elem(){return this.view.background}init(){this.startListening(),this.options.background&&this.draw(this.options.background)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}updateBackgroundImage(e={}){let t=e.size||"auto auto",i=e.position||"center";const s=this.graph.transform.getScale(),r=this.graph.translate();"object"==typeof i&&(i=`${r.tx+s.sx*(i.x||0)}px ${r.ty+s.sy*(i.y||0)}px`),"object"==typeof t&&(t=re.fromSize(t).scale(s.sx,s.sy),t=`${t.width}px ${t.height}px`),this.elem.style.backgroundSize=t,this.elem.style.backgroundPosition=i}drawBackgroundImage(e,t={}){if(!(e instanceof HTMLImageElement))return void(this.elem.style.backgroundImage="");const i=this.optionsCache;if(i&&i.image!==t.image)return;let s;const r=t.opacity,o=t.size;let a=t.repeat||"no-repeat";const c=g8.registry.get(a);if("function"==typeof c){const h=t.quality||1;e.width*=h,e.height*=h;const f=c(e,t);if(!(f instanceof HTMLCanvasElement))throw new Error("Background pattern must return an HTML Canvas instance");s=f.toDataURL("image/png"),a=t.repeat&&a!==t.repeat?t.repeat:"repeat","object"==typeof o?(o.width*=f.width/e.width,o.height*=f.height/e.height):void 0===o&&(t.size={width:f.width/h,height:f.height/h})}else s=e.src,void 0===o&&(t.size={width:e.width,height:e.height});null!=i&&"object"==typeof t.size&&t.image===i.image&&t.repeat===i.repeat&&t.quality===i.quality&&(i.size=Sb(t.size));const l=this.elem.style;l.backgroundImage=`url(${s})`,l.backgroundRepeat=a,l.opacity=null==r||r>=1?"":`${r}`,this.updateBackgroundImage(t)}updateBackgroundColor(e){this.elem.style.backgroundColor=e||""}updateBackgroundOptions(e){this.graph.options.background=e}update(){this.optionsCache&&this.updateBackgroundImage(this.optionsCache)}draw(e){const t=e||{};if(this.updateBackgroundOptions(e),this.updateBackgroundColor(t.color),t.image){this.optionsCache=Sb(t);const i=document.createElement("img");i.onload=()=>this.drawBackgroundImage(i,e),i.setAttribute("crossorigin","anonymous"),i.src=t.image}else this.drawBackgroundImage(null),this.optionsCache=null}clear(){this.draw()}dispose(){this.clear(),this.stopListening()}}!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([vi.dispose()],fw.prototype,"dispose",null);class GP extends vi{get widgetOptions(){return this.options.panning}get pannable(){return this.widgetOptions&&!0===this.widgetOptions.enabled}init(){this.startListening(),this.updateClassName()}startListening(){const e=this.widgetOptions.eventTypes;e&&(e.includes("leftMouseDown")&&(this.graph.on("blank:mousedown",this.preparePanning,this),this.graph.on("node:unhandled:mousedown",this.preparePanning,this),this.graph.on("edge:unhandled:mousedown",this.preparePanning,this)),e.includes("rightMouseDown")&&(this.onRightMouseDown=this.onRightMouseDown.bind(this),ds.on(this.graph.container,"mousedown",this.onRightMouseDown)),e.includes("mouseWheel")&&(this.mousewheelHandle=new NO(this.graph.container,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.mousewheelHandle.enable()))}stopListening(){const e=this.widgetOptions.eventTypes;e&&(e.includes("leftMouseDown")&&(this.graph.off("blank:mousedown",this.preparePanning,this),this.graph.off("node:unhandled:mousedown",this.preparePanning,this),this.graph.off("edge:unhandled:mousedown",this.preparePanning,this)),e.includes("rightMouseDown")&&ds.off(this.graph.container,"mousedown",this.onRightMouseDown),e.includes("mouseWheel")&&this.mousewheelHandle&&this.mousewheelHandle.disable())}preparePanning({e}){const t=this.graph.getPlugin("selection"),i=t&&t.allowRubberband(e,!0);(this.allowPanning(e,!0)||this.allowPanning(e)&&!i)&&this.startPanning(e)}allowPanning(e,t){return this.pannable&&Xc.isMatch(e,this.widgetOptions.modifiers,t)}startPanning(e){const t=this.view.normalizeEvent(e);this.clientX=t.clientX,this.clientY=t.clientY,this.panning=!0,this.updateClassName(),ds.on(document.body,{"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this),"mouseleave.panning":this.stopPanning.bind(this)}),ds.on(window,"mouseup.panning",this.stopPanning.bind(this))}pan(e){const t=this.view.normalizeEvent(e),i=t.clientX-this.clientX,s=t.clientY-this.clientY;this.clientX=t.clientX,this.clientY=t.clientY,this.graph.translateBy(i,s)}stopPanning(e){this.panning=!1,this.updateClassName(),ds.off(document.body,".panning"),ds.off(window,".panning")}updateClassName(){const e=this.view.container,t=this.view.prefixClassName("graph-panning"),i=this.view.prefixClassName("graph-pannable");this.pannable?this.panning?(Ie(e,t),Wn(e,i)):(Wn(e,t),Ie(e,i)):(Wn(e,t),Wn(e,i))}onRightMouseDown(e){2===e.button&&this.allowPanning(e,!0)&&this.startPanning(e)}allowMouseWheel(e){return this.pannable&&!e.ctrlKey}onMouseWheel(e,t,i){e.ctrlKey||this.graph.translateBy(-t,-i)}autoPanning(e,t){const s=this.graph.getGraphArea();let r=0,o=0;e<=s.left+10&&(r=-10),t<=s.top+10&&(o=-10),e>=s.right-10&&(r=10),t>=s.bottom-10&&(o=10),(0!==r||0!==o)&&this.graph.translateBy(-r,-o)}enablePanning(){this.pannable||(this.widgetOptions.enabled=!0,this.updateClassName())}disablePanning(){this.pannable&&(this.widgetOptions.enabled=!1,this.updateClassName())}dispose(){this.stopListening()}}!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([vi.dispose()],GP.prototype,"dispose",null);class gw extends vi{constructor(){super(...arguments),this.cumulatedFactor=1}get widgetOptions(){return this.options.mousewheel}init(){this.container=this.graph.container,this.target=this.widgetOptions.global?document:this.container,this.mousewheelHandle=new NO(this.target,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.widgetOptions.enabled&&this.enable(!0)}get disabled(){return!0!==this.widgetOptions.enabled}enable(e){(this.disabled||e)&&(this.widgetOptions.enabled=!0,this.mousewheelHandle.enable())}disable(){this.disabled||(this.widgetOptions.enabled=!1,this.mousewheelHandle.disable())}allowMouseWheel(e){const t=this.widgetOptions.guard;return(null==t||t(e))&&Xc.isMatch(e,this.widgetOptions.modifiers)}onMouseWheel(e){const t=this.widgetOptions.guard;if((null==t||t(e))&&Xc.isMatch(e,this.widgetOptions.modifiers)){const i=this.widgetOptions.factor||1.2;null==this.currentScale&&(this.startPos={x:e.clientX,y:e.clientY},this.currentScale=this.graph.transform.getScale().sx),e.deltaY<0?this.currentScale<.15?this.cumulatedFactor=(this.currentScale+.01)/this.currentScale:(this.cumulatedFactor=Math.round(this.currentScale*i*20)/20/this.currentScale,1===this.cumulatedFactor&&(this.cumulatedFactor=1.05)):this.currentScale<=.15?this.cumulatedFactor=(this.currentScale-.01)/this.currentScale:(this.cumulatedFactor=Math.round(this.currentScale*(1/i)*20)/20/this.currentScale,1===this.cumulatedFactor&&(this.cumulatedFactor=.95)),this.cumulatedFactor=Math.max(.01,Math.min(this.currentScale*this.cumulatedFactor,160)/this.currentScale);const r=this.currentScale;let o=this.graph.transform.clampScale(r*this.cumulatedFactor);if(o=Is(o,this.widgetOptions.minScale||Number.MIN_SAFE_INTEGER,this.widgetOptions.maxScale||Number.MAX_SAFE_INTEGER),o!==r)if(this.widgetOptions.zoomAtMousePosition){const h=this.graph.getPlugin("scroller")?this.graph.clientToLocal(this.startPos):this.graph.clientToGraph(this.startPos);this.graph.zoom(o,{absolute:!0,center:h.clone()})}else this.graph.zoom(o,{absolute:!0});this.currentScale=null,this.cumulatedFactor=1}}dispose(){this.disable()}}!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([Io.dispose()],gw.prototype,"dispose",null);class qP extends vi{init(){this.resetRenderArea=EY(this.resetRenderArea,200,{leading:!0}),this.resetRenderArea(),this.startListening()}startListening(){this.graph.on("translate",this.resetRenderArea,this),this.graph.on("scale",this.resetRenderArea,this),this.graph.on("resize",this.resetRenderArea,this)}stopListening(){this.graph.off("translate",this.resetRenderArea,this),this.graph.off("scale",this.resetRenderArea,this),this.graph.off("resize",this.resetRenderArea,this)}enableVirtualRender(){this.options.virtual=!0,this.resetRenderArea()}disableVirtualRender(){this.options.virtual=!1,this.graph.renderer.setRenderArea(void 0)}resetRenderArea(){if(this.options.virtual){const e=this.graph.getGraphArea();this.graph.renderer.setRenderArea(e)}}dispose(){this.stopListening()}}!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([vi.dispose()],qP.prototype,"dispose",null);class Wle{constructor(){this.isFlushing=!1,this.isFlushPending=!1,this.scheduleId=0,this.queue=[],this.frameInterval=33,this.initialTime=Date.now()}queueJob(e){if(e.priority&al.PRIOR)e.cb();else{const t=this.findInsertionIndex(e);t>=0&&this.queue.splice(t,0,e)}}queueFlush(){!this.isFlushing&&!this.isFlushPending&&(this.isFlushPending=!0,this.scheduleJob())}queueFlushSync(){!this.isFlushing&&!this.isFlushPending&&(this.isFlushPending=!0,this.flushJobsSync())}clearJobs(){this.queue.length=0,this.isFlushing=!1,this.isFlushPending=!1,this.cancelScheduleJob()}flushJobs(){this.isFlushPending=!1,this.isFlushing=!0;const e=this.getCurrentTime();let t;for(;(t=this.queue.shift())&&(t.cb(),!(this.getCurrentTime()-e>=this.frameInterval)););this.isFlushing=!1,this.queue.length&&this.queueFlush()}flushJobsSync(){let e;for(this.isFlushPending=!1,this.isFlushing=!0;e=this.queue.shift();)try{e.cb()}catch(t){console.log(t)}this.isFlushing=!1}findInsertionIndex(e){let t=0,i=this.queue.length,s=i-1;const r=e.priority;for(;t<=s;){const o=(s-t>>1)+t;r<=this.queue[o].priority?t=o+1:(i=o,s=o-1)}return i}scheduleJob(){"requestIdleCallback"in window?(this.scheduleId&&this.cancelScheduleJob(),this.scheduleId=window.requestIdleCallback(this.flushJobs.bind(this),{timeout:100})):(this.scheduleId&&this.cancelScheduleJob(),this.scheduleId=window.setTimeout(this.flushJobs.bind(this)))}cancelScheduleJob(){"cancelIdleCallback"in window?(this.scheduleId&&window.cancelIdleCallback(this.scheduleId),this.scheduleId=0):(this.scheduleId&&clearTimeout(this.scheduleId),this.scheduleId=0)}getCurrentTime(){return"object"==typeof performance&&"function"==typeof performance.now?performance.now():Date.now()-this.initialTime}}var al=function(n){return n[n.Update=2]="Update",n[n.RenderEdge=4]="RenderEdge",n[n.RenderNode=8]="RenderNode",n[n.PRIOR=1048576]="PRIOR",n}(al||{});class si extends Io{get model(){return this.graph.model}get container(){return this.graph.view.stage}constructor(e){super(),this.views={},this.willRemoveViews={},this.queue=new Wle,this.graph=e,this.init()}init(){this.startListening(),this.renderViews(this.model.getCells())}startListening(){this.model.on("reseted",this.onModelReseted,this),this.model.on("cell:added",this.onCellAdded,this),this.model.on("cell:removed",this.onCellRemoved,this),this.model.on("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.on("cell:change:visible",this.onCellVisibleChanged,this)}stopListening(){this.model.off("reseted",this.onModelReseted,this),this.model.off("cell:added",this.onCellAdded,this),this.model.off("cell:removed",this.onCellRemoved,this),this.model.off("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.off("cell:change:visible",this.onCellVisibleChanged,this)}onModelReseted({options:e}){this.queue.clearJobs(),this.removeZPivots(),this.resetViews();const t=this.model.getCells();this.renderViews(t,Object.assign(Object.assign({},e),{queue:t.map(i=>i.id)}))}onCellAdded({cell:e,options:t}){this.renderViews([e],t)}onCellRemoved({cell:e}){this.removeViews([e])}onCellZIndexChanged({cell:e,options:t}){const i=this.views[e.id];i&&this.requestViewUpdate(i.view,si.FLAG_INSERT,t,al.Update,!0)}onCellVisibleChanged({cell:e,current:t}){this.toggleVisible(e,!!t)}requestViewUpdate(e,t,i={},s=al.Update,r=!0){const o=e.cell.id,a=this.views[o];a&&(a.flag=t,a.options=i,(e.hasAction(t,["translate","resize","rotate"])||!1===i.async)&&(s=al.PRIOR,r=!1),this.queue.queueJob({id:o,priority:s,cb:()=>{this.renderViewInArea(e,t,i);const h=i.queue;if(h){const f=h.indexOf(e.cell.id);f>=0&&h.splice(f,1),0===h.length&&this.graph.trigger("render:done")}}}),this.getEffectedEdges(e).forEach(h=>{this.requestViewUpdate(h.view,h.flag,i,s,!1)}),r&&this.flush())}setRenderArea(e){this.renderArea=e,this.flushWaitingViews()}isViewMounted(e){if(null==e)return!1;const t=this.views[e.cell.id];return!!t&&t.state===si.ViewState.MOUNTED}renderViews(e,t={}){e.sort((i,s)=>i.isNode()&&s.isEdge()?-1:0),e.forEach(i=>{const s=i.id;let o=0,a=this.views[s];if(a)o=si.FLAG_INSERT;else{const c=this.createCellView(i);c&&(c.graph=this.graph,o=si.FLAG_INSERT|c.getBootstrapFlag(),a={view:c,flag:o,options:t,state:si.ViewState.CREATED},this.views[s]=a)}a&&this.requestViewUpdate(a.view,o,t,this.getRenderPriority(a.view),!1)}),this.flush()}renderViewInArea(e,t,i={}){const s=e.cell,r=s.id,o=this.views[r];if(!o)return;let a=0;this.isUpdatable(e)||o.state===si.ViewState.MOUNTED?(a=this.updateView(e,t,i),o.flag=a):o.state=si.ViewState.WAITING,a&&s.isEdge()&&!(a&e.getFlag(["source","target"]))&&this.queue.queueJob({id:r,priority:al.RenderEdge,cb:()=>{this.updateView(e,t,i)}})}removeViews(e){e.forEach(t=>{const i=t.id,s=this.views[i];s&&(this.willRemoveViews[i]=s,delete this.views[i],this.queue.queueJob({id:i,priority:this.getRenderPriority(s.view),cb:()=>{this.removeView(s.view)}}))}),this.flush()}flush(){this.graph.options.async?this.queue.queueFlush():this.queue.queueFlushSync()}flushWaitingViews(){Object.values(this.views).forEach(e=>{if(e&&e.state===si.ViewState.WAITING){const{view:t,flag:i,options:s}=e;this.requestViewUpdate(t,i,s,this.getRenderPriority(t),!1)}}),this.flush()}updateView(e,t,i={}){if(null==e)return 0;if(Wi.isCellView(e)){if(t&si.FLAG_REMOVE)return this.removeView(e.cell),0;t&si.FLAG_INSERT&&(this.insertView(e),t^=si.FLAG_INSERT)}return t?e.confirmUpdate(t,i):0}insertView(e){const t=this.views[e.cell.id];if(t){const i=e.cell.getZIndex(),s=this.addZPivot(i);this.container.insertBefore(e.container,s),e.cell.isVisible()||this.toggleVisible(e.cell,!1),t.state=si.ViewState.MOUNTED,this.graph.trigger("view:mounted",{view:e})}}resetViews(){this.willRemoveViews=Object.assign(Object.assign({},this.views),this.willRemoveViews),Object.values(this.willRemoveViews).forEach(e=>{e&&this.removeView(e.view)}),this.views={},this.willRemoveViews={}}removeView(e){const t=e.cell,i=this.willRemoveViews[t.id];i&&e&&(i.view.remove(),delete this.willRemoveViews[t.id],this.graph.trigger("view:unmounted",{view:e}))}toggleVisible(e,t){const i=this.model.getConnectedEdges(e);for(let r=0,o=i.length;r<o;r+=1){const a=i[r];if(t){const c=a.getSourceCell(),l=a.getTargetCell();if(c&&!c.isVisible()||l&&!l.isVisible())continue;this.toggleVisible(a,!0)}else this.toggleVisible(a,!1)}const s=this.views[e.id];s&&ii(s.view.container,{display:t?"unset":"none"})}addZPivot(e=0){null==this.zPivots&&(this.zPivots={});const t=this.zPivots;let i=t[e];if(i)return i;i=t[e]=document.createComment(`z-index:${e+1}`);let s=-1/0;for(const o in t){const a=+o;a<e&&a>s&&(s=a)}const r=this.container;return r.insertBefore(i,s!==-1/0?t[s].nextSibling:r.firstChild),i}removeZPivots(){this.zPivots&&Object.values(this.zPivots).forEach(e=>{e&&e.parentNode&&e.parentNode.removeChild(e)}),this.zPivots={}}createCellView(e){const t={graph:this.graph},i=this.graph.options.createCellView;if(i){const r=xe(i,this.graph,e);if(r)return new r(e,t);if(null===r)return null}const s=e.view;if(null!=s&&"string"==typeof s){const r=Wi.registry.get(s);return r?new r(e,t):Wi.registry.onNotFound(s)}return e.isNode()?new nr(e,t):e.isEdge()?new Ra(e,t):null}getEffectedEdges(e){const t=[],i=e.cell,s=this.model.getConnectedEdges(i);for(let r=0,o=s.length;r<o;r+=1){const a=s[r],c=this.views[a.id];if(!c)continue;const l=c.view;if(!this.isViewMounted(l))continue;const h=["update"];a.getTargetCell()===i&&h.push("target"),a.getSourceCell()===i&&h.push("source"),t.push({id:a.id,view:l,flag:l.getFlag(h)})}return t}isUpdatable(e){if(e.isNodeView())return!this.renderArea||this.renderArea.isIntersectWithRect(e.cell.getBBox());if(e.isEdgeView()){const t=e.cell,i=t.getSourceCell(),s=t.getTargetCell();if(this.renderArea&&i&&s)return this.renderArea.isIntersectWithRect(i.getBBox())||this.renderArea.isIntersectWithRect(s.getBBox())}return!0}getRenderPriority(e){return e.cell.isNode()?al.RenderNode:al.RenderEdge}dispose(){this.stopListening()}}(function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)})([Io.dispose()],si.prototype,"dispose",null),function(n){n.FLAG_INSERT=1<<30,n.FLAG_REMOVE=1<<29,n.FLAG_RENDER=67108863}(si||(si={})),function(n){let e;var t;(t=e=n.ViewState||(n.ViewState={}))[t.CREATED=0]="CREATED",t[t.MOUNTED=1]="MOUNTED",t[t.WAITING=2]="WAITING"}(si||(si={}));class pw extends vi{constructor(){super(...arguments),this.schedule=new si(this.graph)}requestViewUpdate(e,t,i={}){this.schedule.requestViewUpdate(e,t,i)}isViewMounted(e){return this.schedule.isViewMounted(e)}setRenderArea(e){this.schedule.setRenderArea(e)}findViewByElem(e){if(null==e)return null;const i="string"==typeof e?this.options.container.querySelector(e):e instanceof Element?e:e[0];if(i){const s=this.graph.view.findAttr("data-cell-id",i);if(s){const r=this.schedule.views;if(r[s])return r[s].view}}return null}findViewByCell(e){if(null==e)return null;const t=ot.isCell(e)?e.id:e,i=this.schedule.views;return i[t]?i[t].view:null}findViewsFromPoint(e){const t={x:e.x,y:e.y};return this.model.getCells().map(i=>this.findViewByCell(i)).filter(i=>null!=i&&Lt.getBBox(i.container,{target:this.view.stage}).containsPoint(t))}findEdgeViewsFromPoint(e,t=5){return this.model.getEdges().map(i=>this.findViewByCell(i)).filter(i=>{if(null!=i){const s=i.getClosestPoint(e);if(s)return s.distance(e)<=t}return!1})}findViewsInArea(e,t={}){const i=re.create(e);return this.model.getCells().map(s=>this.findViewByCell(s)).filter(s=>{if(s){if(t.nodeOnly&&!s.isNodeView())return!1;const r=Lt.getBBox(s.container,{target:this.view.stage});return 0===r.width?r.inflate(1,0):0===r.height&&r.inflate(0,1),t.strict?i.containsRect(r):i.isIntersectWithRect(r)}return!1})}dispose(){this.schedule.dispose()}}!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([vi.dispose()],pw.prototype,"dispose",null);var WP=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t};class YP extends vi{get cid(){return this.graph.view.cid}get svg(){return this.view.svg}get defs(){return this.view.defs}isDefined(e){return null!=this.svg.getElementById(e)}filter(e){let t=e.id;const i=e.name;if(t||(t=`filter-${i}-${this.cid}-${Lb(JSON.stringify(e))}`),!this.isDefined(t)){const s=D2.registry.get(i);if(null==s)return D2.registry.onNotFound(i);const r=s(e.args||{}),o=Object.assign(Object.assign({x:-1,y:-1,width:3,height:3,filterUnits:"objectBoundingBox"},e.attrs),{id:t});Le.create(Qt.sanitize(r),o).appendTo(this.defs)}return t}gradient(e){let t=e.id;const i=e.type;if(t||(t=`gradient-${i}-${this.cid}-${Lb(JSON.stringify(e))}`),!this.isDefined(t)){const o=`<${i}>${e.stops.map(c=>{const l=null!=c.opacity&&Number.isFinite(c.opacity)?c.opacity:1;return`<stop offset="${c.offset}" stop-color="${c.color}" stop-opacity="${l}"/>`}).join("")}</${i}>`,a=Object.assign({id:t},e.attrs);Le.create(o,a).appendTo(this.defs)}return t}marker(e){const{id:t,refX:i,refY:s,markerUnits:r,markerOrient:o,tagName:a,children:c}=e,l=WP(e,["id","refX","refY","markerUnits","markerOrient","tagName","children"]);let h=t;if(h||(h=`marker-${this.cid}-${Lb(JSON.stringify(e))}`),!this.isDefined(h)){"path"!==a&&delete l.d;const f=Le.create("marker",{refX:i,refY:s,id:h,overflow:"visible",orient:o??"auto",markerUnits:r||"userSpaceOnUse"},c?c.map(g=>{var{tagName:p}=g,v=WP(g,["tagName"]);return Le.create(`${p}`||"path",n8(Object.assign(Object.assign({},l),v)))}):[Le.create(a||"path",n8(l))]);this.defs.appendChild(f.node)}return h}remove(e){const t=this.svg.getElementById(e);t&&t.parentNode&&t.parentNode.removeChild(t)}}class XP extends vi{getClientMatrix(){return pi(this.view.stage.getScreenCTM())}getClientOffset(){const e=this.view.svg.getBoundingClientRect();return new T(e.left,e.top)}getPageOffset(){return this.getClientOffset().translate(window.scrollX,window.scrollY)}snapToGrid(e,t){return("number"==typeof e?this.clientToLocalPoint(e,t):this.clientToLocalPoint(e.x,e.y)).snapToGrid(this.graph.getGridSize())}localToGraphPoint(e,t){const i=T.create(e,t);return Lt.transformPoint(i,this.graph.matrix())}localToClientPoint(e,t){const i=T.create(e,t);return Lt.transformPoint(i,this.getClientMatrix())}localToPagePoint(e,t){return("number"==typeof e?this.localToGraphPoint(e,t):this.localToGraphPoint(e)).translate(this.getPageOffset())}localToGraphRect(e,t,i,s){const r=re.create(e,t,i,s);return Lt.transformRectangle(r,this.graph.matrix())}localToClientRect(e,t,i,s){const r=re.create(e,t,i,s);return Lt.transformRectangle(r,this.getClientMatrix())}localToPageRect(e,t,i,s){return("number"==typeof e?this.localToGraphRect(e,t,i,s):this.localToGraphRect(e)).translate(this.getPageOffset())}graphToLocalPoint(e,t){const i=T.create(e,t);return Lt.transformPoint(i,this.graph.matrix().inverse())}clientToLocalPoint(e,t){const i=T.create(e,t);return Lt.transformPoint(i,this.getClientMatrix().inverse())}clientToGraphPoint(e,t){const i=T.create(e,t);return Lt.transformPoint(i,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalPoint(e,t){const s=T.create(e,t).diff(this.getPageOffset());return this.graphToLocalPoint(s)}graphToLocalRect(e,t,i,s){const r=re.create(e,t,i,s);return Lt.transformRectangle(r,this.graph.matrix().inverse())}clientToLocalRect(e,t,i,s){const r=re.create(e,t,i,s);return Lt.transformRectangle(r,this.getClientMatrix().inverse())}clientToGraphRect(e,t,i,s){const r=re.create(e,t,i,s);return Lt.transformRectangle(r,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalRect(e,t,i,s){const r=re.create(e,t,i,s),o=this.getPageOffset();return r.x-=o.x,r.y-=o.y,this.graphToLocalRect(r)}}class _g extends vi{constructor(){super(...arguments),this.highlights={}}init(){this.startListening()}startListening(){this.graph.on("cell:highlight",this.onCellHighlight,this),this.graph.on("cell:unhighlight",this.onCellUnhighlight,this)}stopListening(){this.graph.off("cell:highlight",this.onCellHighlight,this),this.graph.off("cell:unhighlight",this.onCellUnhighlight,this)}onCellHighlight({view:e,magnet:t,options:i={}}){const s=this.resolveHighlighter(i);if(!s)return;const r=this.getHighlighterId(t,s);if(!this.highlights[r]){const o=s.highlighter;o.highlight(e,t,Object.assign({},s.args)),this.highlights[r]={cellView:e,magnet:t,highlighter:o,args:s.args}}}onCellUnhighlight({magnet:e,options:t={}}){const i=this.resolveHighlighter(t);if(!i)return;const s=this.getHighlighterId(e,i);this.unhighlight(s)}resolveHighlighter(e){const t=this.options;let i=e.highlighter;if(null==i){const a=e.type;i=a&&t.highlighting[a]||t.highlighting.default}if(null==i)return null;const s="string"==typeof i?{name:i}:i,r=s.name,o=Ia.registry.get(r);return null==o?Ia.registry.onNotFound(r):(Ia.check(r,o),{name:r,highlighter:o,args:s.args||{}})}getHighlighterId(e,t){return Hb(e),t.name+e.id+JSON.stringify(t.args)}unhighlight(e){const t=this.highlights[e];t&&(t.highlighter.unhighlight(t.cellView,t.magnet,t.args),delete this.highlights[e])}dispose(){Object.keys(this.highlights).forEach(e=>this.unhighlight(e)),this.stopListening()}}!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([_g.dispose()],_g.prototype,"dispose",null);class ZP extends vi{getScroller(){const e=this.graph.getPlugin("scroller");return e&&e.options.enabled?e:null}getContainer(){const e=this.getScroller();return e?e.container.parentElement:this.graph.container.parentElement}getSensorTarget(){const e=this.options.autoResize;if(e)return"boolean"==typeof e?this.getContainer():e}init(){if(this.options.autoResize){const t=this.getSensorTarget();t&&tg.bind(t,()=>{this.resize(t.offsetWidth,t.offsetHeight)})}}resize(e,t){const i=this.getScroller();i?i.resize(e,t):this.graph.transform.resize(e,t)}dispose(){tg.clear(this.graph.container)}}!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([vi.dispose()],ZP.prototype,"dispose",null);class oe extends qn{get container(){return this.options.container}get[Symbol.toStringTag](){return oe.toStringTag}constructor(e){super(),this.installedPlugins=new Set,this.options=M8.get(e),this.css=new hw(this),this.view=new Bo(this),this.defs=new YP(this),this.coord=new XP(this),this.transform=new UP(this),this.highlight=new _g(this),this.grid=new dw(this),this.background=new fw(this),this.options.model?this.model=this.options.model:(this.model=new Fo,this.model.graph=this),this.renderer=new pw(this),this.panning=new GP(this),this.mousewheel=new gw(this),this.virtualRender=new qP(this),this.size=new ZP(this)}isNode(e){return e.isNode()}isEdge(e){return e.isEdge()}resetCells(e,t={}){return this.model.resetCells(e,t),this}clearCells(e={}){return this.model.clear(e),this}toJSON(e={}){return this.model.toJSON(e)}parseJSON(e){return this.model.parseJSON(e)}fromJSON(e,t={}){return this.model.fromJSON(e,t),this}getCellById(e){return this.model.getCell(e)}addNode(e,t={}){return this.model.addNode(e,t)}addNodes(e,t={}){return this.addCell(e.map(i=>Vn.isNode(i)?i:this.createNode(i)),t)}createNode(e){return this.model.createNode(e)}removeNode(e,t={}){return this.model.removeCell(e,t)}addEdge(e,t={}){return this.model.addEdge(e,t)}addEdges(e,t={}){return this.addCell(e.map(i=>Hn.isEdge(i)?i:this.createEdge(i)),t)}removeEdge(e,t={}){return this.model.removeCell(e,t)}createEdge(e){return this.model.createEdge(e)}addCell(e,t={}){return this.model.addCell(e,t),this}removeCell(e,t={}){return this.model.removeCell(e,t)}removeCells(e,t={}){return this.model.removeCells(e,t)}removeConnectedEdges(e,t={}){return this.model.removeConnectedEdges(e,t)}disconnectConnectedEdges(e,t={}){return this.model.disconnectConnectedEdges(e,t),this}hasCell(e){return this.model.has(e)}getCells(){return this.model.getCells()}getCellCount(){return this.model.total()}getNodes(){return this.model.getNodes()}getEdges(){return this.model.getEdges()}getOutgoingEdges(e){return this.model.getOutgoingEdges(e)}getIncomingEdges(e){return this.model.getIncomingEdges(e)}getConnectedEdges(e,t={}){return this.model.getConnectedEdges(e,t)}getRootNodes(){return this.model.getRoots()}getLeafNodes(){return this.model.getLeafs()}isRootNode(e){return this.model.isRoot(e)}isLeafNode(e){return this.model.isLeaf(e)}getNeighbors(e,t={}){return this.model.getNeighbors(e,t)}isNeighbor(e,t,i={}){return this.model.isNeighbor(e,t,i)}getSuccessors(e,t={}){return this.model.getSuccessors(e,t)}isSuccessor(e,t,i={}){return this.model.isSuccessor(e,t,i)}getPredecessors(e,t={}){return this.model.getPredecessors(e,t)}isPredecessor(e,t,i={}){return this.model.isPredecessor(e,t,i)}getCommonAncestor(...e){return this.model.getCommonAncestor(...e)}getSubGraph(e,t={}){return this.model.getSubGraph(e,t)}cloneSubGraph(e,t={}){return this.model.cloneSubGraph(e,t)}cloneCells(e){return this.model.cloneCells(e)}getNodesFromPoint(e,t){return this.model.getNodesFromPoint(e,t)}getNodesInArea(e,t,i,s,r){return this.model.getNodesInArea(e,t,i,s,r)}getNodesUnderNode(e,t={}){return this.model.getNodesUnderNode(e,t)}searchCell(e,t,i={}){return this.model.search(e,t,i),this}getShortestPath(e,t,i={}){return this.model.getShortestPath(e,t,i)}getAllCellsBBox(){return this.model.getAllCellsBBox()}getCellsBBox(e,t={}){return this.model.getCellsBBox(e,t)}startBatch(e,t={}){this.model.startBatch(e,t)}stopBatch(e,t={}){this.model.stopBatch(e,t)}batchUpdate(e,t,i){const s="string"==typeof e?e:"update",r="string"==typeof e?t:e,o="function"==typeof t?i:t;this.startBatch(s,o);const a=r();return this.stopBatch(s,o),a}updateCellId(e,t){return this.model.updateCellId(e,t)}findView(e){return ot.isCell(e)?this.findViewByCell(e):this.findViewByElem(e)}findViews(e){return re.isRectangleLike(e)?this.findViewsInArea(e):T.isPointLike(e)?this.findViewsFromPoint(e):[]}findViewByCell(e){return this.renderer.findViewByCell(e)}findViewByElem(e){return this.renderer.findViewByElem(e)}findViewsFromPoint(e,t){return this.renderer.findViewsFromPoint("number"==typeof e?{x:e,y:t}:e)}findViewsInArea(e,t,i,s,r){return this.renderer.findViewsInArea("number"==typeof e?{x:e,y:t,width:i,height:s}:e,"number"==typeof e?r:t)}matrix(e){return typeof e>"u"?this.transform.getMatrix():(this.transform.setMatrix(e),this)}resize(e,t){const i=this.getPlugin("scroller");return i?i.resize(e,t):this.transform.resize(e,t),this}scale(e,t=e,i=0,s=0){return typeof e>"u"?this.transform.getScale():(this.transform.scale(e,t,i,s),this)}zoom(e,t){const i=this.getPlugin("scroller");if(i){if(typeof e>"u")return i.zoom();i.zoom(e,t)}else{if(typeof e>"u")return this.transform.getZoom();this.transform.zoom(e,t)}return this}zoomTo(e,t={}){const i=this.getPlugin("scroller");return i?i.zoom(e,Object.assign(Object.assign({},t),{absolute:!0})):this.transform.zoom(e,Object.assign(Object.assign({},t),{absolute:!0})),this}zoomToRect(e,t={}){const i=this.getPlugin("scroller");return i?i.zoomToRect(e,t):this.transform.zoomToRect(e,t),this}zoomToFit(e={}){const t=this.getPlugin("scroller");return t?t.zoomToFit(e):this.transform.zoomToFit(e),this}rotate(e,t,i){return typeof e>"u"?this.transform.getRotation():(this.transform.rotate(e,t,i),this)}translate(e,t){return typeof e>"u"?this.transform.getTranslation():(this.transform.translate(e,t),this)}translateBy(e,t){const i=this.translate();return this.translate(i.tx+e,i.ty+t)}getGraphArea(){return this.transform.getGraphArea()}getContentArea(e={}){return this.transform.getContentArea(e)}getContentBBox(e={}){return this.transform.getContentBBox(e)}fitToContent(e,t,i,s){return this.transform.fitToContent(e,t,i,s)}scaleContentToFit(e={}){return this.transform.scaleContentToFit(e),this}center(e){return this.centerPoint(e)}centerPoint(e,t,i){const s=this.getPlugin("scroller");return s?s.centerPoint(e,t,i):this.transform.centerPoint(e,t),this}centerContent(e){const t=this.getPlugin("scroller");return t?t.centerContent(e):this.transform.centerContent(e),this}centerCell(e,t){const i=this.getPlugin("scroller");return i?i.centerCell(e,t):this.transform.centerCell(e),this}positionPoint(e,t,i,s={}){const r=this.getPlugin("scroller");return r?r.positionPoint(e,t,i,s):this.transform.positionPoint(e,t,i),this}positionRect(e,t,i){const s=this.getPlugin("scroller");return s?s.positionRect(e,t,i):this.transform.positionRect(e,t),this}positionCell(e,t,i){const s=this.getPlugin("scroller");return s?s.positionCell(e,t,i):this.transform.positionCell(e,t),this}positionContent(e,t){const i=this.getPlugin("scroller");return i?i.positionContent(e,t):this.transform.positionContent(e,t),this}snapToGrid(e,t){return this.coord.snapToGrid(e,t)}pageToLocal(e,t,i,s){return re.isRectangleLike(e)?this.coord.pageToLocalRect(e):"number"==typeof e&&"number"==typeof t&&"number"==typeof i&&"number"==typeof s?this.coord.pageToLocalRect(e,t,i,s):this.coord.pageToLocalPoint(e,t)}localToPage(e,t,i,s){return re.isRectangleLike(e)?this.coord.localToPageRect(e):"number"==typeof e&&"number"==typeof t&&"number"==typeof i&&"number"==typeof s?this.coord.localToPageRect(e,t,i,s):this.coord.localToPagePoint(e,t)}clientToLocal(e,t,i,s){return re.isRectangleLike(e)?this.coord.clientToLocalRect(e):"number"==typeof e&&"number"==typeof t&&"number"==typeof i&&"number"==typeof s?this.coord.clientToLocalRect(e,t,i,s):this.coord.clientToLocalPoint(e,t)}localToClient(e,t,i,s){return re.isRectangleLike(e)?this.coord.localToClientRect(e):"number"==typeof e&&"number"==typeof t&&"number"==typeof i&&"number"==typeof s?this.coord.localToClientRect(e,t,i,s):this.coord.localToClientPoint(e,t)}localToGraph(e,t,i,s){return re.isRectangleLike(e)?this.coord.localToGraphRect(e):"number"==typeof e&&"number"==typeof t&&"number"==typeof i&&"number"==typeof s?this.coord.localToGraphRect(e,t,i,s):this.coord.localToGraphPoint(e,t)}graphToLocal(e,t,i,s){return re.isRectangleLike(e)?this.coord.graphToLocalRect(e):"number"==typeof e&&"number"==typeof t&&"number"==typeof i&&"number"==typeof s?this.coord.graphToLocalRect(e,t,i,s):this.coord.graphToLocalPoint(e,t)}clientToGraph(e,t,i,s){return re.isRectangleLike(e)?this.coord.clientToGraphRect(e):"number"==typeof e&&"number"==typeof t&&"number"==typeof i&&"number"==typeof s?this.coord.clientToGraphRect(e,t,i,s):this.coord.clientToGraphPoint(e,t)}defineFilter(e){return this.defs.filter(e)}defineGradient(e){return this.defs.gradient(e)}defineMarker(e){return this.defs.marker(e)}getGridSize(){return this.grid.getGridSize()}setGridSize(e){return this.grid.setGridSize(e),this}showGrid(){return this.grid.show(),this}hideGrid(){return this.grid.hide(),this}clearGrid(){return this.grid.clear(),this}drawGrid(e){return this.grid.draw(e),this}updateBackground(){return this.background.update(),this}drawBackground(e,t){const i=this.getPlugin("scroller");return null==i||null!=this.options.background&&t?this.background.draw(e):i.drawBackground(e,t),this}clearBackground(e){const t=this.getPlugin("scroller");return null==t||null!=this.options.background&&e?this.background.clear():t.clearBackground(e),this}enableVirtualRender(){return this.virtualRender.enableVirtualRender(),this}disableVirtualRender(){return this.virtualRender.disableVirtualRender(),this}isMouseWheelEnabled(){return!this.mousewheel.disabled}enableMouseWheel(){return this.mousewheel.enable(),this}disableMouseWheel(){return this.mousewheel.disable(),this}toggleMouseWheel(e){return null==e?this.isMouseWheelEnabled()?this.disableMouseWheel():this.enableMouseWheel():e?this.enableMouseWheel():this.disableMouseWheel(),this}isPannable(){const e=this.getPlugin("scroller");return e?e.isPannable():this.panning.pannable}enablePanning(){const e=this.getPlugin("scroller");return e?e.enablePanning():this.panning.enablePanning(),this}disablePanning(){const e=this.getPlugin("scroller");return e?e.disablePanning():this.panning.disablePanning(),this}togglePanning(e){return null==e?this.isPannable()?this.disablePanning():this.enablePanning():e!==this.isPannable()&&(e?this.enablePanning():this.disablePanning()),this}use(e,...t){return this.installedPlugins.has(e)||(this.installedPlugins.add(e),e.init(this,...t)),this}getPlugin(e){return Array.from(this.installedPlugins).find(t=>t.name===e)}getPlugins(e){return Array.from(this.installedPlugins).filter(t=>e.includes(t.name))}enablePlugins(e){let t=e;Array.isArray(t)||(t=[t]);const i=this.getPlugins(t);return i?.forEach(s=>{var r;null===(r=s?.enable)||void 0===r||r.call(s)}),this}disablePlugins(e){let t=e;Array.isArray(t)||(t=[t]);const i=this.getPlugins(t);return i?.forEach(s=>{var r;null===(r=s?.disable)||void 0===r||r.call(s)}),this}isPluginEnabled(e){var t;const i=this.getPlugin(e);return null===(t=i?.isEnabled)||void 0===t?void 0:t.call(i)}disposePlugins(e){let t=e;Array.isArray(t)||(t=[t]);const i=this.getPlugins(t);return i?.forEach(s=>{s.dispose()}),this}dispose(e=!0){e&&this.clearCells(),this.off(),this.css.dispose(),this.defs.dispose(),this.grid.dispose(),this.coord.dispose(),this.transform.dispose(),this.highlight.dispose(),this.background.dispose(),this.mousewheel.dispose(),this.panning.dispose(),this.view.dispose(),this.renderer.dispose(),this.installedPlugins.forEach(t=>{t.dispose()})}}(function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)})([qn.dispose()],oe.prototype,"dispose",null),function(n){n.View=Bo,n.Renderer=pw,n.MouseWheel=gw,n.DefsManager=YP,n.GridManager=dw,n.CoordManager=XP,n.TransformManager=UP,n.HighlightManager=_g,n.BackgroundManager=fw}(oe||(oe={})),function(n){n.toStringTag=`X6.${n.name}`,n.isGraph=function e(t){if(null==t)return!1;if(t instanceof n)return!0;const i=t[Symbol.toStringTag];return null==i||i===n.toStringTag}}(oe||(oe={})),function(n){n.render=function e(t,i){const s=t instanceof HTMLElement?new n({container:t}):new n(t);return null!=i&&s.fromJSON(i),s}}(oe||(oe={})),function(n){n.registerNode=Vn.registry.register,n.registerEdge=Hn.registry.register,n.registerView=Wi.registry.register,n.registerAttr=ko.registry.register,n.registerGrid=Kc.registry.register,n.registerFilter=D2.registry.register,n.registerNodeTool=P2.registry.register,n.registerEdgeTool=I2.registry.register,n.registerBackground=g8.registry.register,n.registerHighlighter=Ia.registry.register,n.registerPortLayout=P1.registry.register,n.registerPortLabelLayout=T2.registry.register,n.registerMarker=el.registry.register,n.registerRouter=rl.registry.register,n.registerConnector=I1.registry.register,n.registerAnchor=L2.registry.register,n.registerEdgeAnchor=R2.registry.register,n.registerConnectionPoint=N2.registry.register}(oe||(oe={})),function(n){n.unregisterNode=Vn.registry.unregister,n.unregisterEdge=Hn.registry.unregister,n.unregisterView=Wi.registry.unregister,n.unregisterAttr=ko.registry.unregister,n.unregisterGrid=Kc.registry.unregister,n.unregisterFilter=D2.registry.unregister,n.unregisterNodeTool=P2.registry.unregister,n.unregisterEdgeTool=I2.registry.unregister,n.unregisterBackground=g8.registry.unregister,n.unregisterHighlighter=Ia.registry.unregister,n.unregisterPortLayout=P1.registry.unregister,n.unregisterPortLabelLayout=T2.registry.unregister,n.unregisterMarker=el.registry.unregister,n.unregisterRouter=rl.registry.unregister,n.unregisterConnector=I1.registry.unregister,n.unregisterAnchor=L2.registry.unregister,n.unregisterEdgeAnchor=R2.registry.unregister,n.unregisterConnectionPoint=N2.registry.unregister}(oe||(oe={}));class B2 extends Vn{}(function(n){class e extends nr{init(){super.init(),this.cell.on("change:*",({key:i})=>{const s=n.shapeMaps[this.cell.shape];if(s){const{effect:r}=s;(!r||r.includes(i))&&this.renderHTMLComponent()}})}confirmUpdate(i){const s=super.confirmUpdate(i);return this.handleAction(s,e.action,()=>this.renderHTMLComponent())}renderHTMLComponent(){const i=this.selectors&&this.selectors.foContent;if(i){e8(i);const s=n.shapeMaps[this.cell.shape];if(!s)return;let{html:r}=s;"function"==typeof r&&(r=r(this.cell)),r&&("string"==typeof r?i.innerHTML=r:Yc(i,r))}}}var t;n.View=e,(t=e=n.View||(n.View={})).action="html",t.config({bootstrap:[t.action],actions:{html:t.action}}),nr.registry.register("html-view",t,!0)})(B2||(B2={})),function(n){n.config({view:"html-view",markup:[{tagName:"rect",selector:"body"},Object.assign({},Qt.getForeignObjectMarkup()),{tagName:"text",selector:"label"}],attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"}}}),Vn.registry.register("html",n,!0)}(B2||(B2={})),function(n){n.shapeMaps={},n.register=function e(t){const{shape:i,html:s,effect:r,inherit:o}=t,a=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(t,["shape","html","effect","inherit"]);if(!i)throw new Error("should specify shape in config");n.shapeMaps[i]={html:s,effect:r},oe.registerNode(i,Object.assign({inherit:o||"html"},a),!0)}}(B2||(B2={}));let e1e=(()=>{class n{constructor(){var t=this;this.token=Gn.UPDATE_NODE.id,this.execute=se(function*(){const{args:i,hooks:s}=t.ctx.getArgs();yield t.ctx.getHooks().updateNode.call(i,function(){var o=se(function*(a){const{options:c=jo.XFlowNodeSetOptions}=a,l=yield t.ctx.getX6Graph(),h=t.getNodeCell(l,a),f=yield t.getNextNodeConfig(a,h);return t.setNodeConfig(h,f,c),{nodeConfig:f,nodeCell:h}});return function(a){return o.apply(this,arguments)}}(),s)}),this.setNodeConfig=(i,s,r)=>{s.ngArguments&&(s.ngArguments.size={width:s?.width||jo.NODE_WIDTH,height:s?.height||jo.NODE_HEIGHT}),i.setData(s,r),console.log("nodeConfig>>>",s),i.setPosition(s?.x||0,s?.y||0),i.setSize(s?.width||jo.NODE_WIDTH,s?.height||jo.NODE_HEIGHT),i.angle(s?.angle||0,{absolute:!0}),(0,Aa.isBoolean)(s?.visible)&&i.setVisible(s?.visible),i.getAttrByPath("text/text")&&i.setAttrByPath("text/text",s.label),s.attrs&&i.setAttrs(s.attrs),Array.isArray(s.ports)&&i.setPropByPath("ports/items",s.ports,{rewrite:!0,...r})},this.getNextNodeConfig=function(){var i=se(function*(s,r){if(s&&s.setNodeConfig&&s.setNodeConfig.callback){const o=t.getNodeConfig(r);return s.setNodeConfig.callback(o)}return s.nodeConfig});return function(s,r){return i.apply(this,arguments)}}(),this.getNodeConfig=i=>({...i.getData(),...i.getPosition(),...i.getSize()}),this.getNodeCell=(i,s)=>{const{nodeConfig:r,setNodeConfig:o}=s;let a="";return o&&o.node&&"string"==typeof o.node?a=o.node:r&&r.id&&"string"==typeof r.id&&(a=r.id),a?i?.getCellById(a):o&&o.node instanceof Vn?o.node:null}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var jo,mw;!function(n){n.command=Gn.UPDATE_NODE,n.hookKey="updateNode",n.XFlowNodeSetOptions={overwrite:!0},n.NODE_WIDTH=200,n.NODE_HEIGHT=40}(jo||(jo={})),function(n){n.command=Gn.DEL_NODE,n.hookKey="delNode"}(mw||(mw={}));let t1e=(()=>{class n{constructor(){var t=this;this.token=Gn.SELECT_NODE.id,this.execute=se(function*(){const{args:i,hooks:s}=t.ctx.getArgs();return yield t.ctx.getHooks().selectNode.call(i,function(){var o=se(function*(a){const c=yield t.ctx.getX6Graph(),{nodeIds:h,resetSelection:f}=(c.getSelectedCells().map(p=>p.id),a);return f?c.resetSelection(h):c.select(h),{}});return function(a){return o.apply(this,arguments)}}(),s),t})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var vw;!function(n){n.command=Gn.SELECT_NODE,n.hookKey="selectNode"}(vw||(vw={}));let n1e=(()=>{class n{constructor(){var t=this;this.token=Gn.MOVE_NODE.id,this.execute=se(function*(){const{args:i,hooks:s}=t.ctx.getArgs();return t.ctx.getHooks().moveNode.call(i,function(){var o=se(function*(a){const{dx:c=0,dy:l=0,x:h,y:f,duration:g=150}=a.position,v=(yield t.ctx.getX6Graph()).getCellById(a.id);if(v){let y=h,b=f;const{x:C,y:_}=v.position();let M=()=>{v.position(C,_,{silent:!1})};return c||l?(y=c+C,b=l+_,v.translate(c,l,{transition:{duration:g}}),M=()=>v.translate(-c,-l,{transition:{duration:g}})):v.position(y,b,{silent:!1}),{err:null,nextX:y,nextY:b}}return null});return function(a){return o.apply(this,arguments)}}(),s),t})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var yw,kn;!function(n){n.command=Gn.MOVE_NODE,n.hookKey="moveNode"}(yw||(yw={})),function(n){function e(t){return{dispose:t}}n.create=e,n.NULL=e(()=>{})}(kn||(kn={}));class j2{constructor(...e){this.disposables=[],e.forEach(t=>this.push(t))}push(e){const{disposables:t}=this;t.push(e);const i=e.dispose.bind(e),s=kn.create(()=>{const r=t.indexOf(e);-1!==r&&t.splice(r,1)});return e.dispose=()=>{s.dispose(),i()},s}dispose(){if(!this.disposed)for(;!this.disposed;)try{this.disposables.pop().dispose()}catch(e){console.error(e)}}get disposed(){return 0===this.disposables.length}pushAll(e){return e.map(t=>this.push(t))}}let i1e=(()=>{class n{constructor(){var t=this;this.token=Gn.BACK_NODE.id,this.execute=se(function*(){const{args:i,hooks:s}=t.ctx.getArgs(),o=yield t.ctx.getHooks().backNode.call(i,function(){var a=se(function*(c){const l=yield t.ctx.getX6Graph(),{nodeId:h}=c,f=l.getCellById(h);return f?(f.toBack(),t.ctx.addUndo(kn.create(se(function*(){c.commandService.executeCommand(Gn.FRONT_NODE.id,{nodeId:h})})))):console.error(h,"nodeId is not exist"),{}});return function(c){return a.apply(this,arguments)}}(),s);return t.ctx.setResult(o),t})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var bw;!function(n){n.command=Gn.BACK_NODE,n.hookKey="backNode"}(bw||(bw={}));let s1e=(()=>{class n{constructor(){var t=this;this.token=Gn.FRONT_NODE.id,this.execute=se(function*(){const{args:i,hooks:s}=t.ctx.getArgs(),o=yield t.ctx.getHooks().frontNode.call(i,function(){var a=se(function*(c){const l=yield t.ctx.getX6Graph(),{nodeId:h}=c,f=l?.getCellById(h);return f?(f.toFront(),t.ctx.addUndo(kn.create(se(function*(){c.commandService.executeCommand(Gn.BACK_NODE.id,{nodeId:h})})))):console.error(h,"this nodeId is not exist"),{}});return function(c){return a.apply(this,arguments)}}(),s);return t.ctx.setResult(o),t})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ww;!function(n){n.command=Gn.FRONT_NODE,n.hookKey="frontNode"}(ww||(ww={}));const r1e=[Jy,jo,mw,vw,yw,bw,ww];let o1e=(()=>{class n{constructor(){var t=this;this.token=Da.ADD_EDGE.id,this.processEdgeConfig=function(){var i=se(function*(s,r){if(!r.id){const{createIdService:o=Cg.createEdgeId}=s;r.id=yield o(r)}return r.sourcePortId&&!r.sourcePort&&(r.sourcePort=r.sourcePortId,r.targetPort=r.targetPortId),r});return function(s,r){return i.apply(this,arguments)}}(),this.execute=se(function*(){const{args:i,hooks:s}=t.ctx.getArgs();yield t.ctx.getHooks().addEdge.call(i,function(){var o=se(function*(a){const{cellFactory:c,createEdgeService:l,options:f}=a,g=yield t.ctx.getX6Graph();let p=a.edgeConfig;if(l){const C=yield l(a);if("boolean"==typeof C)return{err:"createEdgeService rejected"};p=C}const v=yield t.processEdgeConfig(a,p);let y;const b={...f,isCommand:!0};if(c){const C=yield c(v,t);y=g.addEdge(C,b)}else y=g.addEdge({...v,label:v?.label||v,data:{...v}},b);return{edgeConfig:v,edgeCell:y}});return function(a){return o.apply(this,arguments)}}(),s)})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Cg;!function(n){function e(i){return i.source&&i.source.cell&&"string"==typeof i.source.cell}function t(i){return i.sourceCell&&"string"==typeof i.sourceCell}n.command=Da.ADD_EDGE,n.hookKey="addEdge",n.createEdgeId=i=>"string"==typeof i.source?`${i.source}:${i.sourcePortId}-${i.target}:${i.targetPortId}`:e(i)?`${i.source.cell}:${i.source.port}-${i.target.cell}:${i.target.port}`:t(i)?`${i.sourceCell}:${i.sourcePort}-${i.targetCell}:${i.targetPort}`:"",n.isX6EdgeConfig=e,n.isX6EdgePlainConfig=t}(Cg||(Cg={}));let a1e=(()=>{class n{constructor(){var t=this;this.token=Da.UPDATE_EDGE.id,this.execute=se(function*(){const{args:i,hooks:s}=t.ctx.getArgs();yield t.ctx.getHooks().updateEdge.call(i,function(){var o=se(function*(a){const c=yield t.ctx.getX6Graph(),{updateEdgeService:l,updateEdgeLabelService:h=x8.XFlowUpdateLabelService,options:f=x8.XFlowEdgeSetOptions}=a,g=l?yield l(a):a?.edgeConfig,p=c?.getCellById(g?.id);return p?.setData(g,f),g?.hasOwnProperty("label")&&(yield h(p,g,f)),(0,Aa.isBoolean)(g?.visible)&&p.setVisible(g?.visible),g.attrs&&p.setAttrs(g.attrs),g.vertices&&p.setVertices(g.vertices),g.router&&p.setRouter(g.router),g.connector&&p.setConnector(g.connector),(0,Aa.isObject)(g.source)&&p.setSource(g.source),(0,Aa.isObject)(g.target)&&p.setTarget(g.target),{edgeConfig:g,edgeCell:p}});return function(a){return o.apply(this,arguments)}}(),s)})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var x8;!function(n){n.command=Da.UPDATE_EDGE,n.hookKey="updateEdge",n.XFlowEdgeSetOptions={overwrite:!0},n.XFlowUpdateLabelService=function(){var e=se(function*(t,i,s=n.XFlowEdgeSetOptions){t?.setLabelAt(0,i?.label||i,s)});return function(t,i){return e.apply(this,arguments)}}()}(x8||(x8={}));let KP=(()=>{class n{constructor(){var t=this;this.token=Da.DEL_EDGE.id,this.execute=se(function*(){const{args:i,hooks:s}=t.ctx.getArgs();yield t.ctx.getHooks().delEdge.call(i,function(){var o=se(function*(a){const{edgeConfig:c,x6Edge:l,deleteEdgeService:h,options:g}=a;let p=l;if(!p&&(p=yield t.findEdgeById(c),!p))return console.error($o.ErrEnum.EDGE_NOT_EXIST,c),{err:$o.ErrEnum.EDGE_NOT_EXIST};if(!p||!p.isEdge())return console.error($o.ErrEnum.EDGE_NOT_EXIST,p),{err:$o.ErrEnum.EDGE_NOT_EXIST};if(h&&!(yield h(a)))return{err:$o.ErrEnum.SERVICE_REJECT};try{const y=p.getTargetCell(),b=p.getSourceCell(),C=p.getSourcePortId(),_=p.getTargetPortId(),M=b?b.id:b.source,S=y?y.id:y.target;return p.remove({...g,isCommand:!0}),{err:null,edgeConfig:{source:M,target:S,sourcePortId:C,targetPortId:_},targetCell:y,sourceCell:b,sourcePortId:C,targetPortId:_}}catch(y){return console.error($o.ErrEnum.X6_DELETE_FAILED,y),{err:$o.ErrEnum.X6_DELETE_FAILED}}});return function(a){return o.apply(this,arguments)}}(),s)}),this.findEdgeById=function(){var i=se(function*(s){return(yield t.ctx.getX6Graph()).getCellById(s.id)});return function(s){return i.apply(this,arguments)}}()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $o;!function(n){let e;var t;n.command=Da.DEL_EDGE,n.hookKey="delEdge",(t=e=n.ErrEnum||(n.ErrEnum={})).EDGE_NOT_EXIST="edge is not exist",t.EDGE_INVALID_CELL="this is not a valid cell",t.X6_DELETE_FAILED="x6 throw err when call delete edge",t.SERVICE_REJECT="service reject to delete"}($o||($o={}));const c1e=[Cg,x8,$o];class l1e{constructor(e,t,i,s){var r=this;this.commandService=e,this.graphProvider=t,this.modelService=i,this.hookService=s,this.toDispose=new j2,this.runtimeHooks=[],this.getModelService=()=>this.modelService,this.getCommands=()=>this.commandService,this.getGraphConfig=se(function*(){return r.graphProvider.getGraphOptions()}),this.getX6Graph=se(function*(){if(r.graph)return r.graph;const o=yield r.graphProvider.getGraphInstance();return r.graph=o,o}),this.getHooks=()=>this.hookService.hookProvider(),this.setResult=o=>(this.result=o,this.result),this.getResult=()=>this.result,this.addUndo=o=>{if(!Array.isArray(o))return this.addUndo([o]);this.toDispose.pushAll(o)},this.undo=()=>{this.toDispose.dispose()},this.isUndoable=()=>!this.toDispose.disposed,this.getDisposables=()=>this.toDispose,this.setGlobal=(o,a)=>{this.commandService.setGlobal(o,a)},this.getGlobal=o=>this.commandService.getGlobal(o)}setArgs(e,t=[]){this.args=e,this.runtimeHooks=t}getArgs(){return{args:{...this.args,modelService:this.getModelService(),commandService:this.getCommands(),getX6Graph:this.getX6Graph,getGraphConfig:this.getGraphConfig},hooks:this.runtimeHooks}}}var E8,S8,_w,JP,QP;!function(n){const e="\u8282\u70b9\u64cd\u4f5c";n.ADD_NODE={id:"xflow:add-node",label:"\u6dfb\u52a0\u8282\u70b9",category:e},n.DEL_NODE={id:"xflow:del-node",label:"\u5220\u9664\u8282\u70b9",category:e},n.UPDATE_NODE_PORT={id:"xflow:update-node-port",label:"\u5220\u9664\u8fde\u63a5\u6869",category:e},n.UPDATE_NODE={id:"xflow:update-node",label:"\u66f4\u65b0\u8282\u70b9",category:e},n.HIGHLIGHT_NODE={id:"xflow:highlight-node",label:"\u9ad8\u4eae\u8282\u70b9",category:e},n.SELECT_NODE={id:"xflow:select-node",label:"\u9009\u4e2d\u8282\u70b9",category:e},n.MOVE_NODE={id:"xflow:move-node",label:"Move Node",category:e},n.CENTER_NODE={id:"xflow:center-node",label:"\u5c45\u4e2d\u8282\u70b9",category:e},n.FRONT_NODE={id:"xflow:front-node",label:"\u524d\u7f6e\u8282\u70b9",category:e},n.BACK_NODE={id:"xflow:back-node",label:"\u540e\u7f6e\u8282\u70b9",category:e}}(E8||(E8={})),function(n){const e="\u8fb9\u64cd\u4f5c";n.ADD_EDGE={id:"xflow:add-edge",label:"\u6dfb\u52a0\u8fb9",category:e},n.DEL_EDGE={id:"xflow:del-edge",label:"\u5220\u9664\u8fb9",category:e},n.UPDATE_EDGE={id:"xflow:update-edge",label:"\u66f4\u65b0\u8fb9",category:e},n.HIGHLIGHT_EDGE={id:"xflow:highlight-edge",label:"\u9ad8\u4eae\u8fb9",category:e},n.FRONT_EDGE={id:"xflow:front-edge",label:"\u524d\u7f6e\u53d8",category:e},n.BACK_EDGE={id:"xflow:back-edge",label:"\u540e\u7f6e\u8fb9",category:e}}(S8||(S8={})),function(n){const e="\u753b\u5e03\u64cd\u4f5c";n.LOAD_META={id:"xflow:load-meta",label:"\u83b7\u53d6\u5143\u6570\u636e",category:e},n.LOAD_DATA={id:"xflow:load-data",label:"\u83b7\u53d6\u56fe\u6570\u636e",category:e},n.SAVE_GRAPH_DATA={id:"xflow:save-graph-data",label:"\u4fdd\u5b58",category:e},n.GRAPH_LAYOUT={id:"xflow:layout",label:"\u8ba1\u7b97\u5e03\u5c40",category:e},n.GRAPH_RENDER={id:"xflow:graph-render",label:"\u6e32\u67d3\u753b\u5e03",category:e},n.UNDO_CMD={id:"xflow:undo-cmd",label:"\u64a4\u9500",category:e},n.REDO_CMD={id:"xflow:redo-cmd",label:"\u91cd\u505a",category:e},n.GRAPH_INSTANCE_COMMAND={id:"xflow:graph-instacne-cmd",label:"Graph\u901a\u7528Command",category:e},n.GRAPH_ZOOM={id:"xflow:graph-zoom",label:"\u7f29\u653e\u753b\u5e03",category:e},n.GRAPH_FULLSCREEN={id:"xflow:graph-fullscreen",label:"\u5168\u5c4f",category:e},n.GRAPH_RESIZE={id:"xflow:graph-resize",label:"\u8c03\u6574\u7a97\u53e3\u5927\u5c0f",category:e},n.GRAPH_COPY={id:"xflow:graph-copy-selection",label:"\u590d\u5236",category:e},n.GRAPH_PASTE={id:"xflow:graph-paste-selection",label:"\u7c98\u8d34",category:e},n.GRAPH_TOGGLE_MULTI_SELECT={id:"xflow:graph-toggle-multi-select",label:"\u542f\u7528\u6846\u9009",category:e},n.GRAPH_ADD_TOOL={id:"xflow:add-tool",label:"\u6dfb\u52a0\u5de5\u5177",category:e},n.GRAPH_DEL_TOOL={id:"xflow:del-tool",label:"\u5220\u9664\u5de5\u5177",category:e},n.GRAPH_HISTORY_UNDO={id:"xflow:history-undo",label:"history undo",category:e},n.GRAPH_HISTORY_REDO={id:"xflow:history-redo",label:"history redo",category:e},n.GRAPH_HISTORY_RESET={id:"xflow:history-reset",label:"history reset",category:e},n.GRAPH_HISTORY_TOGGLE={id:"xflow:history-toggle",label:"history toggle",category:e}}(_w||(_w={})),function(n){n.UPDATE_MODEL={id:"xflow:update-model",label:"\u8bbe\u7f6e\u72b6\u6001\u503c",category:"\u72b6\u6001\u64cd\u4f5c"}}(JP||(JP={})),function(n){const e="\u7fa4\u7ec4\u64cd\u4f5c";n.INIT_GROUP={id:"xflow:init-group",label:"\u521d\u59cb\u5316\u7fa4\u7ec4",category:e},n.ADD_GROUP={id:"xflow:add-group",label:"\u65b0\u5efa\u7fa4\u7ec4",category:e},n.DEL_GROUP={id:"xflow:del-group",label:"\u89e3\u6563\u7fa4\u7ec4",category:e},n.COLLAPSE_GROUP={id:"xflow:collapse-group",label:"\u6298\u53e0\u7fa4\u7ec4",category:e}}(QP||(QP={}));class u1e extends Nt{constructor(e,t){super()}schedule(e,t=0){return this}}const Mg={setInterval(n,e,...t){const{delegate:i}=Mg;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Mg;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class Cw extends u1e{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const s=this.id,r=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(r,s,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,i=0){return Mg.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&Mg.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let s,i=!1;try{this.work(e)}catch(r){i=!0,s=r||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Xi(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const eI={now:()=>(eI.delegate||Date).now(),delegate:void 0};class z8{constructor(e,t=z8.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}z8.now=eI.now;class Mw extends z8{constructor(e,t=z8.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const D8=new Mw(Cw),h1e=D8;function xw(n=0,e,t=h1e){let i=-1;return null!=e&&(yh(e)?t=e:i=e),new Dt(s=>{let r=function f1e(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;r<0&&(r=0);let o=0;return t.schedule(function(){s.closed||(s.next(o++),0<=i?this.schedule(void 0,i):s.complete())},r)})}var cl;!function(n){function e(i){return i!==n.EMPTY_VALUE}n.EMPTY_VALUE=Symbol("EMPTY_MODEL_VALUE"),n.isValidValue=e,n.defaultPipeFunction=function t(i){return i.pipe(e4(),Si(s=>e(s)),function g1e(n,e=D8,t){const i=xw(n,e);return function d1e(n,e){return At((t,i)=>{const{leading:s=!0,trailing:r=!1}=e??{};let o=!1,a=null,c=null,l=!1;const h=()=>{c?.unsubscribe(),c=null,r&&(p(),l&&i.complete())},f=()=>{c=null,l&&i.complete()},g=v=>c=zn(n(v)).subscribe(ct(i,h,f)),p=()=>{if(o){o=!1;const v=a;a=null,i.next(v),!l&&g(v)}};t.subscribe(ct(i,v=>{o=!0,a=v,(!c||c.closed)&&(s?p():g(v))},()=>{l=!0,(!(r&&o&&c)||c.closed)&&i.complete()}))})}(()=>i,t)}(17,D8,{leading:!1,trailing:!0}))}}(cl||(cl={}));class Ew{constructor(e=cl.EMPTY_VALUE){this.toDispose=new j2,this.setValue=t=>{this.subject$.next(t)},this.watch=(t,i=cl.defaultPipeFunction)=>{const r=(i?i(this.subject$):this.subject$).subscribe(t);return kn.create(()=>{r.unsubscribe()})},this.dispose=()=>{this.toDispose.dispose()},this.subject$=new Li(e||cl.EMPTY_VALUE),this.toDispose.push(kn.create(()=>{this.subject$.complete(),this.subject$.unsubscribe(),this.subject$=null}))}getValidValue(){var e=this;return se(function*(){return e.getValue()})()}getValue(){return this.subject$.getValue()}hasValidValue(){const e=this.getValue();return cl.isValidValue(e)}}var tI=function(n){return n.normalize=(e=[],t)=>{const i=Array.isArray(e)?e:[e],s=[];return t.forEach(r=>{s.push(r)}),[...s,...i].filter(r=>r&&!!r.handler)},n}(tI||{});class A8{constructor(e){var i,t=this;this.scheduleType=xg.ASYNC_SRRIES,this.hasHook=i=>this.hookMap.has(i),this.getHooks=(i=[],s=!0)=>tI.normalize(i,this.hookMap),this.registerHook=i=>(this.hookMap.has(i.name)&&console.error(`${i.name} is duplicated in hookmap`),this.hookMap.set(i.name,i),{dispose:()=>{this.hookMap.delete(i.name)}}),this.schedulers={[xg.ASYNC_SRRIES]:(i=se(function*(s,r,o=[]){let a=r;for(const c of o)if([0,1].includes(c.handler.length))yield c.handler.call(t,s);else if([2].includes(c.handler.length)&&null!==a){const l=yield c.handler.call(t,s,a);if(null===l){a=null;break}if("function"==typeof l){a=l;continue}}if(a)return yield a.call(t,s)}),function(s,r){return i.apply(this,arguments)}),[xg.ASYNC_PARALLEL]:function(){var i=se(function*(s,r,o=[]){if(o.map(c=>[0,1].includes(c.handler.length)?c.handler.call(t,s):[2].includes(c.handler.length)?c.handler.call(t,s,r):void 0),r)return yield r.call(t)});return function(s,r){return i.apply(this,arguments)}}()},this.hookMap=new Map,e&&e.type&&(this.scheduleType=e.type)}call(e,t=function(){var s=se(function*(r){return r});return function(r){return s.apply(this,arguments)}}(),i=[]){const s=this.getHooks(i,!0);return(0,this.schedulers[this.scheduleType])(e,t,s)}}var xg=function(n){return n.ASYNC_SRRIES="ASYNC_SRRIES",n.ASYNC_PARALLEL="ASYNC_PARALLEL",n}(xg||{});class m1e{constructor(){var e=this;this.CONFIG_TYPE="XFlowHook",this.time=Date.now(),this.setRegisterHook=t=>{this.hookRegisterFunc=t},this.setRegisterHookhub=t=>{this.hookhubRegisterFn=t},this.getConfig=se(function*(){return{CONFIG_TYPE:e.CONFIG_TYPE,hookRegisterFn:e.hookRegisterFunc||nI,hookhubRegisterFn:e.hookhubRegisterFn||nI}})}}const nI=()=>({dispose:()=>{}});let v1e=(()=>{class n{constructor(){var t=this;this.registerHook=function(){var i=se(function*(s){const{hookRegisterFn:r}=yield t.hookConfig.getConfig();r(s)});return function(s){return i.apply(this,arguments)}}(),this.registerHookHub=function(){var i=se(function*(s){const{hookhubRegisterFn:r}=yield t.hookConfig.getConfig();r(s)});return function(s){return i.apply(this,arguments)}}()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),b1e=(()=>{class n{constructor(t){var i=this;this.injector=t,this.registerHook=function(){var s=se(function*(r){const o=new j2,a=[r.x6Events.registerHook({name:Sw.pluginId,handler:(c=se(function*(l){const{events:h}=yield i.injector.get(T8).getGraphOptions();h.forEach(f=>{l.push(f)})}),function(h){return c.apply(this,arguments)})}),r.afterGraphInit.registerHook({name:Sw.pluginId,handler:function(){var c=se(function*(l){const{commandService:h,modelService:f,graph:g}=l,p=yield r.x6Events.call([],function(){var v=se(function*(y){return y.map(b=>{const C=_=>{b.callback(_,h,f,g)};return g.on(b.eventName,C),{dispose:()=>{g.off(b.eventName,C)}}})});return function(y){return v.apply(this,arguments)}}());o.pushAll(p)});return function(h){return c.apply(this,arguments)}}()}),r.afterGraphInit.registerHook({name:"add auto resize event",handler:function(){var c=se(function*(l){const{commandService:h,options:f,graph:g}=l,p=function y1e(n){let e;return()=>{e||(e=requestAnimationFrame(()=>{e=null,n()}))}}(()=>{h.executeCommand(_w.GRAPH_RESIZE.id,{})});window.addEventListener("resize",p);const{rootContainer:v}=f,y=new ResizeObserver(()=>g.resize(v.clientWidth));v&&y.observe(v),o.push(kn.create(()=>{window.removeEventListener("resize",p)}))});return function(h){return c.apply(this,arguments)}}()})];var c;return o.pushAll(a),o});return function(r){return s.apply(this,arguments)}}(),this.registerHookHub=se(function*(){return kn.create(()=>{})})}static#e=this.\u0275fac=function(i){return new(i||n)(F(On))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Sw=function(n){return n.pluginId="base-graph-events",n}(Sw||{});let Eg=(()=>{class n{constructor(t,i,s){this.runtimeHookContribution=t,this.graphEventHookContribution=i,this.commandContributionService=s,this.hookProvider=()=>this.hooks,this.registerHook=o=>o(this.hooks),this.registerHookHub=(o,a)=>(this.hooks[o]=a,{dispose:()=>{delete this.hooks[o]}}),this.hooks={graphOptions:new A8,afterGraphInit:new A8,beforeGraphDestroy:new A8,x6Events:new A8};const r=new m1e;this.hookConfig=r,this.runtimeHookContribution.hookConfig=r}onStart(){this.runtimeHookContribution.registerHookHub(this),this.graphEventHookContribution.registerHookHub(),this.commandContributionService.registerHookHub(this),this.runtimeHookContribution.registerHook(this.hooks),this.graphEventHookContribution.registerHook(this.hooks),this.commandContributionService.registerHook(this.hooks)}setHookConfig(t){this.hookConfig=t,this.runtimeHookContribution.hookConfig=t}static#e=this.\u0275fac=function(i){return new(i||n)(F(v1e),F(b1e),F(sI))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class w1e{constructor(){this.isResolved=!1,this.isRejected=!1,this.promise=new Promise((e,t)=>{this.resolve=(...i)=>{this.isResolved=!0,e(...i)},this.reject=(...i)=>{this.isRejected=!0,t(...i)}})}}const _1e=()=>kn.create(()=>{});class C1e{constructor(){this.CONFIG_TYPE="MODEL_SERVICE_CONFIG",this.registerModelFn=_1e,this.registerModel=e=>{this.registerModelFn=e}}getConfig(){return Promise.resolve({CONFIG_TYPE:this.CONFIG_TYPE,modelRegisterFunc:this.registerModelFn})}}let M1e=(()=>{class n{constructor(t){this.command=t}registerModel(t){var s,i=this;t.registerModel({id:Uy.id,getInitialValue:()=>this.command.isRedoable,watchChange:(s=se(function*(r){return i.command.watchChange(()=>{r.setValue(i.command.isRedoable)})}),function(o){return s.apply(this,arguments)})}),t.registerModel({id:Gy.id,getInitialValue:()=>this.command.isUndoable,watchChange:function(){var s=se(function*(r){return i.command.watchChange(()=>{r.setValue(i.command.isUndoable)})});return function(o){return s.apply(this,arguments)}}()}),t.registerModel({id:qy.id,modelFactory:()=>this.command.Globals})}static#e=this.\u0275fac=function(i){return new(i||n)(F(zg))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),x1e=(()=>{class n{constructor(t){var i=this;this.injector=t,this.getGraphInstance=se(function*(){const s=i.injector.get(T8);return{graph:yield s.getGraphInstance(),config:yield s.getGraphOptions()}})}registerModel(t){var s,i=this;t.registerModel({id:Ly.id,getInitialValue:()=>({flowId:"-1"}),watchChange:(s=se(function*(r){return kn.create(()=>{r.setValue({flowId:"-1"})})}),function(o){return s.apply(this,arguments)})}),t.registerModel({id:Ry.id,getInitialValue:()=>({isEnable:!1}),watchChange:function(){var s=se(function*(r){return kn.create(()=>{r.setValue({isEnable:!1})})});return function(o){return s.apply(this,arguments)}}()}),t.registerModel({id:M5.id,getInitialValue:()=>!1,watchChange:function(){var s=se(function*(r,o){const a=function(){var c=se(function*(){const l=!!document.fullscreenElement;(yield M5.getModel(o)).setValue(l)});return function(){return c.apply(this,arguments)}}();return document.addEventListener("fullscreenchange",a,!1),kn.create(()=>{document.removeEventListener("fullscreenchange",a),r.setValue(!1)})});return function(o,a){return s.apply(this,arguments)}}()}),t.registerModel({id:C1.id,getInitialValue:()=>[],watchChange:function(){var s=se(function*(r){const{graph:o}=yield i.getGraphInstance();console.log("graph>>>",o);const a=c=>{const{selected:l}=c;r.setValue(l),console.log("selection:changed>>>",c)};return o.on("selection:changed",a),kn.create(()=>o.off("selection:changed",a))});return function(o){return s.apply(this,arguments)}}()}),t.registerModel({id:ky.id,watchChange:function(){var s=se(function*(r,o){return(yield C1.getModel(o)).watch((c=[])=>{r.setValue([...c].pop()||null)})});return function(o,a){return s.apply(this,arguments)}}()}),t.registerModel({id:Qu.id,getInitialValue:()=>[],watchChange:function(){var s=se(function*(r,o){return(yield C1.getModel(o)).watch((c=[])=>{const l=c.filter(h=>h.isNode());r.setValue(l)})});return function(o,a){return s.apply(this,arguments)}}()}),t.registerModel({id:Fy.id,watchChange:function(){var s=se(function*(r,o){return(yield Qu.getModel(o)).watch(l=>{console.log("nodes>>>",l),r.setValue([...l].pop()||null)})});return function(o,a){return s.apply(this,arguments)}}()}),t.registerModel({id:Ny.id,watchChange:function(){var s=se(function*(r,o){return(yield Qu.getModel(o)).watch(l=>{r.setValue(l.length>0)})});return function(o,a){return s.apply(this,arguments)}}()}),t.registerModel({id:Vy.id,getInitialValue:()=>!1,watchChange:function(){var s=se(function*(r,o){return(yield C1.getModel(o)).watch(l=>{const h=l.every(f=>f&&!0===f.getProp("isGroup"));r.setValue(h)})});return function(o,a){return s.apply(this,arguments)}}()}),t.registerModel({id:By.id,getInitialValue:()=>[],watchChange:function(){var s=se(function*(r,o){return(yield Qu.getModel(o)).watch(l=>{const h=l.filter(f=>f&&!0===f.getProp("isGroup"));r.setValue(h)})});return function(o,a){return s.apply(this,arguments)}}()}),t.registerModel({id:Hy.id,getInitialValue:()=>!1,watchChange:function(){var s=se(function*(r,o){return(yield C1.getModel(o)).watch(l=>{const h=l.every(g=>{const p=!(g&&g.getProp("isGroup")),v=!(g&&g.getProp("group"));return p&&v});r.setValue(l.length>0&&h)})});return function(o,a){return s.apply(this,arguments)}}()}),t.registerModel({id:$y.id,getInitialValue:()=>({zoomFactor:-1}),watchChange:function(){var s=se(function*(r){const{graph:o}=yield i.getGraphInstance(),a=c=>{const l=o.zoom();r.setValue({...c,zoomFactor:l})};return o.on("scale",a),kn.create(()=>o.off("scale",a))});return function(o){return s.apply(this,arguments)}}()}),t.registerModel({id:jy.id,watchChange:function(){var s=se(function*(r){const{graph:o,config:a}=yield i.getGraphInstance(),c=h=>f=>{const{x:g,y:p}=f,v=o.localToClient({x:g,y:p}),y=a.rootContainer.getBoundingClientRect();r.setValue({type:h,anchor:{x:v.x-(y?.x||0),y:v.y-(y?.y||0)},data:f,cell:f.cell})},l=new j2;return o.on("node:contextmenu",c("node")),o.on("edge:contextmenu",c("edge")),o.on("blank:contextmenu",c("blank")),l.pushAll([kn.create(()=>{o.off("node:contextmenu",c("node"))}),kn.create(()=>{o.off("edge:contextmenu",c("edge"))}),kn.create(()=>{o.off("blank:contextmenu",c("blank"))})]),l});return function(o){return s.apply(this,arguments)}}()}),t.registerModel({id:Yy.id,getInitialValue:()=>!1,watchChange:function(){var s=se(function*(r){const a=(yield i.getGraphInstance()).graph,c=()=>{const l=a.history.canRedo();r.setValue(l)};return a.history&&a.history.on("change",c),kn.create(()=>a.history.off("change",c))});return function(o){return s.apply(this,arguments)}}()}),t.registerModel({id:Wy.id,getInitialValue:()=>!1,watchChange:function(){var s=se(function*(r){const a=(yield i.getGraphInstance()).graph,c=()=>{const l=a.history.canUndo();r.setValue(l)};return a.history&&a.history.on("change",c),kn.create(()=>a.history.off("change",c))});return function(o){return s.apply(this,arguments)}}()})}static#e=this.\u0275fac=function(i){return new(i||n)(F(On))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sg=(()=>{class n{constructor(t,i){var s=this;this.commandModelContribution=t,this.graphModelContribution=i,this.deferredModelMap=new Map,this.toDispose=new j2,this.findDeferredModel=r=>this.deferredModelMap.get(r),this.registerRuntimeModel=se(function*(){const{modelRegisterFunc:r}=yield s.modelConfig.getConfig(),{graph:o}=yield s.graphModelContribution.getGraphInstance();r&&r(s,o)}),this.ensureModel=r=>{const o=this.deferredModelMap.get(r);if(o)return o;const a=new w1e;return this.deferredModelMap.set(r,a),this.toDispose.push(kn.create(()=>this.deferredModelMap.delete(r))),a},this.modelConfig=new C1e}onStart(){this.commandModelContribution.registerModel(this),this.graphModelContribution.registerModel(this),this.registerRuntimeModel()}onStop(){this.toDispose.dispose()}registerModel(t){const{id:i,getInitialValue:s,modelFactory:r}=t,o=new j2,a=this.ensureModel(i);if(a.isResolved)return console.error(t,"model has been registerd"),null;const c=s?s():cl.EMPTY_VALUE,l=r?r():new Ew(c);return cl.isValidValue(c)&&a.resolve(l),t.watchChange&&t.watchChange(l,this).then(h=>{a.isResolved||a.resolve(l),this.toDispose.pushAll([h,o]),o.push(h)}),o}awaitModel(t){return this.ensureModel(t).promise}setModelConfig(t){this.modelConfig=t}static#e=this.\u0275fac=function(i){return new(i||n)(F(M1e),F(x1e))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),T8=(()=>{class n{constructor(t,i,s){this.commandService=t,this.hookService=i,this.modelService=s}getGraphInstance(){var t=this;return se(function*(){return t.graphInstance=yield t.groupManager.getGraph(t.graphConfig.graphId,t.hookService,t.commandService,t.modelService),Promise.resolve(t.graphInstance)})()}getGraphOptions(){return Promise.resolve(this.graphConfig)}setGraphInstance(t){this.graphInstance=t}setGraphOptions(t){this.groupManager=new V1e,this.graphConfig=t,this.groupManager.setConfig(this.graphConfig)}static#e=this.\u0275fac=function(i){return new(i||n)(F(zg),F(Eg),F(Sg))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const iI=[...kW,...r1e,...c1e],E1e=()=>new A8;let sI=(()=>{class n{constructor(t){this.injector=t,this.registerHook=function(){var i=se(function*(s){var r;s.x6Events.registerHook({name:"bind group node move event",handler:(r=se(function*(o){const a={eventName:"node:moving",callback:(c=se(function*({node:l}){l.prop("isGroup")&&l.prop("originPosition",l.getPosition())}),function(h){return c.apply(this,arguments)})};var c;o.push(a)}),function(a){return r.apply(this,arguments)})})});return function(s){return i.apply(this,arguments)}}(),this.registerHookHub=function(){var i=se(function*(s){iI.forEach(({hookKey:r,createHook:o=E1e})=>{s.registerHookHub(r,o())})});return function(s){return i.apply(this,arguments)}}()}registerGraphCommands(t){iI.forEach(({command:i})=>{t.registerCommand(i,{createCommand:(s,r,o)=>{const a=this.injector.get(T8),c=this.injector.get(Sg),l=this.injector.get(Eg),h=this.injector.get(zg),f=new l1e(h,a,c,l);f.setArgs(r,o);const g=t.commandMap.get(s);return g.ctx=f,g}})})}static#e=this.\u0275fac=function(i){return new(i||n)(F(On))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zg=(()=>{class n{constructor(t,i){this.injector=t,this.commandContributionService=i,this.redoStack=[],this.undoStack=[],this.factories=new Map,this.commandMap=new Map,this.commands=new Map,this.cmdChangeEvent=new Ew(null),this.Globals=new Ew(new Map),this.setGlobal=(s,r)=>{this.Globals.setValue(o=>{o.set(s,r)})},this.getGlobal=s=>this.Globals.getValue().get(s),this.registerXFlowCommand()}onStart(){this.commandContributionService.registerGraphCommands(this)}executeCommand(t,i,s){var r=this;return se(function*(){const o=r.getFactory(t);return o&&o.createCommand(t,i,s).execute(),Promise.resolve(void 0)})()}redoCommand(){return Promise.resolve(void 0)}undoCommand(){return Promise.resolve(void 0)}get watchChange(){return this.cmdChangeEvent.watch}registerXFlowCommand(){const t=[HW,NW,VW,FW,e1e,t1e,n1e,i1e,s1e,o1e,a1e,KP,KP];for(const i of t){const s=this.injector.get(i);this.commandMap.set(s.token,s)}}registerCommand(t,i){this.factories.has(t.id)?console.warn(`A command ${t.id} is already register`):(this.doRegisterCommand(t),this.registerFactory(t.id,i))}registerFactory(t,i){this.hasFactory(t)&&console.error("cannot register command:",t),this.factories.set(t,i)}doRegisterCommand(t){this.commands.set(t.id,t)}hasFactory(t){return!!this.factories.get(t)}getFactory(t){return this.factories.get(t)}get isRedoable(){return this.redoStack.length>0}get isUndoable(){return this.undoStack.length>0}static#e=this.\u0275fac=function(i){return new(i||n)(F(On),F(sI))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rI=(()=>{class n{constructor(t,i,s,r){var o=this;this.graphProvider=t,this.commandService=i,this.modelService=s,this.hookService=r,this.getGraphData=se(function*(){const c=(yield o.graphProvider.getGraphInstance()).getCells();return B1e(c)}),this.getAllNodes=se(function*(){return(yield o.graphProvider.getGraphInstance()).getNodes()}),this.getNodeById=function(){var a=se(function*(c){return(yield o.graphProvider.getGraphInstance()).getCellById(c)});return function(c){return a.apply(this,arguments)}}(),this.getAllEdges=se(function*(){return(yield o.graphProvider.getGraphInstance()).getEdges()}),this.getEdgeById=function(){var a=se(function*(c){return(yield o.graphProvider.getGraphInstance()).getCellById(c)});return function(c){return a.apply(this,arguments)}}()}start(){this.commandService.onStart(),this.hookService.onStart(),setTimeout(()=>this.modelService.onStart(),1e3)}getGraphInstance(){return this.graphProvider.getGraphInstance()}getGraphConfig(){return this.graphProvider.getGraphOptions()}static#e=this.\u0275fac=function(i){return new(i||n)(F(T8),F(zg),F(Sg),F(Eg))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ri;class oI extends St{get model(){return this.graph.model}get view(){return this.graph.renderer.findViewByCell(this.node)}get containerClassName(){return this.prefixClassName("widget-transform")}get resizeClassName(){return`${this.containerClassName}-resize`}get rotateClassName(){return`${this.containerClassName}-rotate`}constructor(e,t,i){super(),this.node=t,this.graph=i,this.options=Object.assign(Object.assign({},ri.defaultOptions),e),this.render(),this.startListening()}startListening(){this.delegateEvents({[`mousedown .${this.resizeClassName}`]:"startResizing",[`touchstart .${this.resizeClassName}`]:"startResizing",[`mousedown .${this.rotateClassName}`]:"startRotating",[`touchstart .${this.rotateClassName}`]:"startRotating"}),this.model.on("*",this.update,this),this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this),this.node.on("removed",this.remove,this),this.model.on("reseted",this.remove,this),this.view.on("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.on("cell:knob:mouseup",this.onKnobMouseUp,this)}stopListening(){this.undelegateEvents(),this.model.off("*",this.update,this),this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this),this.node.off("removed",this.remove,this),this.model.off("reseted",this.remove,this),this.view.off("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.off("cell:knob:mouseup",this.onKnobMouseUp,this)}renderHandles(){this.container=document.createElement("div");const e=document.createElement("div");pt(e,"draggable","false");const t=e.cloneNode(!0);Ie(t,this.rotateClassName);const i=ri.POSITIONS.map(s=>{const r=e.cloneNode(!0);return Ie(r,this.resizeClassName),pt(r,"data-position",s),r});this.empty(),Yc(this.container,[...i,t])}render(){return this.renderHandles(),this.view&&this.view.addClass(ri.NODE_CLS),Ie(this.container,this.containerClassName),Q0(this.container,"no-orth-resize",this.options.preserveAspectRatio||!this.options.orthogonalResizing),Q0(this.container,"no-resize",!this.options.resizable),Q0(this.container,"no-rotate",!this.options.rotatable),this.options.className&&Ie(this.container,this.options.className),this.graph.container.appendChild(this.container),this.update()}update(){const e=this.graph.matrix(),t=this.node.getBBox();t.x*=e.a,t.x+=e.e,t.y*=e.d,t.y+=e.f,t.width*=e.a,t.height*=e.d;const i=mt.normalize(this.node.getAngle());return ii(this.container,{transform:0!==i?`rotate(${i}deg)`:"",width:t.width,height:t.height,left:t.x,top:t.y}),this.updateResizerDirections(),this}remove(){return this.view&&this.view.removeClass(ri.NODE_CLS),super.remove()}onKnobMouseDown(){this.startHandle()}onKnobMouseUp(){this.stopHandle()}updateResizerDirections(){const e=mt.normalize(this.node.getAngle()),t=Math.floor(e*(ri.DIRECTIONS.length/360));if(t!==this.prevShift){const i=ri.DIRECTIONS.slice(t).concat(ri.DIRECTIONS.slice(0,t)),s=o=>`${this.containerClassName}-cursor-${o}`;this.container.querySelectorAll(`.${this.resizeClassName}`).forEach((o,a)=>{Wn(o,ri.DIRECTIONS.map(c=>s(c)).join(" ")),Ie(o,s(i[a]))}),this.prevShift=t}}getTrueDirection(e){const t=mt.normalize(this.node.getAngle());let i=ri.POSITIONS.indexOf(e);return i+=Math.floor(t*(ri.POSITIONS.length/360)),i%=ri.POSITIONS.length,ri.POSITIONS[i]}toValidResizeDirection(e){return{top:"top-left",bottom:"bottom-right",left:"bottom-left",right:"top-right"}[e]||e}startResizing(e){e.stopPropagation(),this.model.startBatch("resize",{cid:this.cid});const t=pt(e.target,"data-position");this.prepareResizing(e,t),this.startAction(e)}prepareResizing(e,t){const i=this.getTrueDirection(t);let s=0,r=0;t.split("-").forEach(l=>{s={left:-1,right:1}[l]||s,r={top:-1,bottom:1}[l]||r});const o=this.toValidResizeDirection(t),a={"top-right":"bottomLeft","top-left":"bottomRight","bottom-left":"topRight","bottom-right":"topLeft"}[o],c=mt.normalize(this.node.getAngle());this.setEventData(e,{selector:a,direction:o,trueDirection:i,relativeDirection:t,angle:c,resizeX:s,resizeY:r,action:"resizing"})}startRotating(e){e.stopPropagation(),this.model.startBatch("rotate",{cid:this.cid});const t=this.node.getBBox().getCenter(),i=this.normalizeEvent(e),s=this.graph.snapToGrid(i.clientX,i.clientY);this.setEventData(e,{center:t,action:"rotating",angle:mt.normalize(this.node.getAngle()),start:T.create(s).theta(t)}),this.startAction(e)}onMouseMove(e){const t=this.graph.findViewByCell(this.node);let i=this.getEventData(e);if(i.action){const s=this.normalizeEvent(e);let r=s.clientX,o=s.clientY;const a=this.graph.getPlugin("scroller"),c=this.options.restrictedResizing;if(!0===c||"number"==typeof c){const p=!0===c?0:c,v=a?Math.max(p,8):p,y=this.graph.container.getBoundingClientRect();r=Is(r,y.left+v,y.right-v),o=Is(o,y.top+v,y.bottom-v)}else this.options.autoScrollOnResizing&&a&&a.autoScroll(r,o);const l=this.graph.snapToGrid(r,o),h=this.graph.getGridSize(),f=this.node,g=this.options;if("resizing"===i.action){i.resized||(t&&(t.addClass("node-resizing"),this.notify("node:resize",e,t)),i.resized=!0);const p=f.getBBox(),v=T.create(l).rotate(i.angle,p.getCenter()).diff(p[i.selector]);let y=i.resizeX?v.x*i.resizeX:p.width,b=i.resizeY?v.y*i.resizeY:p.height;const C=y,_=b;if(y=wt.snapToGrid(y,h),b=wt.snapToGrid(b,h),y=Math.max(y,g.minWidth||h),b=Math.max(b,g.minHeight||h),y=Math.min(y,g.maxWidth||1/0),b=Math.min(b,g.maxHeight||1/0),g.preserveAspectRatio){const S=p.width*b/p.height;y<S?b=p.height*y/p.width:y=S}const M=i.relativeDirection;if(g.allowReverse&&(C<=-y||_<=-b)){let S;"left"===M?C<=-y&&(S="right"):"right"===M?C<=-y&&(S="left"):"top"===M?_<=-b&&(S="bottom"):"bottom"===M?_<=-b&&(S="top"):"top-left"===M?C<=-y&&_<=-b?S="bottom-right":C<=-y?S="top-right":_<=-b&&(S="bottom-left"):"top-right"===M?C<=-y&&_<=-b?S="bottom-left":C<=-y?S="top-left":_<=-b&&(S="bottom-right"):"bottom-left"===M?C<=-y&&_<=-b?S="top-right":C<=-y?S="bottom-right":_<=-b&&(S="top-left"):"bottom-right"===M&&(C<=-y&&_<=-b?S="top-left":C<=-y?S="bottom-left":_<=-b&&(S="top-right"));const D=S;this.stopHandle();const I=this.container.querySelector(`.${this.resizeClassName}[data-position="${D}"]`);this.startHandle(I),this.prepareResizing(e,D),this.onMouseMove(e)}p.width===y&&p.height===b||(f.resize(y,b,{ui:!0,direction:i.direction,relativeDirection:i.relativeDirection,trueDirection:i.trueDirection,minWidth:g.minWidth,minHeight:g.minHeight,maxWidth:g.maxWidth,maxHeight:g.maxHeight,preserveAspectRatio:!0===g.preserveAspectRatio}),this.notify("node:resizing",e,t))}else if("rotating"===i.action){i.rotated||(t&&(t.addClass("node-rotating"),this.notify("node:rotate",e,t)),i.rotated=!0);const p=f.getAngle(),v=i.start-T.create(l).theta(i.center);let y=i.angle+v;g.rotateGrid&&(y=wt.snapToGrid(y,g.rotateGrid)),y=mt.normalize(y),p!==y&&(f.rotate(y,{absolute:!0}),this.notify("node:rotating",e,t))}}}onMouseUp(e){const t=this.getEventData(e);t.action&&(this.stopAction(e),this.model.stopBatch("resizing"===t.action?"resize":"rotate",{cid:this.cid}))}startHandle(e){if(this.handle=e||null,Ie(this.container,`${this.containerClassName}-active`),e){Ie(e,`${this.containerClassName}-active-handle`);const t=e.getAttribute("data-position");if(t){const i=ri.DIRECTIONS[ri.POSITIONS.indexOf(t)];Ie(this.container,`${this.containerClassName}-cursor-${i}`)}}}stopHandle(){if(Wn(this.container,`${this.containerClassName}-active`),this.handle){Wn(this.handle,`${this.containerClassName}-active-handle`);const e=this.handle.getAttribute("data-position");if(e){const t=ri.DIRECTIONS[ri.POSITIONS.indexOf(e)];Wn(this.container,`${this.containerClassName}-cursor-${t}`)}this.handle=null}}startAction(e){this.startHandle(e.target),this.graph.view.undelegateEvents(),this.delegateDocumentEvents(ri.documentEvents,e.data)}stopAction(e){this.stopHandle(),this.undelegateDocumentEvents(),this.graph.view.delegateEvents();const t=this.graph.findViewByCell(this.node),i=this.getEventData(e);t&&(t.removeClass(`node-${i.action}`),"resizing"===i.action&&i.resized?this.notify("node:resized",e,t):"rotating"===i.action&&i.rotated&&this.notify("node:rotated",e,t))}notify(e,t,i,s={}){if(i){const r=i.graph,o=r.view.normalizeEvent(t),a=r.snapToGrid(o.clientX,o.clientY);this.trigger(e,Object.assign({e:o,view:i,node:i.cell,cell:i.cell,x:a.x,y:a.y},s))}}dispose(){this.stopListening(),this.remove(),this.off()}}!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([St.dispose()],oI.prototype,"dispose",null),function(n){n.NODE_CLS="has-widget-transform",n.DIRECTIONS=["nw","n","ne","e","se","s","sw","w"],n.POSITIONS=["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"],n.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp"},n.defaultOptions={minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,rotateGrid:15,rotatable:!0,preserveAspectRatio:!1,orthogonalResizing:!0,restrictedResizing:!1,autoScrollOnResizing:!0,allowReverse:!0}}(ri||(ri={})),oe.prototype.createTransformWidget=function(n){const e=this.getPlugin("transform");return e&&e.createWidget(n),this},oe.prototype.clearTransformWidgets=function(){const n=this.getPlugin("transform");return n&&n.clearWidgets(),this};class L1 extends qn{constructor(e={}){super(),this.name="transform",this.widgets=new Map,this.disabled=!1,this.options=e,d8(this.name,".x6-widget-transform {\n  position: absolute;\n  box-sizing: content-box !important;\n  margin: -5px 0 0 -5px;\n  padding: 4px;\n  border: 1px dashed #000;\n  border-radius: 5px;\n  user-select: none;\n  pointer-events: none;\n}\n.x6-widget-transform > div {\n  position: absolute;\n  box-sizing: border-box;\n  background-color: #fff;\n  border: 1px solid #000;\n  transition: background-color 0.2s;\n  pointer-events: auto;\n  -webkit-user-drag: none;\n  user-drag: none;\n  /* stylelint-disable-line */\n}\n.x6-widget-transform > div:hover {\n  background-color: #d3d3d3;\n}\n.x6-widget-transform-cursor-n {\n  cursor: n-resize;\n}\n.x6-widget-transform-cursor-s {\n  cursor: s-resize;\n}\n.x6-widget-transform-cursor-e {\n  cursor: e-resize;\n}\n.x6-widget-transform-cursor-w {\n  cursor: w-resize;\n}\n.x6-widget-transform-cursor-ne {\n  cursor: ne-resize;\n}\n.x6-widget-transform-cursor-nw {\n  cursor: nw-resize;\n}\n.x6-widget-transform-cursor-se {\n  cursor: se-resize;\n}\n.x6-widget-transform-cursor-sw {\n  cursor: sw-resize;\n}\n.x6-widget-transform-resize {\n  width: 10px;\n  height: 10px;\n  border-radius: 6px;\n}\n.x6-widget-transform-resize[data-position='top-left'] {\n  top: -5px;\n  left: -5px;\n}\n.x6-widget-transform-resize[data-position='top-right'] {\n  top: -5px;\n  right: -5px;\n}\n.x6-widget-transform-resize[data-position='bottom-left'] {\n  bottom: -5px;\n  left: -5px;\n}\n.x6-widget-transform-resize[data-position='bottom-right'] {\n  right: -5px;\n  bottom: -5px;\n}\n.x6-widget-transform-resize[data-position='top'] {\n  top: -5px;\n  left: 50%;\n  margin-left: -5px;\n}\n.x6-widget-transform-resize[data-position='bottom'] {\n  bottom: -5px;\n  left: 50%;\n  margin-left: -5px;\n}\n.x6-widget-transform-resize[data-position='left'] {\n  top: 50%;\n  left: -5px;\n  margin-top: -5px;\n}\n.x6-widget-transform-resize[data-position='right'] {\n  top: 50%;\n  right: -5px;\n  margin-top: -5px;\n}\n.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='top'],\n.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='bottom'],\n.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='left'],\n.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='right'] {\n  display: none;\n}\n.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='bottom'],\n.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='left'],\n.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='right'],\n.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='top'] {\n  display: none;\n}\n.x6-widget-transform.no-resize .x6-widget-transform-resize {\n  display: none;\n}\n.x6-widget-transform-rotate {\n  top: -20px;\n  left: -20px;\n  width: 12px;\n  height: 12px;\n  border-radius: 6px;\n  cursor: crosshair;\n}\n.x6-widget-transform.no-rotate .x6-widget-transform-rotate {\n  display: none;\n}\n.x6-widget-transform-active {\n  border-color: transparent;\n  pointer-events: all;\n}\n.x6-widget-transform-active > div {\n  display: none;\n}\n.x6-widget-transform-active > .x6-widget-transform-active-handle {\n  display: block;\n  background-color: #808080;\n}\n")}init(e){this.graph=e,!this.disabled&&this.startListening()}startListening(){this.graph.on("node:click",this.onNodeClick,this),this.graph.on("blank:mousedown",this.onBlankMouseDown,this)}stopListening(){this.graph.off("node:click",this.onNodeClick,this),this.graph.off("blank:mousedown",this.onBlankMouseDown,this)}enable(){this.disabled&&(this.disabled=!1,this.startListening())}disable(){this.disabled||(this.disabled=!0,this.stopListening())}isEnabled(){return!this.disabled}createWidget(e){this.clearWidgets();const t=this.createTransform(e);t&&(this.widgets.set(e,t),t.on("*",(i,s)=>{this.trigger(i,s),this.graph.trigger(i,s)}))}onNodeClick({node:e}){this.createWidget(e)}onBlankMouseDown(){this.clearWidgets()}createTransform(e){const t=this.getTransformOptions(e);return t.resizable||t.rotatable?new oI(t,e,this.graph):null}getTransformOptions(e){this.options.resizing||(this.options.resizing={enabled:!1}),this.options.rotating||(this.options.rotating={enabled:!1}),"boolean"==typeof this.options.resizing&&(this.options.resizing={enabled:this.options.resizing}),"boolean"==typeof this.options.rotating&&(this.options.rotating={enabled:this.options.rotating});const t=L1.parseOptionGroup(this.graph,e,this.options.resizing),i=L1.parseOptionGroup(this.graph,e,this.options.rotating);return{resizable:!!t.enabled,minWidth:t.minWidth||0,maxWidth:t.maxWidth||Number.MAX_SAFE_INTEGER,minHeight:t.minHeight||0,maxHeight:t.maxHeight||Number.MAX_SAFE_INTEGER,orthogonalResizing:"boolean"!=typeof t.orthogonal||t.orthogonal,restrictedResizing:!!t.restrict,autoScrollOnResizing:"boolean"!=typeof t.autoScroll||t.autoScroll,preserveAspectRatio:!!t.preserveAspectRatio,allowReverse:"boolean"!=typeof t.allowReverse||t.allowReverse,rotatable:!!i.enabled,rotateGrid:i.grid||15}}clearWidgets(){this.widgets.forEach((e,t)=>{this.graph.getCellById(t.id)&&e.dispose()}),this.widgets.clear()}dispose(){this.clearWidgets(),this.stopListening(),this.off(),f8(this.name)}}(function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)})([qn.dispose()],L1.prototype,"dispose",null),function(n){n.parseOptionGroup=function e(t,i,s){const r={};return Object.keys(s||{}).forEach(o=>{const a=s[o];r[o]="function"==typeof a?a.call(t,i):a}),r}}(L1||(L1={}));class aI extends St{get model(){return this.graph.model}get containerClassName(){return this.prefixClassName("widget-snapline")}get verticalClassName(){return`${this.containerClassName}-vertical`}get horizontalClassName(){return`${this.containerClassName}-horizontal`}constructor(e){super();const{graph:t}=e,i=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(e,["graph"]);this.graph=t,this.options=Object.assign({},i),this.offset={x:0,y:0},this.render(),this.disabled||this.startListening()}get disabled(){return!0!==this.options.enabled}enable(){this.disabled&&(this.options.enabled=!0,this.startListening())}disable(){this.disabled||(this.options.enabled=!1,this.stopListening())}setFilter(e){this.options.filter=e}render(){const e=this.containerWrapper=new Le("svg"),t=this.horizontal=new Le("line"),i=this.vertical=new Le("line");e.addClass(this.containerClassName),t.addClass(this.horizontalClassName),i.addClass(this.verticalClassName),e.setAttribute("width","100%"),e.setAttribute("height","100%"),t.setAttribute("display","none"),i.setAttribute("display","none"),e.append([t,i]),this.options.className&&e.addClass(this.options.className),this.container=this.containerWrapper.node}startListening(){this.stopListening(),this.graph.on("node:mousedown",this.captureCursorOffset,this),this.graph.on("node:mousemove",this.snapOnMoving,this),this.model.on("batch:stop",this.onBatchStop,this),this.delegateDocumentEvents({mouseup:"hide",touchend:"hide"})}stopListening(){this.graph.off("node:mousedown",this.captureCursorOffset,this),this.graph.off("node:mousemove",this.snapOnMoving,this),this.model.off("batch:stop",this.onBatchStop,this),this.undelegateDocumentEvents()}onBatchStop({name:e,data:t}){"resize"===e&&this.snapOnResizing(t.cell,t)}captureCursorOffset({view:e,x:t,y:i}){const s=e.getDelegatedView();if(s&&this.isNodeMovable(s)){const r=e.cell.getPosition();this.offset={x:t-r.x,y:i-r.y}}}isNodeMovable(e){return e&&e.cell.isNode()&&e.can("nodeMovable")}getRestrictArea(e){const t=this.graph.options.translating.restrict,i="function"==typeof t?xe(t,this.graph,e):t;return"number"==typeof i?this.graph.transform.getGraphArea().inflate(i):!0===i?this.graph.transform.getGraphArea():i||null}snapOnResizing(e,t){if(this.options.resizing&&!t.snapped&&t.ui&&t.direction&&t.trueDirection){const i=this.graph.renderer.findViewByCell(e);if(i&&i.cell.isNode()){const s=e.getBBox(),r=s.bbox(e.getAngle()),o=r.getTopLeft(),a=r.getBottomRight(),c=mt.normalize(e.getAngle()),l=this.options.tolerance||0;let h,f,g,p,v,y;const b={vertical:0,horizontal:0},C=t.direction,_=t.trueDirection,M=t.relativeDirection;b.vertical=-1!==_.indexOf("right")?a.x:o.x,b.horizontal=-1!==_.indexOf("bottom")?a.y:o.y,this.model.getNodes().some(te=>{if(this.isIgnored(e,te))return!1;const Ce=te.getBBox().bbox(te.getAngle()),De=Ce.getTopLeft(),H=Ce.getBottomRight(),V={vertical:[De.x,H.x],horizontal:[De.y,H.y]},ne={};return Object.keys(V).forEach(ue=>{const be=ue,Qe=V[be].map(vt=>({position:vt,distance:Math.abs(vt-b[be])})).filter(vt=>vt.distance<=l);ne[be]=bT(Qe,vt=>vt.distance)}),null==h&&ne.vertical.length>0&&(h=ne.vertical[0].position,f=Math.min(r.y,Ce.y),g=Math.max(a.y,H.y)-f),null==p&&ne.horizontal.length>0&&(p=ne.horizontal[0].position,v=Math.min(r.x,Ce.x),y=Math.max(a.x,H.x)-v),null!=h&&null!=p}),this.hide();let S=0,D=0;(null!=p||null!=h)&&(null!=h&&(S=-1!==_.indexOf("right")?h-a.x:o.x-h),null!=p&&(D=-1!==_.indexOf("bottom")?p-a.y:o.y-p));let I=0,k=0;if(c%90==0)90===c||270===c?(I=D,k=S):(I=S,k=D);else{const te=c>=0&&c<90?1:c>=90&&c<180?4:c>=180&&c<270?3:2;null!=p&&null!=h&&(S<D?(D=0,p=void 0):(S=0,h=void 0));const Ce=mt.toRad(c%90);S&&(I=3===te?S/Math.cos(Ce):S/Math.sin(Ce)),D&&(k=3===te?D/Math.cos(Ce):D/Math.sin(Ce));const De=1===te||3===te;switch(M){case"top":case"bottom":k=D?D/(De?Math.cos(Ce):Math.sin(Ce)):S/(De?Math.sin(Ce):Math.cos(Ce));break;case"left":case"right":I=S?S/(De?Math.cos(Ce):Math.sin(Ce)):D/(De?Math.sin(Ce):Math.cos(Ce))}}switch(M){case"top":case"bottom":I=0;break;case"left":case"right":k=0}const Y=this.graph.getGridSize();let j=Math.max(s.width+I,Y),Q=Math.max(s.height+k,Y);t.minWidth&&t.minWidth>Y&&(j=Math.max(j,t.minWidth)),t.minHeight&&t.minHeight>Y&&(Q=Math.max(Q,t.minHeight)),t.maxWidth&&(j=Math.min(j,t.maxWidth)),t.maxHeight&&(Q=Math.min(Q,t.maxHeight)),t.preserveAspectRatio&&(k<I?Q=j*(s.height/s.width):j=Q*(s.width/s.height)),(j!==s.width||Q!==s.height)&&(e.resize(j,Q,{direction:C,relativeDirection:M,trueDirection:_,snapped:!0,snaplines:this.cid,restrict:this.getRestrictArea(i)}),g&&(g+=Q-s.height),y&&(y+=j-s.width));const Z=e.getBBox().bbox(c);h&&Math.abs(Z.x-h)>1&&Math.abs(Z.width+Z.x-h)>1&&(h=void 0),p&&Math.abs(Z.y-p)>1&&Math.abs(Z.height+Z.y-p)>1&&(p=void 0),this.update({verticalLeft:h,verticalTop:f,verticalHeight:g,horizontalTop:p,horizontalLeft:v,horizontalWidth:y})}}}snapOnMoving({view:e,e:t,x:i,y:s}){const r=e.getEventData(t).delegatedView||e;if(!this.isNodeMovable(r))return;const o=r.cell,a=o.getSize(),c=o.getPosition(),l=new re(i-this.offset.x,s-this.offset.y,a.width,a.height),h=o.getAngle(),f=l.getCenter(),g=l.bbox(h),p=g.getTopLeft(),v=g.getBottomRight(),y=this.options.tolerance||0;let b,C,_,M,S,D,I=0,k=0;if(this.model.getNodes().some(Y=>{if(this.isIgnored(o,Y))return!1;const j=Y.getBBox().bbox(Y.getAngle()),Q=j.getCenter(),Z=j.getTopLeft(),te=j.getBottomRight();return null==b&&(Math.abs(Q.x-f.x)<y?(b=Q.x,I=.5):Math.abs(Z.x-p.x)<y?(b=Z.x,I=0):Math.abs(Z.x-v.x)<y?(b=Z.x,I=1):Math.abs(te.x-v.x)<y?(b=te.x,I=1):Math.abs(te.x-p.x)<y&&(b=te.x),null!=b&&(C=Math.min(g.y,j.y),_=Math.max(v.y,te.y)-C)),null==M&&(Math.abs(Q.y-f.y)<y?(M=Q.y,k=.5):Math.abs(Z.y-p.y)<y?M=Z.y:Math.abs(Z.y-v.y)<y?(M=Z.y,k=1):Math.abs(te.y-v.y)<y?(M=te.y,k=1):Math.abs(te.y-p.y)<y&&(M=te.y),null!=M&&(S=Math.min(g.x,j.x),D=Math.max(v.x,te.x)-S)),null!=b&&null!=M}),this.hide(),null!=M||null!=b){null!=M&&(g.y=M-k*g.height),null!=b&&(g.x=b-I*g.width);const Y=g.getCenter(),Z=Y.x-l.width/2-c.x,te=Y.y-l.height/2-c.y;(0!==Z||0!==te)&&(o.translate(Z,te,{snapped:!0,restrict:this.getRestrictArea(r)}),D&&(D+=Z),_&&(_+=te)),this.update({verticalLeft:b,verticalTop:C,verticalHeight:_,horizontalTop:M,horizontalLeft:S,horizontalWidth:D})}}isIgnored(e,t){return t.id===e.id||t.isDescendantOf(e)||!this.filter(t)}filter(e){const t=this.options.filter;return Array.isArray(t)?t.some(i=>"string"==typeof i?e.shape===i:e.id===i.id):"function"!=typeof t||xe(t,this.graph,e)}update(e){if(e.horizontalTop){const t=this.graph.localToGraph(new T(e.horizontalLeft,e.horizontalTop)),i=this.graph.localToGraph(new T(e.horizontalLeft+e.horizontalWidth,e.horizontalTop));this.horizontal.setAttributes({x1:this.options.sharp?`${t.x}`:"0",y1:`${t.y}`,x2:this.options.sharp?`${i.x}`:"100%",y2:`${i.y}`,display:"inherit"})}else this.horizontal.setAttribute("display","none");if(e.verticalLeft){const t=this.graph.localToGraph(new T(e.verticalLeft,e.verticalTop)),i=this.graph.localToGraph(new T(e.verticalLeft,e.verticalTop+e.verticalHeight));this.vertical.setAttributes({x1:`${t.x}`,y1:this.options.sharp?`${t.y}`:"0",x2:`${i.x}`,y2:this.options.sharp?`${i.y}`:"100%",display:"inherit"})}else this.vertical.setAttribute("display","none");this.show()}resetTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)}show(){return this.resetTimer(),null==this.container.parentNode&&this.graph.container.appendChild(this.container),this}hide(){this.resetTimer(),this.vertical.setAttribute("display","none"),this.horizontal.setAttribute("display","none");const e=this.options.clean,t="number"==typeof e?e:!1!==e?3e3:0;return t>0&&(this.timer=window.setTimeout(()=>{null!==this.container.parentNode&&this.unmount()},t)),this}onRemove(){this.stopListening(),this.hide()}dispose(){this.remove()}}!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([St.dispose()],aI.prototype,"dispose",null),oe.prototype.isSnaplineEnabled=function(){const n=this.getPlugin("snapline");return!!n&&n.isEnabled()},oe.prototype.enableSnapline=function(){const n=this.getPlugin("snapline");return n&&n.enable(),this},oe.prototype.disableSnapline=function(){const n=this.getPlugin("snapline");return n&&n.disable(),this},oe.prototype.toggleSnapline=function(){const n=this.getPlugin("snapline");return n&&n.toggleEnabled(),this},oe.prototype.hideSnapline=function(){const n=this.getPlugin("snapline");return n&&n.hide(),this},oe.prototype.setSnaplineFilter=function(n){const e=this.getPlugin("snapline");return e&&e.setFilter(n),this},oe.prototype.isSnaplineOnResizingEnabled=function(){const n=this.getPlugin("snapline");return!!n&&n.isOnResizingEnabled()},oe.prototype.enableSnaplineOnResizing=function(){const n=this.getPlugin("snapline");return n&&n.enableOnResizing(),this},oe.prototype.disableSnaplineOnResizing=function(){const n=this.getPlugin("snapline");return n&&n.disableOnResizing(),this},oe.prototype.toggleSnaplineOnResizing=function(n){const e=this.getPlugin("snapline");return e&&e.toggleOnResizing(n),this},oe.prototype.isSharpSnapline=function(){const n=this.getPlugin("snapline");return!!n&&n.isSharp()},oe.prototype.enableSharpSnapline=function(){const n=this.getPlugin("snapline");return n&&n.enableSharp(),this},oe.prototype.disableSharpSnapline=function(){const n=this.getPlugin("snapline");return n&&n.disableSharp(),this},oe.prototype.toggleSharpSnapline=function(n){const e=this.getPlugin("snapline");return e&&e.toggleSharp(n),this},oe.prototype.getSnaplineTolerance=function(){const n=this.getPlugin("snapline");if(n)return n.getTolerance()},oe.prototype.setSnaplineTolerance=function(n){const e=this.getPlugin("snapline");return e&&e.setTolerance(n),this};class cI extends Io{constructor(e={}){super(),this.name="snapline",this.options=Object.assign({enabled:!0,tolerance:10},e),d8(this.name,".x6-widget-snapline {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  pointer-events: none;\n}\n.x6-widget-snapline-vertical,\n.x6-widget-snapline-horizontal {\n  stroke: #2ecc71;\n  stroke-width: 1px;\n}\n")}init(e){this.snaplineImpl=new aI(Object.assign(Object.assign({},this.options),{graph:e}))}isEnabled(){return!this.snaplineImpl.disabled}enable(){this.snaplineImpl.enable()}disable(){this.snaplineImpl.disable()}toggleEnabled(e){if(null==e)return this.isEnabled()?this.disable():this.enable(),this;e!==this.isEnabled()&&(e?this.enable():this.disable())}hide(){return this.snaplineImpl.hide(),this}setFilter(e){return this.snaplineImpl.setFilter(e),this}isOnResizingEnabled(){return!0===this.snaplineImpl.options.resizing}enableOnResizing(){return this.snaplineImpl.options.resizing=!0,this}disableOnResizing(){return this.snaplineImpl.options.resizing=!1,this}toggleOnResizing(e){return null!=e?e!==this.isOnResizingEnabled()&&(e?this.enableOnResizing():this.disableOnResizing()):this.isOnResizingEnabled()?this.disableOnResizing():this.enableOnResizing(),this}isSharp(){return!0===this.snaplineImpl.options.sharp}enableSharp(){return this.snaplineImpl.options.sharp=!0,this}disableSharp(){return this.snaplineImpl.options.sharp=!1,this}toggleSharp(e){return null!=e?e!==this.isSharp()&&(e?this.enableSharp():this.disableSharp()):this.isSharp()?this.disableSharp():this.enableSharp(),this}getTolerance(){return this.snaplineImpl.options.tolerance}setTolerance(e){return this.snaplineImpl.options.tolerance=e,this}captureCursorOffset(e){this.snaplineImpl.captureCursorOffset(e)}snapOnMoving(e){this.snaplineImpl.snapOnMoving(e)}dispose(){this.snaplineImpl.dispose(),f8(this.name)}}(function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)})([Io.dispose()],cI.prototype,"dispose",null),oe.prototype.isHistoryEnabled=function(){const n=this.getPlugin("history");return!!n&&n.isEnabled()},oe.prototype.enableHistory=function(){const n=this.getPlugin("history");return n&&n.enable(),this},oe.prototype.disableHistory=function(){const n=this.getPlugin("history");return n&&n.disable(),this},oe.prototype.toggleHistory=function(n){const e=this.getPlugin("history");return e&&e.toggleEnabled(n),this},oe.prototype.undo=function(n){const e=this.getPlugin("history");return e&&e.undo(n),this},oe.prototype.redo=function(n){const e=this.getPlugin("history");return e&&e.redo(n),this},oe.prototype.undoAndCancel=function(n){const e=this.getPlugin("history");return e&&e.cancel(n),this},oe.prototype.canUndo=function(){const n=this.getPlugin("history");return!!n&&n.canUndo()},oe.prototype.canRedo=function(){const n=this.getPlugin("history");return!!n&&n.canRedo()},oe.prototype.cleanHistory=function(n){const e=this.getPlugin("history");return e&&e.clean(n),this},oe.prototype.getHistoryStackSize=function(){return this.getPlugin("history").getSize()},oe.prototype.getUndoStackSize=function(){return this.getPlugin("history").getUndoSize()},oe.prototype.getRedoStackSize=function(){return this.getPlugin("history").getRedoSize()},oe.prototype.getUndoRemainSize=function(){return this.getPlugin("history").getUndoRemainSize()};var vn,Ls,lI=function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r};class $2 extends qn{constructor(e={}){super(),this.name="history",this.batchCommands=null,this.batchLevel=0,this.lastBatchIndex=-1,this.freezed=!1,this.stackSize=0,this.handlers=[];const{stackSize:t=0}=e;this.stackSize=t,this.options=vn.getOptions(e),this.validator=new $2.Validator({history:this,cancelInvalid:this.options.cancelInvalid})}init(e){this.graph=e,this.model=this.graph.model,this.clean(),this.startListening()}isEnabled(){return!this.disabled}enable(){this.disabled&&(this.options.enabled=!0)}disable(){this.disabled||(this.options.enabled=!1)}toggleEnabled(e){return null!=e?e!==this.isEnabled()&&(e?this.enable():this.disable()):this.isEnabled()?this.disable():this.enable(),this}undo(e={}){if(!this.disabled){const t=this.undoStack.pop();t&&(this.revertCommand(t,e),this.redoStack.push(t),this.notify("undo",t,e))}return this}redo(e={}){if(!this.disabled){const t=this.redoStack.pop();t&&(this.applyCommand(t,e),this.undoStackPush(t),this.notify("redo",t,e))}return this}cancel(e={}){if(!this.disabled){const t=this.undoStack.pop();t&&(this.revertCommand(t,e),this.redoStack=[],this.notify("cancel",t,e))}return this}getSize(){return this.stackSize}getUndoRemainSize(){return this.stackSize-this.undoStack.length}getUndoSize(){return this.undoStack.length}getRedoSize(){return this.redoStack.length}canUndo(){return!this.disabled&&this.undoStack.length>0}canRedo(){return!this.disabled&&this.redoStack.length>0}clean(e={}){return this.undoStack=[],this.redoStack=[],this.notify("clean",null,e),this}get disabled(){return!0!==this.options.enabled}validate(e,...t){return this.validator.validate(e,...t),this}startListening(){this.model.on("batch:start",this.initBatchCommand,this),this.model.on("batch:stop",this.storeBatchCommand,this),this.options.eventNames&&this.options.eventNames.forEach((e,t)=>{this.handlers[t]=this.addCommand.bind(this,e),this.model.on(e,this.handlers[t])}),this.validator.on("invalid",e=>this.trigger("invalid",e))}stopListening(){this.model.off("batch:start",this.initBatchCommand,this),this.model.off("batch:stop",this.storeBatchCommand,this),this.options.eventNames&&(this.options.eventNames.forEach((e,t)=>{this.model.off(e,this.handlers[t])}),this.handlers.length=0),this.validator.off("invalid")}createCommand(e){return{batch:!!e&&e.batch,data:{}}}revertCommand(e,t){this.freezed=!0;const i=Array.isArray(e)?vn.sortBatchCommands(e):[e];for(let s=i.length-1;s>=0;s-=1){const r=i[s],o=Object.assign(Object.assign({},t),fA(r.options,this.options.revertOptionsList||[]));this.executeCommand(r,!0,o)}this.freezed=!1}applyCommand(e,t){this.freezed=!0;const i=Array.isArray(e)?vn.sortBatchCommands(e):[e];for(let s=0;s<i.length;s+=1){const r=i[s],o=Object.assign(Object.assign({},t),fA(r.options,this.options.applyOptionsList||[]));this.executeCommand(r,!1,o)}this.freezed=!1}executeCommand(e,t,i){const s=this.model,r=s.getCell(e.data.id),o=e.event;if(vn.isAddEvent(o)&&t||vn.isRemoveEvent(o)&&!t)r&&r.remove(i);else if(vn.isAddEvent(o)&&!t||vn.isRemoveEvent(o)&&t){const a=e.data;a.node?s.addNode(a.props,i):a.edge&&s.addEdge(a.props,i)}else if(vn.isChangeEvent(o)){const a=e.data,c=a.key;if(c&&r){const l=t?a.prev[c]:a.next[c];"attrs"===a.key&&this.ensureUndefinedAttrs(l,t?a.next[c]:a.prev[c])&&(i.dirty=!0),r.prop(c,l,i)}}else{const a=this.options.executeCommand;a&&xe(a,this,e,t,i)}}addCommand(e,t){if(this.freezed||this.disabled)return;const i=t,s=i.options||{};if(s.dryrun||vn.isAddEvent(e)&&this.options.ignoreAdd||vn.isRemoveEvent(e)&&this.options.ignoreRemove||vn.isChangeEvent(e)&&this.options.ignoreChange)return;const r=this.options.beforeAddCommand;if(null!=r&&!1===xe(r,this,e,t))return;"cell:change:*"===e&&(e=`cell:change:${i.key}`);const o=i.cell,a=Fo.isModel(o);let c;if(this.batchCommands){if(c=this.batchCommands[Math.max(this.lastBatchIndex,0)],this.lastBatchIndex>=0&&(a&&!c.modelChange||c.data.id!==o.id||c.event!==e)){const g=this.batchCommands.findIndex(p=>(a&&p.modelChange||p.data.id===o.id)&&p.event===e);g<0||vn.isAddEvent(e)||vn.isRemoveEvent(e)?c=this.createCommand({batch:!0}):(c=this.batchCommands[g],this.batchCommands.splice(g,1)),this.batchCommands.push(c),this.lastBatchIndex=this.batchCommands.length-1}}else c=this.createCommand({batch:!1});if(vn.isAddEvent(e)||vn.isRemoveEvent(e)){const h=c.data;return c.event=e,c.options=s,h.id=o.id,h.props=an(o.toJSON()),o.isEdge()?h.edge=!0:o.isNode()&&(h.node=!0),this.push(c,s)}if(vn.isChangeEvent(e)){const h=t.key,f=c.data;return(!c.batch||!c.event)&&(c.event=e,c.options=s,f.key=h,null==f.prev&&(f.prev={}),f.prev[h]=an(o.previous(h)),a?c.modelChange=!0:f.id=o.id),null==f.next&&(f.next={}),f.next[h]=an(o.prop(h)),this.push(c,s)}const l=this.options.afterAddCommand;l&&xe(l,this,e,t,c),this.push(c,s)}initBatchCommand(e){this.freezed||(this.batchCommands?this.batchLevel+=1:(this.batchCommands=[this.createCommand({batch:!0})],this.batchLevel=0,this.lastBatchIndex=-1))}storeBatchCommand(e){if(!this.freezed)if(this.batchCommands&&this.batchLevel<=0){const t=this.filterBatchCommand(this.batchCommands);t.length>0&&(this.redoStack=[],this.undoStackPush(t),this.consolidateCommands(),this.notify("add",t,e)),this.batchCommands=null,this.lastBatchIndex=-1,this.batchLevel=0}else this.batchCommands&&this.batchLevel>0&&(this.batchLevel-=1)}filterBatchCommand(e){let t=e.slice();const i=[];for(;t.length>0;){const s=t.shift(),r=s.event,o=s.data.id;if(null!=r&&(null!=o||s.modelChange)){if(vn.isAddEvent(r)){const a=t.findIndex(c=>vn.isRemoveEvent(c.event)&&c.data.id===o);if(a>=0){t=t.filter((c,l)=>a<l||c.data.id!==o);continue}}else if(vn.isRemoveEvent(r)){const a=t.findIndex(c=>vn.isAddEvent(c.event)&&c.data.id===o);if(a>=0){t.splice(a,1);continue}}else if(vn.isChangeEvent(r)){const a=s.data;if(No(a.prev,a.next))continue}i.push(s)}}return i}notify(e,t,i){const s=null==t?null:Array.isArray(t)?t:[t];this.emit(e,{cmds:s,options:i}),this.graph.trigger(`history:${e}`,{cmds:s,options:i}),this.emit("change",{cmds:s,options:i}),this.graph.trigger("history:change",{cmds:s,options:i})}push(e,t){this.redoStack=[],e.batch?(this.lastBatchIndex=Math.max(this.lastBatchIndex,0),this.emit("batch",{cmd:e,options:t})):(this.undoStackPush(e),this.consolidateCommands(),this.notify("add",e,t))}consolidateCommands(){var e;const t=this.undoStack[this.undoStack.length-1],i=this.undoStack[this.undoStack.length-2];if(!Array.isArray(t))return;const s=new Set(t.map(o=>o.event));if(!(2===s.size&&s.has("cell:change:parent")&&s.has("cell:change:children")&&t.every(o=>{var a;return o.batch&&(null===(a=o.options)||void 0===a?void 0:a.ui)})&&Array.isArray(i)&&1===i.length))return;const r=i[0];"cell:change:position"!==r.event||null===(e=r.options)||void 0===e||!e.ui||(i.push(...t),this.undoStack.pop())}undoStackPush(e){0!==this.stackSize?(this.undoStack.length>=this.stackSize&&this.undoStack.shift(),this.undoStack.push(e)):this.undoStack.push(e)}ensureUndefinedAttrs(e,t){let i=!1;return null!==e&&null!==t&&"object"==typeof e&&"object"==typeof t&&Object.keys(t).forEach(s=>{void 0===e[s]&&void 0!==t[s]?(e[s]=void 0,i=!0):"object"==typeof e[s]&&"object"==typeof t[s]&&(i=this.ensureUndefinedAttrs(e[s],t[s]))}),i}dispose(){this.validator.dispose(),this.clean(),this.stopListening(),this.off()}}lI([qn.dispose()],$2.prototype,"dispose",null),function(n){class e extends qn{constructor(i){super(),this.map={},this.command=i.history,this.cancelInvalid=!1!==i.cancelInvalid,this.command.on("add",this.onCommandAdded,this)}onCommandAdded({cmds:i}){return Array.isArray(i)?i.every(s=>this.isValidCommand(s)):this.isValidCommand(i)}isValidCommand(i){if(i.options&&!1===i.options.validation)return!0;let r=null;return(i.event&&this.map[i.event]||[]).forEach(o=>{let a=0;const c=l=>{const h=o[a];a+=1;try{if(!h)return void(r=l);h(l,i,c)}catch(f){c(f)}};c(r)}),!r||(this.cancelInvalid&&this.command.cancel(),this.emit("invalid",{err:r}),!1)}validate(i,...s){const r=Array.isArray(i)?i:i.split(/\s+/);return s.forEach(o=>{if("function"!=typeof o)throw new Error(`${r.join(" ")} requires callback functions.`)}),r.forEach(o=>{null==this.map[o]&&(this.map[o]=[]),this.map[o].push(s)}),this}dispose(){this.command.off("add",this.onCommandAdded,this)}}lI([qn.dispose()],e.prototype,"dispose",null),n.Validator=e}($2||($2={})),function(n){n.isAddEvent=function e(o){return"cell:added"===o},n.isRemoveEvent=function t(o){return"cell:removed"===o},n.isChangeEvent=function i(o){return null!=o&&o.startsWith("cell:change:")},n.getOptions=function s(o){const a=["cell:added","cell:removed","cell:change:*"],c=["batch:start","batch:stop"],l=o.eventNames?o.eventNames.filter(h=>!(n.isChangeEvent(h)||a.includes(h)||c.includes(h))):a;return Object.assign(Object.assign({enabled:!0},o),{eventNames:l,applyOptionsList:o.applyOptionsList||["propertyPath"],revertOptionsList:o.revertOptionsList||["propertyPath"]})},n.sortBatchCommands=function r(o){const a=[];for(let c=0,l=o.length;c<l;c+=1){const h=o[c];let f=null;if(n.isAddEvent(h.event)){const g=h.data.id;for(let p=0;p<c;p+=1)if(o[p].data.id===g){f=p;break}}null!==f?a.splice(f,0,h):a.push(h)}return a}}(vn||(vn={}));class uI extends St{get graph(){return this.options.graph}get boxClassName(){return this.prefixClassName(Ls.classNames.box)}get $boxes(){return function Pre(n,e){const t=[];let i=n.firstChild;for(;i;i=i.nextSibling)1===i.nodeType&&(!e||w2(i,e))&&t.push(i);return t}(this.container,this.boxClassName)}get handleOptions(){return this.options}constructor(e){super(),this.options=e,this.options.model&&(this.options.collection=this.options.model.collection),this.options.collection?this.collection=this.options.collection:(this.collection=new $P([],{comparator:Ls.depthComparator}),this.options.collection=this.collection),this.boxCount=0,this.createContainer(),this.startListening()}startListening(){const e=this.graph,t=this.collection;this.delegateEvents({[`mousedown .${this.boxClassName}`]:"onSelectionBoxMouseDown",[`touchstart .${this.boxClassName}`]:"onSelectionBoxMouseDown"},!0),e.on("scale",this.onGraphTransformed,this),e.on("translate",this.onGraphTransformed,this),e.model.on("updated",this.onModelUpdated,this),t.on("added",this.onCellAdded,this),t.on("removed",this.onCellRemoved,this),t.on("reseted",this.onReseted,this),t.on("updated",this.onCollectionUpdated,this),t.on("node:change:position",this.onNodePositionChanged,this),t.on("cell:changed",this.onCellChanged,this)}stopListening(){const e=this.graph,t=this.collection;this.undelegateEvents(),e.off("scale",this.onGraphTransformed,this),e.off("translate",this.onGraphTransformed,this),e.model.off("updated",this.onModelUpdated,this),t.off("added",this.onCellAdded,this),t.off("removed",this.onCellRemoved,this),t.off("reseted",this.onReseted,this),t.off("updated",this.onCollectionUpdated,this),t.off("node:change:position",this.onNodePositionChanged,this),t.off("cell:changed",this.onCellChanged,this)}onRemove(){this.stopListening()}onGraphTransformed(){this.updateSelectionBoxes()}onCellChanged(){this.updateSelectionBoxes()}onNodePositionChanged({node:e,options:t}){const{showNodeSelectionBox:i,pointerEvents:s}=this.options,{ui:r,selection:o,translateBy:a,snapped:c}=t;if(!(!0===i&&"none"!==s||this.translating||o)&&(r&&a&&e.id===a||c)){this.translating=!0;const f=e.position(),g=e.previous("position"),p=f.x-g.x,v=f.y-g.y;(0!==p||0!==v)&&this.translateSelectedNodes(p,v,e,t),this.translating=!1}}onModelUpdated({removed:e}){e&&e.length&&this.unselect(e)}isEmpty(){return this.length<=0}isSelected(e){return this.collection.has(e)}get length(){return this.collection.length}get cells(){return this.collection.toArray()}select(e,t={}){t.dryrun=!0;const i=this.filter(Array.isArray(e)?e:[e]);return this.collection.add(i,t),this}unselect(e,t={}){return t.dryrun=!0,this.collection.remove(Array.isArray(e)?e:[e],t),this}reset(e,t={}){if(e){if(t.batch){const l=this.filter(Array.isArray(e)?e:[e]);return this.collection.reset(l,Object.assign(Object.assign({},t),{ui:!0})),this}const i=this.cells,s=this.filter(Array.isArray(e)?e:[e]),r={},o={};i.forEach(l=>r[l.id]=l),s.forEach(l=>o[l.id]=l);const a=[],c=[];return s.forEach(l=>{r[l.id]||a.push(l)}),i.forEach(l=>{o[l.id]||c.push(l)}),c.length&&this.unselect(c,Object.assign(Object.assign({},t),{ui:!0})),a.length&&this.select(a,Object.assign(Object.assign({},t),{ui:!0})),0===c.length&&0===a.length&&this.updateContainer(),this}return this.clean(t)}clean(e={}){return this.length&&(!1===e.batch?this.unselect(this.cells,e):this.collection.reset([],Object.assign(Object.assign({},e),{ui:!0}))),this}setFilter(e){this.options.filter=e}setContent(e){this.options.content=e}startSelecting(e){let t,i;e=this.normalizeEvent(e),this.clean();const s=this.graph.container;if(null!=e.offsetX&&null!=e.offsetY&&s.contains(e.target))t=e.offsetX,i=e.offsetY;else{const r=l8(s);t=e.clientX-r.left+window.pageXOffset+s.scrollLeft,i=e.clientY-r.top+window.pageYOffset+s.scrollTop}ii(this.container,{top:i,left:t,width:1,height:1}),this.setEventData(e,{action:"selecting",clientX:e.clientX,clientY:e.clientY,offsetX:t,offsetY:i,scrollerX:0,scrollerY:0,moving:!1}),this.delegateDocumentEvents(Ls.documentEvents,e.data)}filter(e){const t=this.options.filter;return e.filter(i=>Array.isArray(t)?t.some(s=>"string"==typeof s?i.shape===s:i.id===s.id):"function"!=typeof t||xe(t,this.graph,i))}stopSelecting(e){const t=this.graph,i=this.getEventData(e);switch(i.action){case"selecting":{let r=function foe(n){return n.getBoundingClientRect().width}(this.container),o=function goe(n){return n.getBoundingClientRect().height}(this.container);const a=l8(this.container),c=t.pageToLocal(a.left,a.top),l=t.transform.getScale();r/=l.sx,o/=l.sy;const h=new re(c.x,c.y,r,o),f=this.getCellViewsInArea(h).map(g=>g.cell);this.reset(f,{batch:!0}),this.hideRubberband();break}case"translating":{const r=t.snapToGrid(e.clientX,e.clientY);this.options.following||this.updateSelectedNodesPosition({dx:i.clientX-i.originX,dy:i.clientY-i.originY}),this.graph.model.stopBatch("move-selection"),this.notifyBoxEvent("box:mouseup",e,r.x,r.y);break}default:this.clean()}}onMouseUp(e){this.getEventData(e).action&&(this.stopSelecting(e),this.undelegateDocumentEvents())}onSelectionBoxMouseDown(e){this.options.following||e.stopPropagation();const t=this.normalizeEvent(e);this.options.movable&&this.startTranslating(t);const i=this.getCellViewFromElem(t.target);this.setEventData(t,{activeView:i});const s=this.graph.snapToGrid(t.clientX,t.clientY);this.notifyBoxEvent("box:mousedown",t,s.x,s.y),this.delegateDocumentEvents(Ls.documentEvents,t.data)}startTranslating(e){this.graph.model.startBatch("move-selection");const t=this.graph.snapToGrid(e.clientX,e.clientY);this.setEventData(e,{action:"translating",clientX:t.x,clientY:t.y,originX:t.x,originY:t.y})}getRestrictArea(){const e=this.graph.options.translating.restrict,t="function"==typeof e?xe(e,this.graph,null):e;return"number"==typeof t?this.graph.transform.getGraphArea().inflate(t):!0===t?this.graph.transform.getGraphArea():t||null}getSelectionOffset(e,t){let i=e.x-t.clientX,s=e.y-t.clientY;const r=this.getRestrictArea();if(r){const o=this.collection.toArray(),a=ot.getCellsBBox(o,{deep:!0})||re.create(),c=r.x-a.x,l=r.y-a.y,h=r.x+r.width-(a.x+a.width),f=r.y+r.height-(a.y+a.height);if(i<c&&(i=c),s<l&&(s=l),h<i&&(i=h),f<s&&(s=f),!this.options.following){const g=e.x-t.originX,p=e.y-t.originY;i=g<=c||g>=h?0:i,s=p<=l||p>=f?0:s}}return{dx:i,dy:s}}updateElementPosition(e,t,i){const s=ii(e,"left"),r=ii(e,"top"),o=s?parseFloat(s):0,a=r?parseFloat(r):0;ii(e,"left",o+t),ii(e,"top",a+i)}updateSelectedNodesPosition(e){const{dx:t,dy:i}=e;if(t||i)if(this.translateSelectedNodes(t,i),this.boxesUpdated)this.collection.length>1&&this.updateSelectionBoxes();else{const s=this.graph.transform.getScale();for(let r=0,o=this.$boxes,a=o.length;r<a;r+=1)this.updateElementPosition(o[r],t*s.sx,i*s.sy);this.updateElementPosition(this.selectionContainer,t*s.sx,i*s.sy)}}autoScrollGraph(e,t){const i=this.graph.getPlugin("scroller");return i?i.autoScroll(e,t):{scrollerX:0,scrollerY:0}}adjustSelection(e){const t=this.normalizeEvent(e),i=this.getEventData(t);switch(i.action){case"selecting":{const r=i;!0!==r.moving&&(t8(this.container,this.graph.container),this.showRubberband(),r.moving=!0);const{scrollerX:o,scrollerY:a}=this.autoScrollGraph(t.clientX,t.clientY);r.scrollerX+=o,r.scrollerY+=a;const c=t.clientX-r.clientX+r.scrollerX,l=t.clientY-r.clientY+r.scrollerY,h=parseInt(ii(this.container,"left")||"0",10),f=parseInt(ii(this.container,"top")||"0",10);ii(this.container,{left:c<0?r.offsetX+c:h,top:l<0?r.offsetY+l:f,width:Math.abs(c),height:Math.abs(l)});break}case"translating":{const r=this.graph.snapToGrid(t.clientX,t.clientY),o=i,a=this.getSelectionOffset(r,o);this.options.following?this.updateSelectedNodesPosition(a):this.updateContainerPosition(a),a.dx&&(o.clientX=r.x),a.dy&&(o.clientY=r.y),this.notifyBoxEvent("box:mousemove",e,r.x,r.y);break}}this.boxesUpdated=!1}translateSelectedNodes(e,t,i,s){const r={},o=[];if(i&&(r[i.id]=!0),this.collection.toArray().forEach(a=>{a.getDescendants({deep:!0}).forEach(c=>{r[c.id]=!0})}),s&&s.translateBy){const a=this.graph.getCellById(s.translateBy);a&&(r[a.id]=!0,a.getDescendants({deep:!0}).forEach(c=>{r[c.id]=!0}),o.push(a))}this.collection.toArray().forEach(a=>{if(!r[a.id]){const c=Object.assign(Object.assign({},s),{selection:this.cid,exclude:o});a.translate(e,t,c),this.graph.model.getConnectedEdges(a).forEach(l=>{r[l.id]||(l.translate(e,t,c),r[l.id]=!0)})}})}getCellViewsInArea(e){const t=this.graph,i={strict:this.options.strict};let s=[];return this.options.rubberNode&&(s=s.concat(t.model.getNodesInArea(e,i).map(r=>t.renderer.findViewByCell(r)).filter(r=>null!=r))),this.options.rubberEdge&&(s=s.concat(t.model.getEdgesInArea(e,i).map(r=>t.renderer.findViewByCell(r)).filter(r=>null!=r))),s}notifyBoxEvent(e,t,i,s){const o=this.getEventData(t).activeView;this.trigger(e,{e:t,view:o,x:i,y:s,cell:o.cell})}getSelectedClassName(e){return this.prefixClassName((e.isNode()?"node":"edge")+"-selected")}addCellSelectedClassName(e){const t=this.graph.renderer.findViewByCell(e);t&&t.addClass(this.getSelectedClassName(e))}removeCellUnSelectedClassName(e){const t=this.graph.renderer.findViewByCell(e);t&&t.removeClass(this.getSelectedClassName(e))}destroySelectionBox(e){this.removeCellUnSelectedClassName(e),this.canShowSelectionBox(e)&&(Vo(this.container.querySelector(`[data-cell-id="${e.id}"]`)),0===this.$boxes.length&&this.hide(),this.boxCount=Math.max(0,this.boxCount-1))}destroyAllSelectionBoxes(e){e.forEach(t=>this.removeCellUnSelectedClassName(t)),this.hide(),Vo(this.$boxes),this.boxCount=0}hide(){Wn(this.container,this.prefixClassName(Ls.classNames.rubberband)),Wn(this.container,this.prefixClassName(Ls.classNames.selected))}showRubberband(){Ie(this.container,this.prefixClassName(Ls.classNames.rubberband))}hideRubberband(){Wn(this.container,this.prefixClassName(Ls.classNames.rubberband))}showSelected(){jb(this.container,"style"),Ie(this.container,this.prefixClassName(Ls.classNames.selected))}createContainer(){this.container=document.createElement("div"),Ie(this.container,this.prefixClassName(Ls.classNames.root)),this.options.className&&Ie(this.container,this.options.className),this.selectionContainer=document.createElement("div"),Ie(this.selectionContainer,this.prefixClassName(Ls.classNames.inner)),this.selectionContent=document.createElement("div"),Ie(this.selectionContent,this.prefixClassName(Ls.classNames.content)),Yc(this.selectionContainer,this.selectionContent),pt(this.selectionContainer,"data-selection-length",this.collection.length),pO(this.container,this.selectionContainer)}updateContainerPosition(e){(e.dx||e.dy)&&this.updateElementPosition(this.selectionContainer,e.dx,e.dy)}updateContainer(){const e={x:1/0,y:1/0},t={x:0,y:0};this.collection.toArray().filter(r=>this.canShowSelectionBox(r)).forEach(r=>{const o=this.graph.renderer.findViewByCell(r);if(o){const a=o.getBBox({useCellGeometry:!0});e.x=Math.min(e.x,a.x),e.y=Math.min(e.y,a.y),t.x=Math.max(t.x,a.x+a.width),t.y=Math.max(t.y,a.y+a.height)}}),ii(this.selectionContainer,{position:"absolute",pointerEvents:"none",left:e.x,top:e.y,width:t.x-e.x,height:t.y-e.y}),pt(this.selectionContainer,"data-selection-length",this.collection.length);const s=this.options.content;if(s)if("function"==typeof s){const r=xe(s,this.graph,this,this.selectionContent);r&&(this.selectionContent.innerHTML=r)}else this.selectionContent.innerHTML=s;this.collection.length>0&&!this.container.parentNode?t8(this.container,this.graph.container):this.collection.length<=0&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)}canShowSelectionBox(e){return e.isNode()&&!0===this.options.showNodeSelectionBox||e.isEdge()&&!0===this.options.showEdgeSelectionBox}createSelectionBox(e){if(this.addCellSelectedClassName(e),this.canShowSelectionBox(e)){const t=this.graph.renderer.findViewByCell(e);if(t){const i=t.getBBox({useCellGeometry:!0}),s=this.boxClassName,r=document.createElement("div");Ie(r,s),Ie(r,`${s}-${e.isNode()?"node":"edge"}`),pt(r,"data-cell-id",e.id),ii(r,{position:"absolute",left:i.x,top:i.y,width:i.width,height:i.height,pointerEvents:this.options.pointerEvents||"auto"}),t8(r,this.container),this.showSelected(),this.boxCount+=1}}}updateSelectionBoxes(){this.collection.length>0&&(this.boxesUpdated=!0,this.confirmUpdate())}confirmUpdate(){if(this.boxCount){this.hide();for(let e=0,t=this.$boxes,i=t.length;e<i;e+=1){const s=t[e],r=pt(s,"data-cell-id");Vo(s),this.boxCount-=1;const o=this.collection.get(r);o&&this.createSelectionBox(o)}this.updateContainer()}return 0}getCellViewFromElem(e){const t=e.getAttribute("data-cell-id");if(t){const i=this.collection.get(t);if(i)return this.graph.renderer.findViewByCell(i)}return null}onCellRemoved({cell:e}){this.destroySelectionBox(e),this.updateContainer()}onReseted({previous:e,current:t}){this.destroyAllSelectionBoxes(e),t.forEach(i=>{this.listenCellRemoveEvent(i),this.createSelectionBox(i)}),this.updateContainer()}onCellAdded({cell:e}){this.listenCellRemoveEvent(e),this.createSelectionBox(e),this.updateContainer()}listenCellRemoveEvent(e){e.off("removed",this.onCellRemoved,this),e.on("removed",this.onCellRemoved,this)}onCollectionUpdated({added:e,removed:t,options:i}){e.forEach(r=>{this.trigger("cell:selected",{cell:r,options:i}),r.isNode()?this.trigger("node:selected",{cell:r,options:i,node:r}):r.isEdge()&&this.trigger("edge:selected",{cell:r,options:i,edge:r})}),t.forEach(r=>{this.trigger("cell:unselected",{cell:r,options:i}),r.isNode()?this.trigger("node:unselected",{cell:r,options:i,node:r}):r.isEdge()&&this.trigger("edge:unselected",{cell:r,options:i,edge:r})});const s={added:e,removed:t,options:i,selected:this.cells.filter(r=>!!this.graph.getCellById(r.id))};this.trigger("selection:changed",s)}dispose(){this.clean(),this.remove(),this.off()}}!function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)}([St.dispose()],uI.prototype,"dispose",null),function(n){const e="widget-selection";n.classNames={root:e,inner:`${e}-inner`,box:`${e}-box`,content:`${e}-content`,rubberband:`${e}-rubberband`,selected:`${e}-selected`},n.documentEvents={mousemove:"adjustSelection",touchmove:"adjustSelection",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},n.depthComparator=function t(i){return i.getAncestors().length}}(Ls||(Ls={})),oe.prototype.isSelectionEnabled=function(){const n=this.getPlugin("selection");return!!n&&n.isEnabled()},oe.prototype.enableSelection=function(){const n=this.getPlugin("selection");return n&&n.enable(),this},oe.prototype.disableSelection=function(){const n=this.getPlugin("selection");return n&&n.disable(),this},oe.prototype.toggleSelection=function(n){const e=this.getPlugin("selection");return e&&e.toggleEnabled(n),this},oe.prototype.isMultipleSelection=function(){const n=this.getPlugin("selection");return!!n&&n.isMultipleSelection()},oe.prototype.enableMultipleSelection=function(){const n=this.getPlugin("selection");return n&&n.enableMultipleSelection(),this},oe.prototype.disableMultipleSelection=function(){const n=this.getPlugin("selection");return n&&n.disableMultipleSelection(),this},oe.prototype.toggleMultipleSelection=function(n){const e=this.getPlugin("selection");return e&&e.toggleMultipleSelection(n),this},oe.prototype.isSelectionMovable=function(){const n=this.getPlugin("selection");return!!n&&n.isSelectionMovable()},oe.prototype.enableSelectionMovable=function(){const n=this.getPlugin("selection");return n&&n.enableSelectionMovable(),this},oe.prototype.disableSelectionMovable=function(){const n=this.getPlugin("selection");return n&&n.disableSelectionMovable(),this},oe.prototype.toggleSelectionMovable=function(n){const e=this.getPlugin("selection");return e&&e.toggleSelectionMovable(n),this},oe.prototype.isRubberbandEnabled=function(){const n=this.getPlugin("selection");return!!n&&n.isRubberbandEnabled()},oe.prototype.enableRubberband=function(){const n=this.getPlugin("selection");return n&&n.enableRubberband(),this},oe.prototype.disableRubberband=function(){const n=this.getPlugin("selection");return n&&n.disableRubberband(),this},oe.prototype.toggleRubberband=function(n){const e=this.getPlugin("selection");return e&&e.toggleRubberband(n),this},oe.prototype.isStrictRubberband=function(){const n=this.getPlugin("selection");return!!n&&n.isStrictRubberband()},oe.prototype.enableStrictRubberband=function(){const n=this.getPlugin("selection");return n&&n.enableStrictRubberband(),this},oe.prototype.disableStrictRubberband=function(){const n=this.getPlugin("selection");return n&&n.disableStrictRubberband(),this},oe.prototype.toggleStrictRubberband=function(n){const e=this.getPlugin("selection");return e&&e.toggleStrictRubberband(n),this},oe.prototype.setRubberbandModifiers=function(n){const e=this.getPlugin("selection");return e&&e.setRubberbandModifiers(n),this},oe.prototype.setSelectionFilter=function(n){const e=this.getPlugin("selection");return e&&e.setSelectionFilter(n),this},oe.prototype.setSelectionDisplayContent=function(n){const e=this.getPlugin("selection");return e&&e.setSelectionDisplayContent(n),this},oe.prototype.isSelectionEmpty=function(){const n=this.getPlugin("selection");return!n||n.isEmpty()},oe.prototype.cleanSelection=function(n){const e=this.getPlugin("selection");return e&&e.clean(n),this},oe.prototype.resetSelection=function(n,e){const t=this.getPlugin("selection");return t&&t.reset(n,e),this},oe.prototype.getSelectedCells=function(){const n=this.getPlugin("selection");return n?n.getSelectedCells():[]},oe.prototype.getSelectedCellCount=function(){const n=this.getPlugin("selection");return n?n.getSelectedCellCount():0},oe.prototype.isSelected=function(n){const e=this.getPlugin("selection");return!!e&&e.isSelected(n)},oe.prototype.select=function(n,e){const t=this.getPlugin("selection");return t&&t.select(n,e),this},oe.prototype.unselect=function(n,e){const t=this.getPlugin("selection");return t?t.unselect(n,e):this};class U2 extends qn{get rubberbandDisabled(){return!0!==this.options.enabled||!0!==this.options.rubberband}get disabled(){return!0!==this.options.enabled}get length(){return this.selectionImpl.length}get cells(){return this.selectionImpl.cells}constructor(e={}){super(),this.name="selection",this.movedMap=new WeakMap,this.unselectMap=new WeakMap,this.options=En({enabled:!0},U2.defaultOptions,e),d8(this.name,".x6-widget-selection {\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: none;\n  width: 0;\n  height: 0;\n  touch-action: none;\n}\n.x6-widget-selection-rubberband {\n  display: block;\n  overflow: visible;\n  opacity: 0.3;\n}\n.x6-widget-selection-selected {\n  display: block;\n}\n.x6-widget-selection-box {\n  cursor: move;\n}\n.x6-widget-selection-inner[data-selection-length='0'],\n.x6-widget-selection-inner[data-selection-length='1'] {\n  display: none;\n}\n.x6-widget-selection-content {\n  position: absolute;\n  top: 100%;\n  right: -20px;\n  left: -20px;\n  margin-top: 30px;\n  padding: 6px;\n  line-height: 14px;\n  text-align: center;\n  border-radius: 6px;\n}\n.x6-widget-selection-content:empty {\n  display: none;\n}\n.x6-widget-selection-rubberband {\n  background-color: #3498db;\n  border: 2px solid #2980b9;\n}\n.x6-widget-selection-box {\n  box-sizing: content-box !important;\n  margin-top: -4px;\n  margin-left: -4px;\n  padding-right: 4px;\n  padding-bottom: 4px;\n  border: 2px dashed #feb663;\n  box-shadow: 2px 2px 5px #d3d3d3;\n}\n.x6-widget-selection-inner {\n  box-sizing: content-box !important;\n  margin-top: -8px;\n  margin-left: -8px;\n  padding-right: 12px;\n  padding-bottom: 12px;\n  border: 2px solid #feb663;\n  box-shadow: 2px 2px 5px #d3d3d3;\n}\n.x6-widget-selection-content {\n  color: #fff;\n  font-size: 10px;\n  background-color: #6a6b8a;\n}\n")}init(e){this.graph=e,this.selectionImpl=new uI(Object.assign(Object.assign({},this.options),{graph:e})),this.setup(),this.startListening()}isEnabled(){return!this.disabled}enable(){this.disabled&&(this.options.enabled=!0)}disable(){this.disabled||(this.options.enabled=!1)}toggleEnabled(e){return null!=e?e!==this.isEnabled()&&(e?this.enable():this.disable()):this.isEnabled()?this.disable():this.enable(),this}isMultipleSelection(){return this.isMultiple()}enableMultipleSelection(){return this.enableMultiple(),this}disableMultipleSelection(){return this.disableMultiple(),this}toggleMultipleSelection(e){return null!=e?e!==this.isMultipleSelection()&&(e?this.enableMultipleSelection():this.disableMultipleSelection()):this.isMultipleSelection()?this.disableMultipleSelection():this.enableMultipleSelection(),this}isSelectionMovable(){return!1!==this.options.movable}enableSelectionMovable(){return this.selectionImpl.options.movable=!0,this}disableSelectionMovable(){return this.selectionImpl.options.movable=!1,this}toggleSelectionMovable(e){return null!=e?e!==this.isSelectionMovable()&&(e?this.enableSelectionMovable():this.disableSelectionMovable()):this.isSelectionMovable()?this.disableSelectionMovable():this.enableSelectionMovable(),this}isRubberbandEnabled(){return!this.rubberbandDisabled}enableRubberband(){return this.rubberbandDisabled&&(this.options.rubberband=!0),this}disableRubberband(){return this.rubberbandDisabled||(this.options.rubberband=!1),this}toggleRubberband(e){return null!=e?e!==this.isRubberbandEnabled()&&(e?this.enableRubberband():this.disableRubberband()):this.isRubberbandEnabled()?this.disableRubberband():this.enableRubberband(),this}isStrictRubberband(){return!0===this.selectionImpl.options.strict}enableStrictRubberband(){return this.selectionImpl.options.strict=!0,this}disableStrictRubberband(){return this.selectionImpl.options.strict=!1,this}toggleStrictRubberband(e){return null!=e?e!==this.isStrictRubberband()&&(e?this.enableStrictRubberband():this.disableStrictRubberband()):this.isStrictRubberband()?this.disableStrictRubberband():this.enableStrictRubberband(),this}setRubberbandModifiers(e){this.setModifiers(e)}setSelectionFilter(e){return this.setFilter(e),this}setSelectionDisplayContent(e){return this.setContent(e),this}isEmpty(){return this.length<=0}clean(e={}){return this.selectionImpl.clean(e),this}reset(e,t={}){return this.selectionImpl.reset(e?this.getCells(e):[],t),this}getSelectedCells(){return this.cells}getSelectedCellCount(){return this.length}isSelected(e){return this.selectionImpl.isSelected(e)}select(e,t={}){const i=this.getCells(e);return i.length&&(this.isMultiple()?this.selectionImpl.select(i,t):this.reset(i.slice(0,1),t)),this}unselect(e,t={}){return this.selectionImpl.unselect(this.getCells(e),t),this}setup(){this.selectionImpl.on("*",(e,t)=>{this.trigger(e,t),this.graph.trigger(e,t)})}startListening(){this.graph.on("blank:mousedown",this.onBlankMouseDown,this),this.graph.on("blank:click",this.onBlankClick,this),this.graph.on("cell:mousemove",this.onCellMouseMove,this),this.graph.on("cell:mouseup",this.onCellMouseUp,this),this.selectionImpl.on("box:mousedown",this.onBoxMouseDown,this)}stopListening(){this.graph.off("blank:mousedown",this.onBlankMouseDown,this),this.graph.off("blank:click",this.onBlankClick,this),this.graph.off("cell:mousemove",this.onCellMouseMove,this),this.graph.off("cell:mouseup",this.onCellMouseUp,this),this.selectionImpl.off("box:mousedown",this.onBoxMouseDown,this)}onBlankMouseDown({e}){const t=this.graph.panning.allowPanning(e,!0),i=this.graph.getPlugin("scroller"),s=i&&i.allowPanning(e,!0);(this.allowRubberband(e,!0)||this.allowRubberband(e)&&!s&&!t)&&this.startRubberband(e)}onBlankClick(){this.clean()}allowRubberband(e,t){return!this.rubberbandDisabled&&Xc.isMatch(e,this.options.modifiers,t)}allowMultipleSelection(e){return this.isMultiple()&&Xc.isMatch(e,this.options.multipleSelectionModifiers)}onCellMouseMove({cell:e}){this.movedMap.set(e,!0)}onCellMouseUp({e,cell:t}){const i=this.options;let s=this.disabled;!s&&this.movedMap.has(t)&&(s=!1===i.selectCellOnMoved,s||(s=!1===i.selectNodeOnMoved&&t.isNode()),s||(s=!1===i.selectEdgeOnMoved&&t.isEdge())),s||(this.allowMultipleSelection(e)?this.unselectMap.has(t)?this.unselectMap.delete(t):this.isSelected(t)?this.unselect(t):this.select(t):this.reset(t)),this.movedMap.delete(t)}onBoxMouseDown({e,cell:t}){this.disabled||this.allowMultipleSelection(e)&&(this.unselect(t),this.unselectMap.set(t,!0))}getCells(e){return(Array.isArray(e)?e:[e]).map(t=>"string"==typeof t?this.graph.getCellById(t):t).filter(t=>null!=t)}startRubberband(e){return this.rubberbandDisabled||this.selectionImpl.startSelecting(e),this}isMultiple(){return!1!==this.options.multiple}enableMultiple(){return this.options.multiple=!0,this}disableMultiple(){return this.options.multiple=!1,this}setModifiers(e){return this.options.modifiers=e,this}setContent(e){return this.selectionImpl.setContent(e),this}setFilter(e){return this.selectionImpl.setFilter(e),this}dispose(){this.stopListening(),this.off(),this.selectionImpl.dispose(),f8(this.name)}}(function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)})([qn.dispose()],U2.prototype,"dispose",null),function(n){n.defaultOptions={rubberband:!1,rubberNode:!0,rubberEdge:!1,pointerEvents:"auto",multiple:!0,multipleSelectionModifiers:["ctrl","meta"],movable:!0,strict:!1,selectCellOnMoved:!1,selectNodeOnMoved:!1,selectEdgeOnMoved:!1,following:!0,content:null}}(U2||(U2={}));class V1e{constructor(){this.graphMap=new Map}getGraph(e,t,i,s){var r=this;return se(function*(){let o=r.graphMap.get(e);if(!o){const{graphContainer:a}=r.config,{clientHeight:c,clientWidth:l}=a;o=new oe({container:a,width:l,height:c,...r.config.x6Options});const h=t.hookProvider();r.graphMap.set(e,o),yield h.afterGraphInit.call({graph:o,commandService:i,modelService:s,options:r.config}),o.on("node:moved",({node:g})=>{const p=g.getData(),v=g.position();g.setData({...p,x:v?.x,y:v?.y})});const f=({node:g})=>{console.log("resizeHandle");const p=g.getData(),v=g.size();p.ngArguments&&(p.ngArguments.size={width:v?.width,height:v?.height}),g.setData({...p,width:v?.width,height:v?.height})};o.on("node:resized",f),o.on("node:resizing",f),o.use(new L1({resizing:!0,rotating:!1})),o.use(new cI({enabled:!0,clean:!1})),o.use(new $2({enabled:!0})),o.use(new U2({enabled:!0}))}return Promise.resolve(o)})()}setConfig(e){this.config=e}}const B1e=n=>{const e=[],t=[];return n.map(s=>(s=>{s.isNode()&&e.push((n=>{const e=n.getChildren(),t=n.getSize(),i=n.getData()||{},s=n.getPosition(),r=n.getParentId(),{isCollapsed:o}=i,a=i.groupCollapsedSize||(o?t:null);return{...i,id:n.id,width:t.width,height:t.height,x:s.x,y:s.y,group:r,groupChildren:e?e.map(c=>c.id):null,groupCollapsedSize:a}})(s)),s.isEdge()&&t.push((n=>({...n.getData()||{},id:n.id,source:n.getSourceCellId(),target:n.getTargetCellId(),sourcePortId:n.getSourcePortId(),targetPortId:n.getTargetPortId(),sourcePort:n.getSourcePortId(),targetPort:n.getTargetPortId()}))(s))})(s)),{nodes:e,edges:t}},j1e=["canvas"],$1e=["XFlow"],U1e=function(){return{top:0,bottom:0,left:0,right:0}};function G1e(n,e){if(1&n&&(Ic(0),st(1,"app-x-flow-canvas",3),Lc()),2&n){const t=_a();ie(1),yt("app",t.app)("position",Of(2,U1e))}}const q1e=["*"];let zw=(()=>{class n{constructor(t,i,s){this.injector=t,this.hookService=i,this.modelService=s,this.haveCanvasComponent=!1}ngOnChanges(t){t.hookConfig&&t.hookConfig.currentValue&&this.hookService.setHookConfig(this.hookConfig),t.modelConfig&&t.modelConfig.currentValue&&this.modelService.setModelConfig(this.modelConfig)}ngOnInit(){var t=this;this.app=(n=>this.injector.get(rI))(),this.app.start(),this.onload&&this.onload(this.app),setTimeout(se(function*(){t.app.getGraphInstance().then(i=>i.centerContent())}),1e3)}ngAfterViewInit(){this.haveCanvasComponent=this.content.some(t=>t&&t.isXFlowCanvas)}static#e=this.\u0275fac=function(i){return new(i||n)(U(On),U(Eg),U(Sg))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-x-flow"]],contentQueries:function(i,s,r){if(1&i&&function lv(n,e,t,i){const s=dt();if(s.firstCreatePass){const r=Bn();kE(s,new NE(e,t,i),r.index),function aB(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(s,n),2==(2&t)&&(s.staticContentQueries=!0)}HE(s,K(),t)}(r,j1e,4),2&i){let o;Do(o=Ao())&&(s.content=o)}},viewQuery:function(i,s){if(1&i&&Vc($1e,5),2&i){let r;Do(r=Ao())&&(s.XFlow=r.first)}},inputs:{meta:"meta",graphConfig:"graphConfig",onload:"onload",graphData:"graphData",hookConfig:"hookConfig",modelConfig:"modelConfig"},features:[Ye],ngContentSelectors:q1e,decls:4,vars:1,consts:[[1,"relative","h-full"],["XFlow",""],[4,"ngIf"],[3,"app","position"]],template:function(i,s){1&i&&(Iu(),me(0,"div",0,1),cs(2,G1e,2,3,"ng-container",2),Lu(3,0,["#content",""]),pe()),2&i&&(ie(2),yt("ngIf",!s.haveCanvasComponent))}})}return n})();var hI;!function(n){let e;var i;let t;(i=e=n.AnchorGroup||(n.AnchorGroup={})).TOP="top",i.BOTTOM="bottom",i.RIGHT="right",i.LEFT="left",function(i){i.INPUT="input",i.OUTPUT="output"}(t=n.AnchorType||(n.AnchorType={}))}(hI||(hI={}));const Dw=(n={})=>{const e=Object.entries(n),t=e.length>0?{position:"absolute"}:{};return e.forEach(([i,s=0])=>{t[i]=`${s}px`}),t},W1e=(new le("command injection token"),["rootRef"]),Y1e=["canvasRef"];let Aw=(()=>{class n{constructor(){this.isXFlowCanvas=!0,this.style={}}ngOnChanges(t){if(t.app&&t.app.currentValue){let i;this.config?i=this.config:(i=new GD,i.setX6Config()),setTimeout(()=>{i.setRootContainer(this.rootRef.nativeElement),i.setGraphContainer(this.canvasRef.nativeElement),this.app.graphProvider.setGraphOptions(i)})}t.position&&t.position.currentValue&&(this.style=Dw(this.position),console.log(this.style))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=We({type:n,selectors:[["app-x-flow-canvas"]],viewQuery:function(i,s){if(1&i&&(Vc(W1e,5),Vc(Y1e,5)),2&i){let r;Do(r=Ao())&&(s.rootRef=r.first),Do(r=Ao())&&(s.canvasRef=r.first)}},inputs:{isXFlowCanvas:"isXFlowCanvas",config:"config",position:"position",app:"app"},features:[Ye],decls:4,vars:2,consts:[[1,"xflow-canvas-root"],["rootRef",""],[1,"h-full"],["canvasRef",""]],template:function(i,s){1&i&&(me(0,"div",0,1),st(2,"div",2,3),pe()),2&i&&function Yr(n){Zr(px,kH,n,!1)}(s.style)},changeDetection:0})}return n})();const Tw=(n,e,t)=>{n||(()=>{const n=document.getElementsByClassName("x6-port");n&&Array.from(n).forEach(e=>{const t=e.getAttribute("data-scale");t&&(((n,e)=>{const i=n.getAttribute("transform").split(",");i[0]="matrix("+Number(i[0].split("(")[1])*e,i[3]=Number(i[3])*e,n.setAttribute("transform",i.join(","))})(e,1/Number(t)),e.removeAttribute("data-scale"))})})();const i=Z1e(e);Array.from(i).forEach(s=>{const r=s.querySelectorAll(".x6-port-body");for(let o=0,a=r.length;o<a;o+=1)r[o].style.visibility=t&&n?"visible":"hidden"})},Z1e=n=>{let e=n?.e?.currentTarget;if(!e)return document.getElementsByClassName("xflow-canvas-root");let t=null;for(;!t;){const i=e.getElementsByClassName("xflow-canvas-root");i?.length>0&&(t=i),e=e.parentNode}return t},fI=function(){var n=se(function*(e,t){const{node:i}=e;if(!i)return;const s={id:i.id,...i.data,...i.getPosition(),...i.size()};yield t.executeCommand(Gn.UPDATE_NODE.id,{nodeConfig:s})});return function(t,i){return n.apply(this,arguments)}}(),q_stroke="#A2B1C3",q_fill="#FFFFFF",gI=[{name:"Terminal",width:60,height:40},{name:"Process",width:60,height:40},{name:"Decision",width:60,height:40},{name:"MultiDocument",width:60,height:40},{name:"Connector",width:60,height:40},{name:"DataIO",ports:["top","bottom"],width:60,height:40},{name:"Database",width:60,height:40},{name:"HardDisk",width:60,height:40},{name:"StroedData",width:60,height:40},{name:"Document",width:60,height:40},{name:"PredefinedProcess",width:60,height:40},{name:"Extract",width:60,height:40},{name:"Merge",width:60,height:40},{name:"Or",width:40,height:40},{name:"ManualInput",width:60,height:40},{name:"Preparation",width:60,height:40},{name:"Delay",width:60,height:40},{name:"ManualOperation",width:60,height:40},{name:"Display",width:60,height:40},{name:"OffPageLink",width:60,height:40},{name:"NoteLeft",width:60,height:40,label:"\u2263"},{name:"NoteRight",label:"\u2263",width:60,height:40},{name:"InternalStorage",width:60,height:40},{name:"Text",label:"text",width:60,height:40}];let pI=(()=>{class n{constructor(t){this.elementRef=t,this.size={width:60,height:40},this.data={stroke:q_stroke,label:"",fill:q_fill,fontFill:"#000",fontSize:12}}ngOnChanges(t){t.data&&t.data.currentValue&&this.create(),t.size&&t.size.currentValue&&this.create()}ngOnInit(){this.create()}create(){this.rx=Math.min(this.size.height,this.size.width)/2,this.path=[["M",this.rx,1],["L",this.size.width-this.rx,1],["C",this.size.width-2,1,this.size.width-2,this.size.height/2],["",this.size.width-2,this.size.height/2],["C",this.size.width-2,this.size.height/2,this.size.width-2,this.size.height-2],["",this.size.width-this.rx,this.size.height-2],["L",this.rx,this.size.height-2],["C",1,this.size.height-2,1,this.size.height/2],["",1,this.size.height/2],["C",1,this.size.height/2,1,1],["",this.rx,1]],this.viewBox=`0 0  ${this.size.width} ${this.size.height}`}createCustomPath(){return Bt(this.path)}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-terminal"]],inputs:{size:"size",data:"data"},features:[Ye],decls:5,vars:5,consts:[["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%"]],template:function(i,s){1&i&&(kt(),me(0,"svg",0),st(1,"path"),me(2,"text"),Te(3),pe(),Te(4," Sorry, your browser does not support inline SVG. "),pe()),2&i&&(ye("viewBox",s.viewBox),ie(1),ye("d",s.createCustomPath())("fill",s.data.fill)("stroke",s.data.stroke),ie(2),Gt(" ",s.data.label," "))},encapsulation:2})}return n})(),mI=(()=>{class n{constructor(t){this.elementRef=t,this.size={width:60,height:40},this.data={stroke:q_stroke,label:"",fill:q_fill,fontFill:"#000",fontSize:12}}ngOnChanges(t){t.data&&t.data.currentValue&&this.create(),t.size&&t.size.currentValue&&this.create()}ngOnInit(){this.create()}create(){this.rx=Math.min(this.size.height,this.size.width)/2,this.path=[["M",1,1],["L",this.size.width-2,1],["L",this.size.width-2,this.size.height-2],["L",1,this.size.height-2],["Z"]],this.viewBox=`0 0  ${this.size.width} ${this.size.height}`}createCustomPath(){return Bt(this.path)}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-process"]],inputs:{size:"size",data:"data"},features:[Ye],decls:5,vars:5,consts:[["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%"]],template:function(i,s){1&i&&(kt(),me(0,"svg",0),st(1,"path"),me(2,"text"),Te(3),pe(),Te(4," Sorry, your browser does not support inline SVG. "),pe()),2&i&&(ye("viewBox",s.viewBox),ie(1),ye("d",s.createCustomPath())("fill",s.data.fill)("stroke",s.data.stroke),ie(2),Gt(" ",s.data.label," "))},encapsulation:2})}return n})(),vI=(()=>{class n{constructor(t){this.elementRef=t,this.size={width:60,height:40},this.data={stroke:q_stroke,label:"",fill:q_fill,fontFill:"#000",fontSize:12}}ngOnChanges(t){t.data&&t.data.currentValue&&this.create(),t.size&&t.size.currentValue&&this.create()}ngOnInit(){this.create()}create(){this.rx=Math.min(this.size.height,this.size.width)/2,this.path=[["M",this.size.width/2,1],["L",this.size.width-2,this.size.height/2],["L",this.size.width/2,this.size.height-2],["L",1,this.size.height/2],["Z"]],this.viewBox=`0 0  ${this.size.width} ${this.size.height}`}createCustomPath(){return Bt(this.path)}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-decision"]],inputs:{size:"size",data:"data"},features:[Ye],decls:5,vars:5,consts:[["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%"]],template:function(i,s){1&i&&(kt(),me(0,"svg",0),st(1,"path"),me(2,"text"),Te(3),pe(),Te(4," Sorry, your browser does not support inline SVG. "),pe()),2&i&&(ye("viewBox",s.viewBox),ie(1),ye("d",s.createCustomPath())("fill",s.data.fill)("stroke",s.data.stroke),ie(2),Gt(" ",s.data.label," "))},encapsulation:2})}return n})(),yI=(()=>{class n{constructor(t){this.elementRef=t,this.size={width:60,height:40},this.data={stroke:q_stroke,label:"",fill:q_fill,fontFill:"#000",fontSize:12}}ngOnChanges(t){t.data&&t.data.currentValue&&this.create(),t.size&&t.size.currentValue&&this.create()}ngOnInit(){this.create()}create(){let{width:r,height:o}=this.size;r+=6,o+=6;const a=r/8,c=o/8;this.path=[["M",4,1],["L",r-2,1],["L",r-2,o-2-c],["C",r-2-a,o-2-2*c,r/2+a,o-2-2*c],["",r/2,o-2-c],["S",r/4,o-2,4,o-2-2*c],["L",4,1]],this.viewBox=`0 0  ${r} ${o}`}createCustomPath(t){return t?Bt(this.path,-3,3):Bt(this.path)}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-multi-document"]],inputs:{size:"size",data:"data"},features:[Ye],decls:6,vars:8,consts:[["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%"]],template:function(i,s){1&i&&(kt(),me(0,"svg",0),st(1,"path")(2,"path"),me(3,"text"),Te(4),pe(),Te(5," Sorry, your browser does not support inline SVG. "),pe()),2&i&&(ye("viewBox",s.viewBox),ie(1),ye("d",s.createCustomPath(!1))("fill",s.data.fill)("stroke",s.data.stroke),ie(1),ye("d",s.createCustomPath(!0))("fill",s.data.fill)("stroke",s.data.stroke),ie(2),Gt(" ",s.data.label," "))},encapsulation:2})}return n})(),bI=(()=>{class n{constructor(t){this.elementRef=t,this.size={width:60,height:40},this.data={stroke:q_stroke,label:"",fill:q_fill,fontFill:"#000",fontSize:12}}ngOnChanges(t){t.data&&t.data.currentValue&&this.create(),t.size&&t.size.currentValue&&this.create()}ngOnInit(){this.create()}create(){this.rx=Math.min(this.size.height,this.size.width)/2,this.path=`M 1,${this.size.height/2} a ${(this.size.height-2)/2} ${(this.size.height-2)/2} 0 1 1 0 1 z`,this.viewBox=`0 0  ${this.size.width} ${this.size.height}`}createCustomPath(){return this.path}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-connector"]],inputs:{size:"size",data:"data"},features:[Ye],decls:5,vars:5,consts:[["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%"]],template:function(i,s){1&i&&(kt(),me(0,"svg",0),st(1,"path"),me(2,"text"),Te(3),pe(),Te(4," Sorry, your browser does not support inline SVG. "),pe()),2&i&&(ye("viewBox",s.viewBox),ie(1),ye("d",s.createCustomPath())("fill",s.data.fill)("stroke",s.data.stroke),ie(2),Gt(" ",s.data.label," "))},encapsulation:2})}return n})(),wI=(()=>{class n{constructor(t){this.elementRef=t,this.size={width:60,height:40},this.data={stroke:q_stroke,label:"",fill:q_fill,fontFill:"#000",fontSize:12}}ngOnChanges(t){t.data&&t.data.currentValue&&this.create(),t.size&&t.size.currentValue&&this.create()}ngOnInit(){this.create()}create(){this.rx=Math.min(this.size.height,this.size.width)/2;const t=this.size.height/2;this.path=[["M",t-1,1],["L",this.size.width-2,1],["L",this.size.width-t,this.size.height-2],["L",1,this.size.height-2],["Z"]],this.viewBox=`0 0  ${this.size.width} ${this.size.height}`}createCustomPath(){return Bt(this.path)}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-data-io"]],inputs:{size:"size",data:"data"},features:[Ye],decls:5,vars:5,consts:[["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%"]],template:function(i,s){1&i&&(kt(),me(0,"svg",0),st(1,"path"),me(2,"text"),Te(3),pe(),Te(4," Sorry, your browser does not support inline SVG. "),pe()),2&i&&(ye("viewBox",s.viewBox),ie(1),ye("d",s.createCustomPath())("fill",s.data.fill)("stroke",s.data.stroke),ie(2),Gt(" ",s.data.label," "))},encapsulation:2})}return n})(),_I=(()=>{class n{constructor(t){this.elementRef=t,this.size={width:60,height:40},this.data={stroke:q_stroke,label:"",fill:q_fill,fontFill:"#000",fontSize:12}}ngOnChanges(t){t.data&&t.data.currentValue&&this.create(),t.size&&t.size.currentValue&&this.create()}ngOnInit(){this.create()}create(){this.rx=Math.min(this.size.height,this.size.width)/2;const t=this.size.width/4,i=Math.min(this.size.height/10,12);this.path1=[["M",1,1+i],["C",1+t,1,1+this.size.width-t,1],["",this.size.width-2,1+i],["L",this.size.width-2,this.size.height-2-i],["C",this.size.width-2-t,this.size.height-2,1+t,this.size.height-2],["",1,this.size.height-2-i],["Z"]],this.path2=[["M",1,1+i],["C",1+t,1+2*i,1+this.size.width-t,1+2*i],["",this.size.width-2,1+i]],this.viewBox=`0 0  ${this.size.width} ${this.size.height}`}createCustomPath(t){return Bt(t?this.path1:this.path2)}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-data-base"]],inputs:{size:"size",data:"data"},features:[Ye],decls:6,vars:8,consts:[["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%"]],template:function(i,s){1&i&&(kt(),me(0,"svg",0),st(1,"path")(2,"path"),me(3,"text"),Te(4),pe(),Te(5," Sorry, your browser does not support inline SVG. "),pe()),2&i&&(ye("viewBox",s.viewBox),ie(1),ye("d",s.createCustomPath(!0))("fill",s.data.fill)("stroke",s.data.stroke),ie(1),ye("d",s.createCustomPath(!1))("fill",s.data.fill)("stroke",s.data.stroke),ie(2),Gt(" ",s.data.label," "))},encapsulation:2})}return n})(),CI=(()=>{class n{constructor(t){this.elementRef=t,this.size={width:60,height:40},this.data={stroke:q_stroke,label:"",fill:q_fill,fontFill:"#000",fontSize:12}}ngOnChanges(t){t.data&&t.data.currentValue&&this.create(),t.size&&t.size.currentValue&&this.create()}ngOnInit(){this.create()}create(){this.rx=Math.min(this.size.height,this.size.width)/2;const t=Math.min(this.size.width/10,this.size.height/4),i=Math.min(this.size.height/4,this.size.width/4);this.path1=[["M",1+t,1],["L",this.size.width-2-t,1],["C",this.size.width-2,1+i,this.size.width-2,this.size.height-2-i],["",this.size.width-2-t,this.size.height-2],["L",1+t,this.size.height-2],["C",1,this.size.height-2-i,1,1+i],["",1+t,1]],this.path2=[["M",this.size.width-2-t,1],["C",this.size.width-2-2*t,1+i,this.size.width-2-2*t,this.size.height-2-i],["",this.size.width-2-t,this.size.height-2]],this.viewBox=`0 0  ${this.size.width} ${this.size.height}`}createCustomPath(t){return Bt(t?this.path1:this.path2)}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-hard-disk"]],inputs:{size:"size",data:"data"},features:[Ye],decls:6,vars:8,consts:[["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%"]],template:function(i,s){1&i&&(kt(),me(0,"svg",0),st(1,"path")(2,"path"),me(3,"text"),Te(4),pe(),Te(5," Sorry, your browser does not support inline SVG. "),pe()),2&i&&(ye("viewBox",s.viewBox),ie(1),ye("d",s.createCustomPath(!0))("fill",s.data.fill)("stroke",s.data.stroke),ie(1),ye("d",s.createCustomPath(!1))("fill",s.data.fill)("stroke",s.data.stroke),ie(2),Gt(" ",s.data.label," "))},encapsulation:2})}return n})(),MI=(()=>{class n{constructor(t){this.elementRef=t,this.size={width:60,height:40},this.data={stroke:q_stroke,label:"",fill:q_fill,fontFill:"#000",fontSize:12}}ngOnChanges(t){t.data&&t.data.currentValue&&this.create(),t.size&&t.size.currentValue&&this.create()}ngOnInit(){this.create()}create(){this.rx=Math.min(this.size.height,this.size.width)/2;const t=Math.min(this.size.width/10,this.size.height/4),i=Math.min(this.size.height/4,this.size.width/4);this.path=[["M",1+t,1],["L",this.size.width-2-t,1],["C",this.size.width-2-2*t,1+i,this.size.width-2-2*t,this.size.height-2-i],["",this.size.width-2-t,this.size.height-2],["L",1+t,this.size.height-2],["C",1,this.size.height-2-i,1,1+i],["",1+t,1]],this.viewBox=`0 0  ${this.size.width} ${this.size.height}`}createCustomPath(){return Bt(this.path)}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-stroed-data"]],inputs:{size:"size",data:"data"},features:[Ye],decls:5,vars:5,consts:[["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%"]],template:function(i,s){1&i&&(kt(),me(0,"svg",0),st(1,"path"),me(2,"text"),Te(3),pe(),Te(4," Sorry, your browser does not support inline SVG. "),pe()),2&i&&(ye("viewBox",s.viewBox),ie(1),ye("d",s.createCustomPath())("fill",s.data.fill)("stroke",s.data.stroke),ie(2),Gt(" ",s.data.label," "))},encapsulation:2})}return n})(),xI=(()=>{class n{constructor(t){this.elementRef=t,this.size={width:60,height:40},this.data={stroke:q_stroke,label:"",fill:q_fill,fontFill:"#000",fontSize:12}}ngOnChanges(t){t.data&&t.data.currentValue&&this.create(),t.size&&t.size.currentValue&&this.create()}ngOnInit(){this.create()}create(){this.rx=Math.min(this.size.height,this.size.width)/2;const t=this.size.width/8,i=this.size.height/8;this.path=[["M",1,1],["L",this.size.width-2,1],["L",this.size.width-2,this.size.height-2-i],["C",this.size.width-2-t,this.size.height-2-2*i,this.size.width/2+t,this.size.height-2-2*i],["",this.size.width/2,this.size.height-2-i],["S",this.size.width/4,this.size.height-2,1,this.size.height-2-2*i],["L",1,1]],this.viewBox=`0 0  ${this.size.width} ${this.size.height}`}createCustomPath(){return Bt(this.path)}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-document"]],inputs:{size:"size",data:"data"},features:[Ye],decls:5,vars:5,consts:[["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%"]],template:function(i,s){1&i&&(kt(),me(0,"svg",0),st(1,"path"),me(2,"text"),Te(3),pe(),Te(4," Sorry, your browser does not support inline SVG. "),pe()),2&i&&(ye("viewBox",s.viewBox),ie(1),ye("d",s.createCustomPath())("fill",s.data.fill)("stroke",s.data.stroke),ie(2),Gt(" ",s.data.label," "))},encapsulation:2})}return n})(),EI=(()=>{class n{constructor(t){this.elementRef=t,this.size={width:60,height:40},this.data={stroke:q_stroke,label:"",fill:q_fill,fontFill:"#000",fontSize:12}}ngOnChanges(t){t.data&&t.data.currentValue&&this.create(),t.size&&t.size.currentValue&&this.create()}ngOnInit(){this.create()}create(){this.rx=Math.min(this.size.height,this.size.width)/2;const t=this.size.width/8;this.path1=[["M",1,1],["L",this.size.width-2,1],["L",this.size.width-2,this.size.height-2],["L",1,this.size.height-2],["Z"]],this.path2=[["M",t,1],["L",t,this.size.height-2]],this.path3=[["M",this.size.width-t,1],["L",this.size.width-t,this.size.height-2]],this.viewBox=`0 0  ${this.size.width} ${this.size.height}`}createCustomPath(t){switch(t){case 1:return Bt(this.path1);case 2:return Bt(this.path2);default:return Bt(this.path3)}}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-predefined-process"]],inputs:{size:"size",data:"data"},features:[Ye],decls:7,vars:11,consts:[["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%"]],template:function(i,s){1&i&&(kt(),me(0,"svg",0),st(1,"path")(2,"path")(3,"path"),me(4,"text"),Te(5),pe(),Te(6," Sorry, your browser does not support inline SVG. "),pe()),2&i&&(ye("viewBox",s.viewBox),ie(1),ye("d",s.createCustomPath(1))("fill",s.data.fill)("stroke",s.data.stroke),ie(1),ye("d",s.createCustomPath(2))("fill",s.data.fill)("stroke",s.data.stroke),ie(1),ye("d",s.createCustomPath(3))("fill",s.data.fill)("stroke",s.data.stroke),ie(2),Gt(" ",s.data.label," "))},encapsulation:2})}return n})(),SI=(()=>{class n{constructor(t){this.elementRef=t,this.size={width:60,height:40},this.data={stroke:q_stroke,label:"",fill:q_fill,fontFill:"#000",fontSize:12}}ngOnChanges(t){t.data&&t.data.currentValue&&this.create(),t.size&&t.size.currentValue&&this.create()}ngOnInit(){this.create()}create(){this.rx=Math.min(this.size.height,this.size.width)/2,this.path=[["M",this.size.width/2,1],["L",this.size.width-2,this.size.height-2],["L",1,this.size.height-2],["Z"]],this.viewBox=`0 0  ${this.size.width} ${this.size.height}`}createCustomPath(){return Bt(this.path)}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-extract"]],inputs:{size:"size",data:"data"},features:[Ye],decls:5,vars:5,consts:[["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%"]],template:function(i,s){1&i&&(kt(),me(0,"svg",0),st(1,"path"),me(2,"text"),Te(3),pe(),Te(4," Sorry, your browser does not support inline SVG. "),pe()),2&i&&(ye("viewBox",s.viewBox),ie(1),ye("d",s.createCustomPath())("fill",s.data.fill)("stroke",s.data.stroke),ie(2),Gt(" ",s.data.label," "))},encapsulation:2})}return n})(),zI=(()=>{class n{constructor(t){this.elementRef=t,this.size={width:60,height:40},this.data={stroke:q_stroke,label:"",fill:q_fill,fontFill:"#000",fontSize:12}}ngOnChanges(t){t.data&&t.data.currentValue&&this.create(),t.size&&t.size.currentValue&&this.create()}ngOnInit(){this.create()}create(){this.rx=Math.min(this.size.height,this.size.width)/2,this.path=[["M",1,1],["L",this.size.width-2,1],["L",this.size.width/2,this.size.height-2],["Z"]],this.viewBox=`0 0  ${this.size.width} ${this.size.height}`}createCustomPath(){return Bt(this.path)}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-merge"]],inputs:{size:"size",data:"data"},features:[Ye],decls:5,vars:5,consts:[["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%"]],template:function(i,s){1&i&&(kt(),me(0,"svg",0),st(1,"path"),me(2,"text"),Te(3),pe(),Te(4," Sorry, your browser does not support inline SVG. "),pe()),2&i&&(ye("viewBox",s.viewBox),ie(1),ye("d",s.createCustomPath())("fill",s.data.fill)("stroke",s.data.stroke),ie(2),Gt(" ",s.data.label," "))},encapsulation:2})}return n})(),DI=(()=>{class n{constructor(t){this.elementRef=t,this.size={width:60,height:40},this.data={stroke:q_stroke,label:"",fill:q_fill,fontFill:"#000",fontSize:12}}ngOnChanges(t){t.data&&t.data.currentValue&&this.create(),t.size&&t.size.currentValue&&this.create()}ngOnInit(){this.create()}create(){this.rx=Math.min(this.size.height,this.size.width)/2,this.path=`M 1,${this.size.height/2} a ${(this.size.height-2)/2} ${(this.size.height-2)/2} 0 1 1 0 1 z`,this.path1=[["M",this.size.height/2,1],["L",this.size.height/2,this.size.height-2]],this.path2=[["M",1,this.size.height/2],["L",this.size.height-2,this.size.height/2]],this.viewBox=`0 0  ${this.size.width} ${this.size.height}`}createCustomPath(t){switch(t){case 1:return this.path;case 2:return Bt(this.path1);default:return Bt(this.path2)}}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-or"]],inputs:{size:"size",data:"data"},features:[Ye],decls:7,vars:11,consts:[["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%"]],template:function(i,s){1&i&&(kt(),me(0,"svg",0),st(1,"path")(2,"path")(3,"path"),me(4,"text"),Te(5),pe(),Te(6," Sorry, your browser does not support inline SVG. "),pe()),2&i&&(ye("viewBox",s.viewBox),ie(1),ye("d",s.createCustomPath(1))("fill",s.data.fill)("stroke",s.data.stroke),ie(1),ye("d",s.createCustomPath(2))("fill",s.data.fill)("stroke",s.data.stroke),ie(1),ye("d",s.createCustomPath(3))("fill",s.data.fill)("stroke",s.data.stroke),ie(2),Gt(" ",s.data.label," "))},encapsulation:2})}return n})(),AI=(()=>{class n{constructor(t){this.elementRef=t,this.size={width:60,height:40},this.data={stroke:q_stroke,label:"",fill:q_fill,fontFill:"#000",fontSize:12}}ngOnChanges(t){t.data&&t.data.currentValue&&this.create(),t.size&&t.size.currentValue&&this.create()}ngOnInit(){this.create()}create(){this.rx=Math.min(this.size.height,this.size.width)/2,this.path=[["M",1,this.size.height/5],["L",this.size.width-2,1],["L",this.size.width-2,this.size.height-2],["L",1,this.size.height-2],["Z"]],this.viewBox=`0 0  ${this.size.width} ${this.size.height}`}createCustomPath(){return Bt(this.path)}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-manual-input"]],inputs:{size:"size",data:"data"},features:[Ye],decls:5,vars:5,consts:[["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%"]],template:function(i,s){1&i&&(kt(),me(0,"svg",0),st(1,"path"),me(2,"text"),Te(3),pe(),Te(4," Sorry, your browser does not support inline SVG. "),pe()),2&i&&(ye("viewBox",s.viewBox),ie(1),ye("d",s.createCustomPath())("fill",s.data.fill)("stroke",s.data.stroke),ie(2),Gt(" ",s.data.label," "))},encapsulation:2})}return n})(),TI=(()=>{class n{constructor(t){this.elementRef=t,this.size={width:60,height:40},this.data={stroke:q_stroke,label:"",fill:q_fill,fontFill:"#000",fontSize:12}}ngOnChanges(t){t.data&&t.data.currentValue&&this.create(),t.size&&t.size.currentValue&&this.create()}ngOnInit(){this.create()}create(){this.rx=Math.min(this.size.height,this.size.width)/2;const t=Math.tan(Math.PI/6)*(this.size.height/2);this.path=[["M",t,1],["L",this.size.width-t,1],["L",this.size.width-2,this.size.height/2],["L",this.size.width-t,this.size.height-2],["L",t,this.size.height-2],["L",1,this.size.height/2],["Z"]],this.viewBox=`0 0  ${this.size.width} ${this.size.height}`}createCustomPath(){return Bt(this.path)}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-preparation"]],inputs:{size:"size",data:"data"},features:[Ye],decls:5,vars:5,consts:[["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%"]],template:function(i,s){1&i&&(kt(),me(0,"svg",0),st(1,"path"),me(2,"text"),Te(3),pe(),Te(4," Sorry, your browser does not support inline SVG. "),pe()),2&i&&(ye("viewBox",s.viewBox),ie(1),ye("d",s.createCustomPath())("fill",s.data.fill)("stroke",s.data.stroke),ie(2),Gt(" ",s.data.label," "))},encapsulation:2})}return n})(),OI=(()=>{class n{constructor(t){this.elementRef=t,this.size={width:60,height:40},this.data={stroke:q_stroke,label:"",fill:q_fill,fontFill:"#000",fontSize:12}}ngOnChanges(t){t.data&&t.data.currentValue&&this.create(),t.size&&t.size.currentValue&&this.create()}ngOnInit(){this.create()}create(){this.rx=Math.min(this.size.height,this.size.width)/2,this.path=[["M",1,1],["L",this.size.width-this.rx,1],["C",this.size.width-2,1,this.size.width-2,this.size.height/2],["",this.size.width-2,this.size.height/2],["C",this.size.width-2,this.size.height/2,this.size.width-2,this.size.height-2],["",this.size.width-this.rx,this.size.height-2],["L",1,this.size.height-2],["Z"]],this.viewBox=`0 0  ${this.size.width} ${this.size.height}`}createCustomPath(){return Bt(this.path)}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-delay"]],inputs:{size:"size",data:"data"},features:[Ye],decls:5,vars:5,consts:[["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%"]],template:function(i,s){1&i&&(kt(),me(0,"svg",0),st(1,"path"),me(2,"text"),Te(3),pe(),Te(4," Sorry, your browser does not support inline SVG. "),pe()),2&i&&(ye("viewBox",s.viewBox),ie(1),ye("d",s.createCustomPath())("fill",s.data.fill)("stroke",s.data.stroke),ie(2),Gt(" ",s.data.label," "))},encapsulation:2})}return n})(),PI=(()=>{class n{constructor(t){this.elementRef=t,this.size={width:60,height:40},this.data={stroke:q_stroke,label:"",fill:q_fill,fontFill:"#000",fontSize:12}}ngOnChanges(t){t.data&&t.data.currentValue&&this.create(),t.size&&t.size.currentValue&&this.create()}ngOnInit(){this.create()}create(){this.rx=Math.min(Math.tan(Math.PI/6)*this.size.height,this.size.width/2),this.path=[["M",1,1],["L",this.size.width-2,1],["L",this.size.width-this.rx,this.size.height-2],["L",this.rx,this.size.height-2],["Z"]],this.viewBox=`0 0  ${this.size.width} ${this.size.height}`}createCustomPath(){return Bt(this.path)}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-manual-operation"]],inputs:{size:"size",data:"data"},features:[Ye],decls:5,vars:5,consts:[["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%"]],template:function(i,s){1&i&&(kt(),me(0,"svg",0),st(1,"path"),me(2,"text"),Te(3),pe(),Te(4," Sorry, your browser does not support inline SVG. "),pe()),2&i&&(ye("viewBox",s.viewBox),ie(1),ye("d",s.createCustomPath())("fill",s.data.fill)("stroke",s.data.stroke),ie(2),Gt(" ",s.data.label," "))},encapsulation:2})}return n})(),II=(()=>{class n{constructor(t){this.elementRef=t,this.size={width:60,height:40},this.data={stroke:q_stroke,label:"",fill:q_fill,fontFill:"#000",fontSize:12}}ngOnChanges(t){t.data&&t.data.currentValue&&this.create(),t.size&&t.size.currentValue&&this.create()}ngOnInit(){this.create()}create(){const t=Math.min(this.size.height,this.size.width)/3,i=Math.min(Math.tan(Math.PI/6)*(this.size.height/2),this.size.width/3);this.path=[["M",i,1],["L",this.size.width-t,1],["C",this.size.width-2,1,this.size.width-2,this.size.height/2],["",this.size.width-2,this.size.height/2],["C",this.size.width-2,this.size.height/2,this.size.width-2,this.size.height-2],["",this.size.width-t,this.size.height-2],["L",i,this.size.height-2],["L",1,this.size.height/2],["Z"]],this.viewBox=`0 0  ${this.size.width} ${this.size.height}`}createCustomPath(){return Bt(this.path)}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-display"]],inputs:{size:"size",data:"data"},features:[Ye],decls:5,vars:5,consts:[["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%"]],template:function(i,s){1&i&&(kt(),me(0,"svg",0),st(1,"path"),me(2,"text"),Te(3),pe(),Te(4," Sorry, your browser does not support inline SVG. "),pe()),2&i&&(ye("viewBox",s.viewBox),ie(1),ye("d",s.createCustomPath())("fill",s.data.fill)("stroke",s.data.stroke),ie(2),Gt(" ",s.data.label," "))},encapsulation:2})}return n})(),LI=(()=>{class n{constructor(t){this.elementRef=t,this.size={width:60,height:40},this.data={stroke:q_stroke,label:"",fill:q_fill,fontFill:"#000",fontSize:12}}ngOnChanges(t){t.data&&t.data.currentValue&&this.create(),t.size&&t.size.currentValue&&this.create()}ngOnInit(){this.create()}create(){const t=Math.min(Math.tan(Math.PI/6)*(this.size.width/2),this.size.height/4);this.path=[["M",1,1],["L",this.size.width-2,1],["L",this.size.width-2,this.size.height-t],["L",this.size.width/2,this.size.height-2],["L",1,this.size.height-t],["Z"]],this.viewBox=`0 0  ${this.size.width} ${this.size.height}`}createCustomPath(){return Bt(this.path)}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-off-page-link"]],inputs:{size:"size",data:"data"},features:[Ye],decls:5,vars:5,consts:[["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%"]],template:function(i,s){1&i&&(kt(),me(0,"svg",0),st(1,"path"),me(2,"text"),Te(3),pe(),Te(4," Sorry, your browser does not support inline SVG. "),pe()),2&i&&(ye("viewBox",s.viewBox),ie(1),ye("d",s.createCustomPath())("fill",s.data.fill)("stroke",s.data.stroke),ie(2),Gt(" ",s.data.label," "))},encapsulation:2})}return n})(),RI=(()=>{class n{constructor(t){this.elementRef=t,this.size={width:60,height:40},this.data={stroke:q_stroke,label:"",fill:"transparent",fontFill:"#000",fontSize:12}}ngOnChanges(t){t.data&&t.data.currentValue&&this.create(),t.size&&t.size.currentValue&&this.create()}ngOnInit(){this.create()}create(){const i=this.size.width-2;this.path=[["M",i,1],["C",i-6,1,i-6,6],["",i-6,(this.size.height-6)/2],["L",i-12,this.size.height/2],["L",i-6,(this.size.height+6)/2],["L",i-6,this.size.height-2-6],["C",i-6,this.size.height-2,i,this.size.height-2],["",i,this.size.height-2]],this.viewBox=`0 0  ${this.size.width} ${this.size.height}`}createCustomPath(){return Bt(this.path)}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-note-left"]],inputs:{size:"size",data:"data"},features:[Ye],decls:5,vars:9,consts:[["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%"],["text-anchor","middle","alignment-baseline","middle"]],template:function(i,s){1&i&&(kt(),me(0,"svg",0),st(1,"path"),me(2,"text",1),Te(3),pe(),Te(4," Sorry, your browser does not support inline SVG. "),pe()),2&i&&(ye("viewBox",s.viewBox),ie(1),ye("d",s.createCustomPath())("fill",s.data.fill)("stroke",s.data.stroke),ie(1),ye("x",s.size.width/2)("y",s.size.height/2)("fill",s.data.fontFill)("font-size",s.data.fontSize),ie(1),Gt(" ",s.data.label," "))},encapsulation:2})}return n})(),NI=(()=>{class n{constructor(t){this.elementRef=t,this.size={width:60,height:40},this.data={stroke:q_stroke,label:"",fill:"transparent",fontFill:"#000",fontSize:12}}ngOnChanges(t){t.data&&t.data.currentValue&&this.create(),t.size&&t.size.currentValue&&this.create()}ngOnInit(){this.create()}create(){this.path=[["M",1,1],["C",6,1,6,6],["",6,(this.size.height-6)/2],["L",12,this.size.height/2],["L",6,(this.size.height+6)/2],["L",6,this.size.height-2-6],["C",6,this.size.height-2,1,this.size.height-2],["",1,this.size.height-2]],this.viewBox=`0 0  ${this.size.width} ${this.size.height}`}createCustomPath(){return Bt(this.path)}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-note-right"]],inputs:{size:"size",data:"data"},features:[Ye],decls:5,vars:9,consts:[["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%"],["text-anchor","middle","alignment-baseline","middle"]],template:function(i,s){1&i&&(kt(),me(0,"svg",0),st(1,"path"),me(2,"text",1),Te(3),pe(),Te(4," Sorry, your browser does not support inline SVG. "),pe()),2&i&&(ye("viewBox",s.viewBox),ie(1),ye("d",s.createCustomPath())("fill",s.data.fill)("stroke",s.data.stroke),ie(1),ye("x",s.size.width/2)("y",s.size.height/2)("fill",s.data.fontFill)("font-size",s.data.fontSize),ie(1),Gt(" ",s.data.label," "))},encapsulation:2})}return n})(),VI=(()=>{class n{constructor(t){this.elementRef=t,this.size={width:60,height:40},this.data={stroke:q_stroke,label:"",fill:q_fill,fontFill:"#000",fontSize:12}}ngOnChanges(t){t.data&&t.data.currentValue&&this.create(),t.size&&t.size.currentValue&&this.create()}ngOnInit(){this.create()}create(){const t=this.size.width-2,i=this.size.height-2;this.path=[["M",1,1],["L",t-6,1],["C",t,1,t,6],["",t,this.size.height/2],["L",t,i-6],["C",t,i,t-6,i],["",t-6,i],["L",6,i],["C",1,i,1,i-6],["",1,i-6],["Z"]],this.path1=`M 1,6 L ${t-1} 6`,this.path2=`M 6,1 L 6 ${i} `,this.viewBox=`0 0  ${this.size.width} ${this.size.height}`}createCustomPath(t){switch(t){case 1:return Bt(this.path);case 2:return this.path1;default:return this.path2}}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-internal-storage"]],inputs:{size:"size",data:"data"},features:[Ye],decls:7,vars:11,consts:[["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%"]],template:function(i,s){1&i&&(kt(),me(0,"svg",0),st(1,"path")(2,"path")(3,"path"),me(4,"text"),Te(5),pe(),Te(6," Sorry, your browser does not support inline SVG. "),pe()),2&i&&(ye("viewBox",s.viewBox),ie(1),ye("d",s.createCustomPath(1))("fill",s.data.fill)("stroke",s.data.stroke),ie(1),ye("d",s.createCustomPath(2))("fill",s.data.fill)("stroke",s.data.stroke),ie(1),ye("d",s.createCustomPath(3))("fill",s.data.fill)("stroke",s.data.stroke),ie(2),Gt(" ",s.data.label," "))},encapsulation:2})}return n})(),HI=(()=>{class n{constructor(t){this.elementRef=t,this.size={width:60,height:40},this.data={stroke:q_stroke,label:"",fill:q_fill,fontFill:"#000",fontSize:12}}ngOnChanges(t){t.data&&t.data.currentValue&&this.create(),t.size&&t.size.currentValue&&this.create()}ngOnInit(){this.create()}create(){this.viewBox=`0 0  ${this.size.width} ${this.size.height}`}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-text"]],inputs:{size:"size",data:"data"},features:[Ye],decls:4,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%"],["x","0","y","0","alignment-baseline","text-before-edge"]],template:function(i,s){1&i&&(kt(),me(0,"svg",0)(1,"text",1),Te(2),pe(),Te(3," Sorry, your browser does not support inline SVG. "),pe()),2&i&&(ye("viewBox",s.viewBox),ie(2),Gt(" ",s.data.label," "))},encapsulation:2})}return n})();var K1e=jo.NODE_WIDTH,J1e=jo.NODE_HEIGHT;const Bt=(n,e=0,t=0)=>{if(!n.length)return null;let i="";return n.forEach(s=>{const[r,o,a,c,l]=s;i+=(0,Aa.isNumber)(a)?` ${r} ${o+e} ${a+t}`:` ${r}`,l&&(i+=` ${c+e} ${l+t}`)}),i},Dg=n=>({position:{name:n},attrs:{circle:{r:4,magnet:!0,stroke:"#31d0c6",strokeWidth:2,fill:"#fff",style:{visibility:"hidden"}}},zIndex:10}),Q1e=(n=["top","right","bottom","left"])=>({items:n.map(e=>({group:e,id:Xy()})),groups:{top:Dg("top"),right:Dg("right"),bottom:Dg("bottom"),left:Dg("left")}}),e4e=function(){var n=se(function*(e){return[...gI.map(({name:t,ports:i,width:s=K1e,height:r=J1e,label:o=""})=>({id:Xy(),renderKey:t,name:t,label:o,popoverContent:()=>t,width:s,height:r,ports:Q1e(i)}))]});return function(t){return n.apply(this,arguments)}}(),kI={attrs:{line:{stroke:"#A2B1C3",targetMarker:{name:"block",width:12,height:8},strokeDasharray:"5 5",strokeWidth:1}}},i4e=uw.registry.register("xflow",uw.define({zIndex:1,highlight:!0,name:"flowchart-connecting-edge",label:"",anchor:{name:"midSide",args:{dx:10}},attrs:kI.attrs,data:{label:""}}),!0),s4e=(n=>e=>{const t=new GD;return n(t,{getValue:()=>e}),t})((n,e)=>{const{mode:t="edit",showPortsOnNodeSelected:i=!1,edgeConfig:s={}}=e.getValue();n.setX6Config((0,Aa.merge)({grid:!0,history:!0,connecting:{router:"manhattan",connector:{name:"rounded",args:{radius:8}},anchor:"center",connectionPoint:"anchor",allowBlank:!1,snap:{radius:20},createEdge(){const r=new i4e({});return console.log("tempEdge>>>",r),this.once("edge:connected",o=>{console.log("tempEdge>>>",r);const{edge:a,isNew:c}=o;if(c&&a&&a.isEdge()&&r===a){const l=a.getTargetCell();if(l&&l.isNode()){const h=a.getTargetPortId(),f=a.getSourcePortId(),g=a.getSourceCellId(),p=a.getTargetCellId(),v="function"==typeof s?s(a):s;this.trigger("ADD_FLOWCHART_EDGE_CMD_EVENT",{targetPortId:h,sourcePortId:f,source:g,target:p,edge:a,tempEdgeId:r.id,...(0,Aa.merge)(kI,v)})}}}),r},validateEdge:r=>{const{edge:o}=r;return!!o?.target?.port},validateMagnet:()=>!0,validateConnection({sourceView:r,targetView:o,targetMagnet:a}){if(r===o)return!1;const c=o.cell;if(a){const l=a.getAttribute("port"),h=c.getPort(l);return!(h&&h.connected)}}}})),(n=>{n.nodeRender.get("Terminal")||gI.map(e=>{n.setNodeRender(e.name,Ba[`${e.name}Node`])})})(n),n.setEvents([{eventName:"node:selected",callback:()=>{"edit"===t&&Tw(!1)}},{eventName:"edge:dblclick",callback:r=>{}},{eventName:"edge:mouseleave",callback:(r,o)=>{}},{eventName:"node:mouseenter",callback:r=>{console.log("node:mouseenter>>>test"),"edit"===t&&Tw(!0,r,!0)}},{eventName:"node:mouseleave",callback:r=>{Tw(!1,r)}},{eventName:"node:moved",callback:(r,o)=>{}},{eventName:"node:resized",callback:(r,o)=>{fI(r,o)}},{eventName:"node:resizing",callback:(r,o)=>{fI(r,o)}}])}),r4e=["*"];let FI=(()=>{class n{constructor(t){this.app=t,this.position={top:40,left:240,right:240,bottom:0},this.isXFlowCanvas=!0,this.config=s4e({})}static#e=this.\u0275fac=function(i){return new(i||n)(U(rI))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-flow-chart-canvas"]],inputs:{position:"position"},ngContentSelectors:r4e,decls:3,vars:3,consts:[[1,"flow-chart-container","h-full"],[3,"position","app","config"]],template:function(i,s){1&i&&(Iu(),me(0,"div",0),st(1,"app-x-flow-canvas",1),Lu(2),pe()),2&i&&(ie(1),yt("position",s.position)("app",s.app)("config",s.config))},dependencies:[Aw],styles:["[_nghost-%COMP%]  .flow-chart-container .x6-edge{stroke-width:1px}[_nghost-%COMP%]  .flow-chart-container .x6-edge.x6-edge-selected path:nth-child(2){stroke:#3572f9;stroke-width:2px}[_nghost-%COMP%]  .flow-chart-container .x6-edge:hover path:nth-child(2){stroke:#3572f9;stroke-width:2px}[_nghost-%COMP%]  .flow-chart-container .x6-edge.hoverHighlight path:nth-child(2){stroke:#3572f9;stroke-width:2px}[_nghost-%COMP%]  .flow-chart-container .x6-widget-transform{margin:-1px 0 0 -1px;padding:0;border:1px solid #239edd}[_nghost-%COMP%]  .flow-chart-container .x6-widget-transform>div{border:1px solid #239edd}[_nghost-%COMP%]  .flow-chart-container .x6-widget-transform>div:hover{background-color:#3dafe4}[_nghost-%COMP%]  .flow-chart-container .x6-widget-transform-active-handle{background-color:#3dafe4}[_nghost-%COMP%]  .flow-chart-container .x6-widget-transform-resize{border-radius:0}[_nghost-%COMP%]  .flow-chart-container .x6-widget-selection-inner{border:1px solid #239edd}[_nghost-%COMP%]  .flow-chart-container .x6-widget-selection-box{opacity:0}"],changeDetection:0})}return n})();class R1 extends St{get targetScroller(){return this.options.target.getPlugin("scroller")}get targetGraph(){return this.options.target}get targetModel(){return this.targetGraph.model}get snapline(){return this.options.target.getPlugin("snapline")}constructor(e){super(),this.name="dnd",this.options=Object.assign(Object.assign({},R1.defaults),e),this.init()}init(){d8(this.name,".x6-widget-dnd {\n  position: absolute;\n  top: -10000px;\n  left: -10000px;\n  z-index: 999999;\n  display: none;\n  cursor: move;\n  opacity: 0.7;\n  pointer-events: 'cursor';\n}\n.x6-widget-dnd.dragging {\n  display: inline-block;\n}\n.x6-widget-dnd.dragging * {\n  pointer-events: none !important;\n}\n.x6-widget-dnd .x6-graph {\n  background: transparent;\n  box-shadow: none;\n}\n"),this.container=document.createElement("div"),Ie(this.container,this.prefixClassName("widget-dnd")),this.draggingGraph=new oe(Object.assign(Object.assign({},this.options.delegateGraphOptions),{container:document.createElement("div"),width:1,height:1,async:!1})),Yc(this.container,this.draggingGraph.container)}start(e,t){const i=t;i.preventDefault(),this.targetModel.startBatch("dnd"),Ie(this.container,"dragging"),t8(this.container,this.options.draggingContainer||document.body),this.sourceNode=e,this.prepareDragging(e,i.clientX,i.clientY);const s=this.updateNodePosition(i.clientX,i.clientY);this.isSnaplineEnabled()&&(this.snapline.captureCursorOffset({e:i,node:e,cell:e,view:this.draggingView,x:s.x,y:s.y}),this.draggingNode.on("change:position",this.snap,this)),this.delegateDocumentEvents(R1.documentEvents,i.data)}isSnaplineEnabled(){return this.snapline&&this.snapline.isEnabled()}prepareDragging(e,t,i){const s=this.draggingGraph,r=s.model,o=this.options.getDragNode(e,{sourceNode:e,draggingGraph:s,targetGraph:this.targetGraph});o.position(0,0);let a=5;if(this.isSnaplineEnabled()&&(a+=this.snapline.options.tolerance||0),this.isSnaplineEnabled()||this.options.scaled){const h=this.targetGraph.transform.getScale();s.scale(h.sx,h.sy),a*=Math.max(h.sx,h.sy)}else s.scale(1,1);this.clearDragging(),r.resetCells([o]);const c=s.findViewByCell(o);c.undelegateEvents(),c.cell.off("changed"),s.fitToContent({padding:a,allowNewOrigin:"any",useCellGeometry:!1});const l=c.getBBox();this.geometryBBox=c.getBBox({useCellGeometry:!0}),this.delta=this.geometryBBox.getTopLeft().diff(l.getTopLeft()),this.draggingNode=o,this.draggingView=c,this.draggingBBox=o.getBBox(),this.padding=a,this.originOffset=this.updateGraphPosition(t,i)}updateGraphPosition(e,t){const i=document.body.scrollTop||document.documentElement.scrollTop,s=document.body.scrollLeft||document.documentElement.scrollLeft,r=this.delta,o=this.geometryBBox,a=this.padding||5,c={left:e-r.x-o.width/2-a+s,top:t-r.y-o.height/2-a+i};return this.draggingGraph&&ii(this.container,{left:`${c.left}px`,top:`${c.top}px`}),c}updateNodePosition(e,t){const i=this.targetGraph.clientToLocal(e,t),s=this.draggingBBox;return i.x-=s.width/2,i.y-=s.height/2,this.draggingNode.position(i.x,i.y),i}snap({cell:e,current:t,options:i}){const s=e;if(i.snapped){const r=this.draggingBBox;s.position(r.x+i.tx,r.y+i.ty,{silent:!0}),this.draggingView.translate(),s.position(t.x,t.y,{silent:!0}),this.snapOffset={x:i.tx,y:i.ty}}else this.snapOffset=null}onDragging(e){const t=this.draggingView;if(t){e.preventDefault();const i=this.normalizeEvent(e),s=i.clientX,r=i.clientY;this.updateGraphPosition(s,r);const o=this.updateNodePosition(s,r),a=this.targetGraph.options.embedding.enabled,c=(a||this.isSnaplineEnabled())&&this.isInsideValidArea({x:s,y:r});if(a){t.setEventData(i,{graph:this.targetGraph,candidateEmbedView:this.candidateEmbedView});const l=t.getEventData(i);c?t.processEmbedding(i,l):t.clearEmbedding(l),this.candidateEmbedView=l.candidateEmbedView}this.isSnaplineEnabled()&&(c?this.snapline.snapOnMoving({e:i,view:t,x:o.x,y:o.y}):this.snapline.hide())}}onDragEnd(e){const t=this.draggingNode;if(t){const i=this.normalizeEvent(e),s=this.draggingView,r=this.draggingBBox,o=this.snapOffset;let a=r.x,c=r.y;o&&(a+=o.x,c+=o.y),t.position(a,c,{silent:!0});const l=this.drop(t,{x:i.clientX,y:i.clientY}),h=f=>{f?(this.onDropped(t),this.targetGraph.options.embedding.enabled&&s&&(s.setEventData(i,{cell:f,graph:this.targetGraph,candidateEmbedView:this.candidateEmbedView}),s.finalizeEmbedding(i,s.getEventData(i)))):this.onDropInvalid(),this.candidateEmbedView=null,this.targetModel.stopBatch("dnd")};eb(l)?(this.undelegateDocumentEvents(),l.then(h)):h(l)}}clearDragging(){this.draggingNode&&(this.sourceNode=null,this.draggingNode.remove(),this.draggingNode=null,this.draggingView=null,this.delta=null,this.padding=null,this.snapOffset=null,this.originOffset=null,this.undelegateDocumentEvents())}onDropped(e){this.draggingNode===e&&(this.clearDragging(),Wn(this.container,"dragging"),Vo(this.container))}onDropInvalid(){const e=this.draggingNode;e&&this.onDropped(e)}isInsideValidArea(e){let t,i=null;const s=this.targetGraph,r=this.targetScroller;this.options.dndContainer&&(i=this.getDropArea(this.options.dndContainer));const o=i&&i.containsPoint(e);if(r)if(r.options.autoResize)t=this.getDropArea(r.container);else{const a=this.getDropArea(r.container);t=this.getDropArea(s.container).intersectsWithRect(a)}else t=this.getDropArea(s.container);return!o&&t&&t.containsPoint(e)}getDropArea(e){const t=l8(e),i=document.body.scrollTop||document.documentElement.scrollTop,s=document.body.scrollLeft||document.documentElement.scrollLeft;return re.create({x:t.left+parseInt(ii(e,"border-left-width"),10)-s,y:t.top+parseInt(ii(e,"border-top-width"),10)-i,width:e.clientWidth,height:e.clientHeight})}drop(e,t){if(this.isInsideValidArea(t)){const i=this.targetGraph,s=i.model,r=i.clientToLocal(t),o=this.sourceNode,a=this.options.getDropNode(e,{sourceNode:o,draggingNode:e,targetGraph:this.targetGraph,draggingGraph:this.draggingGraph}),c=a.getBBox();r.x+=c.x-c.width/2,r.y+=c.y-c.height/2;const l=this.snapOffset?1:i.getGridSize();a.position(wt.snapToGrid(r.x,l),wt.snapToGrid(r.y,l)),a.removeZIndex();const h=this.options.validateNode,f=!h||h(a,{sourceNode:o,draggingNode:e,droppingNode:a,targetGraph:i,draggingGraph:this.draggingGraph});return"boolean"==typeof f?f?(s.addCell(a,{stencil:this.cid}),a):null:function zY(...n){const e=tb(n);return"boolean"==typeof e?Promise.resolve(e):e}(f).then(g=>g?(s.addCell(a,{stencil:this.cid}),a):null)}return null}onRemove(){this.draggingGraph&&(this.draggingGraph.view.remove(),this.draggingGraph.dispose())}dispose(){this.remove(),f8(this.name)}}(function(n,e,t,i){var o,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(e,t,r):o(e,t))||r);s>3&&r&&Object.defineProperty(e,t,r)})([St.dispose()],R1.prototype,"dispose",null),function(n){n.defaults={getDragNode:e=>e.clone(),getDropNode:e=>e.clone()},n.documentEvents={mousemove:"onDragging",touchmove:"onDragging",mouseup:"onDragEnd",touchend:"onDragEnd",touchcancel:"onDragEnd"}}(R1||(R1={}));class BI extends Vn{}!function(n){function e(t){const i=[],s=Qt.getForeignObjectMarkup();return t?i.push({tagName:t,selector:"body"},s):i.push(s),i}n.config({view:"angular-shape-view",markup:e(),attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"}},propHooks(t){if(null==t.markup){const i=t.primer;if(i){t.markup=e(i);let s={};switch(i){case"circle":s={refCx:"50%",refCy:"50%",refR:"50%"};break;case"ellipse":s={refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}}t.attrs=En({},{body:Object.assign({refWidth:null,refHeight:null},s)},t.attrs||{})}}return t}}),Vn.registry.register("angular-shape",n,!0)}(BI||(BI={}));const jI=new Map;class Ag extends nr{getNodeContainer(){return this.selectors&&this.selectors.foContent}confirmUpdate(e){const t=super.confirmUpdate(e);return this.handleAction(t,Ag.action,()=>this.renderAngularContent())}getNgArguments(){var e;return(null===(e=this.cell.data)||void 0===e?void 0:e.ngArguments)||{}}setInstanceInput(e,t){const i=this.getNgArguments();if(e instanceof di)t.context={ngArguments:i};else{const s=t;Object.keys(i).forEach(r=>s.setInput(r,i[r])),s.changeDetectorRef.detectChanges()}}renderAngularContent(){this.unmountAngularContent();const e=this.getNodeContainer();if(e){const t=this.cell,{injector:i,content:s}=jI.get(t.shape),r=i.get(Ei);if(s instanceof di){const o=this.getNgArguments(),a=r.createEmbeddedView(s,{ngArguments:o});a.rootNodes.forEach(c=>e.appendChild(c)),a.detectChanges(),t.on("change:data",()=>this.setInstanceInput(s,a))}else{const o=r.createComponent(s);e.appendChild(o.hostView.rootNodes[0]),this.setInstanceInput(s,o),t.on("change:data",()=>this.setInstanceInput(s,o)),t.on("removed",()=>o.destroy())}}}unmountAngularContent(){const e=this.getNodeContainer();return e.innerHTML="",e}onMouseDown(e,t,i){const s=e.target;if("input"===s.tagName.toLowerCase()){const o=s.getAttribute("type");if(null==o||["text","password","number","email","search","tel","url"].includes(o))return}super.onMouseDown(e,t,i)}unmount(){return this.unmountAngularContent(),super.unmount(),this}}!function(n){n.action="angular",n.config({bootstrap:[n.action],actions:{component:n.action}}),nr.registry.register("angular-shape-view",n,!0)}(Ag||(Ag={}));const u4e=["templateRef"],h4e=["dndContainer"];function d4e(n,e){}function f4e(n,e){1&n&&st(0,"span",9)}function g4e(n,e){1&n&&st(0,"span",10)}const p4e=function(n,e,t){return{top:"21px",right:n,borderRadius:e,borderLeft:t}};let Ow=(()=>{class n{constructor(t,i){this.graphProviderService=t,this.injector=i,this.position={width:240,top:40,bottom:0,left:0},this.style={},this.CONTAINER_CLASS="xflow-node-panel-collpase",this.collapse=!1,this.width=240,this.left=0,this.officialNodeList=[]}ngAfterViewInit(){setTimeout(()=>{this.createDnd(),this.initNode()})}createDnd(){var t=this;return se(function*(){const i=yield t.graphProviderService.getGraphInstance();t.graph=i,t.dnd=new R1({target:i,scaled:!0,dndContainer:t.dndContainer.nativeElement})})()}initNode(){var t=this;e4e([]).then(function(){var i=se(function*(s){const r=yield t.graphProviderService.getGraphOptions();t.officialNodeList=s.map(o=>{const a=r.nodeRender.get(o.name);!function l4e(n){const{shape:e,injector:t,content:i}=n,s=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]])}return t}(n,["shape","injector","content"]);jI.set(e,{injector:t,content:i}),oe.registerNode(e,Object.assign({inherit:"angular-shape"},s),!0)}({shape:o.name,width:o.width||180,height:o.height||40,content:a,injector:t.injector});const c=t.viewRef.createComponent(a);return c.instance.data.label=o.label,c.instance.elementRef.nativeElement.onmousedown=function(){var h=se(function*(f){const g=t.graph.createNode({shape:o.name,ports:o.ports,width:o.width,height:o.height}),p={};o.label&&(p.label=o.label,p.fill="transparent"),g.setData({ngArguments:{data:{stroke:q_stroke,label:"",fill:q_fill,fontFill:"#000",fontSize:12,...p}}}),g.getData().ngArguments.data.label=o.label,t.dnd.start(g,f)});return function(f){return h.apply(this,arguments)}}(),{...o,instance:c.instance}})});return function(s){return i.apply(this,arguments)}}())}ngOnInit(){this.style=Dw(this.position)}setCollapse(){this.collapse=!this.collapse,this.position.left=this.collapse?-this.width:this.left,this.position={...this.position}}static#e=this.\u0275fac=function(i){return new(i||n)(U(T8),U(On))};static#t=this.\u0275cmp=We({type:n,selectors:[["app-flow-node-panel"]],viewQuery:function(i,s){if(1&i&&(Vc(u4e,5,Ei),Vc(h4e,5)),2&i){let r;Do(r=Ao())&&(s.viewRef=r.first),Do(r=Ao())&&(s.dndContainer=r.first)}},inputs:{position:"position"},decls:12,vars:15,consts:[[3,"className","position"],["nzBordered","false"],["nzHeader","\u901a\u7528\u8282\u70b9","nzActive",""],[1,"xflow-node-panel-official"],["dndContainer",""],["templateRef",""],[3,"ngStyle","click"],["nz-icon","","nzType","double-right","nzTheme","outline",4,"ngIf"],["nz-icon","","nzType","double-left","nzTheme","outline",4,"ngIf"],["nz-icon","","nzType","double-right","nzTheme","outline"],["nz-icon","","nzType","double-left","nzTheme","outline"]],template:function(i,s){1&i&&(me(0,"app-base-panel",0)(1,"div")(2,"div")(3,"nz-collapse",1)(4,"nz-collapse-panel",2)(5,"div",3,4),cs(7,d4e,0,0,"ng-template",null,5,uv),pe()()()(),me(9,"div",6),Pu("click",function(){return s.setCollapse()}),cs(10,f4e,1,0,"span",7),cs(11,g4e,1,0,"span",8),pe()()()),2&i&&(yt("className",s.CONTAINER_CLASS)("position",s.position),ie(1),jm(s.CONTAINER_CLASS),ie(8),Um("",s.CONTAINER_CLASS,"-icon"),yt("ngStyle",tv(11,p4e,s.collapse?"-20px":"-10px",s.collapse?"0 50% 50% 0":"50%",s.collapse?"none":"")),ie(1),yt("ngIf",s.collapse),ie(1),yt("ngIf",!s.collapse))},styles:[".xflow-node-panel-collpase[_ngcontent-%COMP%]{position:relative;height:100%;color:#000000d9;font-size:12px;border-top-right-radius:10px;border-bottom-right-radius:10px;box-shadow:#11111a1a 0 8px 24px,#11111a1a 0 16px 56px,#11111a1a 0 24px 80px}.xflow-node-panel-collpase-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.xflow-node-panel-collpase-nodes[_ngcontent-%COMP%]{border-right:1px solid #d9d9d9}.xflow-node-panel-collpase-icon[_ngcontent-%COMP%]{position:absolute;z-index:99;width:20px;color:#aaa;text-align:center;background:#fff;border:1px solid #ccc;transform:translateY(-50%);cursor:pointer}.xflow-node-panel-collpase-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:1px}.xflow-node-panel-collpase-icon[_ngcontent-%COMP%]:hover{color:#2b84c0}.xflow-node-panel-official[_ngcontent-%COMP%]{grid-gap:5px;overflow-x:hidden;overflow-y:auto;background:#fff;cursor:grab;display:grid;grid-template-columns:repeat(4,minmax(24px,1fr))}"]})}return n})();const m4e=["*"];let Tg=(()=>{class n{constructor(){this.style={},this.containerStyle={},this.containerClass={"xflow-workspace-panel":!0}}ngOnChanges(t){t.position&&t.position.currentValue&&this.setContainerStyle()}ngOnInit(){this.setContainerStyle()}setContainerStyle(){const t=Dw(this.position);this.containerStyle={...t,...this.style},this.className&&(this.containerClass[this.className]=!0)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=We({type:n,selectors:[["app-base-panel"]],inputs:{position:"position",style:"style",className:"className"},features:[Ye],ngContentSelectors:m4e,decls:2,vars:2,consts:[[3,"ngStyle","ngClass"]],template:function(i,s){1&i&&(Iu(),me(0,"div",0),Lu(1),pe()),2&i&&yt("ngStyle",s.containerStyle)("ngClass",s.containerClass)},dependencies:[Gv,_0],styles:[".xflow-workspace-panel{z-index:1;background:#fff;transition:all .5s}\n"],encapsulation:2,changeDetection:0})}return n})();var ll;!function(n){n.BACK_NODE=Gn.BACK_NODE.id,n.FRONT_NODE=Gn.FRONT_NODE.id,n.SAVE_GRAPH_DATA=fi.SAVE_GRAPH_DATA.id,n.REDO_CMD=`${fi.REDO_CMD.id}`,n.UNDO_CMD=`${fi.UNDO_CMD.id}`,n.MULTI_SELECT=`${fi.GRAPH_TOGGLE_MULTI_SELECT.id}`,n.ADD_GROUP=`${C5.ADD_GROUP.id}`,n.DEL_GROUP=`${C5.DEL_GROUP.id}`,n.COPY=`${fi.GRAPH_COPY.id}`,n.PASTE=`${fi.GRAPH_PASTE.id}`}(ll||(ll={}));const y4e=[{tooltip:"\u7f6e\u524d",iconName:"vertical-align-top",id:ll.FRONT_NODE,isEnabled:!0},{tooltip:"\u7f6e\u540e",iconName:"vertical-align-bottom",id:ll.BACK_NODE,isEnabled:!0},{tooltip:"\u5f00\u542f\u6846\u9009",iconName:"gateway",id:ll.MULTI_SELECT,active:!0},{tooltip:"\u65b0\u5efa\u7fa4\u7ec4",iconName:"group",id:ll.ADD_GROUP,isEnabled:!0},{tooltip:"\u89e3\u6563\u7fa4\u7ec4",iconName:"ungroup",id:ll.DEL_GROUP,isEnabled:!0},{tooltip:"\u4fdd\u5b58",iconName:"save",id:ll.SAVE_GRAPH_DATA}];let Pw;try{Pw=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Pw=!1}let N1,G2=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function iU(n){return n===oz}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Pw)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(F(xo))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),b4e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ot({type:n});static#n=this.\u0275inj=nn({})}return n})();function _4e(){if(null==N1){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return N1=!1,N1;if("scrollBehavior"in document.documentElement.style)N1=!0;else{const n=Element.prototype.scrollTo;N1=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return N1}function UI(n){return n.composedPath?n.composedPath()[0]:n.target}function GI(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Ti(n,e){(function M4e(n){return"string"==typeof n&&-1!==n.indexOf(".")&&1===parseFloat(n)})(n)&&(n="100%");var t=function x4e(n){return"string"==typeof n&&-1!==n.indexOf("%")}(n);return n=360===e?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:n=360===e?(n<0?n%e+e:n%e)/parseFloat(String(e)):n%e/parseFloat(String(e))}function Pg(n){return Math.min(1,Math.max(0,n))}function qI(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function Ig(n){return n<=1?"".concat(100*Number(n),"%"):n}function V1(n){return 1===n.length?"0"+n:String(n)}function WI(n,e,t){n=Ti(n,255),e=Ti(e,255),t=Ti(t,255);var i=Math.max(n,e,t),s=Math.min(n,e,t),r=0,o=0,a=(i+s)/2;if(i===s)o=0,r=0;else{var c=i-s;switch(o=a>.5?c/(2-i-s):c/(i+s),i){case n:r=(e-t)/c+(e<t?6:0);break;case e:r=(t-n)/c+2;break;case t:r=(n-e)/c+4}r/=6}return{h:r,s:o,l:a}}function Lw(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*t*(e-n):t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Lg(n,e,t){n=Ti(n,255),e=Ti(e,255),t=Ti(t,255);var i=Math.max(n,e,t),s=Math.min(n,e,t),r=0,o=i,a=i-s,c=0===i?0:a/i;if(i===s)r=0;else{switch(i){case n:r=(e-t)/a+(e<t?6:0);break;case e:r=(t-n)/a+2;break;case t:r=(n-e)/a+4}r/=6}return{h:r,s:c,v:o}}function Rg(n,e,t,i){var s=[V1(Math.round(n).toString(16)),V1(Math.round(e).toString(16)),V1(Math.round(t).toString(16))];return i&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function YI(n){return Math.round(255*parseFloat(n)).toString(16)}function XI(n){return ir(n)/255}function ir(n){return parseInt(n,16)}var Rw={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function ro(n){var e={r:0,g:0,b:0},t=1,i=null,s=null,r=null,o=!1,a=!1;return"string"==typeof n&&(n=function P4e(n){if(0===(n=n.trim().toLowerCase()).length)return!1;var e=!1;if(Rw[n])n=Rw[n],e=!0;else if("transparent"===n)return{r:0,g:0,b:0,a:0,format:"name"};var t=oo.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=oo.rgba.exec(n))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=oo.hsl.exec(n))?{h:t[1],s:t[2],l:t[3]}:(t=oo.hsla.exec(n))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=oo.hsv.exec(n))?{h:t[1],s:t[2],v:t[3]}:(t=oo.hsva.exec(n))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=oo.hex8.exec(n))?{r:ir(t[1]),g:ir(t[2]),b:ir(t[3]),a:XI(t[4]),format:e?"name":"hex8"}:(t=oo.hex6.exec(n))?{r:ir(t[1]),g:ir(t[2]),b:ir(t[3]),format:e?"name":"hex"}:(t=oo.hex4.exec(n))?{r:ir(t[1]+t[1]),g:ir(t[2]+t[2]),b:ir(t[3]+t[3]),a:XI(t[4]+t[4]),format:e?"name":"hex8"}:!!(t=oo.hex3.exec(n))&&{r:ir(t[1]+t[1]),g:ir(t[2]+t[2]),b:ir(t[3]+t[3]),format:e?"name":"hex"}}(n)),"object"==typeof n&&(Na(n.r)&&Na(n.g)&&Na(n.b)?(e=function E4e(n,e,t){return{r:255*Ti(n,255),g:255*Ti(e,255),b:255*Ti(t,255)}}(n.r,n.g,n.b),o=!0,a="%"===String(n.r).substr(-1)?"prgb":"rgb"):Na(n.h)&&Na(n.s)&&Na(n.v)?(i=Ig(n.s),s=Ig(n.v),e=function z4e(n,e,t){n=6*Ti(n,360),e=Ti(e,100),t=Ti(t,100);var i=Math.floor(n),s=n-i,r=t*(1-e),o=t*(1-s*e),a=t*(1-(1-s)*e),c=i%6;return{r:255*[t,o,r,r,a,t][c],g:255*[a,t,t,o,r,r][c],b:255*[r,r,a,t,t,o][c]}}(n.h,i,s),o=!0,a="hsv"):Na(n.h)&&Na(n.s)&&Na(n.l)&&(i=Ig(n.s),r=Ig(n.l),e=function S4e(n,e,t){var i,s,r;if(n=Ti(n,360),e=Ti(e,100),t=Ti(t,100),0===e)s=t,r=t,i=t;else{var o=t<.5?t*(1+e):t+e-t*e,a=2*t-o;i=Lw(a,o,n+1/3),s=Lw(a,o,n),r=Lw(a,o,n-1/3)}return{r:255*i,g:255*s,b:255*r}}(n.h,i,r),o=!0,a="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=qI(t),{ok:o,format:n.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var ul="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),Nw="[\\s|\\(]+(".concat(ul,")[,|\\s]+(").concat(ul,")[,|\\s]+(").concat(ul,")\\s*\\)?"),Vw="[\\s|\\(]+(".concat(ul,")[,|\\s]+(").concat(ul,")[,|\\s]+(").concat(ul,")[,|\\s]+(").concat(ul,")\\s*\\)?"),oo={CSS_UNIT:new RegExp(ul),rgb:new RegExp("rgb"+Nw),rgba:new RegExp("rgba"+Vw),hsl:new RegExp("hsl"+Nw),hsla:new RegExp("hsla"+Vw),hsv:new RegExp("hsv"+Nw),hsva:new RegExp("hsva"+Vw),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Na(n){return!!oo.CSS_UNIT.exec(String(n))}var Ng=2,ZI=.16,I4e=.05,L4e=.05,R4e=.15,KI=5,JI=4,N4e=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function QI(n){var s=Lg(n.r,n.g,n.b);return{h:360*s.h,s:s.s,v:s.v}}function Vg(n){return"#".concat(Rg(n.r,n.g,n.b,!1))}function eL(n,e,t){var i;return(i=Math.round(n.h)>=60&&Math.round(n.h)<=240?t?Math.round(n.h)-Ng*e:Math.round(n.h)+Ng*e:t?Math.round(n.h)+Ng*e:Math.round(n.h)-Ng*e)<0?i+=360:i>=360&&(i-=360),i}function tL(n,e,t){return 0===n.h&&0===n.s?n.s:((i=t?n.s-ZI*e:e===JI?n.s+ZI:n.s+I4e*e)>1&&(i=1),t&&e===KI&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2)));var i}function nL(n,e,t){var i;return(i=t?n.v+L4e*e:n.v-R4e*e)>1&&(i=1),Number(i.toFixed(2))}function Hw(n){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=[],i=ro(n),s=KI;s>0;s-=1){var r=QI(i),o=Vg(ro({h:eL(r,s,!0),s:tL(r,s,!0),v:nL(r,s,!0)}));t.push(o)}t.push(Vg(i));for(var a=1;a<=JI;a+=1){var c=QI(i),l=Vg(ro({h:eL(c,a),s:tL(c,a),v:nL(c,a)}));t.push(l)}return"dark"===e.theme?N4e.map(function(h){var f=h.index,g=h.opacity,p=Vg(function V4e(n,e,t){var i=t/100;return{r:(e.r-n.r)*i+n.r,g:(e.g-n.g)*i+n.g,b:(e.b-n.b)*i+n.b}}(ro(e.backgroundColor||"#141414"),ro(t[f]),100*g));return p}):t}var kw={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Oi={},Fw={};Object.keys(kw).forEach(function(n){Oi[n]=Hw(kw[n]),Oi[n].primary=Oi[n][5],Fw[n]=Hw(kw[n],{theme:"dark",backgroundColor:"#141414"}),Fw[n].primary=Fw[n][5]});class Hg{}class W2{}class Uo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const s=t.slice(0,i),r=s.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(s,r),this.headers.has(r)?this.headers.get(r).push(o):this.headers.set(r,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Uo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Uo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Uo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const s=("a"===e.op?this.headers.get(t):void 0)||[];s.push(...i),this.headers.set(t,s);break;case"d":const r=e.value;if(r){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===r.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(r=>r.toString()),s=e.toLowerCase();this.headers.set(s,i),this.maybeSetNormalizedName(e,s)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class H4e{encodeKey(e){return iL(e)}encodeValue(e){return iL(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const F4e=/%(\d[a-f0-9])/gi,B4e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function iL(n){return encodeURIComponent(n).replace(F4e,(e,t)=>B4e[t]??e)}function kg(n){return`${n}`}class hl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new H4e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function k4e(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const r=s.indexOf("="),[o,a]=-1==r?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,r)),e.decodeValue(s.slice(r+1))],c=t.get(o)||[];c.push(a),t.set(o,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],s=Array.isArray(i)?i.map(kg):[kg(i)];this.map.set(t,s)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const s=e[i];Array.isArray(s)?s.forEach(r=>{t.push({param:i,value:r,op:"a"})}):t.push({param:i,value:s,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new hl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(kg(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const s=i.indexOf(kg(e.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class j4e{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function sL(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function rL(n){return typeof Blob<"u"&&n instanceof Blob}function oL(n){return typeof FormData<"u"&&n instanceof FormData}class P8{constructor(e,t,i,s){let r;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function $4e(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,r=s):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new Uo),this.context||(this.context=new j4e),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new hl,this.urlWithParams=t}serializeBody(){return null===this.body?null:sL(this.body)||rL(this.body)||oL(this.body)||function U4e(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof hl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||oL(this.body)?null:rL(this.body)?this.body.type||null:sL(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof hl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,s=e.responseType||this.responseType,r=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((f,g)=>f.set(g,e.setHeaders[g]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((f,g)=>f.set(g,e.setParams[g]),l)),new P8(t,i,r,{params:l,headers:c,context:h,reportProgress:a,responseType:s,withCredentials:o})}}var Y2=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Y2||{});class Bw{constructor(e,t=200,i="OK"){this.headers=e.headers||new Uo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class jw extends Bw{constructor(e={}){super(e),this.type=Y2.ResponseHeader}clone(e={}){return new jw({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class X2 extends Bw{constructor(e={}){super(e),this.type=Y2.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new X2({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class aL extends Bw{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function $w(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let cL=(()=>{class n{constructor(t){this.handler=t}request(t,i,s={}){let r;if(t instanceof P8)r=t;else{let c,l;c=s.headers instanceof Uo?s.headers:new Uo(s.headers),s.params&&(l=s.params instanceof hl?s.params:new hl({fromObject:s.params})),r=new P8(t,i,void 0!==s.body?s.body:null,{headers:c,context:s.context,params:l,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const o=Ee(r).pipe(ju(c=>this.handler.handle(c)));if(t instanceof P8||"events"===s.observe)return o;const a=o.pipe(Si(c=>c instanceof X2));switch(s.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(lt(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(lt(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(lt(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(lt(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new hl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,s={}){return this.request("PATCH",t,$w(s,i))}post(t,i,s={}){return this.request("POST",t,$w(s,i))}put(t,i,s={}){return this.request("PUT",t,$w(s,i))}static#e=this.\u0275fac=function(i){return new(i||n)(F(Hg))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();function hL(n,e){return e(n)}function q4e(n,e){return(t,i)=>e.intercept(t,{handle:s=>n(s,i)})}const Y4e=new le(""),I8=new le(""),dL=new le("");function X4e(){let n=null;return(e,t)=>{null===n&&(n=(he(Y4e,{optional:!0})??[]).reduceRight(q4e,hL));const i=he(Rf),s=i.add();return n(e,t).pipe($u(()=>i.remove(s)))}}let fL=(()=>{class n extends Hg{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=he(Rf)}handle(t){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(I8),...this.injector.get(dL,[])]));this.chain=s.reduceRight((r,o)=>function W4e(n,e,t){return(i,s)=>t.runInContext(()=>e(i,r=>n(r,s)))}(r,o,this.injector),hL)}const i=this.pendingTasks.add();return this.chain(t,s=>this.backend.handle(s)).pipe($u(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(F(W2),F($i))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();const Q4e=/^\)\]\}',?\n/;let pL=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new G(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Wt(i.\u0275loadImpl()):Ee(null)).pipe(ms(()=>new Dt(r=>{const o=i.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((y,b)=>o.setRequestHeader(y,b.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const y=t.detectContentTypeHeader();null!==y&&o.setRequestHeader("Content-Type",y)}if(t.responseType){const y=t.responseType.toLowerCase();o.responseType="json"!==y?y:"text"}const a=t.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const y=o.statusText||"OK",b=new Uo(o.getAllResponseHeaders()),C=function eue(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return c=new jw({headers:b,status:o.status,statusText:y,url:C}),c},h=()=>{let{headers:y,status:b,statusText:C,url:_}=l(),M=null;204!==b&&(M=typeof o.response>"u"?o.responseText:o.response),0===b&&(b=M?200:0);let S=b>=200&&b<300;if("json"===t.responseType&&"string"==typeof M){const D=M;M=M.replace(Q4e,"");try{M=""!==M?JSON.parse(M):null}catch(I){M=D,S&&(S=!1,M={error:I,text:M})}}S?(r.next(new X2({body:M,headers:y,status:b,statusText:C,url:_||void 0})),r.complete()):r.error(new aL({error:M,headers:y,status:b,statusText:C,url:_||void 0}))},f=y=>{const{url:b}=l(),C=new aL({error:y,status:o.status||0,statusText:o.statusText||"Unknown Error",url:b||void 0});r.error(C)};let g=!1;const p=y=>{g||(r.next(l()),g=!0);let b={type:Y2.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(b.total=y.total),"text"===t.responseType&&o.responseText&&(b.partialText=o.responseText),r.next(b)},v=y=>{let b={type:Y2.UploadProgress,loaded:y.loaded};y.lengthComputable&&(b.total=y.total),r.next(b)};return o.addEventListener("load",h),o.addEventListener("error",f),o.addEventListener("timeout",f),o.addEventListener("abort",f),t.reportProgress&&(o.addEventListener("progress",p),null!==a&&o.upload&&o.upload.addEventListener("progress",v)),o.send(a),r.next({type:Y2.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",h),o.removeEventListener("timeout",f),t.reportProgress&&(o.removeEventListener("progress",p),null!==a&&o.upload&&o.upload.removeEventListener("progress",v)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(F(cz))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();const Uw=new le("XSRF_ENABLED"),mL=new le("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),vL=new le("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class yL{}let iue=(()=>{class n{constructor(t,i,s){this.doc=t,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=JS(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(F(Pt),F(xo),F(mL))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();function sue(n,e){const t=n.url.toLowerCase();if(!he(Uw)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=he(yL).getToken(),s=he(vL);return null!=i&&!n.headers.has(s)&&(n=n.clone({headers:n.headers.set(s,i)})),e(n)}var dl=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(dl||{});function rue(...n){const e=[cL,pL,fL,{provide:Hg,useExisting:fL},{provide:W2,useExisting:pL},{provide:I8,useValue:sue,multi:!0},{provide:Uw,useValue:!0},{provide:yL,useClass:iue}];for(const t of n)e.push(...t.\u0275providers);return function H3(n){return{\u0275providers:n}}(e)}const bL=new le("LEGACY_INTERCEPTOR_FN");function oue(){return function H1(n,e){return{\u0275kind:n,\u0275providers:e}}(dl.LegacyInterceptors,[{provide:bL,useFactory:X4e},{provide:I8,useExisting:bL,multi:!0}])}let aue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ot({type:n});static#n=this.\u0275inj=nn({providers:[rue(oue())]})}return n})();const Va="[@ant-design/icons-angular]:";function _L(n){return Hw(n)[0]}function Bg(n,e){switch(e){case"fill":return`${n}-fill`;case"outline":return`${n}-o`;case"twotone":return`${n}-twotone`;case void 0:return n;default:throw new Error(`${Va}Theme "${e}" is not a recognized theme!`)}}function CL(n){return"object"==typeof n&&"string"==typeof n.name&&("string"==typeof n.theme||void 0===n.theme)&&"string"==typeof n.icon}function jg(n){const e=n.split(":");switch(e.length){case 1:return[n,""];case 2:return[e[1],e[0]];default:throw new Error(`${Va}The icon type ${n} is not valid!`)}}function ML(n){return new Error(`${Va}the icon ${n} does not exist or is not registered.`)}function xue(){return new Error(`${Va}<svg> tag not found.`)}const zue=new le("ant_icons");let xL=(()=>{class n{set twoToneColor({primaryColor:t,secondaryColor:i}){this._twoToneColorPalette.primaryColor=t,this._twoToneColorPalette.secondaryColor=i||_L(t)}get twoToneColor(){return{...this._twoToneColorPalette}}get _disableDynamicLoading(){return!1}constructor(t,i,s,r,o){this._rendererFactory=t,this._handler=i,this._document=s,this.sanitizer=r,this._antIcons=o,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new at,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new cL(this._handler)),this._antIcons&&this.addIcon(...this._antIcons)}useJsonpLoading(){this._enableJsonpLoading||(this._enableJsonpLoading=!0,window.__ant_icon_load=t=>{this._jsonpIconLoad$.next(t)})}changeAssetsSource(t){this._assetsUrlRoot=t.endsWith("/")?t:t+"/"}addIcon(...t){t.forEach(i=>{this._svgDefinitions.set(Bg(i.name,i.theme),i)})}addIconLiteral(t,i){const[s,r]=jg(t);if(!r)throw function _ue(){return new Error(`${Va}Type should have a namespace. Try "namespace:${name}".`)}();this.addIcon({name:t,icon:i})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(t,i){const s=CL(t)?t:this._svgDefinitions.get(t)||null;if(!s&&this._disableDynamicLoading)throw ML(t);return(s?Ee(s):this._loadIconDynamically(t)).pipe(lt(o=>{if(!o)throw ML(t);return this._loadSVGFromCacheOrCreateNew(o,i)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(t){if(!this._http&&!this._enableJsonpLoading)return Ee(function Cue(){return function fue(n){console.error(`${Va} ${n}.`)}('you need to import "HttpClientModule" to use dynamic importing.'),null}());let i=this._inProgressFetches.get(t);if(!i){const[s,r]=jg(t),o=r?{name:t,icon:""}:function vue(n){const e=n.split("-"),t=function pue(n){return"o"===n?"outline":n}(e.splice(e.length-1,1)[0]);return{name:e.join("-"),theme:t,icon:""}}(s),c=(r?`${this._assetsUrlRoot}assets/${r}/${s}`:`${this._assetsUrlRoot}assets/${o.theme}/${o.name}`)+(this._enableJsonpLoading?".js":".svg"),l=this.sanitizer.sanitize(rs.URL,c);if(!l)throw function Mue(n){return new Error(`${Va}The url "${n}" is unsafe.`)}(c);i=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(o,l):this._http.get(l,{responseType:"text"}).pipe(lt(f=>({...o,icon:f})))).pipe(zi(f=>this.addIcon(f)),$u(()=>this._inProgressFetches.delete(t)),jc(()=>Ee(null)),J1()),this._inProgressFetches.set(t,i)}return i}_loadIconDynamicallyWithJsonp(t,i){return new Dt(s=>{const r=this._document.createElement("script"),o=setTimeout(()=>{a(),s.error(function Eue(){return new Error(`${Va}Importing timeout error.`)}())},6e3);function a(){r.parentNode.removeChild(r),clearTimeout(o)}r.src=i,this._document.body.appendChild(r),this._jsonpIconLoad$.pipe(Si(c=>c.name===t.name&&c.theme===t.theme),To(1)).subscribe(c=>{s.next(c),a()})})}_loadSVGFromCacheOrCreateNew(t,i){let s;const r=i||this._twoToneColorPalette.primaryColor,o=_L(r)||this._twoToneColorPalette.secondaryColor,a="twotone"===t.theme?function gue(n,e,t,i){return`${Bg(n,e)}-${t}-${i}`}(t.name,t.theme,r,o):void 0===t.theme?t.name:Bg(t.name,t.theme),c=this._svgRenderedDefinitions.get(a);return c?s=c.icon:(s=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(function wue(n){return""!==jg(n)[1]}(t.name)?t.icon:function bue(n){return n.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')}(t.icon)),"twotone"===t.theme,r,o)),this._svgRenderedDefinitions.set(a,{...t,icon:s})),function yue(n){return n.cloneNode(!0)}(s)}_createSVGElementFromString(t){const i=this._document.createElement("div");i.innerHTML=t;const s=i.querySelector("svg");if(!s)throw xue;return s}_setSVGAttribute(t){return this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em"),t}_colorizeSVGIcon(t,i,s,r){if(i){const o=t.childNodes,a=o.length;for(let c=0;c<a;c++){const l=o[c];"secondaryColor"===l.getAttribute("fill")?this._renderer.setAttribute(l,"fill",r):this._renderer.setAttribute(l,"fill",s)}}return this._renderer.setAttribute(t,"fill","currentColor"),t}static#e=this.\u0275fac=function(i){return new(i||n)(F(d1),F(W2,8),F(Pt,8),F(ay),F(zue,8))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})(),Aue=(()=>{class n{constructor(t,i,s){this._iconService=t,this._elementRef=i,this._renderer=s}ngOnChanges(t){(t.type||t.theme||t.twoToneColor)&&this._changeIcon()}_changeIcon(){return new Promise(t=>{if(!this.type)return this._clearSVGElement(),void t(null);const i=this._getSelfRenderMeta();this._iconService.getRenderedContent(this._parseIconType(this.type,this.theme),this.twoToneColor).subscribe(s=>{const r=this._getSelfRenderMeta();!function Due(n,e){return n.type===e.type&&n.theme===e.theme&&n.twoToneColor===e.twoToneColor}(i,r)?t(null):(this._setSVGElement(s),t(s))})})}_getSelfRenderMeta(){return{type:this.type,theme:this.theme,twoToneColor:this.twoToneColor}}_parseIconType(t,i){if(CL(t))return t;{const[s,r]=jg(t);return r?t:function mue(n){return n.endsWith("-fill")||n.endsWith("-o")||n.endsWith("-twotone")}(s)?s:Bg(s,i||this._iconService.defaultTheme)}}_setSVGElement(t){this._clearSVGElement(),this._renderer.appendChild(this._elementRef.nativeElement,t)}_clearSVGElement(){const t=this._elementRef.nativeElement,i=t.childNodes;for(let r=i.length-1;r>=0;r--){const o=i[r];"svg"===o.tagName?.toLowerCase()&&this._renderer.removeChild(t,o)}}static#e=this.\u0275fac=function(i){return new(i||n)(U(xL),U(Ke),U(va))};static#t=this.\u0275dir=jt({type:n,selectors:[["","antIcon",""]],inputs:{type:"type",theme:"theme",twoToneColor:"twoToneColor"},features:[Ye]})}return n})();const $g=(...n)=>{};function Z2(n){return null!=n&&"false"!=`${n}`}function zL(n){return Array.isArray(n)?n:[n]}function Xn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function DL(n){return n instanceof Ke?n.nativeElement:n}function AL(n){return Z2(n)}function Go(){return function qw(n,e){return function t(i,s,r){const o=`$$__zorroPropDecorator__${s}`;return Object.prototype.hasOwnProperty.call(i,o)&&$g(`The prop "${o}" is already exist, it will be overrided by ${n} decorator.`),Object.defineProperty(i,o,{configurable:!0,writable:!0}),{get(){return r&&r.get?r.get.bind(this)():this[o]},set(a){r&&r.set&&r.set.bind(this)(e(a)),this[o]=e(a)}}}}("InputBoolean",AL)}function IL(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}typeof window<"u"&&window;const que="rc-util-key";function LL({mark:n}={}){return n?n.startsWith("data-")?n:`data-${n}`:que}function Jw(n){return n.attachTo?n.attachTo:document.querySelector("head")||document.body}function RL(n,e={}){if(!IL())return null;const t=document.createElement("style");e.cspNonce&&(t.nonce=e.cspNonce),t.innerHTML=n;const i=Jw(e),{firstChild:s}=i;return e.prepend&&i.prepend?i.prepend(t):e.prepend&&s?i.insertBefore(t,s):i.appendChild(t),t}const Qw=new Map;const VL={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'};var Gg=function(){function n(e,t){var i;if(void 0===e&&(e=""),void 0===t&&(t={}),e instanceof n)return e;"number"==typeof e&&(e=function A4e(n){return{r:n>>16,g:(65280&n)>>8,b:255&n}}(e)),this.originalInput=e;var s=ro(e);this.originalInput=e,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(i=t.format)&&void 0!==i?i:s.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),r=e.r/255,o=e.g/255,a=e.b/255;return.2126*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))+.7152*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))+.0722*(a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=qI(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){return 0===this.toHsl().s},n.prototype.toHsv=function(){var e=Lg(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=Lg(this.r,this.g,this.b),t=Math.round(360*e.h),i=Math.round(100*e.s),s=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(i,"%, ").concat(s,"%)"):"hsva(".concat(t,", ").concat(i,"%, ").concat(s,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=WI(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=WI(this.r,this.g,this.b),t=Math.round(360*e.h),i=Math.round(100*e.s),s=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(i,"%, ").concat(s,"%)"):"hsla(".concat(t,", ").concat(i,"%, ").concat(s,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return void 0===e&&(e=!1),Rg(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return void 0===e&&(e=!1),function D4e(n,e,t,i,s){var r=[V1(Math.round(n).toString(16)),V1(Math.round(e).toString(16)),V1(Math.round(t).toString(16)),V1(YI(i))];return s&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))&&r[3].startsWith(r[3].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return void 0===e&&(e=!1),1===this.a?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),i=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(i,")"):"rgba(".concat(e,", ").concat(t,", ").concat(i,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(t){return"".concat(Math.round(100*Ti(t,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(100*Ti(t,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+Rg(this.r,this.g,this.b,!1),t=0,i=Object.entries(Rw);t<i.length;t++){var s=i[t];if(e===s[1])return s[0]}return!1},n.prototype.toString=function(e){var t=!!e;e=e??this.format;var i=!1;return!t&&this.a<1&&this.a>=0&&(e.startsWith("hex")||"name"===e)?"name"===e&&0===this.a?this.toName():this.toRgbString():("rgb"===e&&(i=this.toRgbString()),"prgb"===e&&(i=this.toPercentageRgbString()),("hex"===e||"hex6"===e)&&(i=this.toHexString()),"hex3"===e&&(i=this.toHexString(!0)),"hex4"===e&&(i=this.toHex8String(!0)),"hex8"===e&&(i=this.toHex8String()),"name"===e&&(i=this.toName()),"hsl"===e&&(i=this.toHslString()),"hsv"===e&&(i=this.toHsvString()),i||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=Pg(t.l),new n(t)},n.prototype.brighten=function(e){void 0===e&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(-e/100*255))),t.g=Math.max(0,Math.min(255,t.g-Math.round(-e/100*255))),t.b=Math.max(0,Math.min(255,t.b-Math.round(-e/100*255))),new n(t)},n.prototype.darken=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=Pg(t.l),new n(t)},n.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=Pg(t.s),new n(t)},n.prototype.saturate=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=Pg(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),i=(t.h+e)%360;return t.h=i<0?360+i:i,new n(t)},n.prototype.mix=function(e,t){void 0===t&&(t=50);var i=this.toRgb(),s=new n(e).toRgb(),r=t/100;return new n({r:(s.r-i.r)*r+i.r,g:(s.g-i.g)*r+i.g,b:(s.b-i.b)*r+i.b,a:(s.a-i.a)*r+i.a})},n.prototype.analogous=function(e,t){void 0===e&&(e=6),void 0===t&&(t=30);var i=this.toHsl(),s=360/t,r=[this];for(i.h=(i.h-(s*e>>1)+720)%360;--e;)i.h=(i.h+s)%360,r.push(new n(i));return r},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){void 0===e&&(e=6);for(var t=this.toHsv(),i=t.h,s=t.s,r=t.v,o=[],a=1/e;e--;)o.push(new n({h:i,s,v:r})),r=(r+a)%1;return o},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),i=new n(e).toRgb(),s=t.a+i.a*(1-t.a);return new n({r:(t.r*t.a+i.r*i.a*(1-t.a))/s,g:(t.g*t.a+i.g*i.a*(1-t.a))/s,b:(t.b*t.a+i.b*i.a*(1-t.a))/s,a:s})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),i=t.h,s=[this],r=360/e,o=1;o<e;o++)s.push(new n({h:(i+o*r)%360,s:t.s,l:t.l}));return s},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}();const V2e=["pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"],qg=2,HL=.16,k2e=.05,F2e=.05,B2e=.15,kL=5,FL=4,j2e=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function BL({r:n,g:e,b:t}){const i=Lg(n,e,t);return{h:360*i.h,s:i.s,v:i.v}}function Wg({r:n,g:e,b:t}){return`#${Rg(n,e,t,!1)}`}function jL(n,e,t){let i;return i=Math.round(n.h)>=60&&Math.round(n.h)<=240?t?Math.round(n.h)-qg*e:Math.round(n.h)+qg*e:t?Math.round(n.h)+qg*e:Math.round(n.h)-qg*e,i<0?i+=360:i>=360&&(i-=360),i}function $L(n,e,t){if(0===n.h&&0===n.s)return n.s;let i;return i=t?n.s-HL*e:e===FL?n.s+HL:n.s+k2e*e,i>1&&(i=1),t&&e===kL&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2))}function UL(n,e,t){let i;return i=t?n.v+F2e*e:n.v-B2e*e,i>1&&(i=1),Number(i.toFixed(2))}function GL(n,e={}){const t=[],i=ro(n);for(let s=kL;s>0;s-=1){const r=BL(i),o=Wg(ro({h:jL(r,s,!0),s:$L(r,s,!0),v:UL(r,s,!0)}));t.push(o)}t.push(Wg(i));for(let s=1;s<=FL;s+=1){const r=BL(i),o=Wg(ro({h:jL(r,s),s:$L(r,s),v:UL(r,s)}));t.push(o)}return"dark"===e.theme?j2e.map(({index:s,opacity:r})=>Wg(function $2e(n,e,t){const i=t/100;return{r:(e.r-n.r)*i+n.r,g:(e.g-n.g)*i+n.g,b:(e.b-n.b)*i+n.b}}(ro(e.backgroundColor||"#141414"),ro(t[s]),100*r))):t}const qL=new le("nz-config"),U2e=`-ant-${Date.now()}-${Math.random()}`;function WL(n,e,t){const i=function G2e(n,e){const t={},i=(o,a)=>{let c=o.clone();return c=a?.(c)||c,c.toRgbString()},s=(o,a)=>{const c=new Gg(o),l=GL(c.toRgbString());t[`${a}-color`]=i(c),t[`${a}-color-disabled`]=l[1],t[`${a}-color-hover`]=l[4],t[`${a}-color-active`]=l[7],t[`${a}-color-outline`]=c.clone().setAlpha(.2).toRgbString(),t[`${a}-color-deprecated-bg`]=l[1],t[`${a}-color-deprecated-border`]=l[3]};if(e.primaryColor){s(e.primaryColor,"primary");const o=new Gg(e.primaryColor),a=GL(o.toRgbString());a.forEach((l,h)=>{t[`primary-${h+1}`]=l}),t["primary-color-deprecated-l-35"]=i(o,l=>l.lighten(35)),t["primary-color-deprecated-l-20"]=i(o,l=>l.lighten(20)),t["primary-color-deprecated-t-20"]=i(o,l=>l.tint(20)),t["primary-color-deprecated-t-50"]=i(o,l=>l.tint(50)),t["primary-color-deprecated-f-12"]=i(o,l=>l.setAlpha(.12*l.getAlpha()));const c=new Gg(a[0]);t["primary-color-active-deprecated-f-30"]=i(c,l=>l.setAlpha(.3*l.getAlpha())),t["primary-color-active-deprecated-d-02"]=i(c,l=>l.darken(2))}return e.successColor&&s(e.successColor,"success"),e.warningColor&&s(e.warningColor,"warning"),e.errorColor&&s(e.errorColor,"error"),e.infoColor&&s(e.infoColor,"info"),`\n  :root {\n    ${Object.keys(t).map(o=>`--${n}-${o}: ${t[o]};`).join("\n")}\n  }\n  `.trim()}(n,e);IL()?function Wue(n,e,t={}){const i=Jw(t);if(!Qw.has(i)){const o=RL("",t),{parentNode:a}=o;Qw.set(i,a),a.removeChild(o)}const s=function NL(n,e={}){const t=Jw(e);return Array.from(Qw.get(t)?.children||[]).find(i=>"STYLE"===i.tagName&&i.getAttribute(LL(e))===n)}(e,t);if(s)return t.cspNonce&&s.nonce!==t.cspNonce&&(s.nonce=t.cspNonce),s.innerHTML!==n&&(s.innerHTML=n),s;const r=RL(n,t);r?.setAttribute(LL(t),e)}(i,`${U2e}-dynamic-theme`,{cspNonce:t}):$g("NzConfigService: SSR do not support dynamic theme with css variables.")}const YL=function(n){return void 0!==n};let Yg=(()=>{class n{constructor(t,i){this.configUpdated$=new at,this.config=t||{},this.cspNonce=i,this.config.theme&&WL(this.getConfig().prefixCls?.prefixCls||"ant",this.config.theme,i)}getConfig(){return this.config}getConfigForComponent(t){return this.config[t]}getConfigChangeEventForComponent(t){return this.configUpdated$.pipe(Si(i=>i===t),hy(void 0))}set(t,i){this.config[t]={...this.config[t],...i},"theme"===t&&this.config.theme&&WL(this.getConfig().prefixCls?.prefixCls||"ant",this.config.theme,this.cspNonce),this.configUpdated$.next(t)}static#e=this.\u0275fac=function(i){return new(i||n)(F(qL,8),F(G3,8))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Xg(){return function(e,t,i){const s=`$$__zorroConfigDecorator__${t}`;return Object.defineProperty(e,s,{configurable:!0,writable:!0,enumerable:!1}),{get(){const r=i?.get?i.get.bind(this)():this[s],o=(this.propertyAssignCounter?.[t]||0)>1,a=this.nzConfigService.getConfigForComponent(this._nzModuleName)?.[t];return o&&YL(r)?r:YL(a)?a:r},set(r){this.propertyAssignCounter=this.propertyAssignCounter||{},this.propertyAssignCounter[t]=(this.propertyAssignCounter[t]||0)+1,i?.set?i.set.bind(this)(r):this[s]=r},configurable:!0,enumerable:!0}}}const q2e=[{name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'},{name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},{name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'},{name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'},{name:"close-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z" /><path d="M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"close-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z" /></svg>'},{name:"close",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z" /></svg>'},{name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'},{name:"delete",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z" /></svg>'},{name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'},{name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'},{name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'},{name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'},{name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'},{name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'},{name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'},{name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'},{name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'},{name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'},{name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'},{name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'},{name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'},{name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'},{name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'},{name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'},{name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'},VL,{name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'},VL,{name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'},{name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'},{name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'},{name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'},{name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'},{name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'}],ZL=new le("nz_icons"),KL=(new le("nz_icon_default_twotone_color"),"#1890ff");let JL=(()=>{class n extends xL{get _disableDynamicLoading(){return!this.platform.isBrowser}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}normalizeSvgElement(t){t.getAttribute("viewBox")||this._renderer.setAttribute(t,"viewBox","0 0 1024 1024"),(!t.getAttribute("width")||!t.getAttribute("height"))&&(this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em")),t.getAttribute("fill")||this._renderer.setAttribute(t,"fill","currentColor")}fetchFromIconfont(t){const{scriptUrl:i}=t;if(this._document&&!this.iconfontCache.has(i)){const s=this._renderer.createElement("script");this._renderer.setAttribute(s,"src",i),this._renderer.setAttribute(s,"data-namespace",i.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,s),this.iconfontCache.add(i)}}createIconfontIcon(t){return this._createSVGElementFromString(`<svg><use xlink:href="${t}"></svg>`)}constructor(t,i,s,r,o,a,c){super(t,o,a,i,[...q2e,...c||[]]),this.nzConfigService=s,this.platform=r,this.configUpdated$=new at,this.iconfontCache=new Set,this.subscription=null,this.onConfigChange(),this.configDefaultTwotoneColor(),this.configDefaultTheme()}onConfigChange(){this.subscription=this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){const t=this.getConfig();this.defaultTheme=t.nzTheme||"outline"}configDefaultTwotoneColor(){const i=this.getConfig().nzTwotoneColor||KL;let s=KL;i&&(i.startsWith("#")?s=i:$g("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:s}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}static#e=this.\u0275fac=function(i){return new(i||n)(F(d1),F(ay),F(Yg),F(G2),F(W2,8),F(Pt,8),F(ZL,8))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const QL=new le("nz_icons_patch");let eR=(()=>{class n{constructor(t,i){this.extraIcons=t,this.rootIconService=i,this.patched=!1}doPatch(){this.patched||(this.extraIcons.forEach(t=>this.rootIconService.addIcon(t)),this.patched=!0)}static#e=this.\u0275fac=function(i){return new(i||n)(F(QL,2),F(JL))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})(),Zg=(()=>{class n extends Aue{set nzSpin(t){this.spin=t}set nzType(t){this.type=t}set nzTheme(t){this.theme=t}set nzTwotoneColor(t){this.twoToneColor=t}set nzIconfont(t){this.iconfont=t}constructor(t,i,s,r,o,a){super(r,s,o),this.ngZone=t,this.changeDetectorRef=i,this.iconService=r,this.renderer=o,this.cacheClassName=null,this.nzRotate=0,this.spin=!1,this.destroy$=new at,a&&a.doPatch(),this.el=s.nativeElement}ngOnChanges(t){const{nzType:i,nzTwotoneColor:s,nzSpin:r,nzTheme:o,nzRotate:a}=t;i||s||r||o?this.changeIcon2():a?this.handleRotate(this.el.firstChild):this._setSVGElement(this.iconService.createIconfontIcon(`#${this.iconfont}`))}ngOnInit(){this.renderer.setAttribute(this.el,"class",`anticon ${this.el.className}`.trim())}ngAfterContentChecked(){if(!this.type){const t=this.el.children;let i=t.length;if(!this.type&&t.length)for(;i--;){const s=t[i];"svg"===s.tagName.toLowerCase()&&this.iconService.normalizeSvgElement(s)}}}ngOnDestroy(){this.destroy$.next()}changeIcon2(){this.setClassName(),this.ngZone.runOutsideAngular(()=>{Wt(this._changeIcon()).pipe(Qr(this.destroy$)).subscribe({next:t=>{this.ngZone.run(()=>{this.changeDetectorRef.detectChanges(),t&&(this.setSVGData(t),this.handleSpin(t),this.handleRotate(t))})},error:$g})})}handleSpin(t){this.spin||"loading"===this.type?this.renderer.addClass(t,"anticon-spin"):this.renderer.removeClass(t,"anticon-spin")}handleRotate(t){this.nzRotate?this.renderer.setAttribute(t,"style",`transform: rotate(${this.nzRotate}deg)`):this.renderer.removeAttribute(t,"style")}setClassName(){this.cacheClassName&&this.renderer.removeClass(this.el,this.cacheClassName),this.cacheClassName=`anticon-${this.type}`,this.renderer.addClass(this.el,this.cacheClassName)}setSVGData(t){this.renderer.setAttribute(t,"data-icon",this.type),this.renderer.setAttribute(t,"aria-hidden","true")}static#e=this.\u0275fac=function(i){return new(i||n)(U(gt),U(Fc),U(Ke),U(JL),U(va),U(eR,8))};static#t=this.\u0275dir=jt({type:n,selectors:[["","nz-icon",""]],hostVars:2,hostBindings:function(i,s){2&i&&Nc("anticon",!0)},inputs:{nzSpin:"nzSpin",nzRotate:"nzRotate",nzType:"nzType",nzTheme:"nzTheme",nzTwotoneColor:"nzTwotoneColor",nzIconfont:"nzIconfont"},exportAs:["nzIcon"],features:[e0,Ye]})}return oi([Go()],n.prototype,"nzSpin",null),n})(),tR=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:ZL,useValue:t}]}}static forChild(t){return{ngModule:n,providers:[eR,{provide:QL,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ot({type:n});static#n=this.\u0275inj=nn({imports:[b4e]})}return n})();class nR{}class W2e{}const Ha="*";function ao(n,e){return{type:7,name:n,definitions:e,options:{}}}function cn(n,e=null){return{type:4,styles:e,timings:n}}function iR(n,e=null){return{type:2,steps:n,options:e}}function je(n){return{type:6,styles:n,offset:null}}function Lr(n,e,t){return{type:0,name:n,styles:e,options:t}}function dn(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function sR(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function rR(n,e){return{type:12,timings:n,animation:e}}class L8{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class oR{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,s=0;const r=this.players.length;0==r?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==r&&this._onFinish()}),o.onDestroy(()=>{++i==r&&this._onDestroy()}),o.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(s)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}let sr=(()=>{class n{static#e=this.SLOW="0.3s";static#t=this.BASE="0.2s";static#n=this.FAST="0.1s"}return n})(),Yi=(()=>{class n{static#e=this.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)";static#t=this.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)";static#n=this.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)";static#i=this.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)";static#s=this.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)";static#r=this.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)";static#o=this.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)";static#a=this.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)";static#c=this.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)";static#l=this.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)";static#u=this.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)";static#h=this.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)";static#d=this.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)";static#f=this.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)"}return n})();const Y2e=ao("collapseMotion",[Lr("expanded",je({height:"*"})),Lr("collapsed",je({height:0,overflow:"hidden"})),Lr("hidden",je({height:0,overflow:"hidden",borderTopWidth:"0"})),dn("expanded => collapsed",cn(`150ms ${Yi.EASE_IN_OUT}`)),dn("expanded => hidden",cn(`150ms ${Yi.EASE_IN_OUT}`)),dn("collapsed => expanded",cn(`150ms ${Yi.EASE_IN_OUT}`)),dn("hidden => expanded",cn(`150ms ${Yi.EASE_IN_OUT}`))]),X2e=(ao("treeCollapseMotion",[dn("* => *",[sR("nz-tree-node:leave,nz-tree-builtin-node:leave",[je({overflow:"hidden"}),rR(0,[cn(`150ms ${Yi.EASE_IN_OUT}`,je({height:0,opacity:0,"padding-bottom":0}))])],{optional:!0}),sR("nz-tree-node:enter,nz-tree-builtin-node:enter",[je({overflow:"hidden",height:0,opacity:0,"padding-bottom":0}),rR(0,[cn(`150ms ${Yi.EASE_IN_OUT}`,je({overflow:"hidden",height:"*",opacity:"*","padding-bottom":"*"}))])],{optional:!0})])]),ao("fadeMotion",[dn(":enter",[je({opacity:0}),cn(`${sr.BASE}`,je({opacity:1}))]),dn(":leave",[je({opacity:1}),cn(`${sr.BASE}`,je({opacity:0}))])]),ao("helpMotion",[dn(":enter",[je({opacity:0,transform:"translateY(-5px)"}),cn(`${sr.SLOW} ${Yi.EASE_IN_OUT}`,je({opacity:1,transform:"translateY(0)"}))]),dn(":leave",[je({opacity:1,transform:"translateY(0)"}),cn(`${sr.SLOW} ${Yi.EASE_IN_OUT}`,je({opacity:0,transform:"translateY(-5px)"}))])]),ao("moveUpMotion",[dn("* => enter",[je({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),cn(`${sr.BASE}`,je({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),dn("* => leave",[je({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),cn(`${sr.BASE}`,je({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])]),ao("notificationMotion",[Lr("enterRight",je({opacity:1,transform:"translateX(0)"})),dn("* => enterRight",[je({opacity:0,transform:"translateX(5%)"}),cn("100ms linear")]),Lr("enterLeft",je({opacity:1,transform:"translateX(0)"})),dn("* => enterLeft",[je({opacity:0,transform:"translateX(-5%)"}),cn("100ms linear")]),Lr("enterTop",je({opacity:1,transform:"translateY(0)"})),dn("* => enterTop",[je({opacity:0,transform:"translateY(-5%)"}),cn("100ms linear")]),Lr("enterBottom",je({opacity:1,transform:"translateY(0)"})),dn("* => enterBottom",[je({opacity:0,transform:"translateY(5%)"}),cn("100ms linear")]),Lr("leave",je({opacity:0,transform:"scaleY(0.8)",transformOrigin:"0% 0%"})),dn("* => leave",[je({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),cn("100ms linear")])]),`${sr.BASE} ${Yi.EASE_OUT_QUINT}`),Z2e=`${sr.BASE} ${Yi.EASE_IN_QUINT}`,K2e=(ao("slideMotion",[Lr("void",je({opacity:0,transform:"scaleY(0.8)"})),Lr("enter",je({opacity:1,transform:"scaleY(1)"})),dn("void => *",[cn(X2e)]),dn("* => void",[cn(Z2e)])]),ao("slideAlertMotion",[dn(":leave",[je({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),cn(`${sr.SLOW} ${Yi.EASE_IN_OUT_CIRC}`,je({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),ao("zoomBigMotion",[dn("void => active",[je({opacity:0,transform:"scale(0.8)"}),cn(`${sr.BASE} ${Yi.EASE_OUT_CIRC}`,je({opacity:1,transform:"scale(1)"}))]),dn("active => void",[je({opacity:1,transform:"scale(1)"}),cn(`${sr.BASE} ${Yi.EASE_IN_OUT_CIRC}`,je({opacity:0,transform:"scale(0.8)"}))])]));ao("zoomBadgeMotion",[dn(":enter",[je({opacity:0,transform:"scale(0) translate(50%, -50%)"}),cn(`${sr.SLOW} ${Yi.EASE_OUT_BACK}`,je({opacity:1,transform:"scale(1) translate(50%, -50%)"}))]),dn(":leave",[je({opacity:1,transform:"scale(1) translate(50%, -50%)"}),cn(`${sr.SLOW} ${Yi.EASE_IN_BACK}`,je({opacity:0,transform:"scale(0) translate(50%, -50%)"}))])]),ao("thumbMotion",[Lr("from",je({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:0,width:0}}),Lr("to",je({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:100,width:0}}),dn("from => to",cn(`300ms ${Yi.EASE_IN_OUT}`))]);let t_,J2e=1;const Kg={};function aR(n){return n in Kg&&(delete Kg[n],!0)}const Q2e={setImmediate(n){const e=J2e++;return Kg[e]=!0,t_||(t_=Promise.resolve()),t_.then(()=>aR(e)&&n()),e},clearImmediate(n){aR(n)}},{setImmediate:ehe,clearImmediate:the}=Q2e,Jg={setImmediate(...n){const{delegate:e}=Jg;return(e?.setImmediate||ehe)(...n)},clearImmediate(n){const{delegate:e}=Jg;return(e?.clearImmediate||the)(n)},delegate:void 0},cR=new class ihe extends Mw{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let s;e=e||i.shift();do{if(s=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,s){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw s}}}(class nhe extends Cw{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Jg.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var s;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:r}=e;null!=t&&(null===(s=r[r.length-1])||void 0===s?void 0:s.id)!==t&&(Jg.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function lR(n,e){return e?t=>s5(e.pipe(To(1),function she(){return At((n,e)=>{n.subscribe(ct(e,q1))})}()),t.pipe(lR(n))):Dn((t,i)=>zn(n(t,i)).pipe(To(1),hy(t)))}const ohe=["addListener","removeListener"],ahe=["addEventListener","removeEventListener"],che=["on","off"];function Qg(n,e,t,i){if(ke(t)&&(i=t,t=void 0),i)return Qg(n,e,t).pipe(Oz(i));const[s,r]=function hhe(n){return ke(n.addEventListener)&&ke(n.removeEventListener)}(n)?ahe.map(o=>a=>n[o](e,a,t)):function lhe(n){return ke(n.addListener)&&ke(n.removeListener)}(n)?ohe.map(uR(n,e)):function uhe(n){return ke(n.on)&&ke(n.off)}(n)?che.map(uR(n,e)):[];if(!s&&mh(n))return Dn(o=>Qg(o,e,t))(zn(n));if(!s)throw new TypeError("Invalid event target");return new Dt(o=>{const a=(...c)=>o.next(1<c.length?c:c[0]);return s(a),()=>r(a)})}function uR(n,e){return t=>i=>n[t](e,i)}const R8={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=R8;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const s=e(r=>{t=void 0,n(r)});return new Nt(()=>t?.(s))},requestAnimationFrame(...n){const{delegate:e}=R8;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=R8;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class fhe extends Mw{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let s;e=e||i.shift();do{if(s=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,s){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw s}}}(class dhe extends Cw{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=R8.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var s;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:r}=e;null!=t&&(null===(s=r[r.length-1])||void 0===s?void 0:s.id)!==t&&(R8.cancelAnimationFrame(t),e._scheduled=void 0)}});function hR(n,e=D8){return function phe(n){return At((e,t)=>{let i=!1,s=null,r=null,o=!1;const a=()=>{if(r?.unsubscribe(),r=null,i){i=!1;const l=s;s=null,t.next(l)}o&&t.complete()},c=()=>{r=null,o&&t.complete()};e.subscribe(ct(t,l=>{i=!0,s=l,r||zn(n(l)).subscribe(r=ct(t,a,c))},()=>{o=!0,(!i||!r||r.closed)&&t.complete()}))})}(()=>xw(n,e))}const mhe=new le("cdk-dir-doc",{providedIn:"root",factory:function vhe(){return he(Pt)}}),yhe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let N8=(()=>{class n{constructor(t){this.value="ltr",this.change=new rn,t&&(this.value=function bhe(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?yhe.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(F(mhe,8))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),V8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ot({type:n});static#n=this.\u0275inj=nn({})}return n})(),_he=(()=>{class n{constructor(t,i,s){this._ngZone=t,this._platform=i,this._scrolled=new at,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Dt(i=>{this._globalSubscription||this._addGlobalListener();const s=t>0?this._scrolled.pipe(hR(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ee()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const s=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Si(r=>!r||s.indexOf(r)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((s,r)=>{this._scrollableContainsElement(r,t)&&i.push(r)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let s=DL(i),r=t.getElementRef().nativeElement;do{if(s==r)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Qg(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(F(gt),F(G2),F(Pt,8))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dR=(()=>{class n{constructor(t,i,s){this._platform=t,this._change=new at,this._changeListener=r=>{this._change.next(r)},this._document=s,i.runOutsideAngular(()=>{if(t.isBrowser){const r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+s,right:t.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),s=t.documentElement,r=s.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||i.scrollY||s.scrollTop||0,left:-r.left||t.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(hR(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(F(G2),F(gt),F(Pt,8))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fR=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ot({type:n});static#n=this.\u0275inj=nn({})}return n})(),gR=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ot({type:n});static#n=this.\u0275inj=nn({imports:[V8,fR,V8,fR]})}return n})();class n_{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class xhe extends n_{constructor(e,t,i,s,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=s,this.projectableNodes=r}}class pR extends n_{constructor(e,t,i,s){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=s}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Ehe extends n_{constructor(e){super(),this.element=e instanceof Ke?e.nativeElement:e}}class She{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof xhe?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof pR?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Ehe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class zhe extends She{constructor(e,t,i,s,r){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=s,this.attachDomPortal=o=>{const a=o.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=r}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let s;return e.viewContainerRef?(s=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>s.destroy())):(s=i.create(e.injector||this._defaultInjector||On.NULL),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=e,s}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(s=>this.outletElement.appendChild(s)),i.detectChanges(),this.setDisposeFn(()=>{let s=t.indexOf(i);-1!==s&&t.remove(s)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Dhe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ot({type:n});static#n=this.\u0275inj=nn({})}return n})();const mR=_4e();class Ohe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Xn(-this._previousScrollPosition.left),e.style.top=Xn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,s=this._document.body.style,r=i.scrollBehavior||"",o=s.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),mR&&(i.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),mR&&(i.scrollBehavior=r,s.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Phe{constructor(e,t,i,s){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Si(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class vR{enable(){}disable(){}attach(){}}function i_(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function yR(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Ihe{constructor(e,t,i,s){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=s,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:s}=this._viewportRuler.getViewportSize();i_(t,[{width:i,height:s,bottom:s,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Lhe=(()=>{class n{constructor(t,i,s,r){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new vR,this.close=o=>new Phe(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Ohe(this._viewportRuler,this._document),this.reposition=o=>new Ihe(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=r}static#e=this.\u0275fac=function(i){return new(i||n)(F(_he),F(dR),F(gt),F(Pt))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class bR{constructor(e){if(this.scrollStrategy=new vR,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Fn{constructor(e,t,i,s,r){this.offsetX=i,this.offsetY=s,this.panelClass=r,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class Rhe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let wR=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(F(Pt))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nhe=(()=>{class n extends wR{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=s=>{const r=this._attachedOverlays;for(let o=r.length-1;o>-1;o--)if(r[o]._keydownEvents.observers.length>0){const a=r[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(s)):a.next(s);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(F(Pt),F(gt,8))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vhe=(()=>{class n extends wR{constructor(t,i,s){super(t),this._platform=i,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=UI(r)},this._clickListener=r=>{const o=UI(r),a="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const h=c[l];if(h._outsidePointerEvents.observers.length<1||!h.hasAttached())continue;if(h.overlayElement.contains(o)||h.overlayElement.contains(a))break;const f=h._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(F(Pt),F(G2),F(gt,8))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_R=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||GI()){const s=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let r=0;r<s.length;r++)s[r].remove()}const i=this._document.createElement("div");i.classList.add(t),GI()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(F(Pt),F(G2))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Hhe{constructor(e,t,i,s,r,o,a,c,l,h=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=s,this._ngZone=r,this._keyboardDispatcher=o,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=h,this._backdropElement=null,this._backdropClick=new at,this._attachments=new at,this._detachments=new at,this._locationChanges=Nt.EMPTY,this._backdropClickHandler=f=>this._backdropClick.next(f),this._backdropTransitionendHandler=f=>{this._disposeBackdrop(f.target)},this._keydownEvents=new at,this._outsidePointerEvents=new at,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(To(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Xn(this._config.width),e.height=Xn(this._config.height),e.minWidth=Xn(this._config.minWidth),e.minHeight=Xn(this._config.minHeight),e.maxWidth=Xn(this._config.maxWidth),e.maxHeight=Xn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const s=zL(t||[]).filter(r=>!!r);s.length&&(i?e.classList.add(...s):e.classList.remove(...s))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Qr(xh(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const CR="cdk-overlay-connected-position-bounding-box",khe=/([A-Za-z%]+)$/;class Fhe{get positions(){return this._preferredPositions}constructor(e,t,i,s,r){this._viewportRuler=t,this._document=i,this._platform=s,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new at,this._resizeSubscription=Nt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(CR),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,s=this._containerRect,r=[];let o;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,s,a),l=this._getOverlayPoint(c,t,a),h=this._getOverlayFit(l,t,i,a);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(h,l,i)?r.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!o||o.overlayFit.visibleArea<h.visibleArea)&&(o={overlayFit:h,overlayPoint:l,originPoint:c,position:a,overlayRect:t})}if(r.length){let a=null,c=-1;for(const l of r){const h=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);h>c&&(c=h,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&k1(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(CR),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let s,r;if("center"==i.originX)s=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;s="start"==i.originX?o:a}return t.left<0&&(s-=t.left),r="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(r-=t.top),{x:s,y:r}}_getOverlayPoint(e,t,i){let s,r;return s="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,r="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+s,y:e.y+r}}_getOverlayFit(e,t,i,s){const r=xR(t);let{x:o,y:a}=e,c=this._getOffset(s,"x"),l=this._getOffset(s,"y");c&&(o+=c),l&&(a+=l);let g=0-a,p=a+r.height-i.height,v=this._subtractOverflows(r.width,0-o,o+r.width-i.width),y=this._subtractOverflows(r.height,g,p),b=v*y;return{visibleArea:b,isCompletelyWithinViewport:r.width*r.height===b,fitsInViewportVertically:y===r.height,fitsInViewportHorizontally:v==r.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const s=i.bottom-t.y,r=i.right-t.x,o=MR(this._overlayRef.getConfig().minHeight),a=MR(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=o&&o<=s)&&(e.fitsInViewportHorizontally||null!=a&&a<=r)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const s=xR(t),r=this._viewportRect,o=Math.max(e.x+s.width-r.width,0),a=Math.max(e.y+s.height-r.height,0),c=Math.max(r.top-i.top-e.y,0),l=Math.max(r.left-i.left-e.x,0);let h=0,f=0;return h=s.width<=r.width?l||-o:e.x<this._viewportMargin?r.left-i.left-e.x:0,f=s.height<=r.height?c||-a:e.y<this._viewportMargin?r.top-i.top-e.y:0,this._previousPushAmount={x:h,y:f},{x:e.x+h,y:e.y+f}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),s=new Rhe(e,i);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,s=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let r=0;r<t.length;r++)t[r].style.transformOrigin=`${i} ${s}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,s=this._isRtl();let r,o,a,h,f,g;if("top"===t.overlayY)o=e.y,r=i.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,r=i.height-a+this._viewportMargin;else{const p=Math.min(i.bottom-e.y+i.top,e.y),v=this._lastBoundingBoxSize.height;r=2*p,o=e.y-p,r>v&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-v/2)}if("end"===t.overlayX&&!s||"start"===t.overlayX&&s)g=i.width-e.x+this._viewportMargin,h=e.x-this._viewportMargin;else if("start"===t.overlayX&&!s||"end"===t.overlayX&&s)f=e.x,h=i.right-e.x;else{const p=Math.min(i.right-e.x+i.left,e.x),v=this._lastBoundingBoxSize.width;h=2*p,f=e.x-p,h>v&&!this._isInitialRender&&!this._growAfterOpen&&(f=e.x-v/2)}return{top:o,left:f,bottom:a,right:g,width:h,height:r}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const r=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;s.height=Xn(i.height),s.top=Xn(i.top),s.bottom=Xn(i.bottom),s.width=Xn(i.width),s.left=Xn(i.left),s.right=Xn(i.right),s.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",s.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",r&&(s.maxHeight=Xn(r)),o&&(s.maxWidth=Xn(o))}this._lastBoundingBoxSize=i,k1(this._boundingBox.style,s)}_resetBoundingBoxStyles(){k1(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){k1(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},s=this._hasExactPosition(),r=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(s){const h=this._viewportRuler.getViewportScrollPosition();k1(i,this._getExactOverlayY(t,e,h)),k1(i,this._getExactOverlayX(t,e,h))}else i.position="static";let a="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),o.maxHeight&&(s?i.maxHeight=Xn(o.maxHeight):r&&(i.maxHeight="")),o.maxWidth&&(s?i.maxWidth=Xn(o.maxWidth):r&&(i.maxWidth="")),k1(this._pane.style,i)}_getExactOverlayY(e,t,i){let s={top:"",bottom:""},r=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),"bottom"===e.overlayY?s.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":s.top=Xn(r.y),s}_getExactOverlayX(e,t,i){let o,s={left:"",right:""},r=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?s.right=this._document.documentElement.clientWidth-(r.x+this._overlayRect.width)+"px":s.left=Xn(r.x),s}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:yR(e,i),isOriginOutsideView:i_(e,i),isOverlayClipped:yR(t,i),isOverlayOutsideView:i_(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,s)=>i-Math.max(s,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&zL(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Ke)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function k1(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function MR(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(khe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function xR(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const ER="cdk-global-overlay-wrapper";class Bhe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(ER),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:s,height:r,maxWidth:o,maxHeight:a}=i,c=!("100%"!==s&&"100vw"!==s||o&&"100%"!==o&&"100vw"!==o),l=!("100%"!==r&&"100vh"!==r||a&&"100%"!==a&&"100vh"!==a),h=this._xPosition,f=this._xOffset,g="rtl"===this._overlayRef.getConfig().direction;let p="",v="",y="";c?y="flex-start":"center"===h?(y="center",g?v=f:p=f):g?"left"===h||"end"===h?(y="flex-end",p=f):("right"===h||"start"===h)&&(y="flex-start",v=f):"left"===h||"start"===h?(y="flex-start",p=f):("right"===h||"end"===h)&&(y="flex-end",v=f),e.position=this._cssPosition,e.marginLeft=c?"0":p,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":v,t.justifyContent=y,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(ER),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let jhe=(()=>{class n{constructor(t,i,s,r){this._viewportRuler=t,this._document=i,this._platform=s,this._overlayContainer=r}global(){return new Bhe}flexibleConnectedTo(t){return new Fhe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(F(dR),F(Pt),F(G2),F(_R))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$he=0,s_=(()=>{class n{constructor(t,i,s,r,o,a,c,l,h,f,g,p){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=r,this._keyboardDispatcher=o,this._injector=a,this._ngZone=c,this._document=l,this._directionality=h,this._location=f,this._outsideClickDispatcher=g,this._animationsModuleType=p}create(t){const i=this._createHostElement(),s=this._createPaneElement(i),r=this._createPortalOutlet(s),o=new bR(t);return o.direction=o.direction||this._directionality.value,new Hhe(r,i,s,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+$he++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(kc)),new zhe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(F(Lhe),F(_R),F(h1),F(jhe),F(Nhe),F(On),F(gt),F(Pt),F(N8),F($f),F(Vhe),F(vu,8))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Uhe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],SR=new le("cdk-connected-overlay-scroll-strategy");let zR=(()=>{class n{constructor(t){this.elementRef=t}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke))};static#t=this.\u0275dir=jt({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return n})(),DR=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Z2(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Z2(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Z2(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Z2(t)}get push(){return this._push}set push(t){this._push=Z2(t)}constructor(t,i,s,r,o){this._overlay=t,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Nt.EMPTY,this._attachSubscription=Nt.EMPTY,this._detachSubscription=Nt.EMPTY,this._positionSubscription=Nt.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new rn,this.positionChange=new rn,this.attach=new rn,this.detach=new rn,this.overlayKeydown=new rn,this.overlayOutsideClick=new rn,this._templatePortal=new pR(i,s),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Uhe);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!function The(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new bR({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(s=>({originX:s.originX,originY:s.originY,overlayX:s.overlayX,overlayY:s.overlayY,offsetX:s.offsetX||this.offsetX,offsetY:s.offsetY||this.offsetY,panelClass:s.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof zR?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function Mhe(n,e=!1){return At((t,i)=>{let s=0;t.subscribe(ct(i,r=>{const o=n(r,s++);(o||e)&&i.next(r),!o&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(U(s_),U(di),U(Ei),U(SR),U(N8,8))};static#t=this.\u0275dir=jt({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Ye]})}return n})();const qhe={provide:SR,deps:[s_],useFactory:function Ghe(n){return()=>n.scrollStrategies.reposition()}};let Whe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ot({type:n});static#n=this.\u0275inj=nn({providers:[s_,qhe],imports:[V8,Dhe,gR,gR]})}return n})(),K2=(()=>{class n extends at{ngOnDestroy(){this.next(),this.complete()}static#e=this.\u0275fac=function(){let t;return function(s){return(t||(t=d3(n)))(s||n)}}();static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();const Pi={top:new Fn({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topCenter:new Fn({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topLeft:new Fn({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),topRight:new Fn({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"}),right:new Fn({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}),rightTop:new Fn({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}),rightBottom:new Fn({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),bottom:new Fn({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomCenter:new Fn({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomLeft:new Fn({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),bottomRight:new Fn({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),left:new Fn({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),leftTop:new Fn({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}),leftBottom:new Fn({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})},AR=[Pi.top,Pi.right,Pi.bottom,Pi.left];function TR(n){for(const e in Pi)if(n.connectionPair.originX===Pi[e].originX&&n.connectionPair.originY===Pi[e].originY&&n.connectionPair.overlayX===Pi[e].overlayX&&n.connectionPair.overlayY===Pi[e].overlayY)return e}new Fn({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new Fn({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"}),new Fn({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"top"}),new Fn({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"},void 0,2),new Fn({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"},void 0,-2),new Fn({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"},void 0,2),new Fn({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"},void 0,-2);let Xhe=(()=>{class n{constructor(t,i){this.cdkConnectedOverlay=t,this.nzDestroyService=i,this.nzArrowPointAtCenter=!1,this.cdkConnectedOverlay.backdropClass="nz-overlay-transparent-backdrop",this.cdkConnectedOverlay.positionChange.pipe(Qr(this.nzDestroyService)).subscribe(s=>{this.nzArrowPointAtCenter&&this.updateArrowPosition(s)})}updateArrowPosition(t){const i=this.getOriginRect(),s=TR(t);let r=0,o=0;"topLeft"===s||"bottomLeft"===s?r=i.width/2-14:"topRight"===s||"bottomRight"===s?r=-(i.width/2-14):"leftTop"===s||"rightTop"===s?o=i.height/2-10:("leftBottom"===s||"rightBottom"===s)&&(o=-(i.height/2-10)),(this.cdkConnectedOverlay.offsetX!==r||this.cdkConnectedOverlay.offsetY!==o)&&(this.cdkConnectedOverlay.offsetY=o,this.cdkConnectedOverlay.offsetX=r,this.cdkConnectedOverlay.overlayRef.updatePosition())}getFlexibleConnectedPositionStrategyOrigin(){return this.cdkConnectedOverlay.origin instanceof zR?this.cdkConnectedOverlay.origin.elementRef:this.cdkConnectedOverlay.origin}getOriginRect(){const t=this.getFlexibleConnectedPositionStrategyOrigin();if(t instanceof Ke)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const i=t.width||0,s=t.height||0;return{top:t.y,bottom:t.y+s,left:t.x,right:t.x+i,height:s,width:i}}static#e=this.\u0275fac=function(i){return new(i||n)(U(DR),U(K2))};static#t=this.\u0275dir=jt({type:n,selectors:[["","cdkConnectedOverlay","","nzConnectedOverlay",""]],inputs:{nzArrowPointAtCenter:"nzArrowPointAtCenter"},exportAs:["nzConnectedOverlay"],features:[Tf([K2])]})}return oi([Go()],n.prototype,"nzArrowPointAtCenter",void 0),n})(),Zhe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ot({type:n});static#n=this.\u0275inj=nn({})}return n})();const OR="nz-animate-disabled";let J2=(()=>{class n{constructor(t,i,s){this.element=t,this.renderer=i,this.animationType=s,this.nzNoAnimation=!1}ngOnChanges(){this.updateClass()}ngAfterViewInit(){this.updateClass()}updateClass(){const t=DL(this.element);t&&(this.nzNoAnimation||"NoopAnimations"===this.animationType?this.renderer.addClass(t,OR):this.renderer.removeClass(t,OR))}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke),U(va),U(vu,8))};static#t=this.\u0275dir=jt({type:n,selectors:[["","nzNoAnimation",""]],inputs:{nzNoAnimation:"nzNoAnimation"},exportAs:["nzNoAnimation"],features:[Ye]})}return oi([Go()],n.prototype,"nzNoAnimation",void 0),n})(),PR=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ot({type:n});static#n=this.\u0275inj=nn({imports:[C0]})}return n})(),IR=(()=>{class n{static ngTemplateContextGuard(t,i){return!0}recreateView(){this.viewContainer.clear();const t=this.nzStringTemplateOutlet instanceof di;this.embeddedViewRef=this.viewContainer.createEmbeddedView(t?this.nzStringTemplateOutlet:this.templateRef,t?this.nzStringTemplateOutletContext:this.context)}updateContext(){const i=this.nzStringTemplateOutlet instanceof di?this.nzStringTemplateOutletContext:this.context,s=this.embeddedViewRef.context;if(i)for(const r of Object.keys(i))s[r]=i[r]}constructor(t,i){this.viewContainer=t,this.templateRef=i,this.embeddedViewRef=null,this.context=new Khe,this.nzStringTemplateOutletContext=null,this.nzStringTemplateOutlet=null}ngOnChanges(t){const{nzStringTemplateOutletContext:i,nzStringTemplateOutlet:s}=t;s&&(this.context.$implicit=s.currentValue),(()=>{let a=!1;return s&&(a=!!s.firstChange||(s.previousValue instanceof di||s.currentValue instanceof di)),i&&(h=>{const f=Object.keys(h.previousValue||{}),g=Object.keys(h.currentValue||{});if(f.length===g.length){for(const p of g)if(-1===f.indexOf(p))return!0;return!1}return!0})(i)||a})()?this.recreateView():this.updateContext()}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ei),U(di))};static#t=this.\u0275dir=jt({type:n,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],features:[Ye]})}return n})();class Khe{}let LR=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ot({type:n});static#n=this.\u0275inj=nn({imports:[C0]})}return n})();const Jhe=["overlay"];function Qhe(n,e){if(1&n&&(Ic(0),Te(1),Lc()),2&n){const t=_a(2);ie(1),a0(t.nzTitle)}}function e3e(n,e){if(1&n&&(me(0,"div",2)(1,"div",3)(2,"div",4),st(3,"span",5),pe(),me(4,"div",6),cs(5,Qhe,2,1,"ng-container",7),pe()()()),2&n){const t=_a();Nc("ant-tooltip-rtl","rtl"===t.dir),yt("ngClass",t._classMap)("ngStyle",t.nzOverlayStyle)("@.disabled",!(null==t.noAnimation||!t.noAnimation.nzNoAnimation))("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),ie(3),yt("ngStyle",t._contentStyleMap),ie(1),yt("ngStyle",t._contentStyleMap),ie(1),yt("nzStringTemplateOutlet",t.nzTitle)("nzStringTemplateOutletContext",t.nzTitleContext)}}let t3e=(()=>{class n{get _title(){return this.title||this.directiveTitle||null}get _content(){return this.content||this.directiveContent||null}get _trigger(){return typeof this.trigger<"u"?this.trigger:"hover"}get _placement(){const t=this.placement;return Array.isArray(t)&&t.length>0?t:"string"==typeof t&&t?[t]:["top"]}get _visible(){return(typeof this.visible<"u"?this.visible:this.internalVisible)||!1}get _mouseEnterDelay(){return this.mouseEnterDelay||.15}get _mouseLeaveDelay(){return this.mouseLeaveDelay||.1}get _overlayClassName(){return this.overlayClassName||null}get _overlayStyle(){return this.overlayStyle||null}getProxyPropertyMap(){return{noAnimation:["noAnimation",()=>!!this.noAnimation]}}constructor(t,i,s,r,o,a){this.elementRef=t,this.hostView=i,this.resolver=s,this.renderer=r,this.noAnimation=o,this.nzConfigService=a,this.visibleChange=new rn,this.internalVisible=!1,this.destroy$=new at,this.triggerDisposables=[]}ngOnChanges(t){const{trigger:i}=t;i&&!i.isFirstChange()&&this.registerTriggers(),this.component&&this.updatePropertiesByChanges(t)}ngAfterViewInit(){this.createComponent(),this.registerTriggers()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.clearTogglingTimer(),this.removeTriggerListeners()}show(){this.component?.show()}hide(){this.component?.hide()}updatePosition(){this.component&&this.component.updatePosition()}createComponent(){const t=this.componentRef;this.component=t.instance,this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),t.location.nativeElement),this.component.setOverlayOrigin(this.origin||this.elementRef),this.initProperties();const i=this.component.nzVisibleChange.pipe(e4());i.pipe(Qr(this.destroy$)).subscribe(s=>{this.internalVisible=s,this.visibleChange.emit(s)}),i.pipe(Si(s=>s),function rhe(n,e=D8){const t=xw(n,e);return lR(()=>t)}(0,cR),Si(()=>!!this.component?.overlay?.overlayRef),Qr(this.destroy$)).subscribe(()=>{this.component?.updatePosition()})}registerTriggers(){const t=this.elementRef.nativeElement,i=this.trigger;if(this.removeTriggerListeners(),"hover"===i){let s;this.triggerDisposables.push(this.renderer.listen(t,"mouseenter",()=>{this.delayEnterLeave(!0,!0,this._mouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen(t,"mouseleave",()=>{this.delayEnterLeave(!0,!1,this._mouseLeaveDelay),this.component?.overlay.overlayRef&&!s&&(s=this.component.overlay.overlayRef.overlayElement,this.triggerDisposables.push(this.renderer.listen(s,"mouseenter",()=>{this.delayEnterLeave(!1,!0,this._mouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen(s,"mouseleave",()=>{this.delayEnterLeave(!1,!1,this._mouseLeaveDelay)})))}))}else"focus"===i?(this.triggerDisposables.push(this.renderer.listen(t,"focusin",()=>this.show())),this.triggerDisposables.push(this.renderer.listen(t,"focusout",()=>this.hide()))):"click"===i&&this.triggerDisposables.push(this.renderer.listen(t,"click",s=>{s.preventDefault(),this.show()}))}updatePropertiesByChanges(t){this.updatePropertiesByKeys(Object.keys(t))}updatePropertiesByKeys(t){const i={title:["nzTitle",()=>this._title],directiveTitle:["nzTitle",()=>this._title],content:["nzContent",()=>this._content],directiveContent:["nzContent",()=>this._content],trigger:["nzTrigger",()=>this._trigger],placement:["nzPlacement",()=>this._placement],visible:["nzVisible",()=>this._visible],mouseEnterDelay:["nzMouseEnterDelay",()=>this._mouseEnterDelay],mouseLeaveDelay:["nzMouseLeaveDelay",()=>this._mouseLeaveDelay],overlayClassName:["nzOverlayClassName",()=>this._overlayClassName],overlayStyle:["nzOverlayStyle",()=>this._overlayStyle],arrowPointAtCenter:["nzArrowPointAtCenter",()=>this.arrowPointAtCenter],...this.getProxyPropertyMap()};(t||Object.keys(i).filter(s=>!s.startsWith("directive"))).forEach(s=>{if(i[s]){const[r,o]=i[s];this.updateComponentValue(r,o())}}),this.component?.updateByDirective()}initProperties(){this.updatePropertiesByKeys()}updateComponentValue(t,i){typeof i<"u"&&(this.component[t]=i)}delayEnterLeave(t,i,s=-1){this.delayTimer?this.clearTogglingTimer():s>0?this.delayTimer=setTimeout(()=>{this.delayTimer=void 0,i?this.show():this.hide()},1e3*s):i&&t?this.show():this.hide()}removeTriggerListeners(){this.triggerDisposables.forEach(t=>t()),this.triggerDisposables.length=0}clearTogglingTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=void 0)}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke),U(Ei),U(h1),U(va),U(J2),U(Yg))};static#t=this.\u0275dir=jt({type:n,features:[Ye]})}return n})(),n3e=(()=>{class n{set nzVisible(t){const i=AL(t);this._visible!==i&&(this._visible=i,this.nzVisibleChange.next(i))}get nzVisible(){return this._visible}set nzTrigger(t){this._trigger=t}get nzTrigger(){return this._trigger}set nzPlacement(t){const i=t.map(s=>Pi[s]);this._positions=[...i,...AR]}constructor(t,i,s){this.cdr=t,this.directionality=i,this.noAnimation=s,this.nzTitle=null,this.nzContent=null,this.nzArrowPointAtCenter=!1,this.nzOverlayStyle={},this.nzBackdrop=!1,this.nzVisibleChange=new at,this._visible=!1,this._trigger="hover",this.preferredPlacement="top",this.dir="ltr",this._classMap={},this._prefix="ant-tooltip",this._positions=[...AR],this.destroy$=new at}ngOnInit(){this.directionality.change?.pipe(Qr(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.nzVisibleChange.complete(),this.destroy$.next(),this.destroy$.complete()}show(){this.nzVisible||(this.isEmpty()||(this.nzVisible=!0,this.nzVisibleChange.next(!0),this.cdr.detectChanges()),this.origin&&this.overlay&&this.overlay.overlayRef&&"rtl"===this.overlay.overlayRef.getDirection()&&this.overlay.overlayRef.setDirection("ltr"))}hide(){this.nzVisible&&(this.nzVisible=!1,this.nzVisibleChange.next(!1),this.cdr.detectChanges())}updateByDirective(){this.updateStyles(),this.cdr.detectChanges(),Promise.resolve().then(()=>{this.updatePosition(),this.updateVisibilityByTitle()})}updatePosition(){this.origin&&this.overlay&&this.overlay.overlayRef&&this.overlay.overlayRef.updatePosition()}onPositionChange(t){this.preferredPlacement=TR(t),this.updateStyles(),this.cdr.detectChanges()}setOverlayOrigin(t){this.origin=t,this.cdr.markForCheck()}onClickOutside(t){!this.origin.nativeElement.contains(t.target)&&null!==this.nzTrigger&&this.hide()}updateVisibilityByTitle(){this.isEmpty()&&this.hide()}updateStyles(){this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-placement-${this.preferredPlacement}`]:!0}}static#e=this.\u0275fac=function(i){return new(i||n)(U(Fc),U(N8,8),U(J2))};static#t=this.\u0275dir=jt({type:n,viewQuery:function(i,s){if(1&i&&Vc(Jhe,5),2&i){let r;Do(r=Ao())&&(s.overlay=r.first)}}})}return n})(),s3e=(()=>{class n extends t3e{constructor(t,i,s,r,o){super(t,i,s,r,o),this.titleContext=null,this.trigger="hover",this.placement="top",this.visibleChange=new rn,this.componentRef=this.hostView.createComponent(r3e)}getProxyPropertyMap(){return{...super.getProxyPropertyMap(),nzTooltipColor:["nzColor",()=>this.nzTooltipColor],nzTooltipTitleContext:["nzTitleContext",()=>this.titleContext]}}static#e=this.\u0275fac=function(i){return new(i||n)(U(Ke),U(Ei),U(h1),U(va),U(J2,9))};static#t=this.\u0275dir=jt({type:n,selectors:[["","nz-tooltip",""]],hostVars:2,hostBindings:function(i,s){2&i&&Nc("ant-tooltip-open",s.visible)},inputs:{title:["nzTooltipTitle","title"],titleContext:["nzTooltipTitleContext","titleContext"],directiveTitle:["nz-tooltip","directiveTitle"],trigger:["nzTooltipTrigger","trigger"],placement:["nzTooltipPlacement","placement"],origin:["nzTooltipOrigin","origin"],visible:["nzTooltipVisible","visible"],mouseEnterDelay:["nzTooltipMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:["nzTooltipMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:["nzTooltipOverlayClassName","overlayClassName"],overlayStyle:["nzTooltipOverlayStyle","overlayStyle"],arrowPointAtCenter:["nzTooltipArrowPointAtCenter","arrowPointAtCenter"],nzTooltipColor:"nzTooltipColor"},outputs:{visibleChange:"nzTooltipVisibleChange"},exportAs:["nzTooltip"],features:[e0]})}return oi([Go()],n.prototype,"arrowPointAtCenter",void 0),n})(),r3e=(()=>{class n extends n3e{constructor(t,i,s){super(t,i,s),this.nzTitle=null,this.nzTitleContext=null,this._contentStyleMap={}}isEmpty(){return function i3e(n){return!(n instanceof di||""!==n&&function Iue(n){return typeof n<"u"&&null!==n}(n))}(this.nzTitle)}updateStyles(){const t=this.nzColor&&function H2e(n){return-1!==V2e.indexOf(n)}(this.nzColor);this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-placement-${this.preferredPlacement}`]:!0,[`${this._prefix}-${this.nzColor}`]:t},this._contentStyleMap={backgroundColor:this.nzColor&&!t?this.nzColor:null}}static#e=this.\u0275fac=function(i){return new(i||n)(U(Fc),U(N8,8),U(J2,9))};static#t=this.\u0275cmp=We({type:n,selectors:[["nz-tooltip"]],exportAs:["nzTooltipComponent"],features:[e0],decls:2,vars:5,consts:[["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayPush","nzArrowPointAtCenter","overlayOutsideClick","detach","positionChange"],["overlay","cdkConnectedOverlay"],[1,"ant-tooltip",3,"ngClass","ngStyle","nzNoAnimation"],[1,"ant-tooltip-content"],[1,"ant-tooltip-arrow"],[1,"ant-tooltip-arrow-content",3,"ngStyle"],[1,"ant-tooltip-inner",3,"ngStyle"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"]],template:function(i,s){1&i&&(cs(0,e3e,6,11,"ng-template",0,1,uv),Pu("overlayOutsideClick",function(o){return s.onClickOutside(o)})("detach",function(){return s.hide()})("positionChange",function(o){return s.onPositionChange(o)})),2&i&&yt("cdkConnectedOverlayOrigin",s.origin)("cdkConnectedOverlayOpen",s._visible)("cdkConnectedOverlayPositions",s._positions)("cdkConnectedOverlayPush",!0)("nzArrowPointAtCenter",s.nzArrowPointAtCenter)},dependencies:[Gv,_0,DR,IR,Xhe,J2],encapsulation:2,data:{animation:[K2e]},changeDetection:0})}return n})(),o3e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ot({type:n});static#n=this.\u0275inj=nn({imports:[V8,C0,Whe,LR,Zhe,PR]})}return n})();function a3e(n,e){if(1&n&&(me(0,"div",3)(1,"button",4),st(2,"span",5),pe()()),2&n){const t=e.$implicit;ie(1),yt("nzTooltipTitle",t.tooltip),ie(1),yt("nzType",t.iconName)}}let r_=(()=>{class n{constructor(){this.toolbarGroup=[]}ngOnInit(){this.toolbarGroup=this.config?this.config:y4e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=We({type:n,selectors:[["app-flow-canvas-toolbar"]],inputs:{config:"config"},decls:3,vars:1,consts:[[1,"ngx-flow-workspace-toolbar-top",2,"position","absolute","inset","0px"],[1,"ngx-flow-toolbar-groups"],["class","ngx-flow-toolbar-item",4,"ngFor","ngForOf"],[1,"ngx-flow-toolbar-item"],["nzTooltipPlacement","bottom","nz-button","","nz-tooltip","",3,"nzTooltipTitle"],["nz-icon","","nzTheme","outline",3,"nzType"]],template:function(i,s){1&i&&(me(0,"div",0)(1,"div",1),cs(2,a3e,3,2,"div",2),pe()()),2&i&&(ie(2),yt("ngForOf",s.toolbarGroup))},dependencies:[tz,Zg,s3e],styles:[".ngx-flow-workspace-toolbar-top[_ngcontent-%COMP%]{text-align:right;border-bottom:1px solid #d9d9d9;display:flex;height:40px}.ngx-flow-toolbar-groups[_ngcontent-%COMP%]{display:flex;flex-direction:row;box-sizing:border-box;line-height:40px}.ngx-flow-toolbar-item[_ngcontent-%COMP%]{margin:0 10px 4px 6px;padding:0 6px;color:#595959;align-items:center;background-color:transparent;border:0;border-radius:2px;outline:none;box-shadow:none}.ngx-flow-toolbar-item[_ngcontent-%COMP%]:hover{background-color:#cdced0;transition:.07s}"]})}return n})();var F1;!function(n){n.ZOOM_IN=fi.GRAPH_ZOOM.id+"-zoom-in",n.ZOOM_OUT=fi.GRAPH_ZOOM.id+"-zoom-out",n.SCALE_TO_ONE=fi.GRAPH_ZOOM.id+"-scale-to-one",n.SCALE_TO_FIT=fi.GRAPH_ZOOM.id+"-scale-to-fit",n.FULLSCREEN=fi.GRAPH_ZOOM.id+"-fullscreen",n.MAX_SCALE=1.5,n.MIN_SCALE=.05,n.zoomOptions={maxScale:n.MAX_SCALE,minScale:n.MIN_SCALE}}(F1||(F1={}));const c3e=[{id:F1.ZOOM_IN,tooltip:"\u653e\u5927",iconName:"zoom-in"},{id:F1.ZOOM_OUT,tooltip:"\u7f29\u5c0f",iconName:"zoom-out"},{id:F1.SCALE_TO_ONE,iconName:"one-to-one",tooltip:"\u7f29\u653e\u52301:1",isEnabled:!0},{id:F1.SCALE_TO_FIT,tooltip:"\u7f29\u653e\u5230\u9002\u5e94\u5c4f\u5e55",iconName:"compress"},{id:F1.FULLSCREEN,tooltip:"\u5168\u5c4f",iconName:"fullscreen"}];let RR=(()=>{class n{constructor(){this.toolbarGroup=c3e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=We({type:n,selectors:[["app-flow-canvas-scale-toolbar"]],decls:1,vars:1,consts:[[2,"position","absolute","top","0px","right","0","width","240px","left","auto","height","39px","z-index","99",3,"config"]],template:function(i,s){1&i&&st(0,"app-flow-canvas-toolbar",0),2&i&&yt("config",s.toolbarGroup)},dependencies:[r_]})}return n})();function l3e(n,e){1&n&&st(0,"span",4)}function u3e(n,e){1&n&&st(0,"span",5)}const h3e=function(n,e,t){return{top:"21px",left:n,borderRadius:e,borderRight:t}};let NR=(()=>{class n{constructor(){this.position={width:240,top:0,bottom:0,right:0},this.CONTAINER_CLASS="xflow-editor-panel-collpase",this.collapse=!1,this.width=240,this.right=0}setCollapse(){this.collapse=!this.collapse,this.position.right=this.collapse?-this.width:this.right,this.position={...this.position}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=We({type:n,selectors:[["app-editor-panel"]],inputs:{position:"position"},decls:5,vars:15,consts:[[3,"position","className"],[3,"ngStyle","click"],["nz-icon","","nzType","double-left","nzTheme","outline",4,"ngIf"],["nz-icon","","nzType","double-right","nzTheme","outline",4,"ngIf"],["nz-icon","","nzType","double-left","nzTheme","outline"],["nz-icon","","nzType","double-right","nzTheme","outline"]],template:function(i,s){1&i&&(me(0,"app-base-panel",0)(1,"div")(2,"div",1),Pu("click",function(){return s.setCollapse()}),cs(3,l3e,1,0,"span",2),cs(4,u3e,1,0,"span",3),pe()()()),2&i&&(yt("position",s.position)("className",s.CONTAINER_CLASS),ie(1),jm(s.CONTAINER_CLASS),ie(1),Um("",s.CONTAINER_CLASS,"-icon"),yt("ngStyle",tv(11,h3e,s.collapse?"-20px":"-10px",s.collapse?"50% 0 0 50%":"50%",s.collapse?"none":"")),ie(1),yt("ngIf",s.collapse),ie(1),yt("ngIf",!s.collapse))},dependencies:[w0,_0,Zg,Tg],styles:[".xflow-editor-panel-collpase[_ngcontent-%COMP%]{position:relative;height:100%;color:#000000d9;font-size:12px;border-top-left-radius:10px;border-bottom-left-radius:10px;box-shadow:#11111a1a 0 8px 24px,#11111a1a 0 16px 56px,#11111a1a 0 24px 80px}.xflow-editor-panel-collpase-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.xflow-editor-panel-collpase-icon[_ngcontent-%COMP%]{position:absolute;z-index:99;width:20px;color:#aaa;text-align:center;background:#fff;border:1px solid #ccc;transform:translateY(-50%);cursor:pointer}.xflow-editor-panel-collpase-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:1px}.xflow-editor-panel-collpase-icon[_ngcontent-%COMP%]:hover{color:#2b84c0}"],changeDetection:0})}return n})();const d3e=function(){return{top:40,left:0,right:0,bottom:0}},f3e=function(){return{width:240,top:40,bottom:0,right:0}},g3e=[{path:"",pathMatch:"full",redirectTo:"flow"},{path:"flow",component:(()=>{class n{constructor(){this.onload=t=>{console.log("flow app>>>",t)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=We({type:n,selectors:[["app-flow"]],decls:8,vars:6,consts:[[1,"h-full","overflow-hidden"],[3,"graphData","onload"],[3,"position"],["canvas",""]],template:function(i,s){1&i&&(me(0,"div",0)(1,"app-x-flow",1),st(2,"app-flow-chart-canvas",2,3)(4,"app-flow-canvas-scale-toolbar")(5,"app-flow-canvas-toolbar")(6,"app-flow-node-panel")(7,"app-editor-panel",2),pe()()),2&i&&(ie(1),yt("graphData",s.graphData)("onload",s.onload),ie(1),yt("position",Of(4,d3e)),ie(5),yt("position",Of(5,f3e)))},dependencies:[zw,FI,Ow,r_,RR,NR]})}return n})()}];let p3e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ot({type:n});static#n=this.\u0275inj=nn({imports:[ND.forRoot(g3e),ND]})}return n})(),m3e=(()=>{class n{constructor(){this.title="ngx-flow"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=We({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,s){1&i&&st(0,"router-outlet")},dependencies:[xy]})}return n})();const VR=["*"],v3e=["collapseHeader"];function y3e(n,e){if(1&n&&(Ic(0),st(1,"span",7),Lc()),2&n){const t=e.$implicit,i=_a(2);ie(1),yt("nzType",t||"right")("nzRotate",i.nzActive?90:0)}}function b3e(n,e){if(1&n&&(me(0,"div"),cs(1,y3e,2,2,"ng-container",3),pe()),2&n){const t=_a();ie(1),yt("nzStringTemplateOutlet",t.nzExpandedIcon)}}function w3e(n,e){if(1&n&&(Ic(0),Te(1),Lc()),2&n){const t=_a();ie(1),a0(t.nzHeader)}}function _3e(n,e){if(1&n&&(Ic(0),Te(1),Lc()),2&n){const t=_a(2);ie(1),a0(t.nzExtra)}}function C3e(n,e){if(1&n&&(me(0,"div",8),cs(1,_3e,2,1,"ng-container",3),pe()),2&n){const t=_a();ie(1),yt("nzStringTemplateOutlet",t.nzExtra)}}const HR="collapse";let kR=(()=>{class n{constructor(t,i,s,r){this.nzConfigService=t,this.cdr=i,this.directionality=s,this.destroy$=r,this._nzModuleName=HR,this.nzAccordion=!1,this.nzBordered=!0,this.nzGhost=!1,this.nzExpandIconPosition="left",this.dir="ltr",this.listOfNzCollapsePanelComponent=[],this.nzConfigService.getConfigChangeEventForComponent(HR).pipe(Qr(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe(Qr(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}addPanel(t){this.listOfNzCollapsePanelComponent.push(t)}removePanel(t){this.listOfNzCollapsePanelComponent.splice(this.listOfNzCollapsePanelComponent.indexOf(t),1)}click(t){this.nzAccordion&&!t.nzActive&&this.listOfNzCollapsePanelComponent.filter(i=>i!==t).forEach(i=>{i.nzActive&&(i.nzActive=!1,i.nzActiveChange.emit(i.nzActive),i.markForCheck())}),t.nzActive=!t.nzActive,t.nzActiveChange.emit(t.nzActive)}static#e=this.\u0275fac=function(i){return new(i||n)(U(Yg),U(Fc),U(N8,8),U(K2))};static#t=this.\u0275cmp=We({type:n,selectors:[["nz-collapse"]],hostAttrs:[1,"ant-collapse"],hostVars:10,hostBindings:function(i,s){2&i&&Nc("ant-collapse-icon-position-left","left"===s.nzExpandIconPosition)("ant-collapse-icon-position-right","right"===s.nzExpandIconPosition)("ant-collapse-ghost",s.nzGhost)("ant-collapse-borderless",!s.nzBordered)("ant-collapse-rtl","rtl"===s.dir)},inputs:{nzAccordion:"nzAccordion",nzBordered:"nzBordered",nzGhost:"nzGhost",nzExpandIconPosition:"nzExpandIconPosition"},exportAs:["nzCollapse"],features:[Tf([K2])],ngContentSelectors:VR,decls:1,vars:0,template:function(i,s){1&i&&(Iu(),Lu(0))},encapsulation:2,changeDetection:0})}return oi([Xg(),Go()],n.prototype,"nzAccordion",void 0),oi([Xg(),Go()],n.prototype,"nzBordered",void 0),oi([Xg(),Go()],n.prototype,"nzGhost",void 0),n})();const FR="collapsePanel";let M3e=(()=>{class n{markForCheck(){this.cdr.markForCheck()}constructor(t,i,s,r,o,a){this.nzConfigService=t,this.ngZone=i,this.cdr=s,this.destroy$=r,this.nzCollapseComponent=o,this.noAnimation=a,this._nzModuleName=FR,this.nzActive=!1,this.nzDisabled=!1,this.nzShowArrow=!0,this.nzActiveChange=new rn,this.nzConfigService.getConfigChangeEventForComponent(FR).pipe(Qr(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.nzCollapseComponent.addPanel(this),this.ngZone.runOutsideAngular(()=>Qg(this.collapseHeader.nativeElement,"click").pipe(Si(()=>!this.nzDisabled),Qr(this.destroy$)).subscribe(()=>{this.ngZone.run(()=>{this.nzCollapseComponent.click(this),this.cdr.markForCheck()})}))}ngOnDestroy(){this.nzCollapseComponent.removePanel(this)}static#e=this.\u0275fac=function(i){return new(i||n)(U(Yg),U(gt),U(Fc),U(K2),U(kR,1),U(J2,8))};static#t=this.\u0275cmp=We({type:n,selectors:[["nz-collapse-panel"]],viewQuery:function(i,s){if(1&i&&Vc(v3e,7),2&i){let r;Do(r=Ao())&&(s.collapseHeader=r.first)}},hostAttrs:[1,"ant-collapse-item"],hostVars:6,hostBindings:function(i,s){2&i&&Nc("ant-collapse-no-arrow",!s.nzShowArrow)("ant-collapse-item-active",s.nzActive)("ant-collapse-item-disabled",s.nzDisabled)},inputs:{nzActive:"nzActive",nzDisabled:"nzDisabled",nzShowArrow:"nzShowArrow",nzExtra:"nzExtra",nzHeader:"nzHeader",nzExpandedIcon:"nzExpandedIcon"},outputs:{nzActiveChange:"nzActiveChange"},exportAs:["nzCollapsePanel"],features:[Tf([K2])],ngContentSelectors:VR,decls:8,vars:8,consts:[["role","button",1,"ant-collapse-header"],["collapseHeader",""],[4,"ngIf"],[4,"nzStringTemplateOutlet"],["class","ant-collapse-extra",4,"ngIf"],[1,"ant-collapse-content"],[1,"ant-collapse-content-box"],["nz-icon","",1,"ant-collapse-arrow",3,"nzType","nzRotate"],[1,"ant-collapse-extra"]],template:function(i,s){1&i&&(Iu(),me(0,"div",0,1),cs(2,b3e,2,1,"div",2),cs(3,w3e,2,1,"ng-container",3),cs(4,C3e,2,1,"div",4),pe(),me(5,"div",5)(6,"div",6),Lu(7),pe()()),2&i&&(ye("aria-expanded",s.nzActive),ie(2),yt("ngIf",s.nzShowArrow),ie(1),yt("nzStringTemplateOutlet",s.nzHeader),ie(1),yt("ngIf",s.nzExtra),ie(1),Nc("ant-collapse-content-active",s.nzActive),yt("@.disabled",!(null==s.noAnimation||!s.noAnimation.nzNoAnimation))("@collapseMotion",s.nzActive?"expanded":"hidden"))},dependencies:[w0,Zg,IR],encapsulation:2,data:{animation:[Y2e]},changeDetection:0})}return oi([Go()],n.prototype,"nzActive",void 0),oi([Go()],n.prototype,"nzDisabled",void 0),oi([Xg(),Go()],n.prototype,"nzShowArrow",void 0),n})(),x3e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ot({type:n});static#n=this.\u0275inj=nn({imports:[V8,C0,tR,LR,PR]})}return n})();function BR(n){return new G(3e3,!1)}function fl(n){switch(n.length){case 0:return new L8;case 1:return n[0];default:return new oR(n)}}function jR(n,e,t=new Map,i=new Map){const s=[],r=[];let o=-1,a=null;if(e.forEach(c=>{const l=c.get("offset"),h=l==o,f=h&&a||new Map;c.forEach((g,p)=>{let v=p,y=g;if("offset"!==p)switch(v=n.normalizePropertyName(v,s),y){case"!":y=t.get(p);break;case Ha:y=i.get(p);break;default:y=n.normalizeStyleValue(p,v,y,s)}f.set(v,y)}),h||r.push(f),a=f,o=l}),s.length)throw function W3e(n){return new G(3502,!1)}();return r}function o_(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&a_(t,"start",n)));break;case"done":n.onDone(()=>i(t&&a_(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&a_(t,"destroy",n)))}}function a_(n,e,t){const r=c_(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(r._data=o),r}function c_(n,e,t,i,s="",r=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:s,totalTime:r,disabled:!!o}}function rr(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function $R(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const r0e=(()=>typeof document>"u"?null:document.documentElement)();function l_(n){const e=n.parentNode||n.host||null;return e===r0e?null:e}let B1=null,UR=!1;function GR(n,e){for(;e;){if(e===n)return!0;e=l_(e)}return!1}function qR(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let WR=(()=>{class n{validateStyleProperty(t){return function a0e(n){B1||(B1=function c0e(){return typeof document<"u"?document.body:null}()||{},UR=!!B1.style&&"WebkitAppearance"in B1.style);let e=!0;return B1.style&&!function o0e(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in B1.style,!e&&UR&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in B1.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return GR(t,i)}getParentElement(t){return l_(t)}query(t,i,s){return qR(t,i,s)}computeStyle(t,i,s){return s||""}animate(t,i,s,r,o,a=[],c){return new L8(s,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})(),u_=(()=>{class n{static#e=this.NOOP=new WR}return n})();const l0e=1e3,h_="ng-enter",t7="ng-leave",n7="ng-trigger",i7=".ng-trigger",XR="ng-animating",d_=".ng-animating";function ka(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:f_(parseFloat(e[1]),e[2])}function f_(n,e){return"s"===e?n*l0e:n}function s7(n,e,t){return n.hasOwnProperty("duration")?n:function h0e(n,e,t){let s,r=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(BR()),{duration:0,delay:0,easing:""};s=f_(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(r=f_(parseFloat(c),a[4]));const l=a[5];l&&(o=l)}else s=n;if(!t){let a=!1,c=e.length;s<0&&(e.push(function E3e(){return new G(3100,!1)}()),a=!0),r<0&&(e.push(function S3e(){return new G(3101,!1)}()),a=!0),a&&e.splice(c,0,BR())}return{duration:s,delay:r,easing:o}}(n,e,t)}function H8(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function ZR(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function gl(n,e=new Map,t){if(t)for(let[i,s]of t)e.set(i,s);for(let[i,s]of n)e.set(i,s);return e}function qo(n,e,t){e.forEach((i,s)=>{const r=p_(s);t&&!t.has(s)&&t.set(s,n.style[r]),n.style[r]=i})}function j1(n,e){e.forEach((t,i)=>{const s=p_(i);n.style[s]=""})}function k8(n){return Array.isArray(n)?1==n.length?n[0]:iR(n):n}const g_=new RegExp("{{\\s*(.+?)\\s*}}","g");function JR(n){let e=[];if("string"==typeof n){let t;for(;t=g_.exec(n);)e.push(t[1]);g_.lastIndex=0}return e}function F8(n,e,t){const i=n.toString(),s=i.replace(g_,(r,o)=>{let a=e[o];return null==a&&(t.push(function D3e(n){return new G(3003,!1)}()),a=""),a.toString()});return s==i?n:s}function r7(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const g0e=/-+([a-z0-9])/g;function p_(n){return n.replace(g0e,(...e)=>e[1].toUpperCase())}function or(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function A3e(n){return new G(3004,!1)}()}}function QR(n,e){return window.getComputedStyle(n)[e]}const o7="*";function v0e(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function y0e(n,e,t){if(":"==n[0]){const c=function b0e(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function $3e(n){return new G(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function j3e(n){return new G(3015,!1)}()),e;const s=i[1],r=i[2],o=i[3];e.push(eN(s,o));"<"==r[0]&&!(s==o7&&o==o7)&&e.push(eN(o,s))}(i,t,e)):t.push(n),t}const a7=new Set(["true","1"]),c7=new Set(["false","0"]);function eN(n,e){const t=a7.has(n)||c7.has(n),i=a7.has(e)||c7.has(e);return(s,r)=>{let o=n==o7||n==s,a=e==o7||e==r;return!o&&t&&"boolean"==typeof s&&(o=s?a7.has(n):c7.has(n)),!a&&i&&"boolean"==typeof r&&(a=r?a7.has(e):c7.has(e)),o&&a}}const w0e=new RegExp("s*:selfs*,?","g");function m_(n,e,t,i){return new _0e(n).build(e,t,i)}class _0e{constructor(e){this._driver=e}build(e,t,i){const s=new x0e(t);return this._resetContextStyleTimingState(s),or(this,k8(e),s)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,s=t.depCount=0;const r=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function O3e(){return new G(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(h=>{c.name=h,r.push(this.visitState(c,t))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,t);i+=c.queryCount,s+=c.depCount,o.push(c)}else t.errors.push(function P3e(){return new G(3007,!1)}())}),{type:7,name:e.name,states:r,transitions:o,queryCount:i,depCount:s,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(i.containsDynamicStyles){const r=new Set,o=s||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{JR(c).forEach(l=>{o.hasOwnProperty(l)||r.add(l)})})}),r.size&&(r7(r.values()),t.errors.push(function I3e(n,e){return new G(3008,!1)}()))}return{type:0,name:e.name,style:i,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=or(this,k8(e.animation),t);return{type:1,matchers:v0e(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:$1(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>or(this,i,t)),options:$1(e.options)}}visitGroup(e,t){const i=t.currentTime;let s=0;const r=e.steps.map(o=>{t.currentTime=i;const a=or(this,o,t);return s=Math.max(s,t.currentTime),a});return t.currentTime=s,{type:3,steps:r,options:$1(e.options)}}visitAnimate(e,t){const i=function S0e(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return v_(s7(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=v_(0,0,"");return r.dynamic=!0,r.strValue=t,r}const s=s7(t,e);return v_(s.duration,s.delay,s.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let s,r=e.styles?e.styles:je({});if(5==r.type)s=this.visitKeyframes(r,t);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};i.easing&&(l.easing=i.easing),o=je(l)}t.currentTime+=i.duration+i.delay;const c=this.visitStyle(o,t);c.isEmptyStep=a,s=c}return t.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],s=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of s)"string"==typeof a?a===Ha?i.push(a):t.errors.push(new G(3002,!1)):i.push(ZR(a));let r=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!r))for(let c of a.values())if(c.toString().indexOf("{{")>=0){r=!0;break}}),{type:6,styles:i,easing:o,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let s=t.currentTime,r=t.currentTime;i&&r>0&&(r-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),h=l.get(c);let f=!0;h&&(r!=s&&r>=h.startTime&&s<=h.endTime&&(t.errors.push(function R3e(n,e,t,i,s){return new G(3010,!1)}()),f=!1),r=h.startTime),f&&l.set(c,{startTime:r,endTime:s}),t.options&&function f0e(n,e,t){const i=e.params||{},s=JR(n);s.length&&s.forEach(r=>{i.hasOwnProperty(r)||t.push(function z3e(n){return new G(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function N3e(){return new G(3011,!1)}()),i;let r=0;const o=[];let a=!1,c=!1,l=0;const h=e.steps.map(C=>{const _=this._makeStyleAst(C,t);let M=null!=_.offset?_.offset:function E0e(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(_.styles),S=0;return null!=M&&(r++,S=_.offset=M),c=c||S<0||S>1,a=a||S<l,l=S,o.push(S),_});c&&t.errors.push(function V3e(){return new G(3012,!1)}()),a&&t.errors.push(function H3e(){return new G(3200,!1)}());const f=e.steps.length;let g=0;r>0&&r<f?t.errors.push(function k3e(){return new G(3202,!1)}()):0==r&&(g=1/(f-1));const p=f-1,v=t.currentTime,y=t.currentAnimateTimings,b=y.duration;return h.forEach((C,_)=>{const M=g>0?_==p?1:g*_:o[_],S=M*b;t.currentTime=v+y.delay+S,y.duration=S,this._validateStyleAst(C,t),C.offset=M,i.styles.push(C)}),i}visitReference(e,t){return{type:8,animation:or(this,k8(e.animation),t),options:$1(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:$1(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:$1(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;const[r,o]=function C0e(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(w0e,"")),n=n.replace(/@\*/g,i7).replace(/@\w+/g,t=>i7+"-"+t.slice(1)).replace(/:animating/g,d_),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+r:r,rr(t.collectedStyles,t.currentQuerySelector,new Map);const a=or(this,k8(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:$1(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function F3e(){return new G(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:s7(e.timings,t.errors,!0);return{type:12,animation:or(this,k8(e.animation),t),timings:i,options:null}}}class x0e{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function $1(n){return n?(n=H8(n)).params&&(n.params=function M0e(n){return n?H8(n):null}(n.params)):n={},n}function v_(n,e,t){return{duration:n,delay:e,easing:t}}function y_(n,e,t,i,s,r,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:s,delay:r,totalTime:s+r,easing:o,subTimeline:a}}class l7{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const A0e=new RegExp(":enter","g"),O0e=new RegExp(":leave","g");function b_(n,e,t,i,s,r=new Map,o=new Map,a,c,l=[]){return(new P0e).buildKeyframes(n,e,t,i,s,r,o,a,c,l)}class P0e{buildKeyframes(e,t,i,s,r,o,a,c,l,h=[]){l=l||new l7;const f=new w_(e,t,l,s,r,h,[]);f.options=c;const g=c.delay?ka(c.delay):0;f.currentTimeline.delayNextStep(g),f.currentTimeline.setStyles([o],null,f.errors,c),or(this,i,f);const p=f.timelines.filter(v=>v.containsAnimation());if(p.length&&a.size){let v;for(let y=p.length-1;y>=0;y--){const b=p[y];if(b.element===t){v=b;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,f.errors,c)}return p.length?p.map(v=>v.buildKeyframes()):[y_(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const s=t.createSubContext(e.options),r=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,s,s.options);r!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const s of e){const r=s?.delay;if(r){const o="number"==typeof r?r:ka(F8(r,s?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let r=t.currentTimeline.currentTime;const o=null!=i.duration?ka(i.duration):null,a=null!=i.delay?ka(i.delay):null;return 0!==o&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,o,a);r=Math.max(r,l.duration+l.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),or(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let s=t;const r=e.options;if(r&&(r.params||r.delay)&&(s=t.createSubContext(r),s.transformIntoNewTimeline(),null!=r.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=u7);const o=ka(r.delay);s.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>or(this,o,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let s=t.currentTimeline.currentTime;const r=e.options&&e.options.delay?ka(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);r&&a.delayNextStep(r),or(this,o,a),s=Math.max(s,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return s7(t.params?F8(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),s.snapshotCurrentStyles());const r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(i.duration),this.visitStyle(r,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,s=t.currentAnimateTimings;!s&&i.hasCurrentStyleProperties()&&i.forwardFrame();const r=s&&s.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(r):i.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,s=t.currentTimeline.duration,r=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*r),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(s+r),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,s=e.options||{},r=s.delay?ka(s.delay):0;r&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=u7);let o=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,h)=>{t.currentQueryIndex=h;const f=t.createSubContext(e.options,l);r&&f.delayNextStep(r),l===t.element&&(c=f.currentTimeline),or(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,f.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,s=t.currentTimeline,r=e.timings,o=Math.abs(r.duration),a=o*(t.currentQueryTotal-1);let c=o*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const h=t.currentTimeline;c&&h.delayNextStep(c);const f=h.currentTime;or(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=s.currentTime-f+(s.startTime-i.currentTimeline.startTime)}}const u7={};class w_{constructor(e,t,i,s,r,o,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=r,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=u7,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new h7(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let s=this.options;null!=i.duration&&(s.duration=ka(i.duration)),null!=i.delay&&(s.delay=ka(i.delay));const r=i.params;if(r){let o=s.params;o||(o=this.options.params={}),Object.keys(r).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=F8(r[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(s=>{i[s]=t[s]})}}return e}createSubContext(e=null,t,i){const s=t||this.element,r=new w_(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(e){return this.previousNode=u7,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const s={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},r=new I0e(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,s,r,o){let a=[];if(s&&a.push(this.element),e.length>0){e=(e=e.replace(A0e,"."+this._enterClassName)).replace(O0e,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=i);0!==i&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!r&&0==a.length&&o.push(function B3e(n){return new G(3014,!1)}()),a}}class h7{constructor(e,t,i,s){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new h7(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Ha),this._currentKeyframe.set(t,Ha);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,s){t&&this._previousKeyframe.set("easing",t);const r=s&&s.params||{},o=function L0e(n,e){const t=new Map;let i;return n.forEach(s=>{if("*"===s){i=i||e.keys();for(let r of i)t.set(r,Ha)}else gl(s,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of o){const l=F8(c,r,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ha),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const s=this._styleSummary.get(i);(!s||t.time>s.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((a,c)=>{const l=gl(a,new Map,this._backFill);l.forEach((h,f)=>{"!"===h?e.add(f):h===Ha&&t.add(f)}),i||l.set("offset",c/this.duration),s.push(l)});const r=e.size?r7(e.values()):[],o=t.size?r7(t.values()):[];if(i){const a=s[0],c=new Map(a);a.set("offset",0),c.set("offset",1),s=[a,c]}return y_(this.element,s,r,o,this.duration,this.startTime,this.easing,!1)}}class I0e extends h7{constructor(e,t,i,s,r,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){const r=[],o=i+t,a=t/o,c=gl(e[0]);c.set("offset",0),r.push(c);const l=gl(e[0]);l.set("offset",iN(a)),r.push(l);const h=e.length-1;for(let f=1;f<=h;f++){let g=gl(e[f]);const p=g.get("offset");g.set("offset",iN((t+p*i)/o)),r.push(g)}i=o,t=0,s="",e=r}return y_(this.element,e,this.preStyleProps,this.postStyleProps,i,t,s,!0)}}function iN(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class __{}const R0e=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class N0e extends __{normalizePropertyName(e,t){return p_(e)}normalizeStyleValue(e,t,i,s){let r="";const o=i.toString().trim();if(R0e.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&s.push(function T3e(n,e){return new G(3005,!1)}())}return o+r}}function sN(n,e,t,i,s,r,o,a,c,l,h,f,g){return{type:0,element:n,triggerName:e,isRemovalTransition:s,fromState:t,fromStyles:r,toState:i,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:h,totalTime:f,errors:g}}const C_={};class rN{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,s){return function V0e(n,e,t,i,s){return n.some(r=>r(e,t,i,s))}(this.ast.matchers,e,t,i,s)}buildStyles(e,t,i){let s=this._stateStyles.get("*");return void 0!==e&&(s=this._stateStyles.get(e?.toString())||s),s?s.buildStyles(t,i):new Map}build(e,t,i,s,r,o,a,c,l,h){const f=[],g=this.ast.options&&this.ast.options.params||C_,v=this.buildStyles(i,a&&a.params||C_,f),y=c&&c.params||C_,b=this.buildStyles(s,y,f),C=new Set,_=new Map,M=new Map,S="void"===s,D={params:H0e(y,g),delay:this.ast.options?.delay},I=h?[]:b_(e,t,this.ast.animation,r,o,v,b,D,l,f);let k=0;if(I.forEach(j=>{k=Math.max(j.duration+j.delay,k)}),f.length)return sN(t,this._triggerName,i,s,S,v,b,[],[],_,M,k,f);I.forEach(j=>{const Q=j.element,Z=rr(_,Q,new Set);j.preStyleProps.forEach(Ce=>Z.add(Ce));const te=rr(M,Q,new Set);j.postStyleProps.forEach(Ce=>te.add(Ce)),Q!==t&&C.add(Q)});const Y=r7(C.values());return sN(t,this._triggerName,i,s,S,v,b,I,Y,_,M,k)}}function H0e(n,e){const t=H8(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class k0e{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,s=H8(this.defaultParams);return Object.keys(e).forEach(r=>{const o=e[r];null!==o&&(s[r]=o)}),this.styles.styles.forEach(r=>{"string"!=typeof r&&r.forEach((o,a)=>{o&&(o=F8(o,s,t));const c=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,c,o,t),i.set(a,o)})}),i}}class B0e{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(s=>{this.states.set(s.name,new k0e(s.style,s.options&&s.options.params||{},i))}),oN(this.states,"true","1"),oN(this.states,"false","0"),t.transitions.forEach(s=>{this.transitionFactories.push(new rN(e,s,this.states))}),this.fallbackTransition=function j0e(n,e,t){return new rN(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,s){return this.transitionFactories.find(o=>o.match(e,t,i,s))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function oN(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const $0e=new l7;class U0e{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],r=m_(this._driver,t,i,[]);if(i.length)throw function Y3e(n){return new G(3503,!1)}();this._animations.set(e,r)}_buildPlayer(e,t,i){const s=e.element,r=jR(this._normalizer,e.keyframes,t,i);return this._driver.animate(s,r,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const s=[],r=this._animations.get(e);let o;const a=new Map;if(r?(o=b_(this._driver,t,r,h_,t7,new Map,new Map,i,$0e,s),o.forEach(h=>{const f=rr(a,h.element,new Map);h.postStyleProps.forEach(g=>f.set(g,null))})):(s.push(function X3e(){return new G(3300,!1)}()),o=[]),s.length)throw function Z3e(n){return new G(3504,!1)}();a.forEach((h,f)=>{h.forEach((g,p)=>{h.set(p,this._driver.computeStyle(f,p,Ha))})});const l=fl(o.map(h=>{const f=a.get(h.element);return this._buildPlayer(h,new Map,f)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function K3e(n){return new G(3301,!1)}();return t}listen(e,t,i,s){const r=c_(t,"","","");return o_(this._getPlayer(e),i,r,s),()=>{}}command(e,t,i,s){if("register"==i)return void this.register(e,s[0]);if("create"==i)return void this.create(e,t,s[0]||{});const r=this._getPlayer(e);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e)}}}const aN="ng-animate-queued",M_="ng-animate-disabled",X0e=[],cN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Z0e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},co="__ng_removed";class x_{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function e8e(n){return n??null}(i?e.value:e),i){const r=H8(e);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(s=>{null==i[s]&&(i[s]=t[s])})}}}const B8="void",E_=new x_(B8);class K0e{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Rr(t,this._hostClassName)}listen(e,t,i,s){if(!this._triggers.has(t))throw function J3e(n,e){return new G(3302,!1)}();if(null==i||0==i.length)throw function Q3e(n){return new G(3303,!1)}();if(!function t8e(n){return"start"==n||"done"==n}(i))throw function e0e(n,e){return new G(3400,!1)}();const r=rr(this._elementListeners,e,[]),o={name:t,phase:i,callback:s};r.push(o);const a=rr(this._engine.statesByElement,e,new Map);return a.has(t)||(Rr(e,n7),Rr(e,n7+"-"+t),a.set(t,E_)),()=>{this._engine.afterFlush(()=>{const c=r.indexOf(o);c>=0&&r.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function t0e(n){return new G(3401,!1)}();return t}trigger(e,t,i,s=!0){const r=this._getTrigger(t),o=new S_(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Rr(e,n7),Rr(e,n7+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new x_(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=E_),l.value!==B8&&c.value===l.value){if(!function s8e(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let s=0;s<t.length;s++){const r=t[s];if(!e.hasOwnProperty(r)||n[r]!==e[r])return!1}return!0}(c.params,l.params)){const y=[],b=r.matchStyles(c.value,c.params,y),C=r.matchStyles(l.value,l.params,y);y.length?this._engine.reportError(y):this._engine.afterFlush(()=>{j1(e,b),qo(e,C)})}return}const g=rr(this._engine.playersByElement,e,[]);g.forEach(y=>{y.namespaceId==this.id&&y.triggerName==t&&y.queued&&y.destroy()});let p=r.matchTransition(c.value,l.value,e,l.params),v=!1;if(!p){if(!s)return;p=r.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:p,fromState:c,toState:l,player:o,isFallbackTransition:v}),v||(Rr(e,aN),o.onStart(()=>{Q2(e,aN)})),o.onDone(()=>{let y=this.players.indexOf(o);y>=0&&this.players.splice(y,1);const b=this._engine.playersByElement.get(e);if(b){let C=b.indexOf(o);C>=0&&b.splice(C,1)}}),this.players.push(o),g.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(s=>s.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,i7,!0);i.forEach(s=>{if(s[co])return;const r=this._engine.fetchNamespacesByElement(s);r.size?r.forEach(o=>o.triggerLeaveAnimation(s,t,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(e,t,i,s){const r=this._engine.statesByElement.get(e),o=new Map;if(r){const a=[];if(r.forEach((c,l)=>{if(o.set(l,c.value),this._triggers.has(l)){const h=this.trigger(e,l,B8,s);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&fl(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const s=new Set;t.forEach(r=>{const o=r.name;if(s.has(o))return;s.add(o);const c=this._triggers.get(o).fallbackTransition,l=i.get(o)||E_,h=new x_(B8),f=new S_(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:l,toState:h,player:f,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(i.totalAnimations){const r=i.players.length?i.playersByQueriedElement.get(e):[];if(r&&r.length)s=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)i.markElementAsRemoved(this.id,e,!1,t);else{const r=e[co];(!r||r===cN)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Rr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const r=i.element,o=this._elementListeners.get(r);o&&o.forEach(a=>{if(a.name==i.triggerName){const c=c_(r,i.triggerName,i.fromState.value,i.toState.value);c._data=e,o_(i.player,a.phase,c,a.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(i)}),this._queue=[],t.sort((i,s)=>{const r=i.transition.ast.depCount,o=s.transition.ast.depCount;return 0==r||0==o?r-o:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class J0e{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,r)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new K0e(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,s=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const c=s.get(a);if(c){const l=i.indexOf(c);i.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return s.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let s=this._namespaceLookup[e];s&&s.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let s of i.values())if(s.namespaceId){const r=this._fetchNamespace(s.namespaceId);r&&t.add(r)}return t}trigger(e,t,i,s){if(d7(t)){const r=this._fetchNamespace(e);if(r)return r.trigger(t,i,s),!0}return!1}insertNode(e,t,i,s){if(!d7(t))return;const r=t[co];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,i)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Rr(e,M_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Q2(e,M_))}removeNode(e,t,i){if(d7(t)){const s=e?this._fetchNamespace(e):null;s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const r=this.namespacesByHostElement.get(t);r&&r.id!==e&&r.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,s,r){this.collectedLeaveElements.push(t),t[co]={namespaceId:e,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:r}}listen(e,t,i,s,r){return d7(t)?this._fetchNamespace(e).listen(t,i,s,r):()=>{}}_buildInstruction(e,t,i,s,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,s,e.fromState.options,e.toState.options,t,r)}destroyInnerAnimations(e){let t=this.driver.query(e,i7,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,d_,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return fl(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[co];if(t&&t.setForRemoval){if(e[co]=cN,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(M_)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Rr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?fl(t).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(e){throw function n0e(n){return new G(3402,!1)}()}_flushAnimations(e,t){const i=new l7,s=[],r=new Map,o=[],a=new Map,c=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(V=>{h.add(V);const ne=this.driver.query(V,".ng-animate-queued",!0);for(let ue=0;ue<ne.length;ue++)h.add(ne[ue])});const f=this.bodyNode,g=Array.from(this.statesByElement.keys()),p=hN(g,this.collectedEnterElements),v=new Map;let y=0;p.forEach((V,ne)=>{const ue=h_+y++;v.set(ne,ue),V.forEach(be=>Rr(be,ue))});const b=[],C=new Set,_=new Set;for(let V=0;V<this.collectedLeaveElements.length;V++){const ne=this.collectedLeaveElements[V],ue=ne[co];ue&&ue.setForRemoval&&(b.push(ne),C.add(ne),ue.hasAnimation?this.driver.query(ne,".ng-star-inserted",!0).forEach(be=>C.add(be)):_.add(ne))}const M=new Map,S=hN(g,Array.from(C));S.forEach((V,ne)=>{const ue=t7+y++;M.set(ne,ue),V.forEach(be=>Rr(be,ue))}),e.push(()=>{p.forEach((V,ne)=>{const ue=v.get(ne);V.forEach(be=>Q2(be,ue))}),S.forEach((V,ne)=>{const ue=M.get(ne);V.forEach(be=>Q2(be,ue))}),b.forEach(V=>{this.processLeaveNode(V)})});const D=[],I=[];for(let V=this._namespaceList.length-1;V>=0;V--)this._namespaceList[V].drainQueuedTransitions(t).forEach(ue=>{const be=ue.player,Qe=ue.element;if(D.push(be),this.collectedEnterElements.length){const en=Qe[co];if(en&&en.setForMove){if(en.previousTriggersValues&&en.previousTriggersValues.has(ue.triggerName)){const Wo=en.previousTriggersValues.get(ue.triggerName),fs=this.statesByElement.get(ue.element);if(fs&&fs.has(ue.triggerName)){const uo=fs.get(ue.triggerName);uo.value=Wo,fs.set(ue.triggerName,uo)}}return void be.destroy()}}const vt=!f||!this.driver.containsElement(f,Qe),yi=M.get(Qe),ar=v.get(Qe),_t=this._buildInstruction(ue,i,ar,yi,vt);if(_t.errors&&_t.errors.length)return void I.push(_t);if(vt)return be.onStart(()=>j1(Qe,_t.fromStyles)),be.onDestroy(()=>qo(Qe,_t.toStyles)),void s.push(be);if(ue.isFallbackTransition)return be.onStart(()=>j1(Qe,_t.fromStyles)),be.onDestroy(()=>qo(Qe,_t.toStyles)),void s.push(be);const pl=[];_t.timelines.forEach(en=>{en.stretchStartingKeyframe=!0,this.disabledNodes.has(en.element)||pl.push(en)}),_t.timelines=pl,i.append(Qe,_t.timelines),o.push({instruction:_t,player:be,element:Qe}),_t.queriedElements.forEach(en=>rr(a,en,[]).push(be)),_t.preStyleProps.forEach((en,Wo)=>{if(en.size){let fs=c.get(Wo);fs||c.set(Wo,fs=new Set),en.forEach((uo,A_)=>fs.add(A_))}}),_t.postStyleProps.forEach((en,Wo)=>{let fs=l.get(Wo);fs||l.set(Wo,fs=new Set),en.forEach((uo,A_)=>fs.add(A_))})});if(I.length){const V=[];I.forEach(ne=>{V.push(function i0e(n,e){return new G(3505,!1)}())}),D.forEach(ne=>ne.destroy()),this.reportError(V)}const k=new Map,Y=new Map;o.forEach(V=>{const ne=V.element;i.has(ne)&&(Y.set(ne,ne),this._beforeAnimationBuild(V.player.namespaceId,V.instruction,k))}),s.forEach(V=>{const ne=V.element;this._getPreviousPlayers(ne,!1,V.namespaceId,V.triggerName,null).forEach(be=>{rr(k,ne,[]).push(be),be.destroy()})});const j=b.filter(V=>fN(V,c,l)),Q=new Map;uN(Q,this.driver,_,l,Ha).forEach(V=>{fN(V,c,l)&&j.push(V)});const te=new Map;p.forEach((V,ne)=>{uN(te,this.driver,new Set(V),c,"!")}),j.forEach(V=>{const ne=Q.get(V),ue=te.get(V);Q.set(V,new Map([...ne?.entries()??[],...ue?.entries()??[]]))});const Ce=[],De=[],H={};o.forEach(V=>{const{element:ne,player:ue,instruction:be}=V;if(i.has(ne)){if(h.has(ne))return ue.onDestroy(()=>qo(ne,be.toStyles)),ue.disabled=!0,ue.overrideTotalTime(be.totalTime),void s.push(ue);let Qe=H;if(Y.size>1){let yi=ne;const ar=[];for(;yi=yi.parentNode;){const _t=Y.get(yi);if(_t){Qe=_t;break}ar.push(yi)}ar.forEach(_t=>Y.set(_t,Qe))}const vt=this._buildAnimation(ue.namespaceId,be,k,r,te,Q);if(ue.setRealPlayer(vt),Qe===H)Ce.push(ue);else{const yi=this.playersByElement.get(Qe);yi&&yi.length&&(ue.parentPlayer=fl(yi)),s.push(ue)}}else j1(ne,be.fromStyles),ue.onDestroy(()=>qo(ne,be.toStyles)),De.push(ue),h.has(ne)&&s.push(ue)}),De.forEach(V=>{const ne=r.get(V.element);if(ne&&ne.length){const ue=fl(ne);V.setRealPlayer(ue)}}),s.forEach(V=>{V.parentPlayer?V.syncPlayerEvents(V.parentPlayer):V.destroy()});for(let V=0;V<b.length;V++){const ne=b[V],ue=ne[co];if(Q2(ne,t7),ue&&ue.hasAnimation)continue;let be=[];if(a.size){let vt=a.get(ne);vt&&vt.length&&be.push(...vt);let yi=this.driver.query(ne,d_,!0);for(let ar=0;ar<yi.length;ar++){let _t=a.get(yi[ar]);_t&&_t.length&&be.push(..._t)}}const Qe=be.filter(vt=>!vt.destroyed);Qe.length?n8e(this,ne,Qe):this.processLeaveNode(ne)}return b.length=0,Ce.forEach(V=>{this.players.push(V),V.onDone(()=>{V.destroy();const ne=this.players.indexOf(V);this.players.splice(ne,1)}),V.play()}),Ce}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,s,r){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const c=!r||r==B8;a.forEach(l=>{l.queued||!c&&l.triggerName!=s||o.push(l)})}}return(i||s)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||s&&s!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){const r=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,h=l!==r,f=rr(i,l,[]);this._getPreviousPlayers(l,h,o,a,t.toState).forEach(p=>{const v=p.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),p.destroy(),f.push(p)})}j1(r,t.fromStyles)}_buildAnimation(e,t,i,s,r,o){const a=t.triggerName,c=t.element,l=[],h=new Set,f=new Set,g=t.timelines.map(v=>{const y=v.element;h.add(y);const b=y[co];if(b&&b.removedBeforeQueried)return new L8(v.duration,v.delay);const C=y!==c,_=function i8e(n){const e=[];return dN(n,e),e}((i.get(y)||X0e).map(k=>k.getRealPlayer())).filter(k=>!!k.element&&k.element===y),M=r.get(y),S=o.get(y),D=jR(this._normalizer,v.keyframes,M,S),I=this._buildPlayer(v,D,_);if(v.subTimeline&&s&&f.add(y),C){const k=new S_(e,a,y);k.setRealPlayer(I),l.push(k)}return I});l.forEach(v=>{rr(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>function Q0e(n,e,t){let i=n.get(e);if(i){if(i.length){const s=i.indexOf(t);i.splice(s,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,v.element,v))}),h.forEach(v=>Rr(v,XR));const p=fl(g);return p.onDestroy(()=>{h.forEach(v=>Q2(v,XR)),qo(c,t.toStyles)}),f.forEach(v=>{rr(s,v,[]).push(p)}),p}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new L8(e.duration,e.delay)}}class S_{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new L8,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(s=>o_(e,i,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){rr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function d7(n){return n&&1===n.nodeType}function lN(n,e){const t=n.style.display;return n.style.display=e??"none",t}function uN(n,e,t,i,s){const r=[];t.forEach(c=>r.push(lN(c)));const o=[];i.forEach((c,l)=>{const h=new Map;c.forEach(f=>{const g=e.computeStyle(l,f,s);h.set(f,g),(!g||0==g.length)&&(l[co]=Z0e,o.push(l))}),n.set(l,h)});let a=0;return t.forEach(c=>lN(c,r[a++])),o}function hN(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const s=new Set(e),r=new Map;function o(a){if(!a)return 1;let c=r.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:s.has(l)?1:o(l),r.set(a,c),c}return e.forEach(a=>{const c=o(a);1!==c&&t.get(c).push(a)}),t}function Rr(n,e){n.classList?.add(e)}function Q2(n,e){n.classList?.remove(e)}function n8e(n,e,t){fl(t).onDone(()=>n.processLeaveNode(e))}function dN(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof oR?dN(i.players,e):e.push(i)}}function fN(n,e,t){const i=t.get(n);if(!i)return!1;let s=e.get(n);return s?i.forEach(r=>s.add(r)):e.set(n,i),t.delete(n),!0}class f7{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,r)=>{},this._transitionEngine=new J0e(e,t,i),this._timelineEngine=new U0e(e,t,i),this._transitionEngine.onRemovalComplete=(s,r)=>this.onRemovalComplete(s,r)}registerTrigger(e,t,i,s,r){const o=e+"-"+s;let a=this._triggerCache[o];if(!a){const c=[],h=m_(this._driver,r,c,[]);if(c.length)throw function q3e(n,e){return new G(3404,!1)}();a=function F0e(n,e,t){return new B0e(n,e,t)}(s,h,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,s,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,s){this._transitionEngine.insertNode(e,t,i,s)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,s){if("@"==i.charAt(0)){const[r,o]=$R(i);this._timelineEngine.command(r,t,o,s)}else this._transitionEngine.trigger(e,t,i,s)}listen(e,t,i,s,r){if("@"==i.charAt(0)){const[o,a]=$R(i);return this._timelineEngine.listen(o,t,a,r)}return this._transitionEngine.listen(e,t,i,s,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let o8e=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,s){this._element=t,this._startStyles=i,this._endStyles=s,this._state=0;let r=n.initialStylesByElement.get(t);r||n.initialStylesByElement.set(t,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&qo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qo(this._element,this._initialStyles),this._endStyles&&(qo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(j1(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(j1(this._element,this._endStyles),this._endStyles=null),qo(this._element,this._initialStyles),this._state=3)}}return n})();function z_(n){let e=null;return n.forEach((t,i)=>{(function a8e(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class gN{constructor(e,t,i,s){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,s)=>{"offset"!==s&&e.set(s,this._finished?i:QR(this.element,s))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class c8e{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return GR(e,t)}getParentElement(e){return l_(e)}query(e,t,i){return qR(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,s,r,o=[]){const c={duration:i,delay:s,fill:0==s?"both":"forwards"};r&&(c.easing=r);const l=new Map,h=o.filter(p=>p instanceof gN);(function p0e(n,e){return 0===n||0===e})(i,s)&&h.forEach(p=>{p.currentSnapshot.forEach((v,y)=>l.set(y,v))});let f=function d0e(n){return n.length?n[0]instanceof Map?n:n.map(e=>ZR(e)):[]}(t).map(p=>gl(p));f=function m0e(n,e,t){if(t.size&&e.length){let i=e[0],s=[];if(t.forEach((r,o)=>{i.has(o)||s.push(o),i.set(o,r)}),s.length)for(let r=1;r<e.length;r++){let o=e[r];s.forEach(a=>o.set(a,QR(n,a)))}}return e}(e,f,l);const g=function r8e(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=z_(e[0]),e.length>1&&(i=z_(e[e.length-1]))):e instanceof Map&&(t=z_(e)),t||i?new o8e(n,t,i):null}(e,f);return new gN(e,f,c,g)}}let l8e=(()=>{class n extends nR{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:ws.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(t)?iR(t):t;return pN(this._renderer,null,i,"register",[s]),new u8e(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(F(d1),F(Pt))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();class u8e extends W2e{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new h8e(this._id,e,t||{},this._renderer)}}class h8e{constructor(e,t,i,s){this.id=e,this.element=t,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return pN(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function pN(n,e,t,i,s){return n.setProperty(e,`@@${t}:${i}`,s)}const mN="@.disabled";let d8e=(()=>{class n{constructor(t,i,s){this.delegate=t,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(r,o)=>{const a=o?.parentNode(r);a&&o.removeChild(a,r)}}createRenderer(t,i){const r=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let h=this._rendererCache.get(r);return h||(h=new vN("",r,this.engine,()=>this._rendererCache.delete(r)),this._rendererCache.set(r,h)),h}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const c=h=>{Array.isArray(h)?h.forEach(c):this.engine.registerTrigger(o,a,t,h.name,h)};return i.data.animation.forEach(c),new f8e(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,s){t>=0&&t<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(r=>{const[o,a]=r;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(F(d1),F(f7),F(gt))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();class vN{constructor(e,t,i,s){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=s}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,s=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,s)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,s){this.delegate.setAttribute(e,t,i,s)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,s){this.delegate.setStyle(e,t,i,s)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==mN?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class f8e extends vN{constructor(e,t,i,s,r){super(t,i,s,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==mN?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const s=function g8e(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let r=t.slice(1),o="";return"@"!=r.charAt(0)&&([r,o]=function p8e(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(r)),this.engine.listen(this.namespaceId,s,r,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let m8e=(()=>{class n extends f7{constructor(t,i,s,r){super(t.body,i,s)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(F(Pt),F(u_),F(__),F(kc))};static#t=this.\u0275prov=J({token:n,factory:n.\u0275fac})}return n})();const yN=[{provide:nR,useClass:l8e},{provide:__,useFactory:function v8e(){return new N0e}},{provide:f7,useClass:m8e},{provide:d1,useFactory:function y8e(n,e,t){return new d8e(n,e,t)},deps:[iy,f7,gt]}],D_=[{provide:u_,useFactory:()=>new c8e},{provide:vu,useValue:"BrowserAnimations"},...yN],bN=[{provide:u_,useClass:WR},{provide:vu,useValue:"NoopAnimations"},...yN];let b8e=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?bN:D_}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ot({type:n});static#n=this.\u0275inj=nn({providers:D_,imports:[Ez]})}return n})(),w8e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Ot({type:n,bootstrap:[m3e]});static#n=this.\u0275inj=nn({imports:[Ez,aue,p3e,b8e,tR,x3e,o3e]})}return n})();Za(zw,[w0,Aw],[]),Za(Ow,[w0,_0,Zg,M3e,kR,Tg],[]),XU().bootstrapModule(w8e).catch(n=>console.error(n))},990:function(Rs,Nr,rt){var cr;Rs=rt.nmd(Rs),function(){var O,Ii="Expected a function",yl="__lodash_hash_undefined__",Fa="__lodash_placeholder__",hr=1/0,go=9007199254740991,gs=4294967295,Y1=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],$a="[object Arguments]",Ua="[object Array]",Zo="[object Boolean]",ps="[object Date]",wl="[object Error]",Dt="[object Function]",rh="[object GeneratorFunction]",Hs="[object Map]",_l="[object Number]",at="[object Object]",oh="[object Promise]",At="[object RegExp]",ct="[object Set]",Cl="[object String]",lt="[object Symbol]",Ml="[object WeakMap]",xl="[object ArrayBuffer]",oi="[object DataView]",lh="[object Float32Array]",G8="[object Float64Array]",q8="[object Int8Array]",W8="[object Int16Array]",Y8="[object Int32Array]",uh="[object Uint8Array]",X1="[object Uint8ClampedArray]",hh="[object Uint16Array]",El="[object Uint32Array]",_7=/\b__p \+= '';/g,dh=/\b(__p \+=) '' \+/g,X8=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Z8=/&(?:amp|lt|gt|quot|#39);/g,K8=/[&<>"']/g,C7=RegExp(Z8.source),po=RegExp(K8.source),J8=/<%-([\s\S]+?)%>/g,M7=/<%([\s\S]+?)%>/g,fh=/<%=([\s\S]+?)%>/g,x7=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,E7=/^\w*$/,S7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gh=/[\\^$.*+?()[\]{}|]/g,z7=RegExp(gh.source),ph=/^\s+/,D7=/\s/,A7=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,T7=/\{\n\/\* \[wrapped with (.+)\] \*/,O7=/,? & /,T_=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,mh=/[()=,{}\[\]\/\s]/,Q8=/\\(\\)?/g,e6=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vh=/\w*$/,t6=/^[-+]0x[0-9a-f]+$/i,P7=/^0b[01]+$/i,n6=/^\[object .+?Constructor\]$/,i6=/^0o[0-7]+$/i,s6=/^(?:0|[1-9]\d*)$/,r6=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,zn=/($^)/,I7=/['\n\r\u2028\u2029\\]/g,Z1="\\ud800-\\udfff",a6="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",c6="\\u2700-\\u27bf",dr="a-z\\xdf-\\xf6\\xf8-\\xff",V7="A-Z\\xc0-\\xd6\\xd8-\\xde",l6="\\ufe0e\\ufe0f",yh="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",H7="["+Z1+"]",qa="["+yh+"]",K1="["+a6+"]",bh="\\d+",u6="["+c6+"]",h6="["+dr+"]",d6="[^"+Z1+yh+bh+c6+dr+V7+"]",wh="\\ud83c[\\udffb-\\udfff]",_h="[^"+Z1+"]",Ch="(?:\\ud83c[\\udde6-\\uddff]){2}",Mh="[\\ud800-\\udbff][\\udc00-\\udfff]",Wt="["+V7+"]",Li="(?:"+h6+"|"+d6+")",Ee="(?:"+Wt+"|"+d6+")",J1="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Q1="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",ms="(?:"+K1+"|"+wh+")?",e4="["+l6+"]?",yn=e4+ms+"(?:\\u200d(?:"+[_h,Ch,Mh].join("|")+")"+e4+ms+")*",Eh="(?:"+[u6,Ch,Mh].join("|")+")"+yn,B7="(?:"+[_h+K1+"?",K1,Ch,Mh,H7].join("|")+")",Sh=RegExp("['\u2019]","g"),Re=RegExp(K1,"g"),zl=RegExp(wh+"(?="+wh+")|"+B7+yn,"g"),zh=RegExp([Wt+"?"+h6+"+"+J1+"(?="+[qa,Wt,"$"].join("|")+")",Ee+"+"+Q1+"(?="+[qa,Wt+Li,"$"].join("|")+")",Wt+"?"+Li+"+"+J1,Wt+"+"+Q1,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",bh,Eh].join("|"),"g"),O_=RegExp("[\\u200d"+Z1+a6+l6+"]"),f6=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,G=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],n4=-1,de={};de[lh]=de[G8]=de[q8]=de[W8]=de[Y8]=de[uh]=de[X1]=de[hh]=de[El]=!0,de[$a]=de[Ua]=de[xl]=de[Zo]=de[oi]=de[ps]=de[wl]=de[Dt]=de[Hs]=de[_l]=de[at]=de[At]=de[ct]=de[Cl]=de[Ml]=!1;var we={};we[$a]=we[Ua]=we[xl]=we[oi]=we[Zo]=we[ps]=we[lh]=we[G8]=we[q8]=we[W8]=we[Y8]=we[Hs]=we[_l]=we[at]=we[At]=we[ct]=we[Cl]=we[lt]=we[uh]=we[X1]=we[hh]=we[El]=!0,we[wl]=we[Dt]=we[Ml]=!1;var Dh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zi=parseFloat,I_=parseInt,g6="object"==typeof global&&global&&global.Object===Object&&global,L_="object"==typeof self&&self&&self.Object===Object&&self,tn=g6||L_||Function("return this")(),U7=Nr&&!Nr.nodeType&&Nr,i4=U7&&Rs&&!Rs.nodeType&&Rs,G7=i4&&i4.exports===U7,p6=G7&&g6.process,vs=function(){try{return i4&&i4.require&&i4.require("util").types||p6&&p6.binding&&p6.binding("util")}catch{}}(),q7=vs&&vs.isArrayBuffer,m6=vs&&vs.isDate,W7=vs&&vs.isMap,Ki=vs&&vs.isRegExp,Oe=vs&&vs.isSet,Y7=vs&&vs.isTypedArray;function ys(R,$,B){switch(B.length){case 0:return R.call($);case 1:return R.call($,B[0]);case 2:return R.call($,B[0],B[1]);case 3:return R.call($,B[0],B[1],B[2])}return R.apply($,B)}function R_(R,$,B,fe){for(var Se=-1,ht=null==R?0:R.length;++Se<ht;){var bn=R[Se];$(fe,bn,B(bn),R)}return fe}function J(R,$){for(var B=-1,fe=null==R?0:R.length;++B<fe&&!1!==$(R[B],B,R););return R}function N_(R,$){for(var B=null==R?0:R.length;B--&&!1!==$(R[B],B,R););return R}function nn(R,$){for(var B=-1,fe=null==R?0:R.length;++B<fe;)if(!$(R[B],B,R))return!1;return!0}function ks(R,$){for(var B=-1,fe=null==R?0:R.length,Se=0,ht=[];++B<fe;){var bn=R[B];$(bn,B,R)&&(ht[Se++]=bn)}return ht}function s4(R,$){return!(null==R||!R.length)&&Ko(R,$,0)>-1}function r4(R,$,B){for(var fe=-1,Se=null==R?0:R.length;++fe<Se;)if(B($,R[fe]))return!0;return!1}function Yt(R,$){for(var B=-1,fe=null==R?0:R.length,Se=Array(fe);++B<fe;)Se[B]=$(R[B],B,R);return Se}function Fs(R,$){for(var B=-1,fe=$.length,Se=R.length;++B<fe;)R[Se+B]=$[B];return R}function Wa(R,$,B,fe){var Se=-1,ht=null==R?0:R.length;for(fe&&ht&&(B=R[++Se]);++Se<ht;)B=$(B,R[Se],Se,R);return B}function Ah(R,$,B,fe){var Se=null==R?0:R.length;for(fe&&Se&&(B=R[--Se]);Se--;)B=$(B,R[Se],Se,R);return B}function o4(R,$){for(var B=-1,fe=null==R?0:R.length;++B<fe;)if($(R[B],B,R))return!0;return!1}var X7=v6("length");function Oh(R,$,B){var fe;return B(R,function(Se,ht,bn){if($(Se,ht,bn))return fe=ht,!1}),fe}function Zn(R,$,B,fe){for(var Se=R.length,ht=B+(fe?1:-1);fe?ht--:++ht<Se;)if($(R[ht],ht,R))return ht;return-1}function Ko(R,$,B){return $==$?function u4(R,$,B){for(var fe=B-1,Se=R.length;++fe<Se;)if(R[fe]===$)return fe;return-1}(R,$,B):Zn(R,Tt,B)}function V_(R,$,B,fe){for(var Se=B-1,ht=R.length;++Se<ht;)if(fe(R[Se],$))return Se;return-1}function Tt(R){return R!=R}function Z7(R,$){var B=null==R?0:R.length;return B?Al(R,$)/B:NaN}function v6(R){return function($){return null==$?O:$[R]}}function Dl(R){return function($){return null==R?O:R[$]}}function a4(R,$,B,fe,Se){return Se(R,function(ht,bn,zt){B=fe?(fe=!1,ht):$(B,ht,bn,zt)}),B}function Al(R,$){for(var B,fe=-1,Se=R.length;++fe<Se;){var ht=$(R[fe]);ht!==O&&(B=B===O?ht:B+ht)}return B}function Ph(R,$){for(var B=-1,fe=Array(R);++B<R;)fe[B]=$(B);return fe}function K7(R){return R&&R.slice(0,_6(R)+1).replace(ph,"")}function bs(R){return function($){return R($)}}function b6(R,$){return Yt($,function(B){return R[B]})}function c4(R,$){return R.has($)}function J7(R,$){for(var B=-1,fe=R.length;++B<fe&&Ko($,R[B],0)>-1;);return B}function Ya(R,$){for(var B=R.length;B--&&Ko($,R[B],0)>-1;);return B}var l4=Dl({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),Q7=Dl({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ep(R){return"\\"+Dh[R]}function Jo(R){return O_.test(R)}function gr(R){var $=-1,B=Array(R.size);return R.forEach(function(fe,Se){B[++$]=[Se,fe]}),B}function w6(R,$){return function(B){return R($(B))}}function F(R,$){for(var B=-1,fe=R.length,Se=0,ht=[];++B<fe;){var bn=R[B];(bn===$||bn===Fa)&&(R[B]=Fa,ht[Se++]=B)}return ht}function Tl(R){var $=-1,B=Array(R.size);return R.forEach(function(fe){B[++$]=fe}),B}function pr(R){return Jo(R)?function Hr(R){for(var $=zl.lastIndex=0;zl.test(R);)++$;return $}(R):X7(R)}function Bs(R){return Jo(R)?function h4(R){return R.match(zl)||[]}(R):function et(R){return R.split("")}(R)}function _6(R){for(var $=R.length;$--&&D7.test(R.charAt($)););return $}var ip=Dl({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ut=function R($){var u,B=($=null==$?tn:ut.defaults(tn.Object(),$,ut.pick(tn,G))).Array,fe=$.Date,Se=$.Error,ht=$.Function,bn=$.Math,zt=$.Object,Ol=$.RegExp,C6=$.String,Ji=$.TypeError,mo=B.prototype,Qo=zt.prototype,d4=$["__core-js_shared__"],Pl=ht.prototype.toString,Mt=Qo.hasOwnProperty,sp=0,_s=(u=/[^.]+$/.exec(d4&&d4.keys&&d4.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"",f4=Qo.toString,x6=Pl.call(zt),rp=tn._,op=Ol("^"+Pl.call(Mt).replace(gh,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),g4=G7?$.Buffer:O,vo=$.Symbol,Il=$.Uint8Array,E6=g4?g4.allocUnsafe:O,p4=w6(zt.getPrototypeOf,zt),S6=zt.create,We=Qo.propertyIsEnumerable,Za=mo.splice,z6=vo?vo.isConcatSpreadable:O,Ll=vo?vo.iterator:O,Ot=vo?vo.toStringTag:O,m4=function(){try{var u=Ur(zt,"defineProperty");return u({},"",{}),u}catch{}}(),D6=$.clearTimeout!==tn.clearTimeout&&$.clearTimeout,jt=fe&&fe.now!==tn.Date.now&&fe.now,Ri=$.setTimeout!==tn.setTimeout&&$.setTimeout,tt=bn.ceil,wn=bn.floor,Kn=zt.getOwnPropertySymbols,Ka=g4?g4.isBuffer:O,Ni=$.isFinite,A6=mo.join,T6=w6(zt.keys,zt),ln=bn.max,ai=bn.min,ap=fe.now,un=$.parseInt,ce=bn.random,Fe=mo.reverse,Vt=Ur($,"DataView"),bi=Ur($,"Map"),ea=Ur($,"Promise"),fn=Ur($,"Set"),vr=Ur($,"WeakMap"),$t=Ur(zt,"create"),js=vr&&new vr,$s={},Ve=la(Vt),Rl=la(bi),O6=la(ea),Ja=la(fn),gn=la(vr),yo=vo?vo.prototype:O,yr=yo?yo.valueOf:O,Us=yo?yo.toString:O;function E(u){if(Xt(u)&&!Be(u)&&!(u instanceof Ze)){if(u instanceof _n)return u;if(Mt.call(u,"__wrapped__"))return h3(u)}return new _n(u)}var ta=function(){function u(){}return function(d){if(!Ft(d))return{};if(S6)return S6(d);u.prototype=d;var m=new u;return u.prototype=O,m}}();function Gs(){}function _n(u,d){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=O}function Ze(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=gs,this.__views__=[]}function kr(u){var d=-1,m=null==u?0:u.length;for(this.clear();++d<m;){var w=u[d];this.set(w[0],w[1])}}function Ut(u){var d=-1,m=null==u?0:u.length;for(this.clear();++d<m;){var w=u[d];this.set(w[0],w[1])}}function Cs(u){var d=-1,m=null==u?0:u.length;for(this.clear();++d<m;){var w=u[d];this.set(w[0],w[1])}}function ia(u){var d=-1,m=null==u?0:u.length;for(this.__data__=new Cs;++d<m;)this.add(u[d])}function wr(u){var d=this.__data__=new Ut(u);this.size=d.size}function hp(u,d){var m=Be(u),w=!m&&da(u),x=!m&&!w&&Js(u),z=!m&&!w&&!x&&ga(u),A=m||w||x||z,L=A?Ph(u.length,C6):[],N=L.length;for(var W in u)(d||Mt.call(u,W))&&(!A||!("length"==W||x&&("offset"==W||"parent"==W)||z&&("buffer"==W||"byteLength"==W||"byteOffset"==W)||Co(W,N)))&&L.push(W);return L}function dp(u){var d=u.length;return d?u[E4(0,d-1)]:O}function W_(u,d){return k4(ci(u),tc(d,0,u.length))}function Y_(u){return k4(ci(u))}function I6(u,d,m){(m!==O&&!is(u[d],m)||m===O&&!(d in u))&&_i(u,d,m)}function ec(u,d,m){var w=u[d];(!Mt.call(u,d)||!is(w,m)||m===O&&!(d in u))&&_i(u,d,m)}function Hl(u,d){for(var m=u.length;m--;)if(is(u[m][0],d))return m;return-1}function X_(u,d,m,w){return Fr(u,function(x,z,A){d(w,x,m(x),A)}),w}function fp(u,d){return u&&Ss(d,jn(d),u)}function _i(u,d,m){"__proto__"==d&&m4?m4(u,d,{configurable:!0,enumerable:!0,value:m,writable:!0}):u[d]=m}function _r(u,d){for(var m=-1,w=d.length,x=B(w),z=null==u;++m<w;)x[m]=z?O:ru(u,d[m]);return x}function tc(u,d,m){return u==u&&(m!==O&&(u=u<=m?u:m),d!==O&&(u=u>=d?u:d)),u}function Ws(u,d,m,w,x,z){var A,L=1&d,N=2&d,W=4&d;if(m&&(A=x?m(u,w,x,z):m(u)),A!==O)return A;if(!Ft(u))return u;var X=Be(u);if(X){if(A=function s3(u){var d=u.length,m=new u.constructor(d);return d&&"string"==typeof u[0]&&Mt.call(u,"index")&&(m.index=u.index,m.input=u.input),m}(u),!L)return ci(u,A)}else{var ee=pn(u),ae=ee==Dt||ee==rh;if(Js(u))return X6(u,L);if(ee==at||ee==$a||ae&&!x){if(A=N||ae?{}:Rp(u),!L)return N?function Q_(u,d){return Ss(u,td(u),d)}(u,function Z_(u,d){return u&&Ss(d,ji(d),u)}(A,u)):function Ap(u,d){return Ss(u,P4(u),d)}(u,fp(A,u))}else{if(!we[ee])return x?u:{};A=function Np(u,d,m){var w=u.constructor;switch(d){case xl:return Zh(u);case Zo:case ps:return new w(+u);case oi:return function K(u,d){var m=d?Zh(u.buffer):u.buffer;return new u.constructor(m,u.byteOffset,u.byteLength)}(u,m);case lh:case G8:case q8:case W8:case Y8:case uh:case X1:case hh:case El:return Z6(u,m);case Hs:return new w;case _l:case Cl:return new w(u);case At:return function dt(u){var d=new u.constructor(u.source,vh.exec(u));return d.lastIndex=u.lastIndex,d}(u);case ct:return new w;case lt:return function Dp(u){return yr?zt(yr.call(u)):{}}(u)}}(u,ee,L)}}z||(z=new wr);var ve=z.get(u);if(ve)return ve;z.set(u,A),Rd(u)?u.forEach(function(Ae){A.add(Ws(Ae,d,m,Ae,u,z))}):J4(u)&&u.forEach(function(Ae,it){A.set(it,Ws(Ae,d,m,it,u,z))});var Xe=X?O:(W?N?O4:T4:N?ji:jn)(u);return J(Xe||u,function(Ae,it){Xe&&(Ae=u[it=Ae]),ec(A,it,Ws(Ae,d,m,it,u,z))}),A}function kl(u,d,m){var w=m.length;if(null==u)return!w;for(u=zt(u);w--;){var x=m[w],A=u[x];if(A===O&&!(x in u)||!(0,d[x])(A))return!1}return!0}function Qi(u,d,m){if("function"!=typeof u)throw new Ji(Ii);return pc(function(){u.apply(O,m)},d)}function nc(u,d,m,w){var x=-1,z=s4,A=!0,L=u.length,N=[],W=d.length;if(!L)return N;m&&(d=Yt(d,bs(m))),w?(z=r4,A=!1):d.length>=200&&(z=c4,A=!1,d=new ia(d));e:for(;++x<L;){var X=u[x],ee=null==m?X:m(X);if(X=w||0!==X?X:0,A&&ee==ee){for(var ae=W;ae--;)if(d[ae]===ee)continue e;N.push(X)}else z(d,ee,w)||N.push(X)}return N}E.templateSettings={escape:J8,evaluate:M7,interpolate:fh,variable:"",imports:{_:E}},(E.prototype=Gs.prototype).constructor=E,(_n.prototype=ta(Gs.prototype)).constructor=_n,(Ze.prototype=ta(Gs.prototype)).constructor=Ze,kr.prototype.clear=function P6(){this.__data__=$t?$t(null):{},this.size=0},kr.prototype.delete=function br(u){var d=this.has(u)&&delete this.__data__[u];return this.size-=d?1:0,d},kr.prototype.get=function v4(u){var d=this.__data__;if($t){var m=d[u];return m===yl?O:m}return Mt.call(d,u)?d[u]:O},kr.prototype.has=function Qa(u){var d=this.__data__;return $t?d[u]!==O:Mt.call(d,u)},kr.prototype.set=function Vl(u,d){var m=this.__data__;return this.size+=this.has(u)?0:1,m[u]=$t&&d===O?yl:d,this},Ut.prototype.clear=function k_(){this.__data__=[],this.size=0},Ut.prototype.delete=function Vi(u){var d=this.__data__,m=Hl(d,u);return!(m<0||(m==d.length-1?d.pop():Za.call(d,m,1),--this.size,0))},Ut.prototype.get=function wi(u){var d=this.__data__,m=Hl(d,u);return m<0?O:d[m][1]},Ut.prototype.has=function Nh(u){return Hl(this.__data__,u)>-1},Ut.prototype.set=function na(u,d){var m=this.__data__,w=Hl(m,u);return w<0?(++this.size,m.push([u,d])):m[w][1]=d,this},Cs.prototype.clear=function qs(){this.size=0,this.__data__={hash:new kr,map:new(bi||Ut),string:new kr}},Cs.prototype.delete=function Vh(u){var d=oa(this,u).delete(u);return this.size-=d?1:0,d},Cs.prototype.get=function cp(u){return oa(this,u).get(u)},Cs.prototype.has=function lp(u){return oa(this,u).has(u)},Cs.prototype.set=function F_(u,d){var m=oa(this,u),w=m.size;return m.set(u,d),this.size+=m.size==w?0:1,this},ia.prototype.add=ia.prototype.push=function up(u){return this.__data__.set(u,yl),this},ia.prototype.has=function B_(u){return this.__data__.has(u)},wr.prototype.clear=function j_(){this.__data__=new Ut,this.size=0},wr.prototype.delete=function $_(u){var d=this.__data__,m=d.delete(u);return this.size=d.size,m},wr.prototype.get=function U_(u){return this.__data__.get(u)},wr.prototype.has=function G_(u){return this.__data__.has(u)},wr.prototype.set=function q_(u,d){var m=this.__data__;if(m instanceof Ut){var w=m.__data__;if(!bi||w.length<199)return w.push([u,d]),this.size=++m.size,this;m=this.__data__=new Cs(w)}return m.set(u,d),this.size=m.size,this};var Fr=Cr(Ys),Hh=Cr(sc,!0);function L6(u,d){var m=!0;return Fr(u,function(w,x,z){return m=!!d(w,x,z)}),m}function ic(u,d,m){for(var w=-1,x=u.length;++w<x;){var z=u[w],A=d(z);if(null!=A&&(L===O?A==A&&!Bi(A):m(A,L)))var L=A,N=z}return N}function y4(u,d){var m=[];return Fr(u,function(w,x,z){d(w,x,z)&&m.push(w)}),m}function An(u,d,m,w,x){var z=-1,A=u.length;for(m||(m=eC),x||(x=[]);++z<A;){var L=u[z];d>0&&m(L)?d>1?An(L,d-1,m,w,x):Fs(x,L):w||(x[x.length]=L)}return x}var b4=Kh(),kh=Kh(!0);function Ys(u,d){return u&&b4(u,d,jn)}function sc(u,d){return u&&kh(u,d,jn)}function bo(u,d){return ks(d,function(m){return Gr(u[m])})}function Ms(u,d){for(var m=0,w=(d=ts(d,u)).length;null!=u&&m<w;)u=u[ui(d[m++])];return m&&m==w?u:O}function Fh(u,d,m){var w=d(u);return Be(u)?w:Fs(w,m(u))}function Hi(u){return null==u?u===O?"[object Undefined]":"[object Null]":Ot&&Ot in zt(u)?function ed(u){var d=Mt.call(u,Ot),m=u[Ot];try{u[Ot]=O;var w=!0}catch{}var x=f4.call(u);return w&&(d?u[Ot]=m:delete u[Ot]),x}(u):function R4(u){return f4.call(u)}(u)}function N6(u,d){return u>d}function K_(u,d){return null!=u&&Mt.call(u,d)}function gp(u,d){return null!=u&&d in zt(u)}function V6(u,d,m){for(var w=m?r4:s4,x=u[0].length,z=u.length,A=z,L=B(z),N=1/0,W=[];A--;){var X=u[A];A&&d&&(X=Yt(X,bs(d))),N=ai(X.length,N),L[A]=!m&&(d||x>=120&&X.length>=120)?new ia(A&&X):O}X=u[0];var ee=-1,ae=L[0];e:for(;++ee<x&&W.length<N;){var ve=X[ee],ze=d?d(ve):ve;if(ve=m||0!==ve?ve:0,!(ae?c4(ae,ze):w(W,ze,m))){for(A=z;--A;){var Xe=L[A];if(!(Xe?c4(Xe,ze):w(u[A],ze,m)))continue e}ae&&ae.push(ze),W.push(ve)}}return W}function sa(u,d,m){var w=null==(u=c3(u,d=ts(d,u)))?u:u[ui(zs(d))];return null==w?O:ys(w,u,m)}function k6(u){return Xt(u)&&Hi(u)==$a}function w4(u,d,m,w,x){return u===d||(null==u||null==d||!Xt(u)&&!Xt(d)?u!=u&&d!=d:function mp(u,d,m,w,x,z){var A=Be(u),L=Be(d),N=A?Ua:pn(u),W=L?Ua:pn(d),X=(N=N==$a?at:N)==at,ee=(W=W==$a?at:W)==at,ae=N==W;if(ae&&Js(u)){if(!Js(d))return!1;A=!0,X=!1}if(ae&&!X)return z||(z=new wr),A||ga(u)?kt(u,d,m,w,x,z):function Op(u,d,m,w,x,z,A){switch(m){case oi:if(u.byteLength!=d.byteLength||u.byteOffset!=d.byteOffset)return!1;u=u.buffer,d=d.buffer;case xl:return!(u.byteLength!=d.byteLength||!z(new Il(u),new Il(d)));case Zo:case ps:case _l:return is(+u,+d);case wl:return u.name==d.name&&u.message==d.message;case At:case Cl:return u==d+"";case Hs:var L=gr;case ct:if(L||(L=Tl),u.size!=d.size&&!(1&w))return!1;var W=A.get(u);if(W)return W==d;w|=2,A.set(u,d);var X=kt(L(u),L(d),w,x,z,A);return A.delete(u),X;case lt:if(yr)return yr.call(u)==yr.call(d)}return!1}(u,d,N,m,w,x,z);if(!(1&m)){var ve=X&&Mt.call(u,"__wrapped__"),ze=ee&&Mt.call(d,"__wrapped__");if(ve||ze){var Xe=ve?u.value():u,Ae=ze?d.value():d;return z||(z=new wr),x(Xe,Ae,m,w,z)}}return!!ae&&(z||(z=new wr),function Pp(u,d,m,w,x,z){var A=1&m,L=T4(u),N=L.length;if(N!=T4(d).length&&!A)return!1;for(var ee=N;ee--;){var ae=L[ee];if(!(A?ae in d:Mt.call(d,ae)))return!1}var ve=z.get(u),ze=z.get(d);if(ve&&ze)return ve==d&&ze==u;var Xe=!0;z.set(u,d),z.set(d,u);for(var Ae=A;++ee<N;){var it=u[ae=L[ee]],ft=d[ae];if(w)var as=A?w(ft,it,ae,d,u,z):w(it,ft,ae,u,d,z);if(!(as===O?it===ft||x(it,ft,m,w,z):as)){Xe=!1;break}Ae||(Ae="constructor"==ae)}if(Xe&&!Ae){var $n=u.constructor,xi=d.constructor;$n!=xi&&"constructor"in u&&"constructor"in d&&!("function"==typeof $n&&$n instanceof $n&&"function"==typeof xi&&xi instanceof xi)&&(Xe=!1)}return z.delete(u),z.delete(d),Xe}(u,d,m,w,x,z))}(u,d,m,w,w4,x))}function _4(u,d,m,w){var x=m.length,z=x,A=!w;if(null==u)return!z;for(u=zt(u);x--;){var L=m[x];if(A&&L[2]?L[1]!==u[L[0]]:!(L[0]in u))return!1}for(;++x<z;){var N=(L=m[x])[0],W=u[N],X=L[1];if(A&&L[2]){if(W===O&&!(N in u))return!1}else{var ee=new wr;if(w)var ae=w(W,X,N,u,d,ee);if(!(ae===O?w4(X,W,3,w,ee):ae))return!1}}return!0}function B6(u){return!(!Ft(u)||function r3(u){return!!_s&&_s in u}(u))&&(Gr(u)?op:n6).test(la(u))}function $6(u){return"function"==typeof u?u:null==u?os:"object"==typeof u?Be(u)?jh(u[0],u[1]):Ye(u):$i(u)}function C4(u){if(!L4(u))return T6(u);var d=[];for(var m in zt(u))Mt.call(u,m)&&"constructor"!=m&&d.push(m);return d}function U6(u,d){return u<d}function G6(u,d){var m=-1,w=Mi(u)?B(u.length):[];return Fr(u,function(x,z,A){w[++m]=d(x,z,A)}),w}function Ye(u){var d=gc(u);return 1==d.length&&d[0][2]?a3(d[0][0],d[0][1]):function(m){return m===u||_4(m,u,d)}}function jh(u,d){return aa(u)&&o3(d)?a3(ui(u),d):function(m){var w=ru(m,u);return w===O&&w===d?ou(m,u):w4(d,w,3)}}function M4(u,d,m,w,x){u!==d&&b4(d,function(z,A){if(x||(x=new wr),Ft(z))!function wp(u,d,m,w,x,z,A){var L=ql(u,m),N=ql(d,m),W=A.get(N);if(W)I6(u,m,W);else{var X=z?z(L,N,m+"",u,d,A):O,ee=X===O;if(ee){var ae=Be(N),ve=!ae&&Js(N),ze=!ae&&!ve&&ga(N);X=N,ae||ve||ze?Be(L)?X=L:hn(L)?X=ci(L):ve?(ee=!1,X=X6(N,!0)):ze?(ee=!1,X=Z6(N,!0)):X=[]:t1(N)||da(N)?(X=L,da(L)?X=Hd(L):(!Ft(L)||Gr(L))&&(X=Rp(N))):ee=!1}ee&&(A.set(N,X),x(X,N,w,z,A),A.delete(N)),I6(u,m,X)}}(u,d,A,m,M4,w,x);else{var L=w?w(ql(u,A),z,A+"",u,d,x):O;L===O&&(L=z),I6(u,A,L)}},ji)}function $h(u,d){var m=u.length;if(m)return Co(d+=d<0?m:0,m)?u[d]:O}function Uh(u,d,m){d=d.length?Yt(d,function(z){return Be(z)?function(A){return Ms(A,1===z.length?z[0]:z)}:z}):[os];var w=-1;return d=Yt(d,bs(Me())),function y6(R,$){var B=R.length;for(R.sort($);B--;)R[B]=R[B].value;return R}(G6(u,function(z,A,L){return{criteria:Yt(d,function(W){return W(z)}),index:++w,value:z}}),function(z,A){return function K6(u,d,m){for(var w=-1,x=u.criteria,z=d.criteria,A=x.length,L=m.length;++w<A;){var N=Bn(x[w],z[w]);if(N)return w>=L?N:N*("desc"==m[w]?-1:1)}return u.index-d.index}(z,A,m)})}function x4(u,d,m){for(var w=-1,x=d.length,z={};++w<x;){var A=d[w],L=Ms(u,A);m(L,A)&&rc(z,ts(A,u),L)}return z}function xs(u,d,m,w){var x=w?V_:Ko,z=-1,A=d.length,L=u;for(u===d&&(d=ci(d)),m&&(L=Yt(u,bs(m)));++z<A;)for(var N=0,W=d[z],X=m?m(W):W;(N=x(L,X,N,w))>-1;)L!==u&&Za.call(L,N,1),Za.call(u,N,1);return u}function Gh(u,d){for(var m=u?d.length:0,w=m-1;m--;){var x=d[m];if(m==w||x!==z){var z=x;Co(x)?Za.call(u,x,1):Wh(u,x)}}return u}function E4(u,d){return u+wn(ce()*(d-u+1))}function Fl(u,d){var m="";if(!u||d<1||d>go)return m;do{d%2&&(m+=u),(d=wn(d/2))&&(u+=u)}while(d);return m}function $e(u,d){return H4(N4(u,d,os),u+"")}function ki(u){return dp(ma(u))}function Mp(u,d){var m=ma(u);return k4(m,tc(d,0,m.length))}function rc(u,d,m,w){if(!Ft(u))return u;for(var x=-1,z=(d=ts(d,u)).length,A=z-1,L=u;null!=L&&++x<z;){var N=ui(d[x]),W=m;if("__proto__"===N||"constructor"===N||"prototype"===N)return u;if(x!=A){var X=L[N];(W=w?w(X,N,L):O)===O&&(W=Ft(X)?X:Co(d[x+1])?[]:{})}ec(L,N,W),L=L[N]}return u}var ra=js?function(u,d){return js.set(u,d),u}:os,es=m4?function(u,d){return m4(u,"toString",{configurable:!0,enumerable:!1,value:k3(d),writable:!0})}:os;function xp(u){return k4(ma(u))}function Es(u,d,m){var w=-1,x=u.length;d<0&&(d=-d>x?0:x+d),(m=m>x?x:m)<0&&(m+=x),x=d>m?0:m-d>>>0,d>>>=0;for(var z=B(x);++w<x;)z[w]=u[w+d];return z}function Ep(u,d){var m;return Fr(u,function(w,x,z){return!(m=d(w,x,z))}),!!m}function Xs(u,d,m){var w=0,x=null==u?w:u.length;if("number"==typeof d&&d==d&&x<=2147483647){for(;w<x;){var z=w+x>>>1,A=u[z];null!==A&&!Bi(A)&&(m?A<=d:A<d)?w=z+1:x=z}return x}return S4(u,d,os,m)}function S4(u,d,m,w){var x=0,z=null==u?0:u.length;if(0===z)return 0;for(var A=(d=m(d))!=d,L=null===d,N=Bi(d),W=d===O;x<z;){var X=wn((x+z)/2),ee=m(u[X]),ae=ee!==O,ve=null===ee,ze=ee==ee,Xe=Bi(ee);if(A)var Ae=w||ze;else Ae=W?ze&&(w||ae):L?ze&&ae&&(w||!ve):N?ze&&ae&&!ve&&(w||!Xe):!ve&&!Xe&&(w?ee<=d:ee<d);Ae?x=X+1:z=X}return ai(z,4294967294)}function q6(u,d){for(var m=-1,w=u.length,x=0,z=[];++m<w;){var A=u[m],L=d?d(A):A;if(!m||!is(L,N)){var N=L;z[x++]=0===A?0:A}}return z}function qh(u){return"number"==typeof u?u:Bi(u)?NaN:+u}function Fi(u){if("string"==typeof u)return u;if(Be(u))return Yt(u,Fi)+"";if(Bi(u))return Us?Us.call(u):"";var d=u+"";return"0"==d&&1/u==-hr?"-0":d}function Br(u,d,m){var w=-1,x=s4,z=u.length,A=!0,L=[],N=L;if(m)A=!1,x=r4;else if(z>=200){var W=d?null:i3(u);if(W)return Tl(W);A=!1,x=c4,N=new ia}else N=d?[]:L;e:for(;++w<z;){var X=u[w],ee=d?d(X):X;if(X=m||0!==X?X:0,A&&ee==ee){for(var ae=N.length;ae--;)if(N[ae]===ee)continue e;d&&N.push(ee),L.push(X)}else x(N,ee,m)||(N!==L&&N.push(ee),L.push(X))}return L}function Wh(u,d){return null==(u=c3(u,d=ts(d,u)))||delete u[ui(zs(d))]}function Pe(u,d,m,w){return rc(u,d,m(Ms(u,d)),w)}function Bl(u,d,m,w){for(var x=u.length,z=w?x:-1;(w?z--:++z<x)&&d(u[z],z,u););return m?Es(u,w?0:z,w?z+1:x):Es(u,w?z+1:0,w?x:z)}function Sp(u,d){var m=u;return m instanceof Ze&&(m=m.value()),Wa(d,function(w,x){return x.func.apply(x.thisArg,Fs([w],x.args))},m)}function Yh(u,d,m){var w=u.length;if(w<2)return w?Br(u[0]):[];for(var x=-1,z=B(w);++x<w;)for(var A=u[x],L=-1;++L<w;)L!=x&&(z[x]=nc(z[x]||A,u[L],d,m));return Br(An(z,1),d,m)}function W6(u,d,m){for(var w=-1,x=u.length,z=d.length,A={};++w<x;)m(A,u[w],w<z?d[w]:O);return A}function Xh(u){return hn(u)?u:[]}function z4(u){return"function"==typeof u?u:os}function ts(u,d){return Be(u)?u:aa(u,d)?[u]:Wl(bt(u))}var zp=$e;function wo(u,d,m){var w=u.length;return m=m===O?w:m,!d&&m>=w?u:Es(u,d,m)}var Y6=D6||function(u){return tn.clearTimeout(u)};function X6(u,d){if(d)return u.slice();var m=u.length,w=E6?E6(m):new u.constructor(m);return u.copy(w),w}function Zh(u){var d=new u.constructor(u.byteLength);return new Il(d).set(new Il(u)),d}function Z6(u,d){var m=d?Zh(u.buffer):u.buffer;return new u.constructor(m,u.byteOffset,u.length)}function Bn(u,d){if(u!==d){var m=u!==O,w=null===u,x=u==u,z=Bi(u),A=d!==O,L=null===d,N=d==d,W=Bi(d);if(!L&&!W&&!z&&u>d||z&&A&&N&&!L&&!W||w&&A&&N||!m&&N||!x)return 1;if(!w&&!z&&!W&&u<d||W&&m&&x&&!w&&!z||L&&m&&x||!A&&x||!N)return-1}return 0}function oc(u,d,m,w){for(var x=-1,z=u.length,A=m.length,L=-1,N=d.length,W=ln(z-A,0),X=B(N+W),ee=!w;++L<N;)X[L]=d[L];for(;++x<A;)(ee||x<z)&&(X[m[x]]=u[x]);for(;W--;)X[L++]=u[x++];return X}function Zs(u,d,m,w){for(var x=-1,z=u.length,A=-1,L=m.length,N=-1,W=d.length,X=ln(z-L,0),ee=B(X+W),ae=!w;++x<X;)ee[x]=u[x];for(var ve=x;++N<W;)ee[ve+N]=d[N];for(;++A<L;)(ae||x<z)&&(ee[ve+m[A]]=u[x++]);return ee}function ci(u,d){var m=-1,w=u.length;for(d||(d=B(w));++m<w;)d[m]=u[m];return d}function Ss(u,d,m,w){var x=!m;m||(m={});for(var z=-1,A=d.length;++z<A;){var L=d[z],N=w?w(m[L],u[L],L,m,u):O;N===O&&(N=u[L]),x?_i(m,L,N):ec(m,L,N)}return m}function jl(u,d){return function(m,w){var x=Be(m)?R_:X_,z=d?d():{};return x(m,u,Me(w,2),z)}}function Cn(u){return $e(function(d,m){var w=-1,x=m.length,z=x>1?m[x-1]:O,A=x>2?m[2]:O;for(z=u.length>3&&"function"==typeof z?(x--,z):O,A&&Qn(m[0],m[1],A)&&(z=x<3?O:z,x=1),d=zt(d);++w<x;){var L=m[w];L&&u(d,L,w,z)}return d})}function Cr(u,d){return function(m,w){if(null==m)return m;if(!Mi(m))return u(m,w);for(var x=m.length,z=d?x:-1,A=zt(m);(d?z--:++z<x)&&!1!==w(A[z],z,A););return m}}function Kh(u){return function(d,m,w){for(var x=-1,z=zt(d),A=w(d),L=A.length;L--;){var N=A[u?L:++x];if(!1===m(z[N],N,z))break}return d}}function Mr(u){return function(d){var m=Jo(d=bt(d))?Bs(d):O,w=m?m[0]:d.charAt(0),x=m?wo(m,1).join(""):d.slice(1);return w[u]()+x}}function cc(u){return function(d){return Wa(Tc(lu(d).replace(Sh,"")),u,"")}}function lc(u){return function(){var d=arguments;switch(d.length){case 0:return new u;case 1:return new u(d[0]);case 2:return new u(d[0],d[1]);case 3:return new u(d[0],d[1],d[2]);case 4:return new u(d[0],d[1],d[2],d[3]);case 5:return new u(d[0],d[1],d[2],d[3],d[4]);case 6:return new u(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new u(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var m=ta(u.prototype),w=u.apply(m,d);return Ft(w)?w:m}}function J6(u){return function(d,m,w){var x=zt(d);if(!Mi(d)){var z=Me(m,3);d=jn(d),m=function(L){return z(x[L],L,x)}}var A=u(d,m,w);return A>-1?x[z?d[A]:A]:O}}function D4(u){return $r(function(d){var m=d.length,w=m,x=_n.prototype.thru;for(u&&d.reverse();w--;){var z=d[w];if("function"!=typeof z)throw new Ji(Ii);if(x&&!A&&"wrapper"==Ks(z))var A=new _n([],!0)}for(w=A?w:m;++w<m;){var L=Ks(z=d[w]),N="wrapper"==L?dc(z):O;A=N&&ca(N[0])&&424==N[1]&&!N[4].length&&1==N[9]?A[Ks(N[0])].apply(A,N[3]):1==z.length&&ca(z)?A[L]():A.thru(z)}return function(){var W=arguments,X=W[0];if(A&&1==W.length&&Be(X))return A.plant(X).value();for(var ee=0,ae=m?d[ee].apply(this,W):X;++ee<m;)ae=d[ee].call(this,ae);return ae}})}function uc(u,d,m,w,x,z,A,L,N,W){var X=128&d,ee=1&d,ae=2&d,ve=24&d,ze=512&d,Xe=ae?O:lc(u);return function Ae(){for(var it=arguments.length,ft=B(it),as=it;as--;)ft[as]=arguments[as];if(ve)var $n=fc(Ae),xi=function Lh(R,$){for(var B=R.length,fe=0;B--;)R[B]===$&&++fe;return fe}(ft,$n);if(w&&(ft=oc(ft,w,x,ve)),z&&(ft=Zs(ft,z,A,ve)),it-=xi,ve&&it<W){var mn=F(ft,$n);return n3(u,d,uc,Ae.placeholder,m,ft,mn,L,N,W-it)}var Ts=ee?m:this,Qs=ae?Ts[u]:u;return it=ft.length,L?ft=function V4(u,d){for(var m=u.length,w=ai(d.length,m),x=ci(u);w--;){var z=d[w];u[w]=Co(z,m)?x[z]:O}return u}(ft,L):ze&&it>1&&ft.reverse(),X&&N<it&&(ft.length=N),this&&this!==tn&&this instanceof Ae&&(Qs=Xe||lc(Qs)),Qs.apply(Ts,ft)}}function Jh(u,d){return function(m,w){return function H6(u,d,m,w){return Ys(u,function(x,z,A){d(w,m(x),z,A)}),w}(m,u,d(w),{})}}function hc(u,d){return function(m,w){var x;if(m===O&&w===O)return d;if(m!==O&&(x=m),w!==O){if(x===O)return w;"string"==typeof m||"string"==typeof w?(m=Fi(m),w=Fi(w)):(m=qh(m),w=qh(w)),x=u(m,w)}return x}}function Qh(u){return $r(function(d){return d=Yt(d,bs(Me())),$e(function(m){var w=this;return u(d,function(x){return ys(x,w,m)})})})}function $l(u,d){var m=(d=d===O?" ":Fi(d)).length;if(m<2)return m?Fl(d,u):d;var w=Fl(d,tt(u/pr(d)));return Jo(d)?wo(Bs(w),0,u).join(""):w.slice(0,u)}function t3(u){return function(d,m,w){return w&&"number"!=typeof w&&Qn(d,m,w)&&(m=w=O),d=As(d),m===O?(m=d,d=0):m=As(m),function Ht(u,d,m,w){for(var x=-1,z=ln(tt((d-u)/(m||1)),0),A=B(z);z--;)A[w?z:++x]=u,u+=m;return A}(d,m,w=w===O?d<m?1:-1:As(w),u)}}function Ul(u){return function(d,m){return"string"==typeof d&&"string"==typeof m||(d=hi(d),m=hi(m)),u(d,m)}}function n3(u,d,m,w,x,z,A,L,N,W){var X=8&d;d|=X?32:64,4&(d&=~(X?64:32))||(d&=-4);var Xe=[u,d,x,X?z:O,X?A:O,X?O:z,X?O:A,L,N,W],Ae=m.apply(O,Xe);return ca(u)&&nd(Ae,Xe),Ae.placeholder=w,l3(Ae,u,d)}function A4(u){var d=bn[u];return function(m,w){if(m=hi(m),(w=null==w?0:ai(Ue(w),292))&&Ni(m)){var x=(bt(m)+"e").split("e");return+((x=(bt(d(x[0]+"e"+(+x[1]+w)))+"e").split("e"))[0]+"e"+(+x[1]-w))}return d(m)}}var i3=fn&&1/Tl(new fn([,-0]))[1]==hr?function(u){return new fn(u)}:l1;function Q6(u){return function(d){var m=pn(d);return m==Hs?gr(d):m==ct?function he(R){var $=-1,B=Array(R.size);return R.forEach(function(fe){B[++$]=[fe,fe]}),B}(d):function Ih(R,$){return Yt($,function(B){return[B,R[B]]})}(d,u(d))}}function jr(u,d,m,w,x,z,A,L){var N=2&d;if(!N&&"function"!=typeof u)throw new Ji(Ii);var W=w?w.length:0;if(W||(d&=-97,w=x=O),A=A===O?A:ln(Ue(A),0),L=L===O?L:Ue(L),W-=x?x.length:0,64&d){var X=w,ee=x;w=x=O}var ae=N?O:dc(u),ve=[u,d,m,w,x,X,ee,z,A,L];if(ae&&function xr(u,d){var m=u[1],w=d[1],x=m|w;if(!(x<131)&&!(128==w&&8==m||128==w&&256==m&&u[7].length<=d[8]||384==w&&d[7].length<=d[8]&&8==m))return u;1&w&&(u[2]=d[2],x|=1&m?0:4);var L=d[3];if(L){var N=u[3];u[3]=N?oc(N,L,d[4]):L,u[4]=N?F(u[3],Fa):d[4]}(L=d[5])&&(u[5]=(N=u[5])?Zs(N,L,d[6]):L,u[6]=N?F(u[5],Fa):d[6]),(L=d[7])&&(u[7]=L),128&w&&(u[8]=null==u[8]?d[8]:ai(u[8],d[8])),null==u[9]&&(u[9]=d[9]),u[0]=d[0],u[1]=x}(ve,ae),u=ve[0],d=ve[1],m=ve[2],w=ve[3],x=ve[4],!(L=ve[9]=ve[9]===O?N?0:u.length:ln(ve[9]-W,0))&&24&d&&(d&=-25),d&&1!=d)ze=8==d||16==d?function Tp(u,d,m){var w=lc(u);return function x(){for(var z=arguments.length,A=B(z),L=z,N=fc(x);L--;)A[L]=arguments[L];var W=z<3&&A[0]!==N&&A[z-1]!==N?[]:F(A,N);return(z-=W.length)<m?n3(u,d,uc,x.placeholder,O,A,W,O,O,m-z):ys(this&&this!==tn&&this instanceof x?w:u,this,A)}}(u,d,L):32!=d&&33!=d||x.length?uc.apply(O,ve):function e3(u,d,m,w){var x=1&d,z=lc(u);return function A(){for(var L=-1,N=arguments.length,W=-1,X=w.length,ee=B(X+N),ae=this&&this!==tn&&this instanceof A?z:u;++W<X;)ee[W]=w[W];for(;N--;)ee[W++]=arguments[++L];return ys(ae,x?m:this,ee)}}(u,d,m,w);else var ze=function ac(u,d,m){var w=1&d,x=lc(u);return function z(){return(this&&this!==tn&&this instanceof z?x:u).apply(w?m:this,arguments)}}(u,d,m);return l3((ae?ra:nd)(ze,ve),u,d)}function li(u,d,m,w){return u===O||is(u,Qo[m])&&!Mt.call(w,m)?d:u}function _o(u,d,m,w,x,z){return Ft(u)&&Ft(d)&&(z.set(d,u),M4(u,d,O,_o,z),z.delete(d)),u}function sn(u){return t1(u)?O:u}function kt(u,d,m,w,x,z){var A=1&m,L=u.length,N=d.length;if(L!=N&&!(A&&N>L))return!1;var W=z.get(u),X=z.get(d);if(W&&X)return W==d&&X==u;var ee=-1,ae=!0,ve=2&m?new ia:O;for(z.set(u,d),z.set(d,u);++ee<L;){var ze=u[ee],Xe=d[ee];if(w)var Ae=A?w(Xe,ze,ee,d,u,z):w(ze,Xe,ee,u,d,z);if(Ae!==O){if(Ae)continue;ae=!1;break}if(ve){if(!o4(d,function(it,ft){if(!c4(ve,ft)&&(ze===it||x(ze,it,m,w,z)))return ve.push(ft)})){ae=!1;break}}else if(ze!==Xe&&!x(ze,Xe,m,w,z)){ae=!1;break}}return z.delete(u),z.delete(d),ae}function $r(u){return H4(N4(u,O,B4),u+"")}function T4(u){return Fh(u,jn,P4)}function O4(u){return Fh(u,ji,td)}var dc=js?function(u){return js.get(u)}:l1;function Ks(u){for(var d=u.name+"",m=$s[d],w=Mt.call($s,d)?m.length:0;w--;){var x=m[w],z=x.func;if(null==z||z==u)return x.name}return d}function fc(u){return(Mt.call(E,"placeholder")?E:u).placeholder}function Me(){var u=E.iteratee||c1;return u=u===c1?$6:u,arguments.length?u(arguments[0],arguments[1]):u}function oa(u,d){var m=u.__data__;return function Hp(u){var d=typeof u;return"string"==d||"number"==d||"symbol"==d||"boolean"==d?"__proto__"!==u:null===u}(d)?m["string"==typeof d?"string":"hash"]:m.map}function gc(u){for(var d=jn(u),m=d.length;m--;){var w=d[m],x=u[w];d[m]=[w,x,o3(x)]}return d}function Ur(u,d){var m=function tp(R,$){return null==R?O:R[$]}(u,d);return B6(m)?m:O}var P4=Kn?function(u){return null==u?[]:(u=zt(u),ks(Kn(u),function(d){return We.call(u,d)}))}:$3,td=Kn?function(u){for(var d=[];u;)Fs(d,P4(u)),u=p4(u);return d}:$3,pn=Hi;function Lp(u,d,m){for(var w=-1,x=(d=ts(d,u)).length,z=!1;++w<x;){var A=ui(d[w]);if(!(z=null!=u&&m(u,A)))break;u=u[A]}return z||++w!=x?z:!!(x=null==u?0:u.length)&&e1(x)&&Co(A,x)&&(Be(u)||da(u))}function Rp(u){return"function"!=typeof u.constructor||L4(u)?{}:ta(p4(u))}function eC(u){return Be(u)||da(u)||!!(z6&&u&&u[z6])}function Co(u,d){var m=typeof u;return!!(d=d??go)&&("number"==m||"symbol"!=m&&s6.test(u))&&u>-1&&u%1==0&&u<d}function Qn(u,d,m){if(!Ft(m))return!1;var w=typeof d;return!!("number"==w?Mi(m)&&Co(d,m.length):"string"==w&&d in m)&&is(m[d],u)}function aa(u,d){if(Be(u))return!1;var m=typeof u;return!("number"!=m&&"symbol"!=m&&"boolean"!=m&&null!=u&&!Bi(u))||E7.test(u)||!x7.test(u)||null!=d&&u in zt(d)}function ca(u){var d=Ks(u),m=E[d];if("function"!=typeof m||!(d in Ze.prototype))return!1;if(u===m)return!0;var w=dc(m);return!!w&&u===w[0]}(Vt&&pn(new Vt(new ArrayBuffer(1)))!=oi||bi&&pn(new bi)!=Hs||ea&&pn(ea.resolve())!=oh||fn&&pn(new fn)!=ct||vr&&pn(new vr)!=Ml)&&(pn=function(u){var d=Hi(u),m=d==at?u.constructor:O,w=m?la(m):"";if(w)switch(w){case Ve:return oi;case Rl:return Hs;case O6:return oh;case Ja:return ct;case gn:return Ml}return d});var I4=d4?Gr:pu;function L4(u){var d=u&&u.constructor;return u===("function"==typeof d&&d.prototype||Qo)}function o3(u){return u==u&&!Ft(u)}function a3(u,d){return function(m){return null!=m&&m[u]===d&&(d!==O||u in zt(m))}}function N4(u,d,m){return d=ln(d===O?u.length-1:d,0),function(){for(var w=arguments,x=-1,z=ln(w.length-d,0),A=B(z);++x<z;)A[x]=w[d+x];x=-1;for(var L=B(d+1);++x<d;)L[x]=w[x];return L[d]=m(A),ys(u,this,L)}}function c3(u,d){return d.length<2?u:Ms(u,Es(d,0,-1))}function ql(u,d){if(("constructor"!==d||"function"!=typeof u[d])&&"__proto__"!=d)return u[d]}var nd=u3(ra),pc=Ri||function(u,d){return tn.setTimeout(u,d)},H4=u3(es);function l3(u,d,m){var w=d+"";return H4(u,function Vp(u,d){var m=d.length;if(!m)return u;var w=m-1;return d[w]=(m>1?"& ":"")+d[w],d=d.join(m>2?", ":" "),u.replace(A7,"{\n/* [wrapped with "+d+"] */\n")}(w,function id(u,d){return J(Y1,function(m){var w="_."+m[0];d&m[1]&&!s4(u,w)&&u.push(w)}),u.sort()}(function Ip(u){var d=u.match(T7);return d?d[1].split(O7):[]}(w),m)))}function u3(u){var d=0,m=0;return function(){var w=ap(),x=16-(w-m);if(m=w,x>0){if(++d>=800)return arguments[0]}else d=0;return u.apply(O,arguments)}}function k4(u,d){var m=-1,w=u.length,x=w-1;for(d=d===O?w:d;++m<d;){var z=E4(m,x),A=u[z];u[z]=u[m],u[m]=A}return u.length=d,u}var Wl=function kp(u){var d=Z4(u,function(w){return 500===m.size&&m.clear(),w}),m=d.cache;return d}(function(u){var d=[];return 46===u.charCodeAt(0)&&d.push(""),u.replace(S7,function(m,w,x,z){d.push(x?z.replace(Q8,"$1"):w||m)}),d});function ui(u){if("string"==typeof u||Bi(u))return u;var d=u+"";return"0"==d&&1/u==-hr?"-0":d}function la(u){if(null!=u){try{return Pl.call(u)}catch{}try{return u+""}catch{}}return""}function h3(u){if(u instanceof Ze)return u.clone();var d=new _n(u.__wrapped__,u.__chain__);return d.__actions__=ci(u.__actions__),d.__index__=u.__index__,d.__values__=u.__values__,d}var jp=$e(function(u,d){return hn(u)?nc(u,An(d,1,hn,!0)):[]}),d3=$e(function(u,d){var m=zs(d);return hn(m)&&(m=O),hn(u)?nc(u,An(d,1,hn,!0),Me(m,2)):[]}),f3=$e(function(u,d){var m=zs(d);return hn(m)&&(m=O),hn(u)?nc(u,An(d,1,hn,!0),O,m):[]});function ua(u,d,m){var w=null==u?0:u.length;if(!w)return-1;var x=null==m?0:Ue(m);return x<0&&(x=ln(w+x,0)),Zn(u,Me(d,3),x)}function g3(u,d,m){var w=null==u?0:u.length;if(!w)return-1;var x=w-1;return m!==O&&(x=Ue(m),x=m<0?ln(w+x,0):ai(x,w-1)),Zn(u,Me(d,3),x,!0)}function B4(u){return null!=u&&u.length?An(u,1):[]}function Gp(u){return u&&u.length?u[0]:O}var sC=$e(function(u){var d=Yt(u,Xh);return d.length&&d[0]===u[0]?V6(d):[]}),rC=$e(function(u){var d=zs(u),m=Yt(u,Xh);return d===zs(m)?d=O:m.pop(),m.length&&m[0]===u[0]?V6(m,Me(d,2)):[]}),oC=$e(function(u){var d=zs(u),m=Yt(u,Xh);return(d="function"==typeof d?d:O)&&m.pop(),m.length&&m[0]===u[0]?V6(m,O,d):[]});function zs(u){var d=null==u?0:u.length;return d?u[d-1]:O}var Wp=$e(wc);function wc(u,d){return u&&u.length&&d&&d.length?xs(u,d):u}var _c=$r(function(u,d){var m=null==u?0:u.length,w=_r(u,d);return Gh(u,Yt(d,function(x){return Co(x,m)?+x:x}).sort(Bn)),w});function Cc(u){return null==u?u:Fe.call(u)}var t9=$e(function(u){return Br(An(u,1,hn,!0))}),n9=$e(function(u){var d=zs(u);return hn(d)&&(d=O),Br(An(u,1,hn,!0),Me(d,2))}),m3=$e(function(u){var d=zs(u);return d="function"==typeof d?d:O,Br(An(u,1,hn,!0),O,d)});function v3(u){if(!u||!u.length)return[];var d=0;return u=ks(u,function(m){if(hn(m))return d=ln(m.length,d),!0}),Ph(d,function(m){return Yt(u,v6(m))})}function Zl(u,d){if(!u||!u.length)return[];var m=v3(u);return null==d?m:Yt(m,function(w){return ys(d,O,w)})}var s9=$e(function(u,d){return hn(u)?nc(u,d):[]}),ad=$e(function(u){return Yh(ks(u,hn))}),y3=$e(function(u){var d=zs(u);return hn(d)&&(d=O),Yh(ks(u,hn),Me(d,2))}),U4=$e(function(u){var d=zs(u);return d="function"==typeof d?d:O,Yh(ks(u,hn),O,d)}),cd=$e(v3),xc=$e(function(u){var d=u.length,m=d>1?u[d-1]:O;return m="function"==typeof m?(u.pop(),m):O,Zl(u,m)});function Ec(u){var d=E(u);return d.__chain__=!0,d}function b3(u,d){return d(u)}var ld=$r(function(u){var d=u.length,m=d?u[0]:0,w=this.__wrapped__,x=function(z){return _r(z,u)};return!(d>1||this.__actions__.length)&&w instanceof Ze&&Co(m)?((w=w.slice(m,+m+(d?1:0))).__actions__.push({func:b3,args:[x],thisArg:O}),new _n(w,this.__chain__).thru(function(z){return d&&!z.length&&z.push(O),z})):this.thru(x)}),d9=jl(function(u,d,m){Mt.call(u,m)?++u[m]:_i(u,m,1)}),dd=J6(ua),dC=J6(g3);function p9(u,d){return(Be(u)?J:Fr)(u,Me(d,3))}function m9(u,d){return(Be(u)?N_:Hh)(u,Me(d,3))}var _3=jl(function(u,d,m){Mt.call(u,m)?u[m].push(d):_i(u,m,[d])}),gC=$e(function(u,d,m){var w=-1,x="function"==typeof d,z=Mi(u)?B(u.length):[];return Fr(u,function(A){z[++w]=x?ys(d,A,m):sa(A,d,m)}),z}),pC=jl(function(u,d,m){_i(u,m,d)});function C3(u,d){return(Be(u)?Yt:G6)(u,Me(d,3))}var v9=jl(function(u,d,m){u[m?0:1].push(d)},function(){return[[],[]]}),Y4=$e(function(u,d){if(null==u)return[];var m=d.length;return m>1&&Qn(u,d[0],d[1])?d=[]:m>2&&Qn(d[0],d[1],d[2])&&(d=[d[0]]),Uh(u,An(d,1),[])}),ha=jt||function(){return tn.Date.now()};function yd(u,d,m){return d=m?O:d,jr(u,128,O,O,O,O,d=u&&null==d?u.length:d)}function bd(u,d){var m;if("function"!=typeof d)throw new Ji(Ii);return u=Ue(u),function(){return--u>0&&(m=d.apply(this,arguments)),u<=1&&(d=O),m}}var M3=$e(function(u,d,m){var w=1;if(m.length){var x=F(m,fc(M3));w|=32}return jr(u,w,d,m,x)}),x3=$e(function(u,d,m){var w=3;if(m.length){var x=F(m,fc(x3));w|=32}return jr(d,w,u,m,x)});function _d(u,d,m){var w,x,z,A,L,N,W=0,X=!1,ee=!1,ae=!0;if("function"!=typeof u)throw new Ji(Ii);function ve(mn){var Ts=w,Qs=x;return w=x=O,W=mn,A=u.apply(Qs,Ts)}function Ae(mn){var Ts=mn-N;return N===O||Ts>=d||Ts<0||ee&&mn-W>=z}function it(){var mn=ha();if(Ae(mn))return ft(mn);L=pc(it,function Xe(mn){var u1=d-(mn-N);return ee?ai(u1,z-(mn-W)):u1}(mn))}function ft(mn){return L=O,ae&&w?ve(mn):(w=x=O,A)}function xi(){var mn=ha(),Ts=Ae(mn);if(w=arguments,x=this,N=mn,Ts){if(L===O)return function ze(mn){return W=mn,L=pc(it,d),X?ve(mn):A}(N);if(ee)return Y6(L),L=pc(it,d),ve(N)}return L===O&&(L=pc(it,d)),A}return d=hi(d)||0,Ft(m)&&(X=!!m.leading,z=(ee="maxWait"in m)?ln(hi(m.maxWait)||0,d):z,ae="trailing"in m?!!m.trailing:ae),xi.cancel=function as(){L!==O&&Y6(L),W=0,w=N=x=L=O},xi.flush=function $n(){return L===O?A:ft(ha())},xi}var y9=$e(function(u,d){return Qi(u,1,d)}),Cd=$e(function(u,d,m){return Qi(u,hi(d)||0,m)});function Z4(u,d){if("function"!=typeof u||null!=d&&"function"!=typeof d)throw new Ji(Ii);var m=function(){var w=arguments,x=d?d.apply(this,w):w[0],z=m.cache;if(z.has(x))return z.get(x);var A=u.apply(this,w);return m.cache=z.set(x,A)||z,A};return m.cache=new(Z4.Cache||Cs),m}function ei(u){if("function"!=typeof u)throw new Ji(Ii);return function(){var d=arguments;switch(d.length){case 0:return!u.call(this);case 1:return!u.call(this,d[0]);case 2:return!u.call(this,d[0],d[1]);case 3:return!u.call(this,d[0],d[1],d[2])}return!u.apply(this,d)}}Z4.Cache=Cs;var Md=zp(function(u,d){var m=(d=1==d.length&&Be(d[0])?Yt(d[0],bs(Me())):Yt(An(d,1),bs(Me()))).length;return $e(function(w){for(var x=-1,z=ai(w.length,m);++x<z;)w[x]=d[x].call(this,w[x]);return ys(u,this,w)})}),Kl=$e(function(u,d){var m=F(d,fc(Kl));return jr(u,32,O,d,m)}),ti=$e(function(u,d){var m=F(d,fc(ti));return jr(u,64,O,d,m)}),Jl=$r(function(u,d){return jr(u,256,O,O,O,d)});function is(u,d){return u===d||u!=u&&d!=d}var E9=Ul(N6),Ql=Ul(function(u,d){return u>=d}),da=k6(function(){return arguments}())?k6:function(u){return Xt(u)&&Mt.call(u,"callee")&&!We.call(u,"callee")},Be=B.isArray,Ad=q7?bs(q7):function Bh(u){return Xt(u)&&Hi(u)==xl};function Mi(u){return null!=u&&e1(u.length)&&!Gr(u)}function hn(u){return Xt(u)&&Mi(u)}var Js=Ka||pu,Td=m6?bs(m6):function J_(u){return Xt(u)&&Hi(u)==ps};function D3(u){if(!Xt(u))return!1;var d=Hi(u);return d==wl||"[object DOMException]"==d||"string"==typeof u.message&&"string"==typeof u.name&&!t1(u)}function Gr(u){if(!Ft(u))return!1;var d=Hi(u);return d==Dt||d==rh||"[object AsyncFunction]"==d||"[object Proxy]"==d}function Od(u){return"number"==typeof u&&u==Ue(u)}function e1(u){return"number"==typeof u&&u>-1&&u%1==0&&u<=go}function Ft(u){var d=typeof u;return null!=u&&("object"==d||"function"==d)}function Xt(u){return null!=u&&"object"==typeof u}var J4=W7?bs(W7):function F6(u){return Xt(u)&&pn(u)==Hs};function T3(u){return"number"==typeof u||Xt(u)&&Hi(u)==_l}function t1(u){if(!Xt(u)||Hi(u)!=at)return!1;var d=p4(u);if(null===d)return!0;var m=Mt.call(d,"constructor")&&d.constructor;return"function"==typeof m&&m instanceof m&&Pl.call(m)==x6}var Ld=Ki?bs(Ki):function vp(u){return Xt(u)&&Hi(u)==At},Rd=Oe?bs(Oe):function yp(u){return Xt(u)&&pn(u)==ct};function n1(u){return"string"==typeof u||!Be(u)&&Xt(u)&&Hi(u)==Cl}function Bi(u){return"symbol"==typeof u||Xt(u)&&Hi(u)==lt}var ga=Y7?bs(Y7):function j6(u){return Xt(u)&&e1(u.length)&&!!de[Hi(u)]},s1=Ul(U6),Vd=Ul(function(u,d){return u<=d});function tu(u){if(!u)return[];if(Mi(u))return n1(u)?Bs(u):ci(u);if(Ll&&u[Ll])return function np(R){for(var $,B=[];!($=R.next()).done;)B.push($.value);return B}(u[Ll]());var d=pn(u);return(d==Hs?gr:d==ct?Tl:ma)(u)}function As(u){return u?(u=hi(u))===hr||u===-hr?17976931348623157e292*(u<0?-1:1):u==u?u:0:0===u?u:0}function Ue(u){var d=As(u),m=d%1;return d==d?m?d-m:d:0}function nu(u){return u?tc(Ue(u),0,gs):0}function hi(u){if("number"==typeof u)return u;if(Bi(u))return NaN;if(Ft(u)){var d="function"==typeof u.valueOf?u.valueOf():u;u=Ft(d)?d+"":d}if("string"!=typeof u)return 0===u?u:+u;u=K7(u);var m=P7.test(u);return m||i6.test(u)?I_(u.slice(2),m?2:8):t6.test(u)?NaN:+u}function Hd(u){return Ss(u,ji(u))}function bt(u){return null==u?"":Fi(u)}var O9=Cn(function(u,d){if(L4(d)||Mi(d))Ss(d,jn(d),u);else for(var m in d)Mt.call(d,m)&&ec(u,m,d[m])}),Fd=Cn(function(u,d){Ss(d,ji(d),u)}),r1=Cn(function(u,d,m,w){Ss(d,ji(d),u,w)}),Bd=Cn(function(u,d,m,w){Ss(d,jn(d),u,w)}),iu=$r(_r),Dc=$e(function(u,d){u=zt(u);var m=-1,w=d.length,x=w>2?d[2]:O;for(x&&Qn(d[0],d[1],x)&&(w=1);++m<w;)for(var z=d[m],A=ji(z),L=-1,N=A.length;++L<N;){var W=A[L],X=u[W];(X===O||is(X,Qo[W])&&!Mt.call(u,W))&&(u[W]=z[W])}return u}),P9=$e(function(u){return u.push(O,_o),ys($d,O,u)});function ru(u,d,m){var w=null==u?O:Ms(u,d);return w===O?m:w}function ou(u,d){return null!=u&&Lp(u,d,gp)}var pa=Jh(function(u,d,m){null!=d&&"function"!=typeof d.toString&&(d=f4.call(d)),u[d]=m},k3(os)),N9=Jh(function(u,d,m){null!=d&&"function"!=typeof d.toString&&(d=f4.call(d)),Mt.call(u,d)?u[d].push(m):u[d]=[m]},Me),V9=$e(sa);function jn(u){return Mi(u)?hp(u):C4(u)}function ji(u){return Mi(u)?hp(u,!0):function bp(u){if(!Ft(u))return function Fp(u){var d=[];if(null!=u)for(var m in zt(u))d.push(m);return d}(u);var d=L4(u),m=[];for(var w in u)"constructor"==w&&(d||!Mt.call(u,w))||m.push(w);return m}(u)}var Er=Cn(function(u,d,m){M4(u,d,m)}),$d=Cn(function(u,d,m,w){M4(u,d,m,w)}),k9=$r(function(u,d){var m={};if(null==u)return m;var w=!1;d=Yt(d,function(z){return z=ts(z,u),w||(w=z.length>1),z}),Ss(u,O4(u),m),w&&(m=Ws(m,7,sn));for(var x=d.length;x--;)Wh(m,d[x]);return m}),B9=$r(function(u,d){return null==u?{}:function _p(u,d){return x4(u,d,function(m,w){return ou(u,w)})}(u,d)});function Ud(u,d){if(null==u)return{};var m=Yt(O4(u),function(w){return[w]});return d=Me(d),x4(u,m,function(w,x){return d(w,x[0])})}var qd=Q6(jn),Wd=Q6(ji);function ma(u){return null==u?[]:b6(u,jn(u))}var wC=cc(function(u,d,m){return d=d.toLowerCase(),u+(m?cu(d):d)});function cu(u){return le(bt(u).toLowerCase())}function lu(u){return(u=bt(u))&&u.replace(r6,l4).replace(Re,"")}var G9=cc(function(u,d,m){return u+(m?"-":"")+d.toLowerCase()}),q9=cc(function(u,d,m){return u+(m?" ":"")+d.toLowerCase()}),W9=Mr("toLowerCase"),rs=cc(function(u,d,m){return u+(m?"_":"")+d.toLowerCase()}),K9=cc(function(u,d,m){return u+(m?" ":"")+le(d)}),a1=cc(function(u,d,m){return u+(m?" ":"")+d.toUpperCase()}),le=Mr("toUpperCase");function Tc(u,d,m){return u=bt(u),(d=m?O:d)===O?function Xa(R){return f6.test(R)}(u)?function ws(R){return R.match(zh)||[]}(u):function Th(R){return R.match(T_)||[]}(u):u.match(d)||[]}var N3=$e(function(u,d){try{return ys(u,O,d)}catch(m){return D3(m)?m:new Se(m)}}),nf=$r(function(u,d){return J(d,function(m){m=ui(m),_i(u,m,M3(u[m],u))}),u});function k3(u){return function(){return u}}var rf=D4(),hu=D4(!0);function os(u){return u}function c1(u){return $6("function"==typeof u?u:Ws(u,1))}var af=$e(function(u,d){return function(m){return sa(m,u,d)}}),cf=$e(function(u,d){return function(m){return sa(u,m,d)}});function Wr(u,d,m){var w=jn(d),x=bo(d,w);null==m&&(!Ft(d)||!x.length&&w.length)&&(m=d,d=u,u=this,x=bo(d,jn(d)));var z=!(Ft(m)&&"chain"in m&&!m.chain),A=Gr(u);return J(x,function(L){var N=d[L];u[L]=N,A&&(u.prototype[L]=function(){var W=this.__chain__;if(z||W){var X=u(this.__wrapped__);return(X.__actions__=ci(this.__actions__)).push({func:N,args:arguments,thisArg:u}),X.__chain__=W,X}return N.apply(u,Fs([this.value()],arguments))})}),u}function l1(){}var sm=Qh(Yt),B3=Qh(nn),fu=Qh(o4);function $i(u){return aa(u)?v6(ui(u)):function Cp(u){return function(d){return Ms(d,u)}}(u)}var j3=t3(),rm=t3(!0);function $3(){return[]}function pu(){return!1}var lm=hc(function(u,d){return u+d},0),lf=A4("ceil"),xo=hc(function(u,d){return u/d},1),EC=A4("floor"),hm=hc(function(u,d){return u*d},1),q3=A4("round"),W3=hc(function(u,d){return u-d},0);return E.after=function Mo(u,d){if("function"!=typeof d)throw new Ji(Ii);return u=Ue(u),function(){if(--u<1)return d.apply(this,arguments)}},E.ary=yd,E.assign=O9,E.assignIn=Fd,E.assignInWith=r1,E.assignWith=Bd,E.at=iu,E.before=bd,E.bind=M3,E.bindAll=nf,E.bindKey=x3,E.castArray=function zd(){if(!arguments.length)return[];var u=arguments[0];return Be(u)?u:[u]},E.chain=Ec,E.chunk=function Yl(u,d,m){d=(m?Qn(u,d,m):d===O)?1:ln(Ue(d),0);var w=null==u?0:u.length;if(!w||d<1)return[];for(var x=0,z=0,A=B(tt(w/d));x<w;)A[z++]=Es(u,x,x+=d);return A},E.compact=function Bp(u){for(var d=-1,m=null==u?0:u.length,w=0,x=[];++d<m;){var z=u[d];z&&(x[w++]=z)}return x},E.concat=function Ci(){var u=arguments.length;if(!u)return[];for(var d=B(u-1),m=arguments[0],w=u;w--;)d[w-1]=arguments[w];return Fs(Be(m)?ci(m):[m],An(d,1))},E.cond=function V3(u){var d=null==u?0:u.length,m=Me();return u=d?Yt(u,function(w){if("function"!=typeof w[1])throw new Ji(Ii);return[m(w[0]),w[1]]}):[],$e(function(w){for(var x=-1;++x<d;){var z=u[x];if(ys(z[0],this,w))return ys(z[1],this,w)}})},E.conforms=function H3(u){return function Jn(u){var d=jn(u);return function(m){return kl(m,u,d)}}(Ws(u,1))},E.constant=k3,E.countBy=d9,E.create=function P3(u,d){var m=ta(u);return null==d?m:fp(m,d)},E.curry=function X4(u,d,m){var w=jr(u,8,O,O,O,O,O,d=m?O:d);return w.placeholder=X4.placeholder,w},E.curryRight=function wd(u,d,m){var w=jr(u,16,O,O,O,O,O,d=m?O:d);return w.placeholder=wd.placeholder,w},E.debounce=_d,E.defaults=Dc,E.defaultsDeep=P9,E.defer=y9,E.delay=Cd,E.difference=jp,E.differenceBy=d3,E.differenceWith=f3,E.drop=function $p(u,d,m){var w=null==u?0:u.length;return w?Es(u,(d=m||d===O?1:Ue(d))<0?0:d,w):[]},E.dropRight=function sd(u,d,m){var w=null==u?0:u.length;return w?Es(u,0,(d=w-(d=m||d===O?1:Ue(d)))<0?0:d):[]},E.dropRightWhile=function F4(u,d){return u&&u.length?Bl(u,Me(d,3),!0,!0):[]},E.dropWhile=function mc(u,d){return u&&u.length?Bl(u,Me(d,3),!0):[]},E.fill=function vc(u,d,m,w){var x=null==u?0:u.length;return x?(m&&"number"!=typeof m&&Qn(u,d,m)&&(m=0,w=x),function R6(u,d,m,w){var x=u.length;for((m=Ue(m))<0&&(m=-m>x?0:x+m),(w=w===O||w>x?x:Ue(w))<0&&(w+=x),w=m>w?0:nu(w);m<w;)u[m++]=d;return u}(u,d,m,w)):[]},E.filter=function hC(u,d){return(Be(u)?ks:y4)(u,Me(d,3))},E.flatMap=function f9(u,d){return An(C3(u,d),1)},E.flatMapDeep=function g9(u,d){return An(C3(u,d),hr)},E.flatMapDepth=function w3(u,d,m){return m=m===O?1:Ue(m),An(C3(u,d),m)},E.flatten=B4,E.flattenDeep=function yc(u){return null!=u&&u.length?An(u,hr):[]},E.flattenDepth=function tC(u,d){return null!=u&&u.length?An(u,d=d===O?1:Ue(d)):[]},E.flip=function b9(u){return jr(u,512)},E.flow=rf,E.flowRight=hu,E.fromPairs=function Up(u){for(var d=-1,m=null==u?0:u.length,w={};++d<m;){var x=u[d];w[x[0]]=x[1]}return w},E.functions=function su(u){return null==u?[]:bo(u,jn(u))},E.functionsIn=function L3(u){return null==u?[]:bo(u,ji(u))},E.groupBy=_3,E.initial=function iC(u){return null!=u&&u.length?Es(u,0,-1):[]},E.intersection=sC,E.intersectionBy=rC,E.intersectionWith=oC,E.invert=pa,E.invertBy=N9,E.invokeMap=gC,E.iteratee=c1,E.keyBy=pC,E.keys=jn,E.keysIn=ji,E.map=C3,E.mapKeys=function H9(u,d){var m={};return d=Me(d,3),Ys(u,function(w,x,z){_i(m,d(w,x,z),w)}),m},E.mapValues=function ss(u,d){var m={};return d=Me(d,3),Ys(u,function(w,x,z){_i(m,x,d(w,x,z))}),m},E.matches=function nm(u){return Ye(Ws(u,1))},E.matchesProperty=function F3(u,d){return jh(u,Ws(d,1))},E.memoize=Z4,E.merge=Er,E.mergeWith=$d,E.method=af,E.methodOf=cf,E.mixin=Wr,E.negate=ei,E.nthArg=function du(u){return u=Ue(u),$e(function(d){return $h(d,u)})},E.omit=k9,E.omitBy=function F9(u,d){return Ud(u,ei(Me(d)))},E.once=function E3(u){return bd(2,u)},E.orderBy=function mC(u,d,m,w){return null==u?[]:(Be(d)||(d=null==d?[]:[d]),Be(m=w?O:m)||(m=null==m?[]:[m]),Uh(u,d,m))},E.over=sm,E.overArgs=Md,E.overEvery=B3,E.overSome=fu,E.partial=Kl,E.partialRight=ti,E.partition=v9,E.pick=B9,E.pickBy=Ud,E.property=$i,E.propertyOf=function gu(u){return function(d){return null==u?O:Ms(u,d)}},E.pull=Wp,E.pullAll=wc,E.pullAllBy=function Yp(u,d,m){return u&&u.length&&d&&d.length?xs(u,d,Me(m,2)):u},E.pullAllWith=function Ds(u,d,m){return u&&u.length&&d&&d.length?xs(u,d,O,m):u},E.pullAt=_c,E.range=j3,E.rangeRight=rm,E.rearg=Jl,E.reject=function fd(u,d){return(Be(u)?ks:y4)(u,ei(Me(d,3)))},E.remove=function rd(u,d){var m=[];if(!u||!u.length)return m;var w=-1,x=[],z=u.length;for(d=Me(d,3);++w<z;){var A=u[w];d(A,w,u)&&(m.push(A),x.push(w))}return Gh(u,x),m},E.rest=function xd(u,d){if("function"!=typeof u)throw new Ji(Ii);return $e(u,d=d===O?d:Ue(d))},E.reverse=Cc,E.sampleSize=function pd(u,d,m){return d=(m?Qn(u,d,m):d===O)?1:Ue(d),(Be(u)?W_:Mp)(u,d)},E.set=function Gd(u,d,m){return null==u?u:rc(u,d,m)},E.setWith=function $9(u,d,m,w){return w="function"==typeof w?w:O,null==u?u:rc(u,d,m,w)},E.shuffle=function Sc(u){return(Be(u)?Y_:xp)(u)},E.slice=function Xl(u,d,m){var w=null==u?0:u.length;return w?(m&&"number"!=typeof m&&Qn(u,d,m)?(d=0,m=w):(d=null==d?0:Ue(d),m=m===O?w:Ue(m)),Es(u,d,m)):[]},E.sortBy=Y4,E.sortedUniq=function Mc(u){return u&&u.length?q6(u):[]},E.sortedUniqBy=function lC(u,d){return u&&u.length?q6(u,Me(d,2)):[]},E.split=function Z9(u,d,m){return m&&"number"!=typeof m&&Qn(u,d,m)&&(d=m=O),(m=m===O?gs:m>>>0)?(u=bt(u))&&("string"==typeof d||null!=d&&!Ld(d))&&!(d=Fi(d))&&Jo(u)?wo(Bs(u),0,m):u.split(d,m):[]},E.spread=function Ed(u,d){if("function"!=typeof u)throw new Ji(Ii);return d=null==d?0:ln(Ue(d),0),$e(function(m){var w=m[d],x=wo(m,0,d);return w&&Fs(x,w),ys(u,this,x)})},E.tail=function od(u){var d=null==u?0:u.length;return d?Es(u,1,d):[]},E.take=function Kp(u,d,m){return u&&u.length?Es(u,0,(d=m||d===O?1:Ue(d))<0?0:d):[]},E.takeRight=function Jp(u,d,m){var w=null==u?0:u.length;return w?Es(u,(d=w-(d=m||d===O?1:Ue(d)))<0?0:d,w):[]},E.takeRightWhile=function Qp(u,d){return u&&u.length?Bl(u,Me(d,3),!1,!0):[]},E.takeWhile=function e9(u,d){return u&&u.length?Bl(u,Me(d,3)):[]},E.tap=function a9(u,d){return d(u),u},E.throttle=function w9(u,d,m){var w=!0,x=!0;if("function"!=typeof u)throw new Ji(Ii);return Ft(m)&&(w="leading"in m?!!m.leading:w,x="trailing"in m?!!m.trailing:x),_d(u,d,{leading:w,maxWait:d,trailing:x})},E.thru=b3,E.toArray=tu,E.toPairs=qd,E.toPairsIn=Wd,E.toPath=function U3(u){return Be(u)?Yt(u,ui):Bi(u)?[u]:ci(Wl(bt(u)))},E.toPlainObject=Hd,E.transform=function U9(u,d,m){var w=Be(u),x=w||Js(u)||ga(u);if(d=Me(d,4),null==m){var z=u&&u.constructor;m=x?w?new z:[]:Ft(u)&&Gr(z)?ta(p4(u)):{}}return(x?J:Ys)(u,function(A,L,N){return d(m,A,L,N)}),m},E.unary=function Sd(u){return yd(u,1)},E.union=t9,E.unionBy=n9,E.unionWith=m3,E.uniq=function j4(u){return u&&u.length?Br(u):[]},E.uniqBy=function i9(u,d){return u&&u.length?Br(u,Me(d,2)):[]},E.uniqWith=function $4(u,d){return d="function"==typeof d?d:O,u&&u.length?Br(u,O,d):[]},E.unset=function au(u,d){return null==u||Wh(u,d)},E.unzip=v3,E.unzipWith=Zl,E.update=function qr(u,d,m){return null==u?u:Pe(u,d,z4(m))},E.updateWith=function o1(u,d,m,w){return w="function"==typeof w?w:O,null==u?u:Pe(u,d,z4(m),w)},E.values=ma,E.valuesIn=function Yd(u){return null==u?[]:b6(u,ji(u))},E.without=s9,E.words=Tc,E.wrap=function _9(u,d){return Kl(z4(d),u)},E.xor=ad,E.xorBy=y3,E.xorWith=U4,E.zip=cd,E.zipObject=function r9(u,d){return W6(u||[],d||[],ec)},E.zipObjectDeep=function o9(u,d){return W6(u||[],d||[],rc)},E.zipWith=xc,E.entries=qd,E.entriesIn=Wd,E.extend=Fd,E.extendWith=r1,Wr(E,E),E.add=lm,E.attempt=N3,E.camelCase=wC,E.capitalize=cu,E.ceil=lf,E.clamp=function Xd(u,d,m){return m===O&&(m=d,d=O),m!==O&&(m=(m=hi(m))==m?m:0),d!==O&&(d=(d=hi(d))==d?d:0),tc(hi(u),d,m)},E.clone=function C9(u){return Ws(u,4)},E.cloneDeep=function M9(u){return Ws(u,5)},E.cloneDeepWith=function x9(u,d){return Ws(u,5,d="function"==typeof d?d:O)},E.cloneWith=function Dd(u,d){return Ws(u,4,d="function"==typeof d?d:O)},E.conformsTo=function S3(u,d){return null==d||kl(u,d,jn(d))},E.deburr=lu,E.defaultTo=function sf(u,d){return null==u||u!=u?d:u},E.divide=xo,E.endsWith=function _C(u,d,m){u=bt(u),d=Fi(d);var w=u.length,x=m=m===O?w:tc(Ue(m),0,w);return(m-=d.length)>=0&&u.slice(m,x)==d},E.eq=is,E.escape=function CC(u){return(u=bt(u))&&po.test(u)?u.replace(K8,Q7):u},E.escapeRegExp=function Zd(u){return(u=bt(u))&&z7.test(u)?u.replace(gh,"\\$&"):u},E.every=function hd(u,d,m){var w=Be(u)?nn:L6;return m&&Qn(u,d,m)&&(d=O),w(u,Me(d,3))},E.find=dd,E.findIndex=ua,E.findKey=function I9(u,d){return Oh(u,Me(d,3),Ys)},E.findLast=dC,E.findLastIndex=g3,E.findLastKey=function vC(u,d){return Oh(u,Me(d,3),sc)},E.floor=EC,E.forEach=p9,E.forEachRight=m9,E.forIn=function L9(u,d){return null==u?u:b4(u,Me(d,3),ji)},E.forInRight=function I3(u,d){return null==u?u:kh(u,Me(d,3),ji)},E.forOwn=function R9(u,d){return u&&Ys(u,Me(d,3))},E.forOwnRight=function Ac(u,d){return u&&sc(u,Me(d,3))},E.get=ru,E.gt=E9,E.gte=Ql,E.has=function jd(u,d){return null!=u&&Lp(u,d,K_)},E.hasIn=ou,E.head=Gp,E.identity=os,E.includes=function fC(u,d,m,w){u=Mi(u)?u:ma(u),m=m&&!w?Ue(m):0;var x=u.length;return m<0&&(m=ln(x+m,0)),n1(u)?m<=x&&u.indexOf(d,m)>-1:!!x&&Ko(u,d,m)>-1},E.indexOf=function nC(u,d,m){var w=null==u?0:u.length;if(!w)return-1;var x=null==m?0:Ue(m);return x<0&&(x=ln(w+x,0)),Ko(u,d,x)},E.inRange=function yC(u,d,m){return d=As(d),m===O?(m=d,d=0):m=As(m),function pp(u,d,m){return u>=ai(d,m)&&u<ln(d,m)}(u=hi(u),d,m)},E.invoke=V9,E.isArguments=da,E.isArray=Be,E.isArrayBuffer=Ad,E.isArrayLike=Mi,E.isArrayLikeObject=hn,E.isBoolean=function zc(u){return!0===u||!1===u||Xt(u)&&Hi(u)==Zo},E.isBuffer=Js,E.isDate=Td,E.isElement=function z3(u){return Xt(u)&&1===u.nodeType&&!t1(u)},E.isEmpty=function K4(u){if(null==u)return!0;if(Mi(u)&&(Be(u)||"string"==typeof u||"function"==typeof u.splice||Js(u)||ga(u)||da(u)))return!u.length;var d=pn(u);if(d==Hs||d==ct)return!u.size;if(L4(u))return!C4(u).length;for(var m in u)if(Mt.call(u,m))return!1;return!0},E.isEqual=function S9(u,d){return w4(u,d)},E.isEqualWith=function z9(u,d,m){var w=(m="function"==typeof m?m:O)?m(u,d):O;return w===O?w4(u,d,O,m):!!w},E.isError=D3,E.isFinite=function D9(u){return"number"==typeof u&&Ni(u)},E.isFunction=Gr,E.isInteger=Od,E.isLength=e1,E.isMap=J4,E.isMatch=function A9(u,d){return u===d||_4(u,d,gc(d))},E.isMatchWith=function T9(u,d,m){return m="function"==typeof m?m:O,_4(u,d,gc(d),m)},E.isNaN=function A3(u){return T3(u)&&u!=+u},E.isNative=function Pd(u){if(I4(u))throw new Se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return B6(u)},E.isNil=function Id(u){return null==u},E.isNull=function fa(u){return null===u},E.isNumber=T3,E.isObject=Ft,E.isObjectLike=Xt,E.isPlainObject=t1,E.isRegExp=Ld,E.isSafeInteger=function Q4(u){return Od(u)&&u>=-go&&u<=go},E.isSet=Rd,E.isString=n1,E.isSymbol=Bi,E.isTypedArray=ga,E.isUndefined=function O3(u){return u===O},E.isWeakMap=function Nd(u){return Xt(u)&&pn(u)==Ml},E.isWeakSet=function eu(u){return Xt(u)&&"[object WeakSet]"==Hi(u)},E.join=function bc(u,d){return null==u?"":A6.call(u,d)},E.kebabCase=G9,E.last=zs,E.lastIndexOf=function qp(u,d,m){var w=null==u?0:u.length;if(!w)return-1;var x=w;return m!==O&&(x=(x=Ue(m))<0?ln(w+x,0):ai(x,w-1)),d==d?function Rh(R,$,B){for(var fe=B+1;fe--;)if(R[fe]===$)return fe;return fe}(u,d,x):Zn(u,Tt,x,!0)},E.lowerCase=q9,E.lowerFirst=W9,E.lt=s1,E.lte=Vd,E.max=function vu(u){return u&&u.length?ic(u,os,N6):O},E.maxBy=function G3(u,d){return u&&u.length?ic(u,Me(d,2),N6):O},E.mean=function um(u){return Z7(u,os)},E.meanBy=function SC(u,d){return Z7(u,Me(d,2))},E.min=function zC(u){return u&&u.length?ic(u,os,U6):O},E.minBy=function yu(u,d){return u&&u.length?ic(u,Me(d,2),U6):O},E.stubArray=$3,E.stubFalse=pu,E.stubObject=function Oc(){return{}},E.stubString=function om(){return""},E.stubTrue=function am(){return!0},E.multiply=hm,E.nth=function Tn(u,d){return u&&u.length?$h(u,Ue(d)):O},E.noConflict=function im(){return tn._===this&&(tn._=rp),this},E.noop=l1,E.now=ha,E.pad=function Y9(u,d,m){u=bt(u);var w=(d=Ue(d))?pr(u):0;if(!d||w>=d)return u;var x=(d-w)/2;return $l(wn(x),m)+u+$l(tt(x),m)},E.padEnd=function Kd(u,d,m){u=bt(u);var w=(d=Ue(d))?pr(u):0;return d&&w<d?u+$l(d-w,m):u},E.padStart=function uu(u,d,m){u=bt(u);var w=(d=Ue(d))?pr(u):0;return d&&w<d?$l(d-w,m)+u:u},E.parseInt=function Jd(u,d,m){return m||null==d?d=0:d&&(d=+d),un(bt(u).replace(ph,""),d||0)},E.random=function bC(u,d,m){if(m&&"boolean"!=typeof m&&Qn(u,d,m)&&(d=m=O),m===O&&("boolean"==typeof d?(m=d,d=O):"boolean"==typeof u&&(m=u,u=O)),u===O&&d===O?(u=0,d=1):(u=As(u),d===O?(d=u,u=0):d=As(d)),u>d){var w=u;u=d,d=w}if(m||u%1||d%1){var x=ce();return ai(u+x*(d-u+Zi("1e-"+((x+"").length-1))),d)}return E4(u,d)},E.reduce=function q4(u,d,m){var w=Be(u)?Wa:a4,x=arguments.length<3;return w(u,Me(d,4),m,x,Fr)},E.reduceRight=function W4(u,d,m){var w=Be(u)?Ah:a4,x=arguments.length<3;return w(u,Me(d,4),m,x,Hh)},E.repeat=function R3(u,d,m){return d=(m?Qn(u,d,m):d===O)?1:Ue(d),Fl(bt(u),d)},E.replace=function X9(){var u=arguments,d=bt(u[0]);return u.length<3?d:d.replace(u[1],u[2])},E.result=function j9(u,d,m){var w=-1,x=(d=ts(d,u)).length;for(x||(x=1,u=O);++w<x;){var z=null==u?O:u[ui(d[w])];z===O&&(w=x,z=m),u=Gr(z)?z.call(u):z}return u},E.round=q3,E.runInContext=R,E.sample=function gd(u){return(Be(u)?dp:ki)(u)},E.size=function md(u){if(null==u)return 0;if(Mi(u))return n1(u)?pr(u):u.length;var d=pn(u);return d==Hs||d==ct?u.size:C4(u).length},E.snakeCase=rs,E.some=function vd(u,d,m){var w=Be(u)?o4:Ep;return m&&Qn(u,d,m)&&(d=O),w(u,Me(d,3))},E.sortedIndex=function Xp(u,d){return Xs(u,d)},E.sortedIndexBy=function aC(u,d,m){return S4(u,d,Me(m,2))},E.sortedIndexOf=function Zp(u,d){var m=null==u?0:u.length;if(m){var w=Xs(u,d);if(w<m&&is(u[w],d))return w}return-1},E.sortedLastIndex=function cC(u,d){return Xs(u,d,!0)},E.sortedLastIndexBy=function ns(u,d,m){return S4(u,d,Me(m,2),!0)},E.sortedLastIndexOf=function p3(u,d){if(null!=u&&u.length){var w=Xs(u,d,!0)-1;if(is(u[w],d))return w}return-1},E.startCase=K9,E.startsWith=function Qd(u,d,m){return u=bt(u),m=null==m?0:tc(Ue(m),0,u.length),d=Fi(d),u.slice(m,m+d.length)==d},E.subtract=W3,E.sum=function Pc(u){return u&&u.length?Al(u,os):0},E.sumBy=function Y3(u,d){return u&&u.length?Al(u,Me(d,2)):0},E.template=function ef(u,d,m){var w=E.templateSettings;m&&Qn(u,d,m)&&(d=O),u=bt(u),d=r1({},d,w,li);var L,N,x=r1({},d.imports,w.imports,li),z=jn(x),A=b6(x,z),W=0,X=d.interpolate||zn,ee="__p += '",ae=Ol((d.escape||zn).source+"|"+X.source+"|"+(X===fh?e6:zn).source+"|"+(d.evaluate||zn).source+"|$","g"),ve="//# sourceURL="+(Mt.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++n4+"]")+"\n";u.replace(ae,function(Ae,it,ft,as,$n,xi){return ft||(ft=as),ee+=u.slice(W,xi).replace(I7,ep),it&&(L=!0,ee+="' +\n__e("+it+") +\n'"),$n&&(N=!0,ee+="';\n"+$n+";\n__p += '"),ft&&(ee+="' +\n((__t = ("+ft+")) == null ? '' : __t) +\n'"),W=xi+Ae.length,Ae}),ee+="';\n";var ze=Mt.call(d,"variable")&&d.variable;if(ze){if(mh.test(ze))throw new Se("Invalid `variable` option passed into `_.template`")}else ee="with (obj) {\n"+ee+"\n}\n";ee=(N?ee.replace(_7,""):ee).replace(dh,"$1").replace(X8,"$1;"),ee="function("+(ze||"obj")+") {\n"+(ze?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(L?", __e = _.escape":"")+(N?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+ee+"return __p\n}";var Xe=N3(function(){return ht(z,ve+"return "+ee).apply(O,A)});if(Xe.source=ee,D3(Xe))throw Xe;return Xe},E.times=function cm(u,d){if((u=Ue(u))<1||u>go)return[];var m=gs,w=ai(u,gs);d=Me(d),u-=gs;for(var x=Ph(w,d);++m<u;)d(m);return x},E.toFinite=As,E.toInteger=Ue,E.toLength=nu,E.toLower=function J9(u){return bt(u).toLowerCase()},E.toNumber=hi,E.toSafeInteger=function kd(u){return u?tc(Ue(u),-go,go):0===u?u:0},E.toString=bt,E.toUpper=function Q9(u){return bt(u).toUpperCase()},E.trim=function em(u,d,m){if((u=bt(u))&&(m||d===O))return K7(u);if(!u||!(d=Fi(d)))return u;var w=Bs(u),x=Bs(d);return wo(w,J7(w,x),Ya(w,x)+1).join("")},E.trimEnd=function tm(u,d,m){if((u=bt(u))&&(m||d===O))return u.slice(0,_6(u)+1);if(!u||!(d=Fi(d)))return u;var w=Bs(u);return wo(w,0,Ya(w,Bs(d))+1).join("")},E.trimStart=function tf(u,d,m){if((u=bt(u))&&(m||d===O))return u.replace(ph,"");if(!u||!(d=Fi(d)))return u;var w=Bs(u);return wo(w,J7(w,Bs(d))).join("")},E.truncate=function MC(u,d){var m=30,w="...";if(Ft(d)){var x="separator"in d?d.separator:x;m="length"in d?Ue(d.length):m,w="omission"in d?Fi(d.omission):w}var z=(u=bt(u)).length;if(Jo(u)){var A=Bs(u);z=A.length}if(m>=z)return u;var L=m-pr(w);if(L<1)return w;var N=A?wo(A,0,L).join(""):u.slice(0,L);if(x===O)return N+w;if(A&&(L+=N.length-L),Ld(x)){if(u.slice(L).search(x)){var W,X=N;for(x.global||(x=Ol(x.source,bt(vh.exec(x))+"g")),x.lastIndex=0;W=x.exec(X);)var ee=W.index;N=N.slice(0,ee===O?L:ee)}}else if(u.indexOf(Fi(x),L)!=L){var ae=N.lastIndexOf(x);ae>-1&&(N=N.slice(0,ae))}return N+w},E.unescape=function xC(u){return(u=bt(u))&&C7.test(u)?u.replace(Z8,ip):u},E.uniqueId=function mu(u){var d=++sp;return bt(u)+d},E.upperCase=a1,E.upperFirst=le,E.each=p9,E.eachRight=m9,E.first=Gp,Wr(E,function(){var u={};return Ys(E,function(d,m){Mt.call(E.prototype,m)||(u[m]=d)}),u}(),{chain:!1}),E.VERSION="4.17.21",J(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){E[u].placeholder=E}),J(["drop","take"],function(u,d){Ze.prototype[u]=function(m){m=m===O?1:ln(Ue(m),0);var w=this.__filtered__&&!d?new Ze(this):this.clone();return w.__filtered__?w.__takeCount__=ai(m,w.__takeCount__):w.__views__.push({size:ai(m,gs),type:u+(w.__dir__<0?"Right":"")}),w},Ze.prototype[u+"Right"]=function(m){return this.reverse()[u](m).reverse()}}),J(["filter","map","takeWhile"],function(u,d){var m=d+1,w=1==m||3==m;Ze.prototype[u]=function(x){var z=this.clone();return z.__iteratees__.push({iteratee:Me(x,3),type:m}),z.__filtered__=z.__filtered__||w,z}}),J(["head","last"],function(u,d){var m="take"+(d?"Right":"");Ze.prototype[u]=function(){return this[m](1).value()[0]}}),J(["initial","tail"],function(u,d){var m="drop"+(d?"":"Right");Ze.prototype[u]=function(){return this.__filtered__?new Ze(this):this[m](1)}}),Ze.prototype.compact=function(){return this.filter(os)},Ze.prototype.find=function(u){return this.filter(u).head()},Ze.prototype.findLast=function(u){return this.reverse().find(u)},Ze.prototype.invokeMap=$e(function(u,d){return"function"==typeof u?new Ze(this):this.map(function(m){return sa(m,u,d)})}),Ze.prototype.reject=function(u){return this.filter(ei(Me(u)))},Ze.prototype.slice=function(u,d){u=Ue(u);var m=this;return m.__filtered__&&(u>0||d<0)?new Ze(m):(u<0?m=m.takeRight(-u):u&&(m=m.drop(u)),d!==O&&(m=(d=Ue(d))<0?m.dropRight(-d):m.take(d-u)),m)},Ze.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Ze.prototype.toArray=function(){return this.take(gs)},Ys(Ze.prototype,function(u,d){var m=/^(?:filter|find|map|reject)|While$/.test(d),w=/^(?:head|last)$/.test(d),x=E[w?"take"+("last"==d?"Right":""):d],z=w||/^find/.test(d);x&&(E.prototype[d]=function(){var A=this.__wrapped__,L=w?[1]:arguments,N=A instanceof Ze,W=L[0],X=N||Be(A),ee=function(it){var ft=x.apply(E,Fs([it],L));return w&&ae?ft[0]:ft};X&&m&&"function"==typeof W&&1!=W.length&&(N=X=!1);var ae=this.__chain__,ze=z&&!ae,Xe=N&&!this.__actions__.length;if(!z&&X){A=Xe?A:new Ze(this);var Ae=u.apply(A,L);return Ae.__actions__.push({func:b3,args:[ee],thisArg:O}),new _n(Ae,ae)}return ze&&Xe?u.apply(this,L):(Ae=this.thru(ee),ze?w?Ae.value()[0]:Ae.value():Ae)})}),J(["pop","push","shift","sort","splice","unshift"],function(u){var d=mo[u],m=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",w=/^(?:pop|shift)$/.test(u);E.prototype[u]=function(){var x=arguments;if(w&&!this.__chain__){var z=this.value();return d.apply(Be(z)?z:[],x)}return this[m](function(A){return d.apply(Be(A)?A:[],x)})}}),Ys(Ze.prototype,function(u,d){var m=E[d];if(m){var w=m.name+"";Mt.call($s,w)||($s[w]=[]),$s[w].push({name:d,func:m})}}),$s[uc(O,2).name]=[{name:"wrapper",func:O}],Ze.prototype.clone=function Nl(){var u=new Ze(this.__wrapped__);return u.__actions__=ci(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=ci(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=ci(this.__views__),u},Ze.prototype.reverse=function nt(){if(this.__filtered__){var u=new Ze(this);u.__dir__=-1,u.__filtered__=!0}else(u=this.clone()).__dir__*=-1;return u},Ze.prototype.value=function H_(){var u=this.__wrapped__.value(),d=this.__dir__,m=Be(u),w=d<0,x=m?u.length:0,z=function Gl(u,d,m){for(var w=-1,x=m.length;++w<x;){var z=m[w],A=z.size;switch(z.type){case"drop":u+=A;break;case"dropRight":d-=A;break;case"take":d=ai(d,u+A);break;case"takeRight":u=ln(u,d-A)}}return{start:u,end:d}}(0,x,this.__views__),A=z.start,L=z.end,N=L-A,W=w?L:A-1,X=this.__iteratees__,ee=X.length,ae=0,ve=ai(N,this.__takeCount__);if(!m||!w&&x==N&&ve==N)return Sp(u,this.__actions__);var ze=[];e:for(;N--&&ae<ve;){for(var Xe=-1,Ae=u[W+=d];++Xe<ee;){var it=X[Xe],as=it.type,$n=(0,it.iteratee)(Ae);if(2==as)Ae=$n;else if(!$n){if(1==as)continue e;break e}}ze[ae++]=Ae}return ze},E.prototype.at=ld,E.prototype.chain=function c9(){return Ec(this)},E.prototype.commit=function uC(){return new _n(this.value(),this.__chain__)},E.prototype.next=function l9(){this.__values__===O&&(this.__values__=tu(this.value()));var u=this.__index__>=this.__values__.length;return{done:u,value:u?O:this.__values__[this.__index__++]}},E.prototype.plant=function h9(u){for(var d,m=this;m instanceof Gs;){var w=h3(m);w.__index__=0,w.__values__=O,d?x.__wrapped__=w:d=w;var x=w;m=m.__wrapped__}return x.__wrapped__=u,d},E.prototype.reverse=function G4(){var u=this.__wrapped__;if(u instanceof Ze){var d=u;return this.__actions__.length&&(d=new Ze(this)),(d=d.reverse()).__actions__.push({func:b3,args:[Cc],thisArg:O}),new _n(d,this.__chain__)}return this.thru(Cc)},E.prototype.toJSON=E.prototype.valueOf=E.prototype.value=function ud(){return Sp(this.__wrapped__,this.__actions__)},E.prototype.first=E.prototype.head,Ll&&(E.prototype[Ll]=function u9(){return this}),E}();tn._=ut,(cr=function(){return ut}.call(Nr,rt,Nr,Rs))!==O&&(Rs.exports=cr)}.call(this)}},Rs=>{Rs(Rs.s=238)}]);