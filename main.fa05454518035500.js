(self.webpackChunkngx_flow=self.webpackChunkngx_flow||[]).push([[179],{825:()=>{"object"==typeof window&&window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach(hs=>{Object.prototype.hasOwnProperty.call(hs,"append")||Object.defineProperty(hs,"append",{configurable:!0,enumerable:!0,writable:!0,value(...Ge){const Ti=document.createDocumentFragment();Ge.forEach(A=>{const Na=A instanceof Node;Ti.appendChild(Na?A:document.createTextNode(String(A)))}),this.appendChild(Ti)}})})},938:(oi,hs,Ge)=>{"use strict";var Ti={};Ge.r(Ti),Ge.d(Ti,{dot:()=>nie,doubleMesh:()=>sie,fixedDot:()=>rie,mesh:()=>iie});var A={};Ge.r(A),Ge.d(A,{flipX:()=>fT,flipXY:()=>gT,flipY:()=>dT,watermark:()=>oie});var Na={};Ge.r(Na),Ge.d(Na,{blur:()=>lie,brightness:()=>mie,contrast:()=>vie,dropShadow:()=>uie,grayScale:()=>hie,highlight:()=>aie,hueRotate:()=>gie,invert:()=>pie,outline:()=>cie,saturate:()=>die,sepia:()=>fie});var Ra={};Ge.r(Ra),Ge.d(Ra,{async:()=>ase,block:()=>Qie,circle:()=>TT,circlePlus:()=>lse,classic:()=>ese,cross:()=>ose,diamond:()=>nse,ellipse:()=>hse,path:()=>ise});var w3={};Ge.r(w3),Ge.d(w3,{annotations:()=>jie,atConnectionLength:()=>wse,atConnectionLengthIgnoreGradient:()=>yse,atConnectionLengthKeepGradient:()=>OT,atConnectionRatio:()=>Mse,atConnectionRatioIgnoreGradient:()=>bse,atConnectionRatioKeepGradient:()=>IT,connection:()=>vse,displayEmpty:()=>Uie,eol:()=>$ie,fill:()=>Nie,filter:()=>Kie,html:()=>Zie,lineHeight:()=>kie,port:()=>Jie,ref:()=>bie,refCx:()=>xie,refCy:()=>Sie,refD:()=>Tie,refDKeepOffset:()=>zie,refDResetOffset:()=>wT,refDx:()=>wie,refDy:()=>Mie,refHeight:()=>yT,refHeight2:()=>Hie,refPoints:()=>Oie,refPointsKeepOffset:()=>Die,refPointsResetOffset:()=>MT,refR:()=>Aie,refRCircumscribed:()=>_ie,refRInscribed:()=>bT,refRx:()=>Cie,refRy:()=>Eie,refWidth:()=>vT,refWidth2:()=>Lie,refX:()=>pT,refX2:()=>Iie,refY:()=>mT,refY2:()=>Pie,resetOffset:()=>Yie,sourceMarker:()=>dse,stroke:()=>Rie,style:()=>Xie,targetMarker:()=>gse,text:()=>xT,textPath:()=>Bie,textVerticalAnchor:()=>Fie,textWrap:()=>Vie,title:()=>qie,vertexMarker:()=>pse,xAlign:()=>Gie,yAlign:()=>Wie});var ir={};Ge.r(ir),Ge.d(ir,{className:()=>Cse,opacity:()=>Ese,stroke:()=>xse});var M3={};Ge.r(M3),Ge.d(M3,{absolute:()=>Sse,bottom:()=>Lse,ellipse:()=>zse,ellipseSpread:()=>Dse,left:()=>Ose,line:()=>Tse,right:()=>Ise,top:()=>Pse});var Va={};Ge.r(Va),Ge.d(Va,{bottom:()=>Fse,inside:()=>$se,insideOriented:()=>Use,left:()=>Rse,manual:()=>Nse,outside:()=>Bse,outsideOriented:()=>jse,radial:()=>qse,radialOriented:()=>Gse,right:()=>Vse,top:()=>kse});var C3={};Ge.r(C3),Ge.d(C3,{noop:()=>Xse,pinAbsolute:()=>Qse,pinRelative:()=>Jse});var Cc={};Ge.r(Cc),Ge.d(Cc,{bottom:()=>aoe,bottomLeft:()=>doe,bottomRight:()=>goe,center:()=>ooe,left:()=>loe,midSide:()=>voe,nodeCenter:()=>moe,orth:()=>poe,right:()=>uoe,top:()=>coe,topLeft:()=>hoe,topRight:()=>foe});var Oi={};Ge.r(Oi),Ge.d(Oi,{closest:()=>woe,length:()=>boe,orth:()=>Moe,ratio:()=>yoe});var vl={};Ge.r(vl),Ge.d(vl,{anchor:()=>Soe,bbox:()=>XT,boundary:()=>_oe,rect:()=>Eoe});var Us={};Ge.r(Us),Ge.d(Us,{er:()=>Goe,loop:()=>Woe,manhattan:()=>aO,metro:()=>qoe,normal:()=>zoe,oneSide:()=>Doe,orth:()=>JT});var qs={};function $e(n){return"function"==typeof n}function sr(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Ge.r(qs),Ge.d(qs,{jumpover:()=>nce,loop:()=>Xoe,normal:()=>Yoe,rounded:()=>Zoe,smooth:()=>Koe});const fs=sr(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function yl(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Ht{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if($e(r))try{r()}catch(s){e=s instanceof fs?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{zo(s)}catch(o){e=e??[],o instanceof fs?e=[...e,...o.errors]:e.push(o)}}if(e)throw new fs(e)}}add(e){var t;if(e&&e!==this)if(this.closed)zo(e);else{if(e instanceof Ht){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&yl(t,e)}remove(e){const{_finalizers:t}=this;t&&yl(t,e),e instanceof Ht&&e._removeParent(this)}}Ht.EMPTY=(()=>{const n=new Ht;return n.closed=!0,n})();const So=Ht.EMPTY;function ci(n){return n instanceof Ht||n&&"closed"in n&&$e(n.remove)&&$e(n.add)&&$e(n.unsubscribe)}function zo(n){$e(n)?n():n.unsubscribe()}const Gn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Gs={setTimeout(n,e,...t){const{delegate:r}=Gs;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Gs;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function bl(n){Gs.setTimeout(()=>{const{onUnhandledError:e}=Gn;if(!e)throw n;e(n)})}function E3(){}const S7=wl("C",void 0,void 0);function wl(n,e,t){return{kind:n,value:e,error:t}}let Do=null;function Ml(n){if(Gn.useDeprecatedSynchronousErrorHandling){const e=!Do;if(e&&(Do={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Do;if(Do=null,t)throw r}}else n()}class Ii extends Ht{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ci(e)&&e.add(this)):this.destination=El}static create(e,t,r){return new ka(e,t,r)}next(e){this.isStopped?Ws(function D7(n){return wl("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ws(function z7(n){return wl("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ws(S7,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const A7=Function.prototype.bind;function Ec(n,e){return A7.call(n,e)}class Pi{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Cl(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Cl(r)}else Cl(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Cl(t)}}}class ka extends Ii{constructor(e,t,r){let i;if(super(),$e(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Gn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ec(e.next,s),error:e.error&&Ec(e.error,s),complete:e.complete&&Ec(e.complete,s)}):i=e}this.destination=new Pi(i)}}function Cl(n){Gn.useDeprecatedSynchronousErrorHandling?function Ao(n){Gn.useDeprecatedSynchronousErrorHandling&&Do&&(Do.errorThrown=!0,Do.error=n)}(n):bl(n)}function Ws(n,e){const{onStoppedNotification:t}=Gn;t&&Gs.setTimeout(()=>t(n,e))}const El={closed:!0,next:E3,error:function T7(n){throw n},complete:E3},_3="function"==typeof Symbol&&Symbol.observable||"@@observable";function qr(n){return n}function o6(n){return 0===n.length?qr:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Mt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function ai(n){return n&&n instanceof Ii||function c6(n){return n&&$e(n.next)&&$e(n.error)&&$e(n.complete)}(n)&&ci(n)}(t)?t:new ka(t,r,i);return Ml(()=>{const{operator:o,source:c}=this;s.add(o?o.call(s,c):c?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Ba(r))((i,s)=>{const o=new ka({next:c=>{try{t(c)}catch(a){s(a),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[_3](){return this}pipe(...t){return o6(t)(this)}toPromise(t){return new(t=Ba(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function Ba(n){var e;return null!==(e=n??Gn.Promise)&&void 0!==e?e:Promise}const ja=sr(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let An=(()=>{class n extends Mt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Li(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ja}next(t){Ml(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Ml(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ml(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?So:(this.currentObservers=null,s.push(t),new Ht(()=>{this.currentObservers=null,yl(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Mt;return t.source=this,t}}return n.create=(e,t)=>new Li(e,t),n})();class Li extends An{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:So}}function x3(n){return $e(n?.lift)}function Xt(n){return e=>{if(x3(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Tt(n,e,t,r,i){return new li(n,e,t,r,i)}class li extends Ii{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(c){try{t(c)}catch(a){e.error(a)}}:super._next,this._error=i?function(c){try{i(c)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Fe(n,e){return Xt((t,r)=>{let i=0;t.subscribe(Tt(r,s=>{r.next(n.call(e,s,i++))}))})}function Cr(n,e,t,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(o=n[c])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s}function Ys(n){return this instanceof Ys?(this.v=n,this):new Ys(n)}function m6(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function A3(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(c,a){!function i(s,o,c,a){Promise.resolve(a).then(function(l){s({value:l,done:c})},o)}(c,a,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const I3=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function y6(n){return $e(n?.then)}function b6(n){return $e(n[_3])}function w6(n){return Symbol.asyncIterator&&$e(n?.[Symbol.asyncIterator])}function P3(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const M6=function j7(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function C6(n){return $e(n?.[M6])}function E6(n){return function p6(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(g){r[g]&&(i[g]=function(p){return new Promise(function(v,y){s.push([g,p,v,y])>1||c(g,p)})})}function c(g,p){try{!function a(g){g.value instanceof Ys?Promise.resolve(g.value.v).then(l,h):d(s[0][2],g)}(r[g](p))}catch(v){d(s[0][3],v)}}function l(g){c("next",g)}function h(g){c("throw",g)}function d(g,p){g(p),s.shift(),s.length&&c(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Ys(t.read());if(i)return yield Ys(void 0);yield yield Ys(r)}}finally{t.releaseLock()}})}function _6(n){return $e(n?.getReader)}function Er(n){if(n instanceof Mt)return n;if(null!=n){if(b6(n))return function xl(n){return new Mt(e=>{const t=n[_3]();if($e(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(I3(n))return function $7(n){return new Mt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(y6(n))return function Sl(n){return new Mt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,bl)})}(n);if(w6(n))return x6(n);if(C6(n))return function U7(n){return new Mt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(_6(n))return function q7(n){return x6(E6(n))}(n)}throw P3(n)}function x6(n){return new Mt(e=>{(function S6(n,e){var t,r,i,s;return function _l(n,e,t,r){return new(t||(t=Promise))(function(s,o){function c(h){try{l(r.next(h))}catch(d){o(d)}}function a(h){try{l(r.throw(h))}catch(d){o(d)}}function l(h){h.done?s(h.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(h.value).then(c,a)}l((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=m6(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Hi(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function ln(n,e,t=1/0){return $e(e)?ln((r,i)=>Fe((s,o)=>e(r,s,i,o))(Er(n(r,i))),t):("number"==typeof e&&(t=e),Xt((r,i)=>function z6(n,e,t,r,i,s,o,c){const a=[];let l=0,h=0,d=!1;const g=()=>{d&&!a.length&&!l&&e.complete()},p=y=>l<r?v(y):a.push(y),v=y=>{s&&e.next(y),l++;let w=!1;Er(t(y,h++)).subscribe(Tt(e,C=>{i?.(C),s?p(C):e.next(C)},()=>{w=!0},void 0,()=>{if(w)try{for(l--;a.length&&l<r;){const C=a.shift();o?Hi(e,o,()=>v(C)):v(C)}g()}catch(C){e.error(C)}}))};return n.subscribe(Tt(e,p,()=>{d=!0,g()})),()=>{c?.()}}(r,i,n,t)))}function Sc(n=1/0){return ln(qr,n)}const Ni=new Mt(n=>n.complete());function zl(n){return n[n.length-1]}function Ua(n){return function A6(n){return n&&$e(n.schedule)}(zl(n))?n.pop():void 0}function qa(n,e=0){return Xt((t,r)=>{t.subscribe(Tt(r,i=>Hi(r,n,()=>r.next(i),e),()=>Hi(r,n,()=>r.complete(),e),i=>Hi(r,n,()=>r.error(i),e)))})}function H3(n,e=0){return Xt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function P6(n,e){if(!n)throw new Error("Iterable cannot be null");return new Mt(t=>{Hi(t,e,()=>{const r=n[Symbol.asyncIterator]();Hi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Bt(n,e){return e?function R3(n,e){if(null!=n){if(b6(n))return function G7(n,e){return Er(n).pipe(H3(e),qa(e))}(n,e);if(I3(n))return function I6(n,e){return new Mt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(y6(n))return function O6(n,e){return Er(n).pipe(H3(e),qa(e))}(n,e);if(w6(n))return P6(n,e);if(C6(n))return function N3(n,e){return new Mt(t=>{let r;return Hi(t,e,()=>{r=n[M6](),Hi(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>$e(r?.return)&&r.return()})}(n,e);if(_6(n))return function L6(n,e){return P6(E6(n),e)}(n,e)}throw P3(n)}(n,e):Er(n)}class _r extends An{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function pe(...n){return Bt(n,Ua(n))}function V3(n={}){const{connector:e=(()=>new An),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,c,a,l=0,h=!1,d=!1;const g=()=>{c?.unsubscribe(),c=void 0},p=()=>{g(),o=a=void 0,h=d=!1},v=()=>{const y=o;p(),y?.unsubscribe()};return Xt((y,w)=>{l++,!d&&!h&&g();const C=a=a??e();w.add(()=>{l--,0===l&&!d&&!h&&(c=Dl(v,i))}),C.subscribe(w),!o&&l>0&&(o=new ka({next:M=>C.next(M),error:M=>{d=!0,g(),c=Dl(p,t,M),C.error(M)},complete:()=>{h=!0,g(),c=Dl(p,r),C.complete()}}),Er(y).subscribe(o))})(s)}}function Dl(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new ka({next:()=>{r.unsubscribe(),n()}});return Er(e(...t)).subscribe(r)}function ui(n,e){return Xt((t,r)=>{let i=null,s=0,o=!1;const c=()=>o&&!i&&r.complete();t.subscribe(Tt(r,a=>{i?.unsubscribe();let l=0;const h=s++;Er(n(a,h)).subscribe(i=Tt(r,d=>r.next(e?e(a,d,h,l++):d),()=>{i=null,c()}))},()=>{o=!0,c()}))})}function N6(n,e){return n===e}function et(n){for(let e in n)if(n[e]===et)return e;throw Error("Could not find renamed property on target object.")}function Al(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Zt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Zt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Tl(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const W7=et({__forward_ref__:et});function k3(n){return n.__forward_ref__=k3,n.toString=function(){return Zt(this())},n}function Ce(n){return F3(n)?n():n}function F3(n){return"function"==typeof n&&n.hasOwnProperty(W7)&&n.__forward_ref__===k3}function Ga(n){return n&&!!n.\u0275providers}const R6="https://g.co/ng/security#xss";class j extends Error{constructor(e,t){super(function Ol(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function xe(n){return"string"==typeof n?n:null==n?"":String(n)}function B3(n,e){throw new j(-201,!1)}function Sr(n,e){null==n&&function we(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function Q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Wn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Wa(n){return Ya(n,di)||Ya(n,k6)}function Ya(n,e){return n.hasOwnProperty(e)?n[e]:null}function at(n){return n&&(n.hasOwnProperty(Xa)||n.hasOwnProperty(U3))?n[Xa]:null}const di=et({\u0275prov:et}),Xa=et({\u0275inj:et}),k6=et({ngInjectableDef:et}),U3=et({ngInjectorDef:et});var Re=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Re||{});let q3;function Yn(n){const e=q3;return q3=n,e}function Za(n,e,t){const r=Wa(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Re.Optional?null:void 0!==e?e:void B3(Zt(n))}const dt=globalThis,Dc={},Ll="__NG_DI_FLAG__",Hl="ngTempTokenPath",og=/\n/gm,j6="__source";let gi;function Zs(n){const e=gi;return gi=n,e}function X3(n,e=Re.Default){if(void 0===gi)throw new j(-203,!1);return null===gi?Za(n,void 0,e):gi.get(n,e&Re.Optional?null:void 0,e)}function Y(n,e=Re.Default){return(function F6(){return q3}()||X3)(Ce(n),e)}function ce(n,e=Re.Default){return Y(n,Nl(e))}function Nl(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Z3(n){const e=[];for(let t=0;t<n.length;t++){const r=Ce(n[t]);if(Array.isArray(r)){if(0===r.length)throw new j(900,!1);let i,s=Re.Default;for(let o=0;o<r.length;o++){const c=r[o],a=Ac(c);"number"==typeof a?-1===a?i=c.token:s|=a:i=c}e.push(Y(i,s))}else e.push(Y(r))}return e}function t1(n,e){return n[Ll]=e,n.prototype[Ll]=e,n}function Ac(n){return n[Ll]}function gs(n){return{toString:n}.toString()}var Rl=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Rl||{}),Yr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Yr||{});const Ri={},Xe=[],Io=et({\u0275cmp:et}),L=et({\u0275dir:et}),F=et({\u0275pipe:et}),V=et({\u0275mod:et}),te=et({\u0275fac:et}),Me=et({__NG_ELEMENT_ID__:et}),Ze=et({__NG_ENV_ID__:et});function jt(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function tt(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],c=t[r++];n.setAttribute(e,o,c,s)}else{const s=i,o=t[++r];U6(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function Vl(n){return 3===n||4===n||6===n}function U6(n){return 64===n.charCodeAt(0)}function On(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||n1(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function n1(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const c=n[s++];if("number"==typeof c){if(c===e){o=-1;break}if(c>e){o=s-1;break}}}for(;s<n.length;){const c=n[s];if("number"==typeof c)break;if(c===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const q6="ng-template";function Tc(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==jt(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function r1(n){return 4===n.type&&n.value!==q6}function kl(n,e,t){return e===(4!==n.type||t?n.value:q6)}function nt(n,e,t){let r=4;const i=n.attrs||[],s=function ug(n){for(let e=0;e<n.length;e++)if(Vl(n[e]))return e;return n.length}(i);let o=!1;for(let c=0;c<e.length;c++){const a=e[c];if("number"!=typeof a){if(!o)if(4&r){if(r=2|1&r,""!==a&&!kl(n,a,t)||""===a&&1===e.length){if(mi(r))return!1;o=!0}}else{const l=8&r?a:e[++c];if(8&r&&null!==n.attrs){if(!Tc(n.attrs,l,t)){if(mi(r))return!1;o=!0}continue}const d=G6(8&r?"class":a,i,r1(n),t);if(-1===d){if(mi(r))return!1;o=!0;continue}if(""!==l){let g;g=d>s?"":i[d+1].toLowerCase();const p=8&r?g:null;if(p&&-1!==jt(p,l,0)||2&r&&l!==g){if(mi(r))return!1;o=!0}}}}else{if(!o&&!mi(r)&&!mi(a))return!1;if(o&&mi(a))continue;o=!1,r=a|1&r}}return mi(r)||o}function mi(n){return 0==(1&n)}function G6(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let c=e[++i];for(;"string"==typeof c;)c=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function hg(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function s1(n,e,t=!1){for(let r=0;r<e.length;r++)if(nt(n,e[r],t))return!0;return!1}function Fl(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function ps(n,e){return n?":not("+e.trim()+")":e}function Bl(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const c=n[++t];i+="["+o+(c.length>0?'="'+c+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!mi(o)&&(e+=ps(s,i),i=""),r=o,s=s||!mi(r);t++}return""!==i&&(e+=ps(s,i)),e}function or(n){return gs(()=>{const e=K3(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Rl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Yr.Emulated,styles:n.styles||Xe,_:null,schemas:n.schemas||null,tView:null,id:""};X6(t);const r=n.dependencies;return t.directiveDefs=ql(r,!1),t.pipeDefs=ql(r,!0),t.id=function In(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function $l(n,e,t){const r=n.\u0275cmp;r.directiveDefs=ql(e,!1),r.pipeDefs=ql(t,!0)}function Ul(n){return We(n)||$t(n)}function Y6(n){return null!==n}function un(n){return gs(()=>({type:n.type,bootstrap:n.bootstrap||Xe,declarations:n.declarations||Xe,imports:n.imports||Xe,exports:n.exports||Xe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function o1(n,e){if(null==n)return Ri;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function Kt(n){return gs(()=>{const e=K3(n);return X6(e),e})}function We(n){return n[Io]||null}function $t(n){return n[L]||null}function hn(n){return n[F]||null}function zr(n,e){const t=n[V]||null;if(!t&&!0===e)throw new Error(`Type ${Zt(n)} does not have '\u0275mod' property.`);return t}function K3(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Ri,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Xe,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:o1(n.inputs,e),outputs:o1(n.outputs)}}function X6(n){n.features?.forEach(e=>e(n))}function ql(n,e){if(!n)return null;const t=e?hn:Ul;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(Y6)}const Nt=0,re=1,ze=2,Ct=3,Dr=4,ms=5,fn=6,vi=7,pt=8,Xr=9,vs=10,ve=11,c1=12,Z6=13,Oc=14,kt=15,a1=16,ys=17,ar=18,Ic=19,x=20,Ar=21,Zr=22,Pn=23,Le=24,Ve=25,J3=1,Js=2,Vi=7,Pc=9,Mn=11;function lr(n){return Array.isArray(n)&&"object"==typeof n[J3]}function Xn(n){return Array.isArray(n)&&!0===n[J3]}function Q3(n){return 0!=(4&n.flags)}function Lo(n){return n.componentOffset>-1}function Wl(n){return 1==(1&n.flags)}function Qt(n){return!!n.template}function eu(n){return 0!=(512&n[ze])}function No(n,e){return n.hasOwnProperty(te)?n[te]:null}let st=null,Xl=!1;function Tr(n){const e=st;return st=n,e}const nu={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function bs(n){if(!Ro(n)||n.dirty){if(!n.producerMustRecompute(n)&&!dn(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function u1(n){n.dirty=!0,function ru(n){if(void 0===n.liveConsumerNode)return;const e=Xl;Xl=!0;try{for(const t of n.liveConsumerNode)t.dirty||u1(t)}finally{Xl=e}}(n),n.consumerMarkedDirty?.(n)}function su(n){return n&&(n.nextProducerIndex=0),Tr(n)}function Zl(n,e){if(Tr(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Ro(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Or(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function dn(n){ws(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(bs(t),r!==t.version))return!0}return!1}function Kl(n){if(ws(n),Ro(n))for(let e=0;e<n.producerNode.length;e++)Or(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Or(n,e){if(function eo(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),ws(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Or(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];ws(i),i.producerIndexOfThis[r]=e}}function Ro(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ws(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let Jl=null;const lu=()=>{},uu=(()=>({...nu,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:lu}))();class hu{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Hn(){return fu}function fu(n){return n.type.prototype.ngOnChanges&&(n.setInput=e4),rh}function rh(){const n=du(this),e=n?.current;if(e){const t=n.previous;if(t===Ri)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function e4(n,e,t,r){const i=this.declaredInputs[t],s=du(n)||function sh(n,e){return n[ih]=e}(n,{previous:Ri,current:null}),o=s.current||(s.current={}),c=s.previous,a=c[i];o[i]=new hu(a&&a.currentValue,e,c===Ri),n[r]=e}Hn.ngInherit=!0;const ih="__ngSimpleChanges__";function du(n){return n[ih]||null}const Fi=function(n,e,t){};function ot(n){for(;Array.isArray(n);)n=n[Nt];return n}function Rc(n,e){return ot(e[n])}function ge(n,e){return ot(e[n.index])}function ch(n,e){return n.data[e]}function hr(n,e){const t=e[n];return lr(t)?t:t[Nt]}function to(n,e){return null==e?null:n[e]}function d1(n){n[ys]=0}function vu(n){1024&n[ze]||(n[ze]|=1024,bu(n,1))}function yu(n){1024&n[ze]&&(n[ze]&=-1025,bu(n,-1))}function bu(n,e){let t=n[Ct];if(null===t)return;t[ms]+=e;let r=t;for(t=t[Ct];null!==t&&(1===e&&1===r[ms]||-1===e&&0===r[ms]);)t[ms]+=e,r=t,t=t[Ct]}const ye={lFrame:xu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function n4(){return ye.bindingsEnabled}function ro(){return null!==ye.skipHydrationRootTNode}function q(){return ye.lFrame.lView}function Ye(){return ye.lFrame.tView}function gn(){let n=Eu();for(;null!==n&&64===n.type;)n=n.parent;return n}function Eu(){return ye.lFrame.currentTNode}function yi(n,e){const t=ye.lFrame;t.currentTNode=n,t.isParent=e}function r4(){return ye.lFrame.isParent}function Nn(){ye.lFrame.isParent=!1}function pn(){const n=ye.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Vo(){return ye.lFrame.bindingIndex++}function Ms(n){const e=ye.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function p1(n,e){const t=ye.lFrame;t.bindingIndex=t.bindingRootIndex=n,i4(e)}function i4(n){ye.lFrame.currentDirectiveIndex=n}function m1(){return ye.lFrame.currentQueryIndex}function o4(n){ye.lFrame.currentQueryIndex=n}function c4(n){const e=n[re];return 2===e.type?e.declTNode:1===e.type?n[fn]:null}function a4(n,e,t){if(t&Re.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&Re.Host||(i=c4(s),null===i||(s=s[Oc],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ye.lFrame=gh();return r.currentTNode=e,r.lView=n,!0}function Vc(n){const e=gh(),t=n[re];ye.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function gh(){const n=ye.lFrame,e=null===n?null:n.child;return null===e?xu(n):e}function xu(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function v1(){const n=ye.lFrame;return ye.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Su=v1;function y1(){const n=v1();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ot(){return ye.lFrame.selectedIndex}function oo(n){ye.lFrame.selectedIndex=n}function Et(){const n=ye.lFrame;return ch(n.tView,n.selectedIndex)}let l4=!0;function kc(){return l4}function Ui(n){l4=n}function Cs(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:c,ngAfterViewInit:a,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(n.contentHooks??=[]).push(-t,o),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),a&&(n.viewHooks??=[]).push(-t,a),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=h&&(n.destroyHooks??=[]).push(t,h)}}function de(n,e,t){co(n,e,3,t)}function Fo(n,e,t,r){(3&n[ze])===t&&co(n,e,t,r)}function b1(n,e){let t=n[ze];(3&t)===e&&(t&=8191,t+=1,n[ze]=t)}function co(n,e,t,r){const s=r??-1,o=e.length-1;let c=0;for(let a=void 0!==r?65535&n[ys]:0;a<o;a++)if("number"==typeof e[a+1]){if(c=e[a],null!=r&&c>=r)break}else e[a]<0&&(n[ys]+=65536),(c<s||-1==s)&&(zu(n,t,e,a),n[ys]=(4294901760&n[ys])+a+2),a++}function yh(n,e){Fi(4,n,e);const t=Tr(null);try{e.call(n)}finally{Tr(t),Fi(5,n,e)}}function zu(n,e,t,r){const i=t[r]<0,s=t[r+1],c=n[i?-t[r]:t[r]];i?n[ze]>>13<n[ys]>>16&&(3&n[ze])===e&&(n[ze]+=8192,yh(c,s)):yh(c,s)}const Bo=-1;class Ut{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function bi(n){return n!==Bo}function en(n){return 32767&n}function w1(n,e){let t=function Du(n){return n>>16}(n),r=e;for(;t>0;)r=r[Oc],t--;return r}let M1=!0;function f4(n){const e=M1;return M1=n,e}const Fc=255,Au=5;let wh=0;const qi={};function d4(n,e){const t=Ou(n,e);if(-1!==t)return t;const r=e[re];r.firstCreatePass&&(n.injectorIndex=e.length,Tu(r.data,n),Tu(e,null),Tu(r.blueprint,null));const i=C1(n,e),s=n.injectorIndex;if(bi(i)){const o=en(i),c=w1(i,e),a=c[re].data;for(let l=0;l<8;l++)e[s+l]=c[o+l]|a[o+l]}return e[s+8]=i,s}function Tu(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Ou(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function C1(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=Eh(i),null===r)return Bo;if(t++,i=i[Oc],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Bo}function Iu(n,e,t){!function Hg(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Me)&&(r=t[Me]),null==r&&(r=t[Me]=wh++);const i=r&Fc;e.data[n+(i>>Au)]|=1<<i}(n,e,t)}function Lu(n,e,t){if(t&Re.Optional||void 0!==n)return n;B3()}function Bc(n,e,t,r){if(t&Re.Optional&&void 0===r&&(r=null),!(t&(Re.Self|Re.Host))){const i=n[Xr],s=Yn(void 0);try{return i?i.get(e,r,t&Re.Optional):Za(e,r,t&Re.Optional)}finally{Yn(s)}}return Lu(r,0,t)}function g4(n,e,t,r=Re.Default,i){if(null!==n){if(2048&e[ze]&&!(r&Re.Self)){const o=function Vg(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[ze]&&!(512&o[ze]);){const c=Hu(s,o,t,r|Re.Self,qi);if(c!==qi)return c;let a=s.parent;if(!a){const l=o[x];if(l){const h=l.get(t,qi,r);if(h!==qi)return h}a=Eh(o),o=o[Oc]}s=a}return i}(n,e,t,r,qi);if(o!==qi)return o}const s=Hu(n,e,t,r,qi);if(s!==qi)return s}return Bc(e,t,r,i)}function Hu(n,e,t,r,i){const s=function Gi(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Me)?n[Me]:void 0;return"number"==typeof e?e>=0?e&Fc:Rg:e}(t);if("function"==typeof s){if(!a4(e,n,r))return r&Re.Host?Lu(i,0,r):Bc(e,t,r,i);try{let o;if(o=s(r),null!=o||r&Re.Optional)return o;B3()}finally{Su()}}else if("number"==typeof s){let o=null,c=Ou(n,e),a=Bo,l=r&Re.Host?e[kt][fn]:null;for((-1===c||r&Re.SkipSelf)&&(a=-1===c?C1(n,e):e[c+8],a!==Bo&&Ch(r,!1)?(o=e[re],c=en(a),e=w1(a,e)):c=-1);-1!==c;){const h=e[re];if(lo(s,c,h.data)){const d=Mh(c,e,t,o,r,l);if(d!==qi)return d}a=e[c+8],a!==Bo&&Ch(r,e[re].data[c+8]===l)&&lo(s,c,e)?(o=h,c=en(a),e=w1(a,e)):c=-1}}return i}function Mh(n,e,t,r,i,s){const o=e[re],c=o.data[n+8],h=jo(c,o,t,null==r?Lo(c)&&M1:r!=o&&0!=(3&c.type),i&Re.Host&&s===c);return null!==h?ao(e,o,h,c):qi}function jo(n,e,t,r,i){const s=n.providerIndexes,o=e.data,c=1048575&s,a=n.directiveStart,h=s>>20,g=i?c+h:n.directiveEnd;for(let p=r?c:c+h;p<g;p++){const v=o[p];if(p<a&&t===v||p>=a&&v.type===t)return p}if(i){const p=o[a];if(p&&Qt(p)&&p.type===t)return a}return null}function ao(n,e,t,r){let i=n[t];const s=e.data;if(function Pg(n){return n instanceof Ut}(i)){const o=i;o.resolving&&function ft(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new j(-200,`Circular dependency in DI detected for ${n}${t}`)}(function fe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():xe(n)}(s[t]));const c=f4(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Yn(o.injectImpl):null;a4(n,r,Re.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function u4(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=fu(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==l&&Yn(l),f4(c),o.resolving=!1,Su()}}return i}function lo(n,e,t){return!!(t[e+(n>>Au)]&1<<n)}function Ch(n,e){return!(n&Re.Self||n&Re.Host&&e)}class Zn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return g4(this._tNode,this._lView,e,Nl(r),t)}}function Rg(){return new Zn(gn(),q())}function Nu(n){return gs(()=>{const e=n.prototype.constructor,t=e[te]||Ru(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[te]||Ru(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Ru(n){return F3(n)?()=>{const e=Ru(Ce(n));return e&&e()}:No(n)}function Eh(n){const e=n[re],t=e.type;return 2===t?e.declTNode:1===t?n[fn]:null}const Uc="__parameters__";function $o(n,e,t){return gs(()=>{const r=function m4(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return c.annotation=o,c;function c(a,l,h){const d=a.hasOwnProperty(Uc)?a[Uc]:Object.defineProperty(a,Uc,{value:[]})[Uc];for(;d.length<=h;)d.push(null);return(d[h]=d[h]||[]).push(o),a}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Wc(n,e){n.forEach(t=>Array.isArray(t)?Wc(t,e):e(t))}function xh(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function v4(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Uo(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Ir(n,e,t){let r=Yc(n,e);return r>=0?n[1|r]=t:(r=~r,function Ug(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function ku(n,e){const t=Yc(n,e);if(t>=0)return n[1|t]}function Yc(n,e){return function Sh(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const b4=t1($o("Optional"),8),Xc=t1($o("SkipSelf"),4);function x4(n){return 128==(128&n.flags)}var wi=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(wi||{});const up=/^>|^->|<!--|-->|--!>|<!-$/g,kh=/(<|>)/g,Fh="\u200b$1\u200b";const D4=new Map;let Bh=0;const Uu="__ngContext__";function mn(n,e){lr(e)?(n[Uu]=e[Ic],function $h(n){D4.set(n[Ic],n)}(e)):n[Uu]=e}let qu;function Gu(n,e){return qu(n,e)}function S1(n){const e=n[Ct];return Xn(e)?e[Ct]:e}function De(n){return Kn(n[c1])}function Kh(n){return Kn(n[Dr])}function Kn(n){for(;null!==n&&!Xn(n);)n=n[Dr];return n}function gt(n,e,t,r,i){if(null!=r){let s,o=!1;Xn(r)?s=r:lr(r)&&(o=!0,r=r[Nt]);const c=ot(r);0===n&&null!==t?null==i?ef(e,t,c):Wo(e,t,c,i||null,!0):1===n&&null!==t?Wo(e,t,c,i||null,!0):2===n?function A1(n,e,t){const r=ea(n,e);r&&function nf(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,c,o):3===n&&e.destroyNode(c),null!=s&&function xp(n,e,t,r,i){const s=t[Vi];s!==ot(t)&&gt(e,n,r,s,i);for(let c=Mn;c<t.length;c++){const a=t[c];ta(a[re],a,n,e,r,s)}}(e,n,s,t,i)}}function Wu(n,e){return n.createComment(function z4(n){return n.replace(up,e=>e.replace(kh,Fh))}(e))}function T4(n,e,t){return n.createElement(e,t)}function Xu(n,e){const t=n[Pc],r=t.indexOf(e);yu(e),t.splice(r,1)}function Go(n,e){if(n.length<=Mn)return;const t=Mn+e,r=n[t];if(r){const i=r[a1];null!==i&&i!==n&&Xu(i,r),e>0&&(n[t-1][Dr]=r[Dr]);const s=v4(n,Mn+e);!function bp(n,e){ta(n,e,e[ve],2,null,null),e[Nt]=null,e[fn]=null}(r[re],r);const o=s[ar];null!==o&&o.detachView(s[re]),r[Ct]=null,r[Dr]=null,r[ze]&=-129}return r}function mt(n,e){if(!(256&e[ze])){const t=e[ve];e[Pn]&&Kl(e[Pn]),e[Le]&&Kl(e[Le]),t.destroyNode&&ta(n,e,t,3,null,null),function Yu(n){let e=n[c1];if(!e)return _t(n[re],n);for(;e;){let t=null;if(lr(e))t=e[c1];else{const r=e[Mn];r&&(t=r)}if(!t){for(;e&&!e[Dr]&&e!==n;)lr(e)&&_t(e[re],e),e=e[Ct];null===e&&(e=n),lr(e)&&_t(e[re],e),t=e&&e[Dr]}e=t}}(e)}}function _t(n,e){if(!(256&e[ze])){e[ze]&=-129,e[ze]|=256,function Ep(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Ut)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const c=i[s[o]],a=s[o+1];Fi(4,c,a);try{a.call(c)}finally{Fi(5,c,a)}}else{Fi(4,i,s);try{s.call(i)}finally{Fi(5,i,s)}}}}}(n,e),function Jh(n,e){const t=n.cleanup,r=e[vi];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[vi]=null);const i=e[Ar];if(null!==i){e[Ar]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[re].type&&e[ve].destroy();const t=e[a1];if(null!==t&&Xn(e[Ct])){t!==e[Ct]&&Xu(t,e);const r=e[ar];null!==r&&r.detachView(n)}!function hp(n){D4.delete(n[Ic])}(e)}}function Zu(n,e,t){return function Qh(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Nt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===Yr.None||s===Yr.Emulated)return null}return ge(r,t)}}(n,e.parent,t)}function Wo(n,e,t,r,i){n.insertBefore(e,t,r,i)}function ef(n,e,t){n.appendChild(e,t)}function tf(n,e,t,r,i){null!==r?Wo(n,e,t,r,i):ef(n,e,t)}function ea(n,e){return n.parentNode(e)}function Ku(n,e,t){return gr(n,e,t)}let uo,P4,n8,gr=function z1(n,e,t){return 40&n.type?ge(n,t):null};function I4(n,e,t,r){const i=Zu(n,r,e),s=e[ve],c=Ku(r.parent||e[fn],r,e);if(null!=i)if(Array.isArray(t))for(let a=0;a<t.length;a++)tf(s,i,t[a],c,!1);else tf(s,i,t,c,!1);void 0!==uo&&uo(s,r,e,t,i)}function D1(n,e){if(null!==e){const t=e.type;if(3&t)return ge(e,n);if(4&t)return Ju(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return D1(n,r);{const i=n[e.index];return Xn(i)?Ju(-1,i):ot(i)}}if(32&t)return Gu(e,n)()||ot(n[e.index]);{const r=sf(n,e);return null!==r?Array.isArray(r)?r[0]:D1(S1(n[kt]),r):D1(n,e.next)}}return null}function sf(n,e){return null!==e?n[kt][fn].projection[e.projection]:null}function Ju(n,e){const t=Mn+n+1;if(t<e.length){const r=e[t],i=r[re].firstChild;if(null!==i)return D1(r,i)}return e[Vi]}function Ae(n,e,t,r,i,s,o){for(;null!=t;){const c=r[t.index],a=t.type;if(o&&0===e&&(c&&mn(ot(c),r),t.flags|=2),32!=(32&t.flags))if(8&a)Ae(n,e,t.child,r,i,s,!1),gt(e,n,i,c,s);else if(32&a){const l=Gu(t,r);let h;for(;h=l();)gt(e,n,i,h,s);gt(e,n,i,c,s)}else 16&a?Qu(n,e,r,t,i,s):gt(e,n,i,c,s);t=o?t.projectionNext:t.next}}function ta(n,e,t,r,i,s){Ae(t,r,n.firstChild,e,i,s,!1)}function Qu(n,e,t,r,i,s){const o=t[kt],a=o[fn].projection[r.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)gt(e,n,i,a[l],s);else{let l=a;const h=o[Ct];x4(r)&&(l.flags|=128),Ae(n,e,l,h,i,s,!0)}}function e8(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function T1(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&tt(n,e,r),null!==i&&e8(n,e,i),null!==s&&function Sp(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function na(n){return function t8(){if(void 0===P4&&(P4=null,dt.trustedTypes))try{P4=dt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return P4}()?.createHTML(n)||n}class xs{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${R6})`}}class Op extends xs{getTypeName(){return"HTML"}}class Ip extends xs{getTypeName(){return"Style"}}class Pp extends xs{getTypeName(){return"Script"}}class vn extends xs{getTypeName(){return"URL"}}class pr extends xs{getTypeName(){return"ResourceURL"}}function Pr(n){return n instanceof xs?n.changingThisBreaksApplicationSecurity:n}function Yi(n,e){const t=function Lp(n){return n instanceof xs&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${R6})`)}return t===e}class Vp{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(na(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class kp{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=na(e),t}}const df=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function N4(n){return(n=String(n)).match(df)?n:"unsafe:"+n}function Ss(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function O1(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const gf=Ss("area,br,col,hr,img,wbr"),Yo=Ss("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pf=Ss("rp,rt"),i8=O1(gf,O1(Yo,Ss("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),O1(pf,Ss("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),O1(pf,Yo)),R4=Ss("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mf=O1(R4,Ss("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ss("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Bp=Ss("script,style,template");class jp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!i8.hasOwnProperty(t))return this.sanitizedSomething=!0,!Bp.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,c=o.toLowerCase();if(!mf.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let a=s.value;R4[c]&&(a=N4(a)),this.buf.push(" ",o,'="',vf(a),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();i8.hasOwnProperty(t)&&!gf.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(vf(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const $p=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Up=/([^\#-~ |!])/g;function vf(n){return n.replace(/&/g,"&amp;").replace($p,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Up,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let V4;function yf(n,e){let t=null;try{V4=V4||function hf(n){const e=new kp(n);return function ff(){try{return!!(new window.DOMParser).parseFromString(na(""),"text/html")}catch{return!1}}()?new Vp(e):e}(n);let r=e?String(e):"";t=V4.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=V4.getInertBodyElement(r)}while(r!==s);return na((new jp).sanitizeChildren(s8(t)||t))}finally{if(t){const r=s8(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function s8(n){return"content"in n&&function qp(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Lr=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Lr||{});class oe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Xo=new oe("ENVIRONMENT_INITIALIZER"),o8=new oe("INJECTOR",-1),c8=new oe("INJECTOR_DEF_TYPES");class a8{get(e,t=Dc){if(t===Dc){const r=new Error(`NullInjectorError: No provider for ${Zt(e)}!`);throw r.name="NullInjectorError",r}return t}}function Jp(...n){return{\u0275providers:k4(0,n),\u0275fromNgModule:!0}}function k4(n,...e){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return Wc(e,o=>{const c=o;F4(c,s,[],r)&&(i||=[],i.push(c))}),void 0!==i&&Ef(i,s),t}function Ef(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];Rn(i,s=>{e(s,r)})}}function F4(n,e,t,r){if(!(n=Ce(n)))return!1;let i=null,s=at(n);const o=!s&&We(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const a=n.ngModule;if(s=at(a),!s)return!1;i=a}const c=r.has(i);if(o){if(c)return!1;if(r.add(i),o.dependencies){const a="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of a)F4(l,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!c){let l;r.add(i);try{Wc(s.imports,h=>{F4(h,e,t,r)&&(l||=[],l.push(h))})}finally{}void 0!==l&&Ef(l,e)}if(!c){const l=No(i)||(()=>new i);e({provide:i,useFactory:l,deps:Xe},i),e({provide:c8,useValue:i,multi:!0},i),e({provide:Xo,useValue:()=>Y(i),multi:!0},i)}const a=s.providers;if(null!=a&&!c){const l=n;Rn(a,h=>{e(h,l)})}}}return i!==n&&void 0!==n.providers}function Rn(n,e){for(let t of n)Ga(t)&&(t=t.\u0275providers),Array.isArray(t)?Rn(t,e):e(t)}const l8=et({provide:String,useValue:et});function u8(n){return null!==n&&"object"==typeof n&&l8 in n}function Zo(n){return"function"==typeof n}const f8=new oe("Set Injector scope."),ia={},Qp={};let d8;function B4(){return void 0===d8&&(d8=new a8),d8}class ti{}class P1 extends ti{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,p8(e,o=>this.processProvider(o)),this.records.set(o8,ho(void 0,this)),i.has("environment")&&this.records.set(ti,ho(void 0,this));const s=this.records.get(f8);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(c8.multi,Xe,Re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Zs(this),r=Yn(void 0);try{return e()}finally{Zs(t),Yn(r)}}get(e,t=Dc,r=Re.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Ze))return e[Ze](this);r=Nl(r);const s=Zs(this),o=Yn(void 0);try{if(!(r&Re.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function i9(n){return"function"==typeof n||"object"==typeof n&&n instanceof oe}(e)&&Wa(e);a=l&&this.injectableDefInScope(l)?ho(g8(e),ia):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Re.Self?B4():this.parent).get(e,t=r&Re.Optional&&t===Dc?null:t)}catch(c){if("NullInjectorError"===c.name){if((c[Hl]=c[Hl]||[]).unshift(Zt(e)),s)throw c;return function pi(n,e,t,r){const i=n[Hl];throw e[j6]&&i.unshift(e[j6]),n.message=function $6(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Zt(e);if(Array.isArray(e))i=e.map(Zt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let c=e[o];s.push(o+":"+("string"==typeof c?JSON.stringify(c):Zt(c)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(og,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Hl]=null,n}(c,e,"R3InjectorError",this.source)}throw c}finally{Yn(o),Zs(s)}}resolveInjectorInitializers(){const e=Zs(this),t=Yn(void 0);try{const i=this.get(Xo.multi,Xe,Re.Self);for(const s of i)s()}finally{Zs(e),Yn(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Zt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(e){let t=Zo(e=Ce(e))?e:Ce(e&&e.provide);const r=function t9(n){return u8(n)?ho(void 0,n.useValue):ho(j4(n),ia)}(e);if(Zo(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=ho(void 0,ia,!0),i.factory=()=>Z3(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===ia&&(t.value=Qp,t.value=t.factory()),"object"==typeof t.value&&t.value&&function r9(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Ce(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function g8(n){const e=Wa(n),t=null!==e?e.factory:No(n);if(null!==t)return t;if(n instanceof oe)throw new j(204,!1);if(n instanceof Function)return function e9(n){const e=n.length;if(e>0)throw Uo(e,"?"),new j(204,!1);const t=function $3(n){return n&&(n[di]||n[k6])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new j(204,!1)}function j4(n,e,t){let r;if(Zo(n)){const i=Ce(n);return No(i)||g8(i)}if(u8(n))r=()=>Ce(n.useValue);else if(function xf(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Z3(n.deps||[]));else if(function _f(n){return!(!n||!n.useExisting)}(n))r=()=>Y(Ce(n.useExisting));else{const i=Ce(n&&(n.useClass||n.provide));if(!function n9(n){return!!n.deps}(n))return No(i)||g8(i);r=()=>new i(...Z3(n.deps))}return r}function ho(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function p8(n,e){for(const t of n)Array.isArray(t)?p8(t,e):t&&Ga(t)?p8(t.\u0275providers,e):e(t)}const $4=new oe("AppId",{providedIn:"root",factory:()=>s9}),s9="ng",Sf=new oe("Platform Initializer"),Ko=new oe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),m8=new oe("AnimationModuleType"),v8=new oe("CSP nonce",{providedIn:"root",factory:()=>function ra(){if(void 0!==n8)return n8;if(typeof document<"u")return document;throw new j(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let U=(n,e,t)=>null;function le(n,e,t=!1){return U(n,e,t)}class zf{}class Jw{}class GP{resolveComponentFactory(e){throw function qP(n){const e=Error(`No component factory found for ${Zt(n)}.`);return e.ngComponent=n,e}(e)}}let Df=(()=>{class n{static#e=this.NULL=new GP}return n})();function WP(){return q4(gn(),q())}function q4(n,e){return new Xi(ge(n,e))}let Xi=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=WP}return n})();function YP(n){return n instanceof Xi?n.nativeElement:n}class L1{}let H1=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function XP(){const n=q(),t=hr(gn().index,n);return(lr(t)?t:n)[ve]}()}return n})(),ZP=(()=>{class n{static#e=this.\u0275prov=Q({token:n,providedIn:"root",factory:()=>null})}return n})();class Af{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const KP=new Af("16.2.9"),a9={};function rM(n,e=null,t=null,r){const i=iM(n,e,t,r);return i.resolveInjectorInitializers(),i}function iM(n,e=null,t=null,r,i=new Set){const s=[t||Xe,Jp(n)];return r=r||("object"==typeof n?void 0:Zt(n)),new P1(s,e||B4(),r||null,i)}let mr=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Dc;static#t=this.NULL=new a8;static create(t,r){if(Array.isArray(t))return rM({name:""},r,t,"");{const i=t.name??"";return rM({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=Q({token:n,providedIn:"any",factory:()=>Y(o8)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function u9(n){return n.ngOriginalError}class Jo{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&u9(e);for(;t&&u9(t);)t=u9(t);return t||null}}function f9(n){return e=>{setTimeout(n,void 0,e)}}const Jn=class iL extends An{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const a=e;i=a.next?.bind(a),s=a.error?.bind(a),o=a.complete?.bind(a)}this.__isAsync&&(s=f9(s),i&&(i=f9(i)),o&&(o=f9(o)));const c=super.subscribe({next:i,error:s,complete:o});return e instanceof Ht&&e.add(c),c}};function oM(...n){}class ct{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Jn(!1),this.onMicrotaskEmpty=new Jn(!1),this.onStable=new Jn(!1),this.onError=new Jn(!1),typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function sL(){const n="function"==typeof dt.requestAnimationFrame;let e=dt[n?"requestAnimationFrame":"setTimeout"],t=dt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function aL(n){const e=()=>{!function cL(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(dt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,g9(n),n.isCheckStableRunning=!0,d9(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),g9(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,c)=>{if(function uL(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(c))return t.invokeTask(i,s,o,c);try{return cM(n),t.invokeTask(i,s,o,c)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),aM(n)}},onInvoke:(t,r,i,s,o,c,a)=>{try{return cM(n),t.invoke(i,s,o,c,a)}finally{n.shouldCoalesceRunChangeDetection&&e(),aM(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,g9(n),d9(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ct.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(ct.isInAngularZone())throw new j(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,oL,oM,oM);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const oL={};function d9(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function g9(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function cM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function aM(n){n._nesting--,d9(n)}class lL{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Jn,this.onMicrotaskEmpty=new Jn,this.onStable=new Jn,this.onError=new Jn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const lM=new oe("",{providedIn:"root",factory:uM});function uM(){const n=ce(ct);let e=!0;return function zc(...n){const e=Ua(n),t=function T6(n,e){return"number"==typeof zl(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Er(r[0]):Sc(t)(Bt(r,e)):Ni}(new Mt(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Mt(i=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{ct.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=n.onUnstable.subscribe(()=>{ct.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(V3()))}function Qo(n){return n instanceof Function?n():n}let p9=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Q({token:n,providedIn:"root",factory:()=>new n})}return n})();function C8(n){for(;n;){n[ze]|=64;const e=S1(n);if(eu(n)&&!e)return n;n=e}return null}const pM=new oe("",{providedIn:"root",factory:()=>!1});let Of=null;function bM(n,e){return n[e]??CM()}function wM(n,e){const t=CM();t.producerNode?.length&&(n[e]=Of,t.lView=n,Of=MM())}const wL={...nu,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{C8(n.lView)},lView:null};function MM(){return Object.create(wL)}function CM(){return Of??=MM(),Of}const Ie={};function kn(n){EM(Ye(),q(),Ot()+n,!1)}function EM(n,e,t,r){if(!r)if(3==(3&e[ze])){const s=n.preOrderCheckHooks;null!==s&&de(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Fo(e,s,0,t)}oo(t)}function ie(n,e=Re.Default){const t=q();return null===t?Y(n,e):g4(gn(),t,Ce(n),e)}function If(n,e,t,r,i,s,o,c,a,l,h){const d=e.blueprint.slice();return d[Nt]=i,d[ze]=140|r,(null!==l||n&&2048&n[ze])&&(d[ze]|=2048),d1(d),d[Ct]=d[Oc]=n,d[pt]=t,d[vs]=o||n&&n[vs],d[ve]=c||n&&n[ve],d[Xr]=a||n&&n[Xr]||null,d[fn]=s,d[Ic]=function jh(){return Bh++}(),d[Zr]=h,d[x]=l,d[kt]=2==e.type?n[kt]:d,d}function Y4(n,e,t,r,i){let s=n.data[e];if(null===s)s=function m9(n,e,t,r,i){const s=Eu(),o=r4(),a=n.data[e]=function DL(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,c=0;return ro()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a,a.prev=s)),a}(n,e,t,r,i),function dh(){return ye.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function g1(){const n=ye.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return yi(s,!0),s}function E8(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function xM(n,e,t,r,i){const s=bM(e,Pn),o=Ot(),c=2&r;try{oo(-1),c&&e.length>Ve&&EM(n,e,Ve,!1),Fi(c?2:0,i);const l=c?s:null,h=su(l);try{null!==l&&(l.dirty=!1),t(r,i)}finally{Zl(l,h)}}finally{c&&null===e[Pn]&&wM(e,Pn),oo(o),Fi(c?3:1,i)}}function v9(n,e,t){if(Q3(e)){const r=Tr(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const c=n.data[o];c.contentQueries&&c.contentQueries(1,t[o],o)}}finally{Tr(r)}}}function y9(n,e,t){n4()&&(function HL(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Lo(t)&&function jL(n,e,t){const r=ge(e,n),i=SM(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const c=Pf(n,If(n,i,null,o,r,e,null,n[vs].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=c}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||d4(t,e),mn(r,e);const o=t.initialInputs;for(let c=i;c<s;c++){const a=n.data[c],l=ao(e,n,c,t);mn(l,e),null!==o&&$L(0,c-i,l,a,0,o),Qt(a)&&(hr(t.index,e)[pt]=ao(e,n,c,t))}}(n,e,t,ge(t,e)),64==(64&t.flags)&&OM(n,e,t))}function b9(n,e,t=ge){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],c=-1===o?t(e,n):n[o];n[i++]=c}}}function SM(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=w9(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function w9(n,e,t,r,i,s,o,c,a,l,h){const d=Ve+r,g=d+i,p=function CL(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ie);return t}(d,g),v="function"==typeof l?l():l;return p[re]={type:n,blueprint:p,template:t,queries:null,viewQuery:c,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:a,consts:v,incompleteFirstPass:!1,ssrId:h}}let zM=n=>null;function DM(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?AM(t,e,i,s):r.hasOwnProperty(i)&&AM(t,e,r[i],s)}return t}function AM(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function M9(n,e,t,r){if(n4()){const i=null===r?null:{"":-1},s=function RL(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(s1(e,o.selectors,!1))if(r||(r=[]),Qt(o))if(null!==o.findHostDirectiveDefs){const c=[];i=i||new Map,o.findHostDirectiveDefs(o,c,i),r.unshift(...c,o),C9(n,e,c.length)}else r.unshift(o),C9(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,c;null===s?o=c=null:[o,c]=s,null!==o&&TM(n,e,t,o,i,c),i&&function VL(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new j(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=On(t.mergedAttrs,t.attrs)}function TM(n,e,t,r,i,s){for(let l=0;l<r.length;l++)Iu(d4(t,e),n,r[l].type);!function FL(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let l=0;l<r.length;l++){const h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,c=!1,a=E8(n,e,r.length,null);for(let l=0;l<r.length;l++){const h=r[l];t.mergedAttrs=On(t.mergedAttrs,h.hostAttrs),BL(n,t,e,a,h),kL(a,h,i),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const d=h.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!c&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),c=!0),a++}!function AL(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,c=[];let a=null,l=null;for(let h=e.directiveStart;h<i;h++){const d=s[h],g=t?t.get(d):null,v=g?g.outputs:null;a=DM(d.inputs,h,a,g?g.inputs:null),l=DM(d.outputs,h,l,v);const y=null===a||null===o||r1(e)?null:UL(a,h,o);c.push(y)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=8),a.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=a,e.outputs=l}(n,t,s)}function OM(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function Ag(){return ye.lFrame.currentDirectiveIndex}();try{oo(s);for(let c=r;c<i;c++){const a=n.data[c],l=e[c];i4(c),(null!==a.hostBindings||0!==a.hostVars||null!==a.hostAttrs)&&NL(a,l)}}finally{oo(-1),i4(o)}}function NL(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function C9(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function kL(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Qt(e)&&(t[""]=n)}}function BL(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=No(i.type)),o=new Ut(s,Qt(i),ie);n.blueprint[r]=o,t[r]=o,function PL(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const c=~e.index;(function LL(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=c&&o.push(c),o.push(t,r,s)}}(n,e,r,E8(n,t,i.hostVars,Ie),i)}function fo(n,e,t,r,i,s){const o=ge(n,e);!function E9(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const c=null==o?xe(s):o(s,r||"",i);n.setAttribute(e,i,c,t)}}(e[ve],o,s,n.value,t,r,i)}function $L(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let c=0;c<o.length;)IM(r,t,o[c++],o[c++],o[c++])}function IM(n,e,t,r,i){const s=Tr(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{Tr(s)}}function UL(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let c=0;c<o.length;c+=2)if(o[c]===e){r.push(s,o[c+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function PM(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function LM(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];o4(t[r]),o.contentQueries(2,e[s],s)}}}function Pf(n,e){return n[c1]?n[Z6][Dr]=e:n[c1]=e,n[Z6]=e,e}function _9(n,e,t){o4(0);const r=Tr(null);try{e(n,t)}finally{Tr(r)}}function HM(n){return n[vi]||(n[vi]=[])}function NM(n){return n.cleanup||(n.cleanup=[])}function VM(n,e){const t=n[Xr],r=t?t.get(Jo,null):null;r&&r.handleError(e)}function x9(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],c=t[s++];IM(n.data[o],e[o],r,c,i)}}function qL(n,e){const t=hr(e,n),r=t[re];!function GL(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[Nt];null!==i&&null===t[Zr]&&(t[Zr]=le(i,t[Xr])),S9(r,t,t[pt])}function S9(n,e,t){Vc(e);try{const r=n.viewQuery;null!==r&&_9(1,r,t);const i=n.template;null!==i&&xM(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&LM(n,e),n.staticViewQueries&&_9(2,n.viewQuery,t);const s=n.components;null!==s&&function WL(n,e){for(let t=0;t<e.length;t++)qL(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ze]&=-5,y1()}}let kM=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function Cg(n,e,t){const r=Object.create(uu);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>u1(r),run:()=>{if(r.dirty=!1,r.hasRun&&!dn(r))return;r.hasRun=!0;const o=su(r);try{r.cleanupFn(),r.cleanupFn=lu,r.fn(i)}finally{Zl(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(t,l=>{this.all.has(l)&&this.queue.set(l,s)},i);let c;this.all.add(o),o.notify();const a=()=>{o.cleanup(),c?.(),this.all.delete(o),this.queue.delete(o)};return c=r?.onDestroy(a),{destroy:a}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Q({token:n,providedIn:"root",factory:()=>new n})}return n})();function Lf(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const c=e[o];"number"==typeof c?s=c:1==s?i=Tl(i,c):2==s&&(r=Tl(r,c+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function _8(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];null!==s&&r.push(ot(s)),Xn(s)&&FM(s,r);const o=t.type;if(8&o)_8(n,e,t.child,r);else if(32&o){const c=Gu(t,e);let a;for(;a=c();)r.push(a)}else if(16&o){const c=sf(e,t);if(Array.isArray(c))r.push(...c);else{const a=S1(e[kt]);_8(a[re],a,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function FM(n,e){for(let t=Mn;t<n.length;t++){const r=n[t],i=r[re].firstChild;null!==i&&_8(r[re],r,i,e)}n[Vi]!==n[Nt]&&e.push(n[Vi])}function Hf(n,e,t,r=!0){const i=e[vs],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{BM(n,e,n.template,t)}catch(a){throw r&&VM(e,a),a}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function BM(n,e,t,r){const i=e[ze];if(256!=(256&i)){e[vs].effectManager?.flush(),Vc(e);try{d1(e),function _u(n){return ye.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&xM(n,e,t,2,r);const o=3==(3&i);if(o){const l=n.preOrderCheckHooks;null!==l&&de(e,l,null)}else{const l=n.preOrderHooks;null!==l&&Fo(e,l,0,null),b1(e,0)}if(function ZL(n){for(let e=De(n);null!==e;e=Kh(e)){if(!e[Js])continue;const t=e[Pc];for(let r=0;r<t.length;r++){vu(t[r])}}}(e),jM(e,2),null!==n.contentQueries&&LM(n,e),o){const l=n.contentCheckHooks;null!==l&&de(e,l)}else{const l=n.contentHooks;null!==l&&Fo(e,l,1),b1(e,1)}!function ML(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=bM(e,Le);try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)oo(~s);else{const o=s,c=t[++i],a=t[++i];p1(c,o),r.dirty=!1;const l=su(r);try{a(2,e[o])}finally{Zl(r,l)}}}}finally{null===e[Le]&&wM(e,Le),oo(-1)}}(n,e);const c=n.components;null!==c&&UM(e,c,0);const a=n.viewQuery;if(null!==a&&_9(2,a,r),o){const l=n.viewCheckHooks;null!==l&&de(e,l)}else{const l=n.viewHooks;null!==l&&Fo(e,l,2),b1(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[ze]&=-73,yu(e)}finally{y1()}}}function jM(n,e){for(let t=De(n);null!==t;t=Kh(t))for(let r=Mn;r<t.length;r++)$M(t[r],e)}function KL(n,e,t){$M(hr(e,n),t)}function $M(n,e){if(!function xg(n){return 128==(128&n[ze])}(n))return;const t=n[re],r=n[ze];if(80&r&&0===e||1024&r||2===e)BM(t,n,t.template,n[pt]);else if(n[ms]>0){jM(n,1);const i=t.components;null!==i&&UM(n,i,1)}}function UM(n,e,t){for(let r=0;r<e.length;r++)KL(n,e[r],t)}class x8{get rootNodes(){const e=this._lView,t=e[re];return _8(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pt]}set context(e){this._lView[pt]=e}get destroyed(){return 256==(256&this._lView[ze])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ct];if(Xn(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Go(e,r),v4(t,r))}this._attachedToViewContainer=!1}mt(this._lView[re],this._lView)}onDestroy(e){!function fr(n,e){if(256==(256&n[ze]))throw new j(911,!1);null===n[Ar]&&(n[Ar]=[]),n[Ar].push(e)}(this._lView,e)}markForCheck(){C8(this._cdRefInjectingView||this._lView)}detach(){this._lView[ze]&=-129}reattach(){this._lView[ze]|=128}detectChanges(){Hf(this._lView[re],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Mp(n,e){ta(n,e,e[ve],2,null,null)}(this._lView[re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e}}class JL extends x8{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Hf(e[re],e,e[pt],!1)}checkNoChanges(){}get context(){return null}}class qM extends Df{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=We(e);return new S8(t,this.ngModule)}}function GM(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class eH{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Nl(r);const i=this.injector.get(e,a9,r);return i!==a9||t===a9?i:this.parentInjector.get(e,t,r)}}class S8 extends Jw{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=GM(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return GM(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function W6(n){return n.map(Bl).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof ti?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new eH(e,s):e,c=o.get(L1,null);if(null===c)throw new j(407,!1);const d={rendererFactory:c,sanitizer:o.get(ZP,null),effectManager:o.get(kM,null),afterRenderEventManager:o.get(p9,null)},g=c.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",v=r?function EL(n,e,t,r){const s=r.get(pM,!1)||t===Yr.ShadowDom,o=n.selectRootElement(e,s);return function _L(n){zM(n)}(o),o}(g,r,this.componentDef.encapsulation,o):T4(g,p,function QL(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(p)),C=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let M=null;null!==v&&(M=le(v,o,!0));const E=w9(0,null,null,1,0,null,null,null,null,null,null),z=If(null,E,null,C,null,null,d,g,o,null,M);let T,P;Vc(z);try{const k=this.componentDef;let G,B=null;k.findHostDirectiveDefs?(G=[],B=new Map,k.findHostDirectiveDefs(k,G,B),G.push(k)):G=[k];const K=function nH(n,e){const t=n[re],r=Ve;return n[r]=e,Y4(t,r,2,"#host",null)}(z,v),Z=function rH(n,e,t,r,i,s,o){const c=i[re];!function iH(n,e,t,r){for(const i of n)e.mergedAttrs=On(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Lf(e,e.mergedAttrs,!0),null!==t&&T1(r,t,e))}(r,n,e,o);let a=null;null!==e&&(a=le(e,i[Xr]));const l=s.rendererFactory.createRenderer(e,t);let h=16;t.signals?h=4096:t.onPush&&(h=64);const d=If(i,SM(t),null,h,i[n.index],n,s,l,null,null,a);return c.firstCreatePass&&C9(c,n,r.length-1),Pf(i,d),i[n.index]=d}(K,v,k,G,z,d,g);P=ch(E,Ve),v&&function oH(n,e,t,r){if(r)tt(n,t,["ng-version",KP.full]);else{const{attrs:i,classes:s}=function jl(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!mi(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&tt(n,t,i),s&&s.length>0&&e8(n,t,s.join(" "))}}(g,k,v,r),void 0!==t&&function cH(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(P,this.ngContentSelectors,t),T=function sH(n,e,t,r,i,s){const o=gn(),c=i[re],a=ge(o,i);TM(c,i,o,t,null,r);for(let h=0;h<t.length;h++)mn(ao(i,c,o.directiveStart+h,o),i);OM(c,i,o),a&&mn(a,i);const l=ao(i,c,o.directiveStart+o.componentOffset,o);if(n[pt]=i[pt]=l,null!==s)for(const h of s)h(l,e);return v9(c,o,n),l}(Z,k,G,B,z,[aH]),S9(E,z,null)}finally{y1()}return new tH(this.componentType,T,q4(P,z),z,P)}}class tH extends zf{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new JL(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;x9(s[re],s,i,e,t),this.previousInputValues.set(e,t),C8(hr(this._tNode.index,s))}}get injector(){return new Zn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function aH(){const n=gn();Cs(q()[re],n)}function z9(n){let e=function WM(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Qt(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Nf(n.inputs),o.inputTransforms=Nf(n.inputTransforms),o.declaredInputs=Nf(n.declaredInputs),o.outputs=Nf(n.outputs);const c=i.hostBindings;c&&fH(n,c);const a=i.viewQuery,l=i.contentQueries;if(a&&uH(n,a),l&&hH(n,l),Al(n.inputs,i.inputs),Al(n.declaredInputs,i.declaredInputs),Al(n.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Al(o.inputTransforms,i.inputTransforms)),Qt(i)&&i.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const c=s[o];c&&c.ngInherit&&c(n),c===z9&&(t=!1)}}e=Object.getPrototypeOf(e)}!function lH(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=On(i.hostAttrs,t=On(t,i.hostAttrs))}}(r)}function Nf(n){return n===Ri?{}:n===Xe?[]:n}function uH(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function hH(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function fH(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function Rf(n){return!!D9(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function D9(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function go(n,e,t){return n[e]=t}function vr(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Vf(n,e,t,r,i){const s=function N1(n,e,t,r){const i=vr(n,e,t);return vr(n,e+1,r)||i}(n,e,t,r);return vr(n,e+2,i)||s}function X4(n,e,t,r){const i=q();return vr(i,Vo(),e)&&(Ye(),fo(Et(),i,n,e,t,r)),X4}function K4(n,e,t,r){return vr(n,Vo(),t)?e+xe(t)+r:Ie}function tc(n,e,t,r,i,s,o,c){const a=q(),l=Ye(),h=n+Ve,d=l.firstCreatePass?function RH(n,e,t,r,i,s,o,c,a){const l=e.consts,h=Y4(e,n,4,o||null,to(l,c));M9(e,t,h,to(l,a)),Cs(e,h);const d=h.tView=w9(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,h),d.queries=e.queries.embeddedTView(h)),h}(h,l,a,e,t,r,i,s,o):l.data[h];yi(d,!1);const g=uC(l,a,d,n);kc()&&I4(l,a,g,d),mn(g,a),Pf(a,a[h]=PM(g,a,g,d)),Wl(d)&&y9(l,a,d),null!=o&&b9(a,d,c)}let uC=function hC(n,e,t,r){return Ui(!0),e[ve].createComment("")};function Fn(n,e,t){const r=q();return vr(r,Vo(),e)&&function Ci(n,e,t,r,i,s,o,c){const a=ge(e,t);let h,l=e.inputs;!c&&null!=l&&(h=l[r])?(x9(n,t,h,r,i),Lo(e)&&function OL(n,e){const t=hr(e,n);16&t[ze]||(t[ze]|=64)}(t,e.index)):3&e.type&&(r=function TL(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(a,r,i))}(Ye(),Et(),r,n,e,r[ve],t,!1),Fn}function L9(n,e,t,r,i){const o=i?"class":"style";x9(n,t,e.inputs[o],o,r)}function Rr(n,e,t,r){const i=q(),s=Ye(),o=Ve+n,c=i[ve],a=s.firstCreatePass?function jH(n,e,t,r,i,s){const o=e.consts,a=Y4(e,n,2,r,to(o,i));return M9(e,t,a,to(o,s)),null!==a.attrs&&Lf(a,a.attrs,!1),null!==a.mergedAttrs&&Lf(a,a.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,a),a}(o,s,i,e,t,r):s.data[o],l=fC(s,i,a,c,e,n);i[o]=l;const h=Wl(a);return yi(a,!0),T1(c,l,a),32!=(32&a.flags)&&kc()&&I4(s,i,l,a),0===function ah(){return ye.lFrame.elementDepthCount}()&&mn(l,i),function Cu(){ye.lFrame.elementDepthCount++}(),h&&(y9(s,i,a),v9(s,a,i)),null!==r&&b9(i,a),Rr}function Vr(){let n=gn();r4()?Nn():(n=n.parent,yi(n,!1));const e=n;(function io(n){return ye.skipHydrationRootTNode===n})(e)&&function hh(){ye.skipHydrationRootTNode=null}(),function lh(){ye.lFrame.elementDepthCount--}();const t=Ye();return t.firstCreatePass&&(Cs(t,n),Q3(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function bh(n){return 0!=(8&n.flags)}(e)&&L9(t,e,q(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Lg(n){return 0!=(16&n.flags)}(e)&&L9(t,e,q(),e.stylesWithoutHost,!1),Vr}function Ei(n,e,t,r){return Rr(n,e,t,r),Vr(),Ei}let fC=(n,e,t,r,i,s)=>(Ui(!0),T4(r,i,function $i(){return ye.lFrame.currentNamespace}()));function R1(n,e,t){const r=q(),i=Ye(),s=n+Ve,o=i.firstCreatePass?function qH(n,e,t,r,i){const s=e.consts,o=to(s,r),c=Y4(e,n,8,"ng-container",o);return null!==o&&Lf(c,o,!0),M9(e,t,c,to(s,i)),null!==e.queries&&e.queries.elementStart(e,c),c}(s,i,r,e,t):i.data[s];yi(o,!0);const c=gC(i,r,o,n);return r[s]=c,kc()&&I4(i,r,c,o),mn(c,r),Wl(o)&&(y9(i,r,o),v9(i,o,r)),null!=t&&b9(r,o),R1}function V1(){let n=gn();const e=Ye();return r4()?Nn():(n=n.parent,yi(n,!1)),e.firstCreatePass&&(Cs(e,n),Q3(n)&&e.queries.elementEnd(n)),V1}let gC=(n,e,t,r)=>(Ui(!0),Wu(e[ve],""));function jf(n){return!!n&&"function"==typeof n.then}function pC(n){return!!n&&"function"==typeof n.subscribe}function $f(n,e,t,r){const i=q(),s=Ye(),o=gn();return function vC(n,e,t,r,i,s,o){const c=Wl(r),l=n.firstCreatePass&&NM(n),h=e[pt],d=HM(e);let g=!0;if(3&r.type||o){const y=ge(r,e),w=o?o(y):y,C=d.length,M=o?z=>o(ot(z[r.index])):r.index;let E=null;if(!o&&c&&(E=function XH(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const c=e[vi],a=i[s+2];return c.length>a?c[a]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=s,E.__ngLastListenerFn__=s,g=!1;else{s=bC(r,e,h,s,!1);const z=t.listen(w,i,s);d.push(s,z),l&&l.push(i,M,C,C+1)}}else s=bC(r,e,h,s,!1);const p=r.outputs;let v;if(g&&null!==p&&(v=p[i])){const y=v.length;if(y)for(let w=0;w<y;w+=2){const T=e[v[w]][v[w+1]].subscribe(s),P=d.length;d.push(s,T),l&&l.push(i,r.index,P,-(P+1))}}}(s,i,i[ve],o,n,e,r),$f}function yC(n,e,t,r){try{return Fi(6,e,t),!1!==t(r)}catch(i){return VM(n,i),!1}finally{Fi(7,e,t)}}function bC(n,e,t,r,i){return function s(o){if(o===Function)return r;C8(n.componentOffset>-1?hr(n.index,e):e);let a=yC(e,t,r,o),l=s.__ngNextListenerFn__;for(;l;)a=yC(e,t,l,o)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&o.preventDefault(),a}}function k1(n=1){return function Tg(n){return(ye.lFrame.contextLView=function ph(n,e){for(;n>0;)e=e[Oc],n--;return e}(n,ye.lFrame.contextLView))[pt]}(n)}function ZH(n,e){let t=null;const r=function lg(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?s1(n,s,!0):Fl(r,s))return i}else t=i}return t}function o2(n){const e=q()[kt][fn];if(!e.projection){const r=e.projection=Uo(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?ZH(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function c2(n,e=0,t){const r=q(),i=Ye(),s=Y4(i,Ve+n,16,null,t||null);null===s.projection&&(s.projection=e),Nn(),(!r[Zr]||ro())&&32!=(32&s.flags)&&function ei(n,e,t){Qu(e[ve],0,e,t,Zu(n,t,e),Ku(t.parent||e[fn],t,e))}(i,r,s)}function Uf(n,e){return n<<17|e<<2}function oa(n){return n>>17&32767}function N9(n){return 2|n}function F1(n){return(131068&n)>>2}function R9(n,e){return-131069&n|e<<2}function V9(n){return 1|n}function AC(n,e,t,r,i){const s=n[t+1],o=null===e;let c=r?oa(s):F1(s),a=!1;for(;0!==c&&(!1===a||o);){const h=n[c+1];nN(n[c],e)&&(a=!0,n[c+1]=r?V9(h):N9(h)),c=r?oa(h):F1(h)}a&&(n[t+1]=r?N9(s):V9(s))}function nN(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Yc(n,e)>=0}const _n={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function TC(n){return n.substring(_n.key,_n.keyEnd)}function rN(n){return n.substring(_n.value,_n.valueEnd)}function OC(n,e){const t=_n.textEnd;return t===e?-1:(e=_n.keyEnd=function oN(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,_n.key=e,t),a2(n,e,t))}function IC(n,e){const t=_n.textEnd;let r=_n.key=a2(n,e,t);return t===r?-1:(r=_n.keyEnd=function cN(n,e,t){let r;for(;e<t&&(45===(r=n.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(n,r,t),r=LC(n,r,t),r=_n.value=a2(n,r,t),r=_n.valueEnd=function aN(n,e,t){let r=-1,i=-1,s=-1,o=e,c=o;for(;o<t;){const a=n.charCodeAt(o++);if(59===a)return c;34===a||39===a?c=o=HC(n,a,o,t):e===o-4&&85===s&&82===i&&76===r&&40===a?c=o=HC(n,41,o,t):a>32&&(c=o),s=i,i=r,r=-33&a}return c}(n,r,t),LC(n,r,t))}function PC(n){_n.key=0,_n.keyEnd=0,_n.value=0,_n.valueEnd=0,_n.textEnd=n.length}function a2(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function LC(n,e,t,r){return(e=a2(n,e,t))<t&&e++,e}function HC(n,e,t,r){let i=-1,s=t;for(;s<r;){const o=n.charCodeAt(s++);if(o==e&&92!==i)return s;i=92==o&&92===i?0:o}throw new Error}function l2(n,e){return function Ds(n,e,t,r){const i=q(),s=Ye(),o=Ms(2);s.firstUpdatePass&&VC(s,n,o,r),e!==Ie&&vr(i,o,e)&&FC(s,s.data[Ot()],i,i[ve],n,i[o+1]=function yN(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Zt(Pr(n)))),n}(e,t),r,o)}(n,e,null,!0),l2}function lN(n,e){for(let t=function sN(n){return PC(n),IC(n,a2(n,0,_n.textEnd))}(e);t>=0;t=IC(e,t))kC(n,TC(e),rN(e))}function po(n,e){for(let t=function iN(n){return PC(n),OC(n,a2(n,0,_n.textEnd))}(e);t>=0;t=OC(e,t))Ir(n,TC(e),!0)}function As(n,e,t,r){const i=Ye(),s=Ms(2);i.firstUpdatePass&&VC(i,null,s,r);const o=q();if(t!==Ie&&vr(o,s,t)){const c=i.data[Ot()];if(jC(c,r)&&!RC(i,s)){let a=r?c.classesWithoutHost:c.stylesWithoutHost;null!==a&&(t=Tl(a,t||"")),L9(i,c,o,t,r)}else!function vN(n,e,t,r,i,s,o,c){i===Ie&&(i=Xe);let a=0,l=0,h=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==h||null!==d;){const g=a<i.length?i[a+1]:void 0,p=l<s.length?s[l+1]:void 0;let y,v=null;h===d?(a+=2,l+=2,g!==p&&(v=d,y=p)):null===d||null!==h&&h<d?(a+=2,v=h):(l+=2,v=d,y=p),null!==v&&FC(n,e,t,r,v,y,o,c),h=a<i.length?i[a]:null,d=l<s.length?s[l]:null}}(i,c,o,o[ve],o[s+1],o[s+1]=function pN(n,e,t){if(null==t||""===t)return Xe;const r=[],i=Pr(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}function RC(n,e){return e>=n.expandoStartIndex}function VC(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Ot()],o=RC(n,t);jC(s,r)&&null===e&&!o&&(e=!1),e=function hN(n,e,t,r){const i=function s4(n){const e=ye.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=O8(t=k9(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=k9(i,n,e,t,r),null===s){let a=function fN(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==F1(r))return n[oa(r)]}(n,e,r);void 0!==a&&Array.isArray(a)&&(a=k9(null,n,e,a[1],r),a=O8(a,e.attrs,r),function dN(n,e,t,r){n[oa(t?e.classBindings:e.styleBindings)]=r}(n,e,r,a))}else s=function gN(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=O8(r,n[s].hostAttrs,t);return O8(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function eN(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,c=oa(o),a=F1(o);n[r]=t;let h,l=!1;if(Array.isArray(t)?(h=t[1],(null===h||Yc(t,h)>0)&&(l=!0)):h=t,i)if(0!==a){const g=oa(n[c+1]);n[r+1]=Uf(g,c),0!==g&&(n[g+1]=R9(n[g+1],r)),n[c+1]=function JH(n,e){return 131071&n|e<<17}(n[c+1],r)}else n[r+1]=Uf(c,0),0!==c&&(n[c+1]=R9(n[c+1],r)),c=r;else n[r+1]=Uf(a,0),0===c?c=r:n[a+1]=R9(n[a+1],r),a=r;l&&(n[r+1]=N9(n[r+1])),AC(n,h,r,!0),AC(n,h,r,!1),function tN(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Yc(s,e)>=0&&(t[r+1]=V9(t[r+1]))}(e,h,n,r,s),o=Uf(c,a),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function k9(n,e,t,r,i){let s=null;const o=t.directiveEnd;let c=t.directiveStylingLast;for(-1===c?c=t.directiveStart:c++;c<o&&(s=e[c],r=O8(r,s.hostAttrs,i),s!==n);)c++;return null!==n&&(t.directiveStylingLast=c),r}function O8(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ir(n,o,!!t||e[++s]))}return void 0===n?null:n}function kC(n,e,t){Ir(n,e,Pr(t))}function FC(n,e,t,r,i,s,o,c){if(!(3&e.type))return;const a=n.data,l=a[c+1],h=function QH(n){return 1==(1&n)}(l)?BC(a,e,t,i,F1(l),o):void 0;qf(h)||(qf(s)||function KH(n){return 2==(2&n)}(l)&&(s=BC(a,null,t,i,c,o)),function Je(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:wi.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=wi.Important),n.setStyle(t,r,i,s))}}(r,o,Rc(Ot(),t),i,s))}function BC(n,e,t,r,i,s){const o=null===e;let c;for(;i>0;){const a=n[i],l=Array.isArray(a),h=l?a[1]:a,d=null===h;let g=t[i+1];g===Ie&&(g=d?Xe:void 0);let p=d?ku(g,r):h===r?g:void 0;if(l&&!qf(p)&&(p=ku(a,r)),qf(p)&&(c=p,o))return c;const v=n[i+1];i=o?oa(v):F1(v)}if(null!==e){let a=s?e.residualClasses:e.residualStyles;null!=a&&(c=ku(a,r))}return c}function qf(n){return void 0!==n}function jC(n,e){return 0!=(n.flags&(e?8:16))}function I8(n,e=""){const t=q(),r=Ye(),i=n+Ve,s=r.firstCreatePass?Y4(r,i,1,e,null):r.data[i],o=$C(r,t,s,e,n);t[i]=o,kc()&&I4(r,t,o,s),yi(s,!1)}let $C=(n,e,t,r,i)=>(Ui(!0),function A4(n,e){return n.createText(e)}(e[ve],r));function Gf(n){return Wf("",n,""),Gf}function Wf(n,e,t){const r=q(),i=K4(r,n,e,t);return i!==Ie&&function ec(n,e,t){const r=Rc(e,n);!function Es(n,e,t){n.setValue(e,t)}(n[ve],r,t)}(r,Ot(),i),Wf}const h2="en-US";let fE=h2;function j9(n,e,t,r,i){if(n=Ce(n),Array.isArray(n))for(let s=0;s<n.length;s++)j9(n[s],e,t,r,i);else{const s=Ye(),o=q(),c=gn();let a=Zo(n)?n:Ce(n.provide);const l=j4(n),h=1048575&c.providerIndexes,d=c.directiveStart,g=c.providerIndexes>>20;if(Zo(n)||!n.multi){const p=new Ut(l,i,ie),v=U9(a,e,i?h:h+g,d);-1===v?(Iu(d4(c,o),s,a),$9(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(p),o.push(p)):(t[v]=p,o[v]=p)}else{const p=U9(a,e,h+g,d),v=U9(a,e,h,h+g),w=v>=0&&t[v];if(i&&!w||!i&&!(p>=0&&t[p])){Iu(d4(c,o),s,a);const C=function VR(n,e,t,r,i){const s=new Ut(n,t,ie);return s.multi=[],s.index=e,s.componentProviders=0,RE(s,i,r&&!t),s}(i?RR:NR,t.length,i,r,l);!i&&w&&(t[v].providerFactory=C),$9(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(C),o.push(C)}else $9(s,n,p>-1?p:v,RE(t[i?v:p],l,!i&&r));!i&&r&&w&&t[v].componentProviders++}}}function $9(n,e,t,r){const i=Zo(e),s=function h8(n){return!!n.useClass}(e);if(i||s){const a=(s?Ce(e.useClass):e).prototype.ngOnDestroy;if(a){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const h=l.indexOf(t);-1===h?l.push(t,[r,a]):l[h+1].push(r,a)}else l.push(t,a)}}}function RE(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function U9(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function NR(n,e,t,r){return q9(this.multi,[])}function RR(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,c=ao(t,t[re],this.providerFactory.index,r);s=c.slice(0,o),q9(i,s);for(let a=o;a<c.length;a++)s.push(c[a])}else s=[],q9(i,s);return s}function q9(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function G9(n,e=[]){return t=>{t.providersResolver=(r,i)=>function HR(n,e,t){const r=Ye();if(r.firstCreatePass){const i=Qt(n);j9(t,r.data,r.blueprint,i,!0),j9(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class j1{}class VE{}class W9 extends j1{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qM(this);const i=zr(e);this._bootstrapComponents=Qo(i.bootstrap),this._r3Injector=iM(e,t,[{provide:j1,useValue:this},{provide:Df,useValue:this.componentFactoryResolver},...r],Zt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Y9 extends VE{constructor(e){super(),this.moduleType=e}create(e){return new W9(this.moduleType,e,[])}}class kE extends j1{constructor(e){super(),this.componentFactoryResolver=new qM(this),this.instance=null;const t=new P1([...e.providers,{provide:j1,useValue:this},{provide:Df,useValue:this.componentFactoryResolver}],e.parent||B4(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function X9(n,e,t=null){return new kE({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let BR=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=k4(0,t.type),i=r.length>0?X9([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Q({token:n,providedIn:"environment",factory:()=>new n(Y(ti))})}return n})();function FE(n){n.getStandaloneInjector=e=>e.get(BR).getOrCreateStandaloneInjector(n)}function YE(n,e,t,r,i,s){return function KE(n,e,t,r,i,s,o,c){const a=e+t;return Vf(n,a,i,s,o)?go(n,a+3,c?r.call(c,i,s,o):r(i,s,o)):function V8(n,e){const t=n[e];return t===Ie?void 0:t}(n,a+3)}(q(),pn(),n,e,t,r,i,s)}function hV(){return this._results[Symbol.iterator]()}class K9{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Jn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=K9.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=hV)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function Qr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function _h(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function dV(n,e,t,r=!0){const i=e[re];if(function Cp(n,e,t,r){const i=Mn+r,s=t.length;r>0&&(t[i-1][Dr]=e),r<s-Mn?(e[Dr]=t[i],xh(t,Mn+r,e)):(t.push(e),e[Dr]=null),e[Ct]=t;const o=e[a1];null!==o&&t!==o&&function _s(n,e){const t=n[Pc];e[kt]!==e[Ct][Ct][kt]&&(n[Js]=!0),null===t?n[Pc]=[e]:t.push(e)}(o,e);const c=e[ar];null!==c&&c.insertView(n),e[ze]|=128}(i,e,n,t),r){const s=Ju(t,n),o=e[ve],c=ea(o,n[Vi]);null!==c&&function wp(n,e,t,r,i,s){r[Nt]=i,r[fn]=e,ta(n,r,t,1,i,s)}(i,n[fn],o,e,c,s)}}let ii=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=mV}return n})();const gV=ii,pV=class extends gV{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function fV(n,e,t,r){const i=e.tView,c=If(n,i,t,4096&n[ze]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);c[a1]=n[e.index];const l=n[ar];return null!==l&&(c[ar]=l.createEmbeddedView(i)),S9(i,c,t),c}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new x8(i)}};function mV(){return Jf(gn(),q())}function Jf(n,e){return 4&n.type?new pV(e,n,q4(n,e)):null}let Ki=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=CV}return n})();function CV(){return o_(gn(),q())}const EV=Ki,i_=class extends EV{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return q4(this._hostTNode,this._hostLView)}get injector(){return new Zn(this._hostTNode,this._hostLView)}get parentInjector(){const e=C1(this._hostTNode,this._hostLView);if(bi(e)){const t=w1(e,this._hostLView),r=en(e);return new Zn(t[re].data[r+8],t)}return new Zn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=s_(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Mn}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const c=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(c,i,false),c}createComponent(e,t,r,i,s){const o=e&&!function E1(n){return"function"==typeof n}(e);let c;if(o)c=t;else{const y=t||{};c=y.index,r=y.injector,i=y.projectableNodes,s=y.environmentInjector||y.ngModuleRef}const a=o?e:new S8(We(e)),l=r||this.parentInjector;if(!s&&null==a.ngModule){const w=(o?l:this.parentInjector).get(ti,null);w&&(s=w)}We(a.componentType??{});const p=a.create(l,i,null,s);return this.insertImpl(p.hostView,c,false),p}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function Kr(n){return Xn(n[Ct])}(i)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const l=i[Ct],h=new i_(l,l[fn],l[Ct]);h.detach(h.indexOf(e))}}const o=this._adjustIndex(t),c=this._lContainer;return dV(c,i,o,!r),e.attachToViewContainerRef(),xh(J9(c),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=s_(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Go(this._lContainer,t);r&&(v4(J9(this._lContainer),t),mt(r[re],r))}detach(e){const t=this._adjustIndex(e,-1),r=Go(this._lContainer,t);return r&&null!=v4(J9(this._lContainer),t)?new x8(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function s_(n){return n[8]}function J9(n){return n[8]||(n[8]=[])}function o_(n,e){let t;const r=e[n.index];return Xn(r)?t=r:(t=PM(r,e,null,n),e[n.index]=t,Pf(e,t)),c_(t,e,n,r),new i_(t,n,e)}let c_=function a_(n,e,t,r){if(n[Vi])return;let i;i=8&t.type?ot(r):function _V(n,e){const t=n[ve],r=t.createComment(""),i=ge(e,n);return Wo(t,ea(t,i),r,function _p(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[Vi]=i};class Q9{constructor(e){this.queryList=e,this.matches=null}clone(){return new Q9(this.queryList)}setDirty(){this.queryList.setDirty()}}class em{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new em(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==d_(e,t).matches&&this.queries[t].setDirty()}}class l_{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class tm{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new tm(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class nm{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new nm(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,zV(t,s)),this.matchTNodeWithReadOption(e,t,jo(t,e,s,!1,!1))}else r===ii?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,jo(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Xi||i===Ki||i===ii&&4&t.type)this.addMatch(t.index,-2);else{const s=jo(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function zV(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function AV(n,e,t,r){return-1===t?function DV(n,e){return 11&n.type?q4(n,e):4&n.type?Jf(n,e):null}(e,n):-2===t?function TV(n,e,t){return t===Xi?q4(e,n):t===ii?Jf(e,n):t===Ki?o_(e,n):void 0}(n,e,r):ao(n,n[re],t,e)}function u_(n,e,t,r){const i=e[ar].queries[r];if(null===i.matches){const s=n.data,o=t.matches,c=[];for(let a=0;a<o.length;a+=2){const l=o[a];c.push(l<0?null:AV(e,s[l],o[a+1],t.metadata.read))}i.matches=c}return i.matches}function rm(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=u_(n,e,i,t);for(let c=0;c<s.length;c+=2){const a=s[c];if(a>0)r.push(o[c/2]);else{const l=s[c+1],h=e[-a];for(let d=Mn;d<h.length;d++){const g=h[d];g[a1]===g[Ct]&&rm(g[re],g,l,r)}if(null!==h[Pc]){const d=h[Pc];for(let g=0;g<d.length;g++){const p=d[g];rm(p[re],p,l,r)}}}}}return r}function $1(n){const e=q(),t=Ye(),r=m1();o4(r+1);const i=d_(t,r);if(n.dirty&&function _g(n){return 4==(4&n[ze])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?rm(t,e,r,[]):u_(t,e,i,r);n.reset(s,YP),n.notifyOnChanges()}return!0}return!1}function F8(n,e,t){const r=Ye();r.firstCreatePass&&(f_(r,new l_(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),h_(r,q(),e)}function U1(){return function OV(n,e){return n[ar].queries[e].queryList}(q(),m1())}function h_(n,e,t){const r=new K9(4==(4&t));(function zL(n,e,t,r){const i=HM(e);i.push(t),n.firstCreatePass&&NM(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[ar]&&(e[ar]=new em),e[ar].queries.push(new Q9(r))}function f_(n,e,t){null===n.queries&&(n.queries=new tm),n.queries.track(new nm(e,t))}function d_(n,e){return n.queries.getByIndex(e)}const um=new oe("Application Initializer");let hm=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=ce(um,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(jf(s))t.push(s);else if(pC(s)){const o=new Promise((c,a)=>{s.subscribe({complete:c,error:a})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),T_=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const nc=new oe("LocaleId",{providedIn:"root",factory:()=>ce(nc,Re.Optional|Re.SkipSelf)||function ek(){return typeof $localize<"u"&&$localize.locale||h2}()});let O_=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new _r(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class rk{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let I_=(()=>{class n{compileModuleSync(t){return new Y9(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Qo(zr(t).declarations).reduce((o,c)=>{const a=We(c);return a&&o.push(new S8(a)),o},[]);return new rk(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const N_=new oe(""),nd=new oe("");let mm,gm=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,mm||(function Ek(n){mm=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ct.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(Y(ct),Y(pm),Y(nd))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})(),pm=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return mm?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),ca=null;const R_=new oe("AllowMultipleToken"),vm=new oe("PlatformDestroyListeners"),ym=new oe("appBootstrapListener");class k_{constructor(e,t){this.name=e,this.token=t}}function B_(n,e,t=[]){const r=`Platform: ${e}`,i=new oe(r);return(s=[])=>{let o=bm();if(!o||o.injector.get(R_,!1)){const c=[...t,...s,{provide:i,useValue:!0}];n?n(c):function Sk(n){if(ca&&!ca.get(R_,!1))throw new j(400,!1);(function V_(){!function h1(n){Jl=n}(()=>{throw new j(600,!1)})})(),ca=n;const e=n.get($_);(function F_(n){n.get(Sf,null)?.forEach(t=>t())})(n)}(function j_(n=[],e){return mr.create({name:e,providers:[{provide:f8,useValue:"platform"},{provide:vm,useValue:new Set([()=>ca=null])},...n]})}(c,r))}return function Dk(n){const e=bm();if(!e)throw new j(401,!1);return e}()}}function bm(){return ca?.get($_)??null}let $_=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function Ak(n="zone.js",e){return"noop"===n?new lL:"zone.js"===n?new ct(e):n}(r?.ngZone,function U_(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function FR(n,e,t){return new W9(n,e,t)}(t.moduleType,this.injector,function X_(n){return[{provide:ct,useFactory:n},{provide:Xo,multi:!0,useFactory:()=>{const e=ce(Ok,{optional:!0});return()=>e.initialize()}},{provide:Y_,useFactory:Tk},{provide:lM,useFactory:uM}]}(()=>i)),o=s.injector.get(Jo,null);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:a=>{o.handleError(a)}});s.onDestroy(()=>{rd(this._modules,s),c.unsubscribe()})}),function q_(n,e,t){try{const r=t();return jf(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const c=s.injector.get(hm);return c.runInitializers(),c.donePromise.then(()=>(function dE(n){Sr(n,"Expected localeId to be defined"),"string"==typeof n&&(fE=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(nc,h2)||h2),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=G_({},r);return function _k(n,e,t){const r=new Y9(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(q1);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new j(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new j(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(vm,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(Y(mr))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function G_(n,e){return Array.isArray(e)?e.reduce(G_,n):{...n,...e}}let q1=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ce(Y_),this.zoneIsStable=ce(lM),this.componentTypes=[],this.components=[],this.isStable=ce(O_).hasPendingTasks.pipe(ui(t=>t?pe(!1):this.zoneIsStable),function H6(n,e=qr){return n=n??N6,Xt((t,r)=>{let i,s=!0;t.subscribe(Tt(r,o=>{const c=e(o);(s||!n(i,c))&&(s=!1,i=c,r.next(o))}))})}(),V3()),this._injector=ce(ti)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof Jw;if(!this._injector.get(hm).done)throw!i&&function Ks(n){const e=We(n)||$t(n)||hn(n);return null!==e&&e.standalone}(t),new j(405,!1);let o;o=i?t:this._injector.get(Df).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const c=function xk(n){return n.isBoundToModule}(o)?void 0:this._injector.get(j1),l=o.create(mr.NULL,[],r||o.selector,c),h=l.location.nativeElement,d=l.injector.get(N_,null);return d?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),rd(this.components,l),d?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new j(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;rd(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(ym,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>rd(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new j(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rd(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Y_=new oe("",{providedIn:"root",factory:()=>ce(Jo).handleError.bind(void 0)});function Tk(){const n=ce(ct),e=ce(Jo);return t=>n.runOutsideAngular(()=>e.handleError(t))}let Ok=(()=>{class n{constructor(){this.zone=ce(ct),this.applicationRef=ce(q1)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let g2=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Pk}return n})();function Pk(n){return function Lk(n,e,t){if(Lo(n)&&!t){const r=hr(n.index,e);return new x8(r,r)}return 47&n.type?new x8(e[kt],e):null}(gn(),q(),16==(16&n))}class ex{constructor(){}supports(e){return Rf(e)}create(e){return new Fk(e)}}const kk=(n,e)=>e;class Fk{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||kk}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<nx(r,i,s)?t:r,c=nx(o,i,s),a=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const l=c-i,h=a-i;if(l!=h){for(let g=0;g<l;g++){const p=g<s.length?s[g]:s[g]=0,v=p+g;h<=v&&v<l&&(s[g]=p+1)}s[o.previousIndex]=h-l}}c!==a&&e(o,c,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Rf(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)s=e[c],o=this._trackByFn(c,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,c)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,c),r=!0),t=t._next}else i=0,function bH(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,c=>{o=this._trackByFn(i,c),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,c,o,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)):(t=this._mismatch(t,c,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new Bk(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new tx),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new tx),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Bk{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jk{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class tx{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new jk,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nx(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class rx{constructor(){}supports(e){return e instanceof Map||D9(e)}create(){return new $k}}class $k{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||D9(e)))throw new j(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new Uk(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class Uk{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ix(){return new od([new ex])}let od=(()=>{class n{static#e=this.\u0275prov=Q({token:n,providedIn:"root",factory:ix});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||ix()),deps:[[n,new Xc,new b4]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new j(901,!1)}}return n})();function sx(){return new $8([new rx])}let $8=(()=>{class n{static#e=this.\u0275prov=Q({token:n,providedIn:"root",factory:sx});constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||sx()),deps:[[n,new Xc,new b4]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new j(901,!1)}}return n})();const Wk=B_(null,"core",[]);let Yk=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(Y(q1))};static#t=this.\u0275mod=un({type:n});static#n=this.\u0275inj=Wn({})}return n})(),Sm=null;function p2(){return Sm}class aF{}const xn=new oe("DocumentToken");let zm=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:function(){return ce(uF)},providedIn:"platform"})}return n})();const lF=new oe("Location Initialized");let uF=(()=>{class n extends zm{constructor(){super(),this._doc=ce(xn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return p2().getBaseHref(this._doc)}onPopState(t){const r=p2().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=p2().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function Dm(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function gx(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function rc(n){return n&&"?"!==n[0]?"?"+n:n}let W1=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:function(){return ce(mx)},providedIn:"root"})}return n})();const px=new oe("appBaseHref");let mx=(()=>{class n extends W1{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ce(xn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Dm(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+rc(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+rc(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+rc(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(Y(zm),Y(px,8))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hF=(()=>{class n extends W1{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Dm(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+rc(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+rc(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(Y(zm),Y(px,8))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})(),Am=(()=>{class n{constructor(t){this._subject=new Jn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function gF(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(gx(vx(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+rc(r))}normalize(t){return n.stripTrailingSlash(function dF(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,vx(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rc(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+rc(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=rc;static#t=this.joinWithSlash=Dm;static#n=this.stripTrailingSlash=gx;static#r=this.\u0275fac=function(r){return new(r||n)(Y(W1))};static#i=this.\u0275prov=Q({token:n,factory:function(){return function fF(){return new Am(Y(W1))}()},providedIn:"root"})}return n})();function vx(n){return n.replace(/\/index.html$/,"")}const km=/\s+/,Sx=[];let zx=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=Sx,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(km):Sx}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(km):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(km).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||n)(ie(od),ie($8),ie(Xi),ie(H1))};static#t=this.\u0275dir=Kt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})(),yd=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new nB,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Tx("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Tx("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(ie(Ki),ie(ii))};static#t=this.\u0275dir=Kt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class nB{constructor(){this.$implicit=null,this.ngIf=null}}function Tx(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Zt(e)}'.`)}let jm=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:wi.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static#e=this.\u0275fac=function(r){return new(r||n)(ie(Xi),ie($8),ie(H1))};static#t=this.\u0275dir=Kt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),bd=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=un({type:n});static#n=this.\u0275inj=Wn({})}return n})();const Px="browser";function Lx(n){return"server"===n}let IB=(()=>{class n{static#e=this.\u0275prov=Q({token:n,providedIn:"root",factory:()=>new PB(Y(xn),window)})}return n})();class PB{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function LB(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ij extends aF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Wm extends ij{static makeCurrent(){!function cF(n){Sm||(Sm=n)}(new Wm)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function sj(){return W8=W8||document.querySelector("base"),W8?W8.getAttribute("href"):null}();return null==t?null:function oj(n){Cd=Cd||document.createElement("a"),Cd.setAttribute("href",n);const e=Cd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){W8=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function JF(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Cd,W8=null,aj=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();const Ym=new oe("EventManagerPlugins");let kx=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(Y(Ym),Y(ct))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();class Fx{constructor(e){this._doc=e}}const Xm="ng-app-id";let Bx=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Lx(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Xm}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(Xm),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Xm,this.appId),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(Y(xn),Y($4),Y(v8,8),Y(Ko))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();const Zm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Km=/%COMP%/g,fj=new oe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function $x(n,e){return e.map(t=>t.replace(Km,n))}let Jm=(()=>{class n{constructor(t,r,i,s,o,c,a,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=a,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Lx(c),this.defaultRenderer=new Qm(t,o,a,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Yr.ShadowDom&&(r={...r,encapsulation:Yr.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof qx?i.applyToHost(t):i instanceof ev&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,c=this.ngZone,a=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Yr.Emulated:s=new qx(a,l,r,this.appId,h,o,c,d);break;case Yr.ShadowDom:return new mj(a,l,t,r,o,c,this.nonce,d);default:s=new ev(a,l,r,h,o,c,d)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(Y(kx),Y(Bx),Y($4),Y(fj),Y(xn),Y(Ko),Y(ct),Y(v8))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();class Qm{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Zm[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Ux(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Ux(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=Zm[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Zm[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(wi.DashCase|wi.Important)?e.style.setProperty(t,r,i&wi.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&wi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=p2().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Ux(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class mj extends Qm{constructor(e,t,r,i,s,o,c,a){super(e,s,o,a),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=$x(i.id,i.styles);for(const h of l){const d=document.createElement("style");c&&d.setAttribute("nonce",c),d.textContent=h,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ev extends Qm{constructor(e,t,r,i,s,o,c,a){super(e,s,o,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=a?$x(a,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class qx extends ev{constructor(e,t,r,i,s,o,c,a){const l=i+"-"+r.id;super(e,t,r,s,o,c,a,l),this.contentAttr=function dj(n){return"_ngcontent-%COMP%".replace(Km,n)}(l),this.hostAttr=function gj(n){return"_nghost-%COMP%".replace(Km,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let vj=(()=>{class n extends Fx{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(Y(xn))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();const Gx=["alt","control","meta","shift"],yj={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bj={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let wj=(()=>{class n extends Fx{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>p2().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),Gx.forEach(l=>{const h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static matchEventFullKeyCode(t,r){let i=yj[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Gx.forEach(o=>{o!==i&&(0,bj[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(Y(xn))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();const Yx=[{provide:Ko,useValue:Px},{provide:Sf,useValue:function Mj(){Wm.makeCurrent()},multi:!0},{provide:xn,useFactory:function Ej(){return function Tp(n){n8=n}(document),document},deps:[]}],_j=B_(Wk,"browser",Yx),xj=new oe(""),Xx=[{provide:nd,useClass:class cj{addToWindow(e){dt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new j(5103,!1);return s},dt.getAllAngularTestabilities=()=>e.getAllTestabilities(),dt.getAllAngularRootElements=()=>e.getAllRootElements(),dt.frameworkStabilizers||(dt.frameworkStabilizers=[]),dt.frameworkStabilizers.push(r=>{const i=dt.getAllAngularTestabilities();let s=i.length,o=!1;const c=function(a){o=o||a,s--,0==s&&r(o)};i.forEach(a=>{a.whenStable(c)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?p2().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:N_,useClass:gm,deps:[ct,pm,nd]},{provide:gm,useClass:gm,deps:[ct,pm,nd]}],Zx=[{provide:f8,useValue:"root"},{provide:Jo,useFactory:function Cj(){return new Jo},deps:[]},{provide:Ym,useClass:vj,multi:!0,deps:[xn,ct,Ko]},{provide:Ym,useClass:wj,multi:!0,deps:[xn]},Jm,Bx,kx,{provide:L1,useExisting:Jm},{provide:class HB{},useClass:aj,deps:[]},[]];let Kx=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:$4,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(Y(xj,12))};static#t=this.\u0275mod=un({type:n});static#n=this.\u0275inj=Wn({providers:[...Zx,...Xx],imports:[bd,Yk]})}return n})(),Jx=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(Y(xn))};static#t=this.\u0275prov=Q({token:n,factory:function(r){let i=null;return i=r?new r:function zj(){return new Jx(Y(xn))}(),i},providedIn:"root"})}return n})();typeof window<"u"&&window;let nv=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:function(r){let i=null;return i=r?new(r||n):Y(tS),i},providedIn:"root"})}return n})(),tS=(()=>{class n extends nv{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Lr.NONE:return r;case Lr.HTML:return Yi(r,"HTML")?Pr(r):yf(this._doc,String(r)).toString();case Lr.STYLE:return Yi(r,"Style")?Pr(r):r;case Lr.SCRIPT:if(Yi(r,"Script"))return Pr(r);throw new j(5200,!1);case Lr.URL:return Yi(r,"URL")?Pr(r):N4(String(r));case Lr.RESOURCE_URL:if(Yi(r,"ResourceURL"))return Pr(r);throw new j(5201,!1);default:throw new j(5202,!1)}}bypassSecurityTrustHtml(t){return function lf(n){return new Op(n)}(t)}bypassSecurityTrustStyle(t){return function Hp(n){return new Ip(n)}(t)}bypassSecurityTrustScript(t){return function Np(n){return new Pp(n)}(t)}bypassSecurityTrustUrl(t){return function Rp(n){return new vn(n)}(t)}bypassSecurityTrustResourceUrl(t){return function uf(n){return new pr(n)}(t)}static#e=this.\u0275fac=function(r){return new(r||n)(Y(xn))};static#t=this.\u0275prov=Q({token:n,factory:function(r){let i=null;return i=r?new r:function Oj(n){return new tS(n.get(xn))}(Y(mr)),i},providedIn:"root"})}return n})();const{isArray:Pj}=Array,{getPrototypeOf:Lj,prototype:Hj,keys:Nj}=Object;const{isArray:kj}=Array;function rS(n){return Fe(e=>function Fj(n,e){return kj(e)?n(...e):n(e)}(n,e))}function rv(...n){const e=Ua(n),t=function L3(n){return $e(zl(n))?n.pop():void 0}(n),{args:r,keys:i}=function Rj(n){if(1===n.length){const e=n[0];if(Pj(e))return{args:e,keys:null};if(function Vj(n){return n&&"object"==typeof n&&Lj(n)===Hj}(e)){const t=Nj(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}(n);if(0===r.length)return Bt([],e);const s=new Mt(function jj(n,e,t=qr){return r=>{iS(e,()=>{const{length:i}=n,s=new Array(i);let o=i,c=i;for(let a=0;a<i;a++)iS(e,()=>{const l=Bt(n[a],e);let h=!1;l.subscribe(Tt(r,d=>{s[a]=d,h||(h=!0,c--),c||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>function Bj(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}(i,o):qr));return t?s.pipe(rS(t)):s}function iS(n,e,t){n?Hi(t,n,e):e()}const Ed=sr(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function iv(...n){return function $j(){return Sc(1)}()(Bt(n,Ua(n)))}function sS(n){return new Mt(e=>{Er(n()).subscribe(e)})}function Y8(n,e){const t=$e(n)?n:()=>n,r=i=>i.error(t());return new Mt(e?i=>e.schedule(r,0,i):r)}function sv(){return Xt((n,e)=>{let t=null;n._refCount++;const r=Tt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class oS extends Mt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,x3(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ht;const t=this.getSubject();e.add(this.source.subscribe(Tt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ht.EMPTY)}return e}refCount(){return sv()(this)}}function Y1(n){return n<=0?()=>Ni:Xt((e,t)=>{let r=0;e.subscribe(Tt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function es(n,e){return Xt((t,r)=>{let i=0;t.subscribe(Tt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function _d(n){return Xt((e,t)=>{let r=!1;e.subscribe(Tt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function cS(n=qj){return Xt((e,t)=>{let r=!1;e.subscribe(Tt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function qj(){return new Ed}function X1(n,e){const t=arguments.length>=2;return r=>r.pipe(n?es((i,s)=>n(i,s,r)):qr,Y1(1),t?_d(e):cS(()=>new Ed))}function v2(n,e){return $e(e)?ln(n,e,1):ln(n,1)}function Qn(n,e,t){const r=$e(n)||e||t?{next:n,error:e,complete:t}:n;return r?Xt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let c=!0;i.subscribe(Tt(s,a=>{var l;null===(l=r.next)||void 0===l||l.call(r,a),s.next(a)},()=>{var a;c=!1,null===(a=r.complete)||void 0===a||a.call(r),s.complete()},a=>{var l;c=!1,null===(l=r.error)||void 0===l||l.call(r,a),s.error(a)},()=>{var a,l;c&&(null===(a=r.unsubscribe)||void 0===a||a.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):qr}function la(n){return Xt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(Tt(t,void 0,void 0,o=>{s=Er(n(o,la(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function ov(n){return n<=0?()=>Ni:Xt((e,t)=>{let r=[];e.subscribe(Tt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function aS(n){return Fe(()=>n)}function xd(n){return Xt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function y2(n){return Xt((e,t)=>{Er(n).subscribe(Tt(t,()=>t.complete(),E3)),!t.closed&&e.subscribe(t)})}const Ne="primary",X8=Symbol("RouteTitle");class Xj{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function b2(n){return new Xj(n)}function Zj(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],c=n[s];if(o.startsWith(":"))i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function mo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!lS(n[i],e[i]))return!1;return!0}function lS(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function uS(n){return n.length>0?n[n.length-1]:null}function ua(n){return function Ij(n){return!!n&&(n instanceof Mt||$e(n.lift)&&$e(n.subscribe))}(n)?n:jf(n)?Bt(Promise.resolve(n)):pe(n)}const Jj={exact:function dS(n,e,t){if(!Z1(n.segments,e.segments)||!Sd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!dS(n.children[r],e.children[r],t))return!1;return!0},subset:gS},hS={exact:function Qj(n,e){return mo(n,e)},subset:function e$(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>lS(n[t],e[t]))},ignored:()=>!0};function fS(n,e,t){return Jj[t.paths](n.root,e.root,t.matrixParams)&&hS[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function gS(n,e,t){return pS(n,e,e.segments,t)}function pS(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Z1(i,t)||e.hasChildren()||!Sd(i,t,r))}if(n.segments.length===t.length){if(!Z1(n.segments,t)||!Sd(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!gS(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Z1(n.segments,i)&&Sd(n.segments,i,r)&&n.children[Ne])&&pS(n.children[Ne],e,s,r)}}function Sd(n,e,t){return e.every((r,i)=>hS[t](n[i].parameters,r.parameters))}class w2{constructor(e=new lt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=b2(this.queryParams)),this._queryParamMap}toString(){return r$.serialize(this)}}class lt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zd(this)}}class Z8{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=b2(this.parameters)),this._parameterMap}toString(){return yS(this)}}function Z1(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let K8=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:function(){return new cv},providedIn:"root"})}return n})();class cv{parse(e){const t=new g$(e);return new w2(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${J8(e.root,!0)}`,r=function o$(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Dd(t)}=${Dd(i)}`).join("&"):`${Dd(t)}=${Dd(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function i$(n){return encodeURI(n)}(e.fragment)}`:""}`}}const r$=new cv;function zd(n){return n.segments.map(e=>yS(e)).join("/")}function J8(n,e){if(!n.hasChildren())return zd(n);if(e){const t=n.children[Ne]?J8(n.children[Ne],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==Ne&&r.push(`${i}:${J8(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function n$(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Ne&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Ne&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Ne?[J8(n.children[Ne],!1)]:[`${i}:${J8(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ne]?`${zd(n)}/${t[0]}`:`${zd(n)}/(${t.join("//")})`}}function mS(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dd(n){return mS(n).replace(/%3B/gi,";")}function av(n){return mS(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ad(n){return decodeURIComponent(n)}function vS(n){return Ad(n.replace(/\+/g,"%20"))}function yS(n){return`${av(n.path)}${function s$(n){return Object.keys(n).map(e=>`;${av(e)}=${av(n[e])}`).join("")}(n.parameters)}`}const c$=/^[^\/()?;#]+/;function lv(n){const e=n.match(c$);return e?e[0]:""}const a$=/^[^\/()?;=#]+/,u$=/^[^=?&#]+/,f$=/^[^&#]+/;class g${constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new lt([],{}):new lt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ne]=new lt(e,t)),r}parseSegment(){const e=lv(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new Z8(Ad(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function l$(n){const e=n.match(a$);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=lv(this.remaining);i&&(r=i,this.capture(r))}e[Ad(t)]=Ad(r)}parseQueryParam(e){const t=function h$(n){const e=n.match(u$);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function d$(n){const e=n.match(f$);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=vS(t),s=vS(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=lv(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new j(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ne);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Ne]:new lt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}}function bS(n){return n.segments.length>0?new lt([],{[Ne]:n}):n}function wS(n){const e={};for(const r of Object.keys(n.children)){const s=wS(n.children[r]);if(r===Ne&&0===s.segments.length&&s.hasChildren())for(const[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function p$(n){if(1===n.numberOfChildren&&n.children[Ne]){const e=n.children[Ne];return new lt(n.segments.concat(e.segments),e.children)}return n}(new lt(n.segments,e))}function K1(n){return n instanceof w2}function MS(n){let e;const i=bS(function t(s){const o={};for(const a of s.children){const l=t(a);o[a.outlet]=l}const c=new lt(s.url,o);return s===n&&(e=c),c}(n.root));return e??i}function CS(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return uv(i,i,i,t,r);const s=function v$(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new _S(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const c={};return Object.entries(s.outlets).forEach(([a,l])=>{c[a]="string"==typeof l?l.split("/"):l}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((c,a)=>{0==a&&"."===c||(0==a&&""===c?t=!0:".."===c?e++:""!=c&&i.push(c))}),i):[...i,s]},[]);return new _S(t,e,r)}(e);if(s.toRoot())return uv(i,i,new lt([],{}),t,r);const o=function y$(n,e,t){if(n.isAbsolute)return new Od(e,!0,0);if(!t)return new Od(e,!1,NaN);if(null===t.parent)return new Od(t,!0,0);const r=Td(n.commands[0])?0:1;return function b$(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new Od(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),c=o.processChildren?e0(o.segmentGroup,o.index,s.commands):xS(o.segmentGroup,o.index,s.commands);return uv(i,o.segmentGroup,c,t,r)}function Td(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Q8(n){return"object"==typeof n&&null!=n&&n.outlets}function uv(n,e,t,r,i){let o,s={};r&&Object.entries(r).forEach(([a,l])=>{s[a]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`}),o=n===e?t:ES(n,e,t);const c=bS(wS(o));return new w2(c,s,i)}function ES(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:ES(s,e,t)}),new lt(n.segments,r)}class _S{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Td(r[0]))throw new j(4003,!1);const i=r.find(Q8);if(i&&i!==uS(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Od{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function xS(n,e,t){if(n||(n=new lt([],{})),0===n.segments.length&&n.hasChildren())return e0(n,e,t);const r=function M$(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],c=t[r];if(Q8(c))break;const a=`${c}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!zS(a,l,o))return s;r+=2}else{if(!zS(a,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new lt(n.segments.slice(0,r.pathIndex),{});return s.children[Ne]=new lt(n.segments.slice(r.pathIndex),n.children),e0(s,0,i)}return r.match&&0===i.length?new lt(n.segments,{}):r.match&&!n.hasChildren()?hv(n,e,t):r.match?e0(n,0,i):hv(n,e,t)}function e0(n,e,t){if(0===t.length)return new lt(n.segments,{});{const r=function w$(n){return Q8(n[0])?n[0].outlets:{[Ne]:n}}(t),i={};if(Object.keys(r).some(s=>s!==Ne)&&n.children[Ne]&&1===n.numberOfChildren&&0===n.children[Ne].segments.length){const s=e0(n.children[Ne],e,t);return new lt(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=xS(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new lt(n.segments,i)}}function hv(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Q8(s)){const a=C$(s.outlets);return new lt(r,a)}if(0===i&&Td(t[0])){r.push(new Z8(n.segments[e].path,SS(t[0]))),i++;continue}const o=Q8(s)?s.outlets[Ne]:`${s}`,c=i<t.length-1?t[i+1]:null;o&&c&&Td(c)?(r.push(new Z8(o,SS(c))),i+=2):(r.push(new Z8(o,{})),i++)}return new lt(r,{})}function C$(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=hv(new lt([],{}),0,r))}),e}function SS(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function zS(n,e,t){return n==t.path&&mo(e,t.parameters)}const t0="imperative";class vo{constructor(e,t){this.id=e,this.url=t}}class Id extends vo{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ha extends vo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class n0 extends vo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class M2 extends vo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Pd extends vo{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class DS extends vo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E$ extends vo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _$ extends vo{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class x$ extends vo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class S$ extends vo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z${constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class D${constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class A${constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class T${constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class O${constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I${constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AS{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class fv{}class dv{constructor(e){this.url=e}}class P${constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new r0,this.attachRef=null}}let r0=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new P$,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class TS{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=gv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=gv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=pv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return pv(e,this._root).map(t=>t.value)}}function gv(n,e){if(n===e.value)return e;for(const t of e.children){const r=gv(n,t);if(r)return r}return null}function pv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=pv(n,t);if(r.length)return r.unshift(e),r}return[]}class oc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function C2(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class OS extends TS{constructor(e,t){super(e),this.snapshot=t,mv(this,e)}toString(){return this.snapshot.toString()}}function IS(n,e){const t=function L$(n,e){const o=new Ld([],{},{},"",{},Ne,e,null,{});return new LS("",new oc(o,[]))}(0,e),r=new _r([new Z8("",{})]),i=new _r({}),s=new _r({}),o=new _r({}),c=new _r(""),a=new E2(r,i,o,c,s,Ne,e,t.root);return a.snapshot=t.root,new OS(new oc(a,[]),t)}class E2{constructor(e,t,r,i,s,o,c,a){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=a,this.title=this.dataSubject?.pipe(Fe(l=>l[X8]))??pe(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Fe(e=>b2(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Fe(e=>b2(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function PS(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function H$(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ld{get title(){return this.data?.[X8]}constructor(e,t,r,i,s,o,c,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=a,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=b2(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=b2(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class LS extends TS{constructor(e,t){super(t),this.url=e,mv(this,t)}toString(){return HS(this._root)}}function mv(n,e){e.value._routerState=n,e.children.forEach(t=>mv(n,t))}function HS(n){const e=n.children.length>0?` { ${n.children.map(HS).join(", ")} } `:"";return`${n.value}${e}`}function vv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,mo(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),mo(e.params,t.params)||n.paramsSubject.next(t.params),function Kj(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!mo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),mo(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function yv(n,e){const t=mo(n.params,e.params)&&function t$(n,e){return Z1(n,e)&&n.every((t,r)=>mo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||yv(n.parent,e.parent))}let bv=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ne,this.activateEvents=new Jn,this.deactivateEvents=new Jn,this.attachEvents=new Jn,this.detachEvents=new Jn,this.parentContexts=ce(r0),this.location=ce(Ki),this.changeDetector=ce(g2),this.environmentInjector=ce(ti),this.inputBinder=ce(Hd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,a=new N$(t,c,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:a,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Kt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Hn]})}return n})();class N${constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===E2?this.route:e===r0?this.childContexts:this.parent.get(e,t)}}const Hd=new oe("");let NS=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=rv([r.queryParams,r.params,r.data]).pipe(ui(([s,o,c],a)=>(c={...s,...o,...c},0===a?pe(c):Promise.resolve(c)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function oF(n){const e=We(n);if(!e)return null;const t=new S8(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:c}of o.inputs)t.activatedComponentRef.setInput(c,s[c]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();function s0(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function V$(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return s0(n,r,i);return s0(n,r)})}(n,e,t);return new oc(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>s0(n,c)),o}}const r=function k$(n){return new E2(new _r(n.url),new _r(n.params),new _r(n.queryParams),new _r(n.fragment),new _r(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>s0(n,s));return new oc(r,i)}}const wv="ngNavigationCancelingError";function RS(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=K1(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=VS(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function VS(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[wv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function kS(n){return n&&n[wv]}let FS=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=or({type:n,selectors:[["ng-component"]],standalone:!0,features:[FE],decls:1,vars:0,template:function(r,i){1&r&&Ei(0,"router-outlet")},dependencies:[bv],encapsulation:2})}return n})();function Mv(n){const e=n.children&&n.children.map(Mv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ne&&(t.component=FS),t}function Is(n){return n.outlet||Ne}function o0(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class W${constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),vv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=C2(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=C2(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=C2(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=C2(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new I$(s.value.snapshot))}),e.children.length&&this.forwardEvent(new T$(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(vv(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),vv(c.route.value),this.activateChildRoutes(e,null,o.children)}else{const c=o0(i.snapshot);o.attachRef=null,o.route=i,o.injector=c,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class BS{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Nd{constructor(e,t){this.component=e,this.route=t}}function Y$(n,e,t){const r=n._root;return c0(r,e?e._root:null,t,[r.value])}function _2(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function Xs(n){return null!==Wa(n)}(n)?e.get(n):n:r}function c0(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=C2(e);return n.children.forEach(o=>{(function Z$(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const a=function K$(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Z1(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Z1(n.url,e.url)||!mo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yv(n,e)||!mo(n.queryParams,e.queryParams);default:return!yv(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);a?i.canActivateChecks.push(new BS(r)):(s.data=o.data,s._resolvedData=o._resolvedData),c0(n,e,s.component?c?c.children:null:t,r,i),a&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Nd(c.outlet.component,o))}else o&&a0(e,c,i),i.canActivateChecks.push(new BS(r)),c0(n,null,s.component?c?c.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>a0(c,t.getContext(o),i)),i}function a0(n,e,t){const r=C2(n),i=n.value;Object.entries(r).forEach(([s,o])=>{a0(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Nd(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function l0(n){return"function"==typeof n}function jS(n){return n instanceof Ed||"EmptyError"===n?.name}const Rd=Symbol("INITIAL_VALUE");function x2(){return ui(n=>rv(n.map(e=>e.pipe(Y1(1),function Uj(...n){const e=Ua(n);return Xt((t,r)=>{(e?iv(n,t,e):iv(n,t)).subscribe(r)})}(Rd)))).pipe(Fe(e=>{for(const t of e)if(!0!==t){if(t===Rd)return Rd;if(!1===t||t instanceof w2)return t}return!0}),es(e=>e!==Rd),Y1(1)))}function $S(n){return function Fa(...n){return o6(n)}(Qn(e=>{if(K1(e))throw RS(0,e)}),Fe(e=>!0===e))}class Vd{constructor(e){this.segmentGroup=e||null}}class US{constructor(e){this.urlTree=e}}function S2(n){return Y8(new Vd(n))}function qS(n){return Y8(new US(n))}class vU{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new j(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return pe(r);if(i.numberOfChildren>1||!i.children[Ne])return Y8(new j(4e3,!1));i=i.children[Ne]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new w2(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const c=s.substring(1);r[i]=t[c]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([c,a])=>{o[c]=this.createSegmentGroup(e,a,r,i)}),new lt(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const Cv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yU(n,e,t,r,i){const s=Ev(n,e,t);return s.matched?(r=function B$(n,e){return n.providers&&!n._injector&&(n._injector=X9(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function gU(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?pe(i.map(o=>{const c=_2(o,n);return ua(function rU(n){return n&&l0(n.canMatch)}(c)?c.canMatch(e,t):n.runInContext(()=>c(e,t)))})).pipe(x2(),$S()):pe(!0)}(r,e,t).pipe(Fe(o=>!0===o?s:{...Cv}))):pe(s)}function Ev(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Cv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Zj)(t,n,e);if(!i)return{...Cv};const s={};Object.entries(i.posParams??{}).forEach(([c,a])=>{s[c]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function GS(n,e,t,r){return t.length>0&&function MU(n,e,t){return t.some(r=>kd(n,e,r)&&Is(r)!==Ne)}(n,t,r)?{segmentGroup:new lt(e,wU(r,new lt(t,n.children))),slicedSegments:[]}:0===t.length&&function CU(n,e,t){return t.some(r=>kd(n,e,r))}(n,t,r)?{segmentGroup:new lt(n.segments,bU(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new lt(n.segments,n.children),slicedSegments:t}}function bU(n,e,t,r,i){const s={};for(const o of r)if(kd(n,t,o)&&!i[Is(o)]){const c=new lt([],{});s[Is(o)]=c}return{...i,...s}}function wU(n,e){const t={};t[Ne]=e;for(const r of n)if(""===r.path&&Is(r)!==Ne){const i=new lt([],{});t[Is(r)]=i}return t}function kd(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class SU{constructor(e,t,r,i,s,o,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.allowRedirects=!0,this.applyRedirects=new vU(this.urlSerializer,this.urlTree)}noMatchError(e){return new j(4002,!1)}recognize(){const e=GS(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ne).pipe(la(t=>{if(t instanceof US)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Vd?this.noMatchError(t):t}),Fe(t=>{const r=new Ld([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ne,this.rootComponentType,null,{}),i=new oc(r,t),s=new LS("",i),o=function m$(n,e,t=null,r=null){return CS(MS(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Ne).pipe(la(r=>{throw r instanceof Vd?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=PS(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Bt(i).pipe(v2(s=>{const o=r.children[s],c=function q$(n,e){const t=n.filter(r=>Is(r)===e);return t.push(...n.filter(r=>Is(r)!==e)),t}(t,s);return this.processSegmentGroup(e,c,o,s)}),function Wj(n,e){return Xt(function Gj(n,e,t,r,i){return(s,o)=>{let c=t,a=e,l=0;s.subscribe(Tt(o,h=>{const d=l++;a=c?n(a,h,d):(c=!0,h),r&&o.next(a)},i&&(()=>{c&&o.next(a),o.complete()})))}}(n,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),_d(null),function Yj(n,e){const t=arguments.length>=2;return r=>r.pipe(n?es((i,s)=>n(i,s,r)):qr,ov(1),t?_d(e):cS(()=>new Ed))}(),ln(s=>{if(null===s)return S2(r);const o=WS(s);return function zU(n){n.sort((e,t)=>e.value.outlet===Ne?-1:t.value.outlet===Ne?1:e.value.outlet.localeCompare(t.value.outlet))}(o),pe(o)}))}processSegment(e,t,r,i,s,o){return Bt(t).pipe(v2(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,s,o).pipe(la(a=>{if(a instanceof Vd)return pe(null);throw a}))),X1(c=>!!c),la(c=>{if(jS(c))return function _U(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?pe([]):S2(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,s,o,c){return function EU(n,e,t,r){return!!(Is(n)===r||r!==Ne&&kd(e,t,n))&&("**"===n.path||Ev(e,n,t).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,c):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):S2(i):S2(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?qS(s):this.applyRedirects.lineralizeSegments(r,s).pipe(ln(o=>{const c=new lt(o,{});return this.processSegment(e,t,c,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:c,consumedSegments:a,remainingSegments:l,positionalParamSegments:h}=Ev(t,i,s);if(!c)return S2(t);const d=this.applyRedirects.applyRedirectCommands(a,i.redirectTo,h);return i.redirectTo.startsWith("/")?qS(d):this.applyRedirects.lineralizeSegments(i,d).pipe(ln(g=>this.processSegment(e,r,t,g.concat(l),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let c;if("**"===r.path){const a=i.length>0?uS(i).parameters:{};c=pe({snapshot:new Ld(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,YS(r),Is(r),r.component??r._loadedComponent??null,r,XS(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else c=yU(t,r,i,e).pipe(Fe(({matched:a,consumedSegments:l,remainingSegments:h,parameters:d})=>a?{snapshot:new Ld(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,YS(r),Is(r),r.component??r._loadedComponent??null,r,XS(r)),consumedSegments:l,remainingSegments:h}:null));return c.pipe(ui(a=>null===a?S2(t):this.getChildConfig(e=r._injector??e,r,i).pipe(ui(({routes:l})=>{const h=r._loadedInjector??e,{snapshot:d,consumedSegments:g,remainingSegments:p}=a,{segmentGroup:v,slicedSegments:y}=GS(t,g,p,l);if(0===y.length&&v.hasChildren())return this.processChildren(h,l,v).pipe(Fe(C=>null===C?null:[new oc(d,C)]));if(0===l.length&&0===y.length)return pe([new oc(d,[])]);const w=Is(r)===s;return this.processSegment(h,l,v,y,w?Ne:s,!0).pipe(Fe(C=>[new oc(d,C)]))}))))}getChildConfig(e,t,r){return t.children?pe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?pe({routes:t._loadedRoutes,injector:t._loadedInjector}):function dU(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?pe(!0):pe(i.map(o=>{const c=_2(o,n);return ua(function Q$(n){return n&&l0(n.canLoad)}(c)?c.canLoad(e,t):n.runInContext(()=>c(e,t)))})).pipe(x2(),$S())}(e,t,r).pipe(ln(i=>i?this.configLoader.loadChildren(e,t).pipe(Qn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function mU(n){return Y8(VS(!1,3))}())):pe({routes:[],injector:e})}}function DU(n){const e=n.value.routeConfig;return e&&""===e.path}function WS(n){const e=[],t=new Set;for(const r of n){if(!DU(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=WS(r.children);e.push(new oc(r.value,i))}return e.filter(r=>!t.has(r))}function YS(n){return n.data||{}}function XS(n){return n.resolve||{}}function ZS(n){return"string"==typeof n.title||null===n.title}function _v(n){return ui(e=>{const t=n(e);return t?Bt(t).pipe(Fe(()=>e)):pe(e)})}const z2=new oe("ROUTES");let xv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ce(I_)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return pe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ua(t.loadComponent()).pipe(Fe(KS),Qn(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),xd(()=>{this.componentLoaders.delete(t)})),i=new oS(r,()=>new An).pipe(sv());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return pe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function HU(n,e,t,r){return ua(n.loadChildren()).pipe(Fe(KS),ln(i=>i instanceof VE||Array.isArray(i)?pe(i):Bt(e.compileModuleAsync(i))),Fe(i=>{r&&r(n);let s,o,c=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(z2,[],{optional:!0,self:!0}).flat()),{routes:o.map(Mv),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(xd(()=>{this.childrenLoaders.delete(r)})),o=new oS(s,()=>new An).pipe(sv());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KS(n){return function NU(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Fd=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new An,this.transitionAbortSubject=new An,this.configLoader=ce(xv),this.environmentInjector=ce(ti),this.urlSerializer=ce(K8),this.rootContexts=ce(r0),this.inputBindingEnabled=null!==ce(Hd,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>pe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new D$(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new z$(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new _r({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:t0,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(es(s=>0!==s.id),Fe(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),ui(s=>{this.currentTransition=s;let o=!1,c=!1;return pe(s).pipe(Qn(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ui(a=>{const l=a.currentBrowserUrl.toString(),h=!t.navigated||a.extractedUrl.toString()!==l||l!==a.currentUrlTree.toString();if(!h&&"reload"!==(a.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const g="";return this.events.next(new M2(a.id,this.urlSerializer.serialize(a.rawUrl),g,0)),a.resolve(null),Ni}if(t.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return pe(a).pipe(ui(g=>{const p=this.transitions?.getValue();return this.events.next(new Id(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),p!==this.transitions?.getValue()?Ni:Promise.resolve(g)}),function AU(n,e,t,r,i,s){return ln(o=>function xU(n,e,t,r,i,s,o="emptyOnly"){return new SU(n,e,t,r,i,o,s).recognize()}(n,e,t,r,o.extractedUrl,i,s).pipe(Fe(({state:c,tree:a})=>({...o,targetSnapshot:c,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Qn(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const p=new DS(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(p)}));if(h&&t.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){const{id:g,extractedUrl:p,source:v,restoredState:y,extras:w}=a,C=new Id(g,this.urlSerializer.serialize(p),v,y);this.events.next(C);const M=IS(0,this.rootComponentType).snapshot;return this.currentTransition=s={...a,targetSnapshot:M,urlAfterRedirects:p,extras:{...w,skipLocationChange:!1,replaceUrl:!1}},pe(s)}{const g="";return this.events.next(new M2(a.id,this.urlSerializer.serialize(a.extractedUrl),g,1)),a.resolve(null),Ni}}),Qn(a=>{const l=new E$(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Fe(a=>(this.currentTransition=s={...a,guards:Y$(a.targetSnapshot,a.currentSnapshot,this.rootContexts)},s)),function sU(n,e){return ln(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?pe({...t,guardsResult:!0}):function oU(n,e,t,r){return Bt(n).pipe(ln(i=>function fU(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?pe(s.map(c=>{const a=o0(e)??i,l=_2(c,a);return ua(function nU(n){return n&&l0(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,r):a.runInContext(()=>l(n,e,t,r))).pipe(X1())})).pipe(x2()):pe(!0)}(i.component,i.route,t,e,r)),X1(i=>!0!==i,!0))}(o,r,i,n).pipe(ln(c=>c&&function J$(n){return"boolean"==typeof n}(c)?function cU(n,e,t,r){return Bt(e).pipe(v2(i=>iv(function lU(n,e){return null!==n&&e&&e(new A$(n)),pe(!0)}(i.route.parent,r),function aU(n,e){return null!==n&&e&&e(new O$(n)),pe(!0)}(i.route,r),function hU(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function X$(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>sS(()=>pe(o.guards.map(a=>{const l=o0(o.node)??t,h=_2(a,l);return ua(function tU(n){return n&&l0(n.canActivateChild)}(h)?h.canActivateChild(r,n):l.runInContext(()=>h(r,n))).pipe(X1())})).pipe(x2())));return pe(s).pipe(x2())}(n,i.path,t),function uU(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return pe(!0);const i=r.map(s=>sS(()=>{const o=o0(e)??t,c=_2(s,o);return ua(function eU(n){return n&&l0(n.canActivate)}(c)?c.canActivate(e,n):o.runInContext(()=>c(e,n))).pipe(X1())}));return pe(i).pipe(x2())}(n,i.route,t))),X1(i=>!0!==i,!0))}(r,s,n,e):pe(c)),Fe(c=>({...t,guardsResult:c})))})}(this.environmentInjector,a=>this.events.next(a)),Qn(a=>{if(s.guardsResult=a.guardsResult,K1(a.guardsResult))throw RS(0,a.guardsResult);const l=new _$(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(l)}),es(a=>!!a.guardsResult||(this.cancelNavigationTransition(a,"",3),!1)),_v(a=>{if(a.guards.canActivateChecks.length)return pe(a).pipe(Qn(l=>{const h=new x$(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),ui(l=>{let h=!1;return pe(l).pipe(function TU(n,e){return ln(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return pe(t);let s=0;return Bt(i).pipe(v2(o=>function OU(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!ZS(i)&&(s[X8]=i.title),function IU(n,e,t,r){const i=function PU(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return pe({});const s={};return Bt(i).pipe(ln(o=>function LU(n,e,t,r){const i=o0(e)??r,s=_2(n,i);return ua(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(X1(),Qn(c=>{s[o]=c}))),ov(1),aS(s),la(o=>jS(o)?Ni:Y8(o)))}(s,n,e,r).pipe(Fe(o=>(n._resolvedData=o,n.data=PS(n,t).resolve,i&&ZS(i)&&(n.data[X8]=i.title),null)))}(o.route,r,n,e)),Qn(()=>s++),ov(1),ln(o=>s===i.length?pe(t):Ni))})}(t.paramsInheritanceStrategy,this.environmentInjector),Qn({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",2)}}))}),Qn(l=>{const h=new S$(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),_v(a=>{const l=h=>{const d=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(h.routeConfig).pipe(Qn(g=>{h.component=g}),Fe(()=>{})));for(const g of h.children)d.push(...l(g));return d};return rv(l(a.targetSnapshot.root)).pipe(_d(),Y1(1))}),_v(()=>this.afterPreactivation()),Fe(a=>{const l=function R$(n,e,t){const r=s0(n,e._root,t?t._root:void 0);return new OS(r,e)}(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=s={...a,targetRouterState:l},s}),Qn(()=>{this.events.next(new fv)}),((n,e,t,r)=>Fe(i=>(new W$(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),Y1(1),Qn({next:a=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ha(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),t.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{o=!0}}),y2(this.transitionAbortSubject.pipe(Qn(a=>{throw a}))),xd(()=>{o||c||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),la(a=>{if(c=!0,kS(a))this.events.next(new n0(s.id,this.urlSerializer.serialize(s.extractedUrl),a.message,a.cancellationCode)),function F$(n){return kS(n)&&K1(n.url)}(a)?this.events.next(new dv(a.url)):s.resolve(!1);else{this.events.next(new Pd(s.id,this.urlSerializer.serialize(s.extractedUrl),a,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(a))}catch(l){s.reject(l)}}return Ni}))}))}cancelNavigationTransition(t,r,i){const s=new n0(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function JS(n){return n!==t0}let QS=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Ne);return r}getResolvedTitleForRoute(t){return t.data[X8]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:function(){return ce(RU)},providedIn:"root"})}return n})(),RU=(()=>{class n extends QS{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(Y(Jx))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VU=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:function(){return ce(FU)},providedIn:"root"})}return n})();class kU{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let FU=(()=>{class n extends kU{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Nu(n)))(i||n)}}();static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Bd=new oe("",{providedIn:"root",factory:()=>({})});let BU=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:function(){return ce(jU)},providedIn:"root"})}return n})(),jU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var u0=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(u0||{});function ez(n,e){n.events.pipe(es(t=>t instanceof ha||t instanceof n0||t instanceof Pd||t instanceof M2),Fe(t=>t instanceof ha||t instanceof M2?u0.COMPLETE:t instanceof n0&&(0===t.code||1===t.code)?u0.REDIRECTING:u0.FAILED),es(t=>t!==u0.REDIRECTING),Y1(1)).subscribe(()=>{e()})}function $U(n){throw n}function UU(n,e,t){return e.parse("/")}const qU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},GU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ts=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ce(T_),this.isNgZoneEnabled=!1,this._events=new An,this.options=ce(Bd,{optional:!0})||{},this.pendingTasks=ce(O_),this.errorHandler=this.options.errorHandler||$U,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||UU,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ce(BU),this.routeReuseStrategy=ce(VU),this.titleStrategy=ce(QS),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ce(z2,{optional:!0})?.flat()??[],this.navigationTransitions=ce(Fd),this.urlSerializer=ce(K8),this.location=ce(Am),this.componentInputBindingEnabled=!!ce(Hd,{optional:!0}),this.eventsSubscription=new Ht,this.isNgZoneEnabled=ce(ct)instanceof ct&&ct.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new w2,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=IS(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(tz(r)&&this._events.next(r));if(r instanceof Id)JS(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof M2)this.rawUrlTree=i.rawUrl;else if(r instanceof DS){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof fv)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof n0)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof dv){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||JS(i.source)};this.scheduleNavigation(s,t0,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Pd&&this.restoreHistory(i,!0),r instanceof ha&&(this.navigated=!0),tz(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),t0,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const a={...i};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(s.state=a)}const c=this.parseUrl(t);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Mv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:a}=r,l=a?this.currentUrlTree.fragment:o;let d,h=null;switch(c){case"merge":h={...this.currentUrlTree.queryParams,...s};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}null!==h&&(h=this.removeEmptyProps(h));try{d=MS(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return CS(d,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=K1(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,t0,null,r)}navigate(t,r={skipLocationChange:!1}){return function WU(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new j(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...qU}:!1===r?{...GU}:r,K1(t))return fS(this.currentUrlTree,t,i);const s=this.parseUrl(t);return fS(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,a,l;o?(c=o.resolve,a=o.reject,l=o.promise):l=new Promise((d,g)=>{c=d,a=g});const h=this.pendingTasks.add();return ez(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:c,reject:a,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tz(n){return!(n instanceof fv||n instanceof dv)}class nz{}let ZU=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(es(t=>t instanceof ha),v2(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=X9(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,c=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(c,s.children??s._loadedRoutes))}return Bt(i).pipe(Sc())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):pe(null);const s=i.pipe(ln(o=>null===o?pe(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?Bt([s,this.loader.loadComponent(r)]).pipe(Sc()):s})}static#e=this.\u0275fac=function(r){return new(r||n)(Y(ts),Y(I_),Y(ti),Y(nz),Y(xv))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const zv=new oe("");let rz=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Id?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ha?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof M2&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof AS&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new AS(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function _M(){throw new Error("invalid")}()};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();function cc(n,e){return{\u0275kind:n,\u0275providers:e}}function sz(){const n=ce(mr);return e=>{const t=n.get(q1);if(e!==t.components[0])return;const r=n.get(ts),i=n.get(oz);1===n.get(Dv)&&r.initialNavigation(),n.get(cz,null,Re.Optional)?.setUpPreloading(),n.get(zv,null,Re.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const oz=new oe("",{factory:()=>new An}),Dv=new oe("",{providedIn:"root",factory:()=>1}),cz=new oe("");function eq(n){return cc(0,[{provide:cz,useExisting:ZU},{provide:nz,useExisting:n}])}const az=new oe("ROUTER_FORROOT_GUARD"),nq=[Am,{provide:K8,useClass:cv},ts,r0,{provide:E2,useFactory:function iz(n){return n.routerState.root},deps:[ts]},xv,[]];function rq(){return new k_("Router",ts)}let lz=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[nq,[],{provide:z2,multi:!0,useValue:t},{provide:az,useFactory:cq,deps:[[ts,new b4,new Xc]]},{provide:Bd,useValue:r||{}},r?.useHash?{provide:W1,useClass:hF}:{provide:W1,useClass:mx},{provide:zv,useFactory:()=>{const n=ce(IB),e=ce(ct),t=ce(Bd),r=ce(Fd),i=ce(K8);return t.scrollOffset&&n.setOffset(t.scrollOffset),new rz(i,r,n,e,t)}},r?.preloadingStrategy?eq(r.preloadingStrategy).\u0275providers:[],{provide:k_,multi:!0,useFactory:rq},r?.initialNavigation?aq(r):[],r?.bindToComponentInputs?cc(8,[NS,{provide:Hd,useExisting:NS}]).\u0275providers:[],[{provide:uz,useFactory:sz},{provide:ym,multi:!0,useExisting:uz}]]}}static forChild(t){return{ngModule:n,providers:[{provide:z2,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(Y(az,8))};static#t=this.\u0275mod=un({type:n});static#n=this.\u0275inj=Wn({})}return n})();function cq(n){return"guarded"}function aq(n){return["disabled"===n.initialNavigation?cc(3,[{provide:um,multi:!0,useFactory:()=>{const e=ce(ts);return()=>{e.setUpLocationChangeListener()}}},{provide:Dv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?cc(2,[{provide:Dv,useValue:0},{provide:um,multi:!0,deps:[mr],useFactory:e=>{const t=e.get(lF,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(ts),s=e.get(oz);ez(i,()=>{r(!0)}),e.get(Fd).afterPreactivation=()=>(r(!0),s.closed?pe(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const uz=new oe("");function hz(n,e,t,r,i,s,o){try{var c=n[s](o),a=c.value}catch(l){return void t(l)}c.done?e(a):Promise.resolve(a).then(r,i)}function Ee(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(a){hz(s,r,i,o,c,"next",a)}function c(a){hz(s,r,i,o,c,"throw",a)}o(void 0)})}}var J1,ac,D2,fz,dz;!function(n){const e="\u8282\u70b9\u64cd\u4f5c";n.ADD_NODE={id:"xflow:add-node",label:"\u6dfb\u52a0\u8282\u70b9",category:e},n.DEL_NODE={id:"xflow:del-node",label:"\u5220\u9664\u8282\u70b9",category:e},n.UPDATE_NODE_PORT={id:"xflow:update-node-port",label:"\u5220\u9664\u8fde\u63a5\u6869",category:e},n.UPDATE_NODE={id:"xflow:update-node",label:"\u66f4\u65b0\u8282\u70b9",category:e},n.HIGHLIGHT_NODE={id:"xflow:highlight-node",label:"\u9ad8\u4eae\u8282\u70b9",category:e},n.SELECT_NODE={id:"xflow:select-node",label:"\u9009\u4e2d\u8282\u70b9",category:e},n.MOVE_NODE={id:"xflow:move-node",label:"Move Node",category:e},n.CENTER_NODE={id:"xflow:center-node",label:"\u5c45\u4e2d\u8282\u70b9",category:e},n.FRONT_NODE={id:"xflow:front-node",label:"\u524d\u7f6e\u8282\u70b9",category:e},n.BACK_NODE={id:"xflow:back-node",label:"\u540e\u7f6e\u8282\u70b9",category:e}}(J1||(J1={})),function(n){const e="\u8fb9\u64cd\u4f5c";n.ADD_EDGE={id:"xflow:add-edge",label:"\u6dfb\u52a0\u8fb9",category:e},n.DEL_EDGE={id:"xflow:del-edge",label:"\u5220\u9664\u8fb9",category:e},n.UPDATE_EDGE={id:"xflow:update-edge",label:"\u66f4\u65b0\u8fb9",category:e},n.HIGHLIGHT_EDGE={id:"xflow:highlight-edge",label:"\u9ad8\u4eae\u8fb9",category:e},n.FRONT_EDGE={id:"xflow:front-edge",label:"\u524d\u7f6e\u53d8",category:e},n.BACK_EDGE={id:"xflow:back-edge",label:"\u540e\u7f6e\u8fb9",category:e}}(ac||(ac={})),function(n){const e="\u753b\u5e03\u64cd\u4f5c";n.LOAD_META={id:"xflow:load-meta",label:"\u83b7\u53d6\u5143\u6570\u636e",category:e},n.LOAD_DATA={id:"xflow:load-data",label:"\u83b7\u53d6\u56fe\u6570\u636e",category:e},n.SAVE_GRAPH_DATA={id:"xflow:save-graph-data",label:"\u4fdd\u5b58",category:e},n.GRAPH_LAYOUT={id:"xflow:layout",label:"\u8ba1\u7b97\u5e03\u5c40",category:e},n.GRAPH_RENDER={id:"xflow:graph-render",label:"\u6e32\u67d3\u753b\u5e03",category:e},n.UNDO_CMD={id:"xflow:undo-cmd",label:"\u64a4\u9500",category:e},n.REDO_CMD={id:"xflow:redo-cmd",label:"\u91cd\u505a",category:e},n.GRAPH_INSTANCE_COMMAND={id:"xflow:graph-instacne-cmd",label:"Graph\u901a\u7528Command",category:e},n.GRAPH_ZOOM={id:"xflow:graph-zoom",label:"\u7f29\u653e\u753b\u5e03",category:e},n.GRAPH_FULLSCREEN={id:"xflow:graph-fullscreen",label:"\u5168\u5c4f",category:e},n.GRAPH_RESIZE={id:"xflow:graph-resize",label:"\u8c03\u6574\u7a97\u53e3\u5927\u5c0f",category:e},n.GRAPH_COPY={id:"xflow:graph-copy-selection",label:"\u590d\u5236",category:e},n.GRAPH_PASTE={id:"xflow:graph-paste-selection",label:"\u7c98\u8d34",category:e},n.GRAPH_TOGGLE_MULTI_SELECT={id:"xflow:graph-toggle-multi-select",label:"\u542f\u7528\u6846\u9009",category:e},n.GRAPH_ADD_TOOL={id:"xflow:add-tool",label:"\u6dfb\u52a0\u5de5\u5177",category:e},n.GRAPH_DEL_TOOL={id:"xflow:del-tool",label:"\u5220\u9664\u5de5\u5177",category:e},n.GRAPH_HISTORY_UNDO={id:"xflow:history-undo",label:"history undo",category:e},n.GRAPH_HISTORY_REDO={id:"xflow:history-redo",label:"history redo",category:e},n.GRAPH_HISTORY_RESET={id:"xflow:history-reset",label:"history reset",category:e},n.GRAPH_HISTORY_TOGGLE={id:"xflow:history-toggle",label:"history toggle",category:e}}(D2||(D2={})),(fz||(fz={})).UPDATE_MODEL={id:"xflow:update-model",label:"\u8bbe\u7f6e\u72b6\u6001\u503c",category:"\u72b6\u6001\u64cd\u4f5c"},function(n){const e="\u7fa4\u7ec4\u64cd\u4f5c";n.INIT_GROUP={id:"xflow:init-group",label:"\u521d\u59cb\u5316\u7fa4\u7ec4",category:e},n.ADD_GROUP={id:"xflow:add-group",label:"\u65b0\u5efa\u7fa4\u7ec4",category:e},n.DEL_GROUP={id:"xflow:del-group",label:"\u89e3\u6563\u7fa4\u7ec4",category:e},n.COLLAPSE_GROUP={id:"xflow:collapse-group",label:"\u6298\u53e0\u7fa4\u7ec4",category:e}}(dz||(dz={}));class uq{constructor(){this.CONFIG_TYPE="GraphConfig",this.nodeRender=new Map,this.edgeRender=new Map,this.events=[],this.setX6Config=e=>{const t=this.getDefaultGraphOptions();this.x6Options={...t,...e}},this.getDefaultGraphOptions=()=>({rotating:!1,resizing:!1,connecting:{snap:!0,dangling:!1,highlight:!1,connectionPoint:"rect",router:{name:"er"},connector:{name:"rounded",args:{radius:15}}},background:{},grid:{visible:!0},selecting:{strict:!0,enabled:!0,multiple:!0,selectCellOnMoved:!0,showNodeSelectionBox:!1,rubberEdge:!0,rubberNode:!0,movable:!0},snapline:{enabled:!1},history:{enabled:!1},clipboard:{enabled:!0,useLocalStorage:!0},scroller:{enabled:!1},mousewheel:{enabled:!0,minScale:.01,maxScale:1.5,factor:1.1,modifiers:["ctrl","meta"]},panning:{enabled:!0},scaling:{min:.01,max:1.5},keyboard:{enabled:!0},interacting:{nodeMovable:!0,edgeLabelMovable:!1},async:!1}),this.graphId=function hq(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=16*Math.random()|0;return("x"==n?e:3&e|8).toString(16)})}()}setAppContainer(e){this.appContainer=e}setRootContainer(e){this.rootContainer=e}setGraphContainer(e){this.graphContainer=e}}var Q1=Ge(990);let fq=(()=>{class n{constructor(){this.token=D2.GRAPH_RENDER.id}execute(){var t=this;return Ee(function*(){const{args:r,hooks:i}=t.ctx.getArgs();yield t.ctx.getHooks().graphRender.call(r,function(){var o=Ee(function*(c){const a=yield t.ctx.getX6Graph(),{graphData:h,isNodeEqual:d,isEdgeEqual:g}=c;return yield t.doLoadGraph(a,h,d,g),{}});return function(c){return o.apply(this,arguments)}}(),i)})()}doLoadGraph(t,r,i,s){var o=this;return Ee(function*(){const c=o.ctx.getCommands(),{addNodeConfigs:a,addEdgeConfigs:l,removeNodes:h,removeEdges:d,updateNodes:g,updateEdges:p}=o.graphDataDiff(t,r,i,s);for(const v of g){const y=v?.getData();yield c.executeCommand(G0.UPDATE_NODE.id,{nodeConfig:y})}for(const v of p){const y=v?.getData();yield c.executeCommand(W0.UPDATE_EDGE.id,{edgeConfig:y})}for(const v of a)yield c.executeCommand(G0.ADD_NODE.id,{nodeConfig:v,options:{isRenderGraph:!0}},{name:"remove servcie",handler:function(){var y=Ee(function*(w){delete w.createNodeService});return function(C){return y.apply(this,arguments)}}()});console.log("addEdgeConfigs>>>",l);for(const v of l)yield c.executeCommand(W0.ADD_EDGE.id,{edgeConfig:v,options:{isRenderGraph:!0}},{name:"remove servcie",handler:function(){var y=Ee(function*(w){delete w.createEdgeService});return function(C){return y.apply(this,arguments)}}()});for(const v of h){const y=v?.getData();y.isGroup||(yield c.executeCommand(G0.DEL_NODE.id,{nodeConfig:y}))}for(const v of d){const y=v?.getData();yield c.executeCommand(W0.DEL_EDGE.id,{edgeConfig:y})}})()}graphDataDiff(t,r,i,s){const{nodes:o,edges:c}=r,a=[];for(const M of o)t.getCellById(M?.id)||a.push(M);const l=[],h=[],d=[],g=t.getNodes();for(const M of g){const E=o.find(z=>z?.id===M?.id);if(E){let z=!0;s?z=i(M?.data,E):M?.data&&E&&(z=jd.isNodeEqual(M?.data,E)),z||M.setData(E,{deep:!1}),z?l.push(M):h.push(M)}else d.push(M)}const p=[];console.log("edgeConfigs>>>",c);for(const M of c)t.getCellById(M?.id)||p.push(M);const v=[],y=[],w=[],C=t.getEdges();for(const M of C){const E=c.find(z=>z?.id===M?.id);if(E){let z=!0;s?z=s(M?.data,E):M?.data&&E&&(z=jd.isEdgeEqual(M?.data,E)),z||M.setData(E,{deep:!1}),z?v.push(M):y.push(M)}else w.push(M)}return{addNodeConfigs:a,addEdgeConfigs:p,retainNodes:l,retainEdges:v,removeNodes:d,removeEdges:w,updateNodes:h,updateEdges:y}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Av,jd,n;(n=Av||(Av={})).command=D2.GRAPH_RENDER,n.hookKey="graphRender",function(n){n.isNodeEqual=function e(r,i){return(0,Q1.isEqual)(r,i)},n.isEdgeEqual=function t(r,i){return(0,Q1.isEqual)(r,i)}}(jd||(jd={}));let dq=(()=>{class n{constructor(){this.token=D2.LOAD_DATA.id}execute(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const gq=[Av];let pq=(()=>{class n{constructor(){var t=this;this.token=J1.ADD_NODE.id,this.execute=Ee(function*(){const{args:r,hooks:i}=t.ctx.getArgs();yield t.ctx.getHooks().addNode.call(r,function(){var o=Ee(function*(c){const{createNodeService:a,cellFactory:l,options:d}=c,g=yield t.ctx.getX6Graph();let p=c.nodeConfig;if(a){const C=yield a(c);if("boolean"==typeof C)return{err:"createNodeService rejected"};p=C}const v=yield t.processNodeConfig(p);let y;const w={...d,isCommand:!0};if(l){const C=yield l(v,t);y=g.addNode(C,w)}else y=g.addNode(v,w);return{nodeConfig:v,nodeCell:y}});return function(c){return o.apply(this,arguments)}}(),i)}),this.processNodeConfig=function(){var r=Ee(function*(i){return i.data={...i},i});return function(i){return r.apply(this,arguments)}}()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Tv;!function(n){n.command=J1.ADD_NODE,n.hookKey="addNode"}(Tv||(Tv={})),Ge(825);class fa{get disposed(){return!0===this._disposed}dispose(){this._disposed=!0}}!function(n){n.dispose=function e(){return(t,r,i)=>{const s=i.value,o=t.__proto__;i.value=function(...c){this.disposed||(s.call(this,...c),o.dispose.call(this))}}}}(fa||(fa={}));class mz{constructor(){this.isDisposed=!1,this.items=new Set}get disposed(){return this.isDisposed}dispose(){this.isDisposed||(this.isDisposed=!0,this.items.forEach(e=>{e.dispose()}),this.items.clear())}contains(e){return this.items.has(e)}add(e){this.items.add(e)}remove(e){this.items.delete(e)}clear(){this.items.clear()}}!function(n){n.from=function e(t){const r=new n;return t.forEach(i=>{r.add(i)}),r}}(mz||(mz={}));const Gt=function mq(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)},vz="object"==typeof global&&global&&global.Object===Object&&global;var yq="object"==typeof self&&self&&self.Object===Object&&self;const Ps=vz||yq||Function("return this")(),Ov=function(){return Ps.Date.now()};var Mq=/\s/;var _q=/^\s+/;const Sq=function xq(n){return n&&n.slice(0,function Cq(n){for(var e=n.length;e--&&Mq.test(n.charAt(e)););return e}(n)+1).replace(_q,"")},ns=Ps.Symbol;var yz=Object.prototype,Dq=yz.hasOwnProperty,Aq=yz.toString,h0=ns?ns.toStringTag:void 0;var Pq=Object.prototype.toString;var bz=ns?ns.toStringTag:void 0;const da=function Vq(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":bz&&bz in Object(n)?function Tq(n){var e=Dq.call(n,h0),t=n[h0];try{n[h0]=void 0;var r=!0}catch{}var i=Aq.call(n);return r&&(e?n[h0]=t:delete n[h0]),i}(n):function Lq(n){return Pq.call(n)}(n)},Ls=function kq(n){return null!=n&&"object"==typeof n},yo=function Bq(n){return"symbol"==typeof n||Ls(n)&&"[object Symbol]"==da(n)};var jq=/^[-+]0x[0-9a-f]+$/i,$q=/^0b[01]+$/i,Uq=/^0o[0-7]+$/i,qq=parseInt;const f0=function Gq(n){if("number"==typeof n)return n;if(yo(n))return NaN;if(Gt(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=Gt(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=Sq(n);var t=$q.test(n);return t||Uq.test(n)?qq(n.slice(2),t?2:8):jq.test(n)?NaN:+n};var Yq=Math.max,Xq=Math.min;const eG=function Qq(n,e,t){var r=!0,i=!0;if("function"!=typeof n)throw new TypeError("Expected a function");return Gt(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),function Zq(n,e,t){var r,i,s,o,c,a,l=0,h=!1,d=!1,g=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function p(P){var k=r,G=i;return r=i=void 0,l=P,o=n.apply(G,k)}function w(P){var k=P-a;return void 0===a||k>=e||k<0||d&&P-l>=s}function C(){var P=Ov();if(w(P))return M(P);c=setTimeout(C,function y(P){var B=e-(P-a);return d?Xq(B,s-(P-l)):B}(P))}function M(P){return c=void 0,g&&r?p(P):(r=i=void 0,o)}function T(){var P=Ov(),k=w(P);if(r=arguments,i=this,a=P,k){if(void 0===c)return function v(P){return l=P,c=setTimeout(C,e),h?p(P):o}(a);if(d)return clearTimeout(c),c=setTimeout(C,e),p(a)}return void 0===c&&(c=setTimeout(C,e)),o}return e=f0(e)||0,Gt(t)&&(h=!!t.leading,s=(d="maxWait"in t)?Yq(f0(t.maxWait)||0,e):s,g="trailing"in t?!!t.trailing:g),T.cancel=function E(){void 0!==c&&clearTimeout(c),l=0,r=a=i=c=void 0},T.flush=function z(){return void 0===c?o:M(Ov())},T}(n,e,{leading:r,maxWait:e,trailing:i})};function Mz(n,e,t){if(t)switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2]);case 4:return n.call(e,t[0],t[1],t[2],t[3]);case 5:return n.call(e,t[0],t[1],t[2],t[3],t[4]);case 6:return n.call(e,t[0],t[1],t[2],t[3],t[4],t[5]);default:return n.apply(e,t)}return n.call(e)}function Se(n,e,...t){return Mz(n,e,t)}function Cz(n){return null!=n&&(n instanceof Promise||function tG(n){return"object"==typeof n&&n.then&&"function"==typeof n.then}(n))}function Iv(...n){const e=[];if(n.forEach(r=>{Array.isArray(r)?e.push(...r):e.push(r)}),e.some(r=>Cz(r))){const r=e.map(i=>Cz(i)?i:Promise.resolve(!1!==i));return Promise.all(r).then(i=>i.reduce((s,o)=>!1!==o&&s,!0))}return e.every(r=>!1!==r)}function Pv(n,e){const t=[];for(let r=0;r<n.length;r+=2){const c=Mz(n[r],n[r+1],Array.isArray(e)?e:[e]);t.push(c)}return Iv(t)}class nG{constructor(){this.listeners={}}on(e,t,r){return null==t||(this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t,r)),this}once(e,t,r){const i=(...s)=>(this.off(e,i),Pv([t,r],s));return this.on(e,i,this)}off(e,t,r){if(!(e||t||r))return this.listeners={},this;const i=this.listeners;return(e?[e]:Object.keys(i)).forEach(o=>{const c=i[o];if(c){if(!t&&!r)return void delete i[o];for(let a=c.length-2;a>=0;a-=2)t&&c[a]!==t||r&&c[a+1]!==r||c.splice(a,2)}}),this}trigger(e,...t){let r=!0;if("*"!==e){const s=this.listeners[e];null!=s&&(r=Pv([...s],t))}const i=this.listeners["*"];return null!=i?Iv([r,Pv([...i],[e,...t])]):r}emit(e,...t){return this.trigger(e,...t)}}var iG=Object.prototype.hasOwnProperty;const oG=function sG(n,e){return null!=n&&iG.call(n,e)},yr=Array.isArray;var aG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lG=/^\w*$/;const Lv=function uG(n,e){if(yr(n))return!1;var t=typeof n;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=n&&!yo(n))||lG.test(n)||!aG.test(n)||null!=e&&n in Object(e)},Hv=function pG(n){if(!Gt(n))return!1;var e=da(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Nv=Ps["__core-js_shared__"];var Ez=function(){var n=/[^.]+$/.exec(Nv&&Nv.keys&&Nv.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();var wG=Function.prototype.toString;const el=function MG(n){if(null!=n){try{return wG.call(n)}catch{}try{return n+""}catch{}}return""};var EG=/^\[object .+?Constructor\]$/,DG=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const TG=function AG(n){return!(!Gt(n)||function vG(n){return!!Ez&&Ez in n}(n))&&(Hv(n)?DG:EG).test(el(n))},tl=function PG(n,e){var t=function OG(n,e){return n?.[e]}(n,e);return TG(t)?t:void 0},d0=tl(Object,"create");var BG=Object.prototype.hasOwnProperty;var qG=Object.prototype.hasOwnProperty;function A2(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}A2.prototype.clear=function HG(){this.__data__=d0?d0(null):{},this.size=0},A2.prototype.delete=function RG(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e},A2.prototype.get=function jG(n){var e=this.__data__;if(d0){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return BG.call(e,n)?e[n]:void 0},A2.prototype.has=function GG(n){var e=this.__data__;return d0?void 0!==e[n]:qG.call(e,n)},A2.prototype.set=function XG(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=d0&&void 0===e?"__lodash_hash_undefined__":e,this};const _z=A2,T2=function QG(n,e){return n===e||n!=n&&e!=e},$d=function eW(n,e){for(var t=n.length;t--;)if(T2(n[t][0],e))return t;return-1};var nW=Array.prototype.splice;function O2(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}O2.prototype.clear=function KG(){this.__data__=[],this.size=0},O2.prototype.delete=function rW(n){var e=this.__data__,t=$d(e,n);return!(t<0||(t==e.length-1?e.pop():nW.call(e,t,1),--this.size,0))},O2.prototype.get=function sW(n){var e=this.__data__,t=$d(e,n);return t<0?void 0:e[t][1]},O2.prototype.has=function cW(n){return $d(this.__data__,n)>-1},O2.prototype.set=function lW(n,e){var t=this.__data__,r=$d(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this};const Ud=O2,g0=tl(Ps,"Map"),qd=function mW(n,e){var t=n.__data__;return function gW(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}(e)?t["string"==typeof e?"string":"hash"]:t.map};function I2(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}I2.prototype.clear=function fW(){this.size=0,this.__data__={hash:new _z,map:new(g0||Ud),string:new _z}},I2.prototype.delete=function vW(n){var e=qd(this,n).delete(n);return this.size-=e?1:0,e},I2.prototype.get=function bW(n){return qd(this,n).get(n)},I2.prototype.has=function MW(n){return qd(this,n).has(n)},I2.prototype.set=function EW(n,e){var t=qd(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this};const Gd=I2;function Rv(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=t.cache;if(s.has(i))return s.get(i);var o=n.apply(this,r);return t.cache=s.set(i,o)||s,o};return t.cache=new(Rv.Cache||Gd),t}Rv.Cache=Gd;const SW=Rv;var TW=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,OW=/\\(\\)?/g,IW=function DW(n){var e=SW(n,function(r){return 500===t.size&&t.clear(),r}),t=e.cache;return e}(function(n){var e=[];return 46===n.charCodeAt(0)&&e.push(""),n.replace(TW,function(t,r,i,s){e.push(i?s.replace(OW,"$1"):r||t)}),e});const PW=IW,p0=function LW(n,e){for(var t=-1,r=null==n?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i};var xz=ns?ns.prototype:void 0,Sz=xz?xz.toString:void 0;const NW=function zz(n){if("string"==typeof n)return n;if(yr(n))return p0(n,zz)+"";if(yo(n))return Sz?Sz.call(n):"";var e=n+"";return"0"==e&&1/n==-1/0?"-0":e},P2=function RW(n){return null==n?"":NW(n)},Wd=function VW(n,e){return yr(n)?n:Lv(n,e)?[n]:PW(P2(n))},Dz=function FW(n){return Ls(n)&&"[object Arguments]"==da(n)};var Az=Object.prototype,BW=Az.hasOwnProperty,jW=Az.propertyIsEnumerable,$W=Dz(function(){return arguments}())?Dz:function(n){return Ls(n)&&BW.call(n,"callee")&&!jW.call(n,"callee")};const L2=$W;var qW=/^(?:0|[1-9]\d*)$/;const Yd=function GW(n,e){var t=typeof n;return!!(e=e??9007199254740991)&&("number"==t||"symbol"!=t&&qW.test(n))&&n>-1&&n%1==0&&n<e},Vv=function YW(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991},m0=function ZW(n){if("string"==typeof n||yo(n))return n;var e=n+"";return"0"==e&&1/n==-1/0?"-0":e},Tz=function KW(n,e,t){for(var r=-1,i=(e=Wd(e,n)).length,s=!1;++r<i;){var o=m0(e[r]);if(!(s=null!=n&&t(n,o)))break;n=n[o]}return s||++r!=i?s:!!(i=null==n?0:n.length)&&Vv(i)&&Yd(o,i)&&(yr(n)||L2(n))},Xd=function JW(n,e){return null!=n&&Tz(n,e,oG)},Zd=function QW(n,e){for(var t=0,r=(e=Wd(e,n)).length;null!=n&&t<r;)n=n[m0(e[t++])];return t&&t==r?n:void 0};var eY=function(){try{var n=tl(Object,"defineProperty");return n({},"",{}),n}catch{}}();const Kd=eY,Jd=function tY(n,e,t){"__proto__"==e&&Kd?Kd(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t};var rY=Object.prototype.hasOwnProperty;const kv=function iY(n,e,t){var r=n[e];(!rY.call(n,e)||!T2(r,t)||void 0===t&&!(e in n))&&Jd(n,e,t)},oY=function sY(n,e,t,r){if(!Gt(n))return n;for(var i=-1,s=(e=Wd(e,n)).length,o=s-1,c=n;null!=c&&++i<s;){var a=m0(e[i]),l=t;if("__proto__"===a||"constructor"===a||"prototype"===a)return n;if(i!=o){var h=c[a];void 0===(l=r?r(h,a,c):void 0)&&(l=Gt(h)?h:Yd(e[i+1])?[]:{})}kv(c,a,l),c=c[a]}return n},uY=function lY(n,e){return null!=n&&e in Object(n)},Oz=function hY(n,e){return null!=n&&Tz(n,e,uY)},dY=function fY(n,e){return function cY(n,e,t){for(var r=-1,i=e.length,s={};++r<i;){var o=e[r],c=Zd(n,o);t(c,o)&&oY(s,Wd(o,n),c)}return s}(n,e,function(t,r){return Oz(n,r)})},Fv=function gY(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n};var Iz=ns?ns.isConcatSpreadable:void 0;const mY=function pY(n){return yr(n)||L2(n)||!!(Iz&&n&&n[Iz])},Qd=function Pz(n,e,t,r,i){var s=-1,o=n.length;for(t||(t=mY),i||(i=[]);++s<o;){var c=n[s];e>0&&t(c)?e>1?Pz(c,e-1,t,r,i):Fv(i,c):r||(i[i.length]=c)}return i},yY=function vY(n){return null!=n&&n.length?Qd(n,1):[]},Lz=function bY(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)};var Hz=Math.max;const Nz=function wY(n,e,t){return e=Hz(void 0===e?n.length-1:e,0),function(){for(var r=arguments,i=-1,s=Hz(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var c=Array(e+1);++i<e;)c[i]=r[i];return c[e]=t(o),Lz(n,this,c)}},CY=function MY(n){return function(){return n}},H2=function EY(n){return n};var _Y=Kd?function(n,e){return Kd(n,"toString",{configurable:!0,enumerable:!1,value:CY(e),writable:!0})}:H2,DY=Date.now,TY=function AY(n){var e=0,t=0;return function(){var r=DY(),i=16-(r-t);if(t=r,i>0){if(++e>=800)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}(_Y);const Rz=TY;!function OY(n){Rz(Nz(n,void 0,yY),n+"")}(function(n,e){return null==n?{}:dY(n,e)});function N2(n){var e=this.__data__=new Ud(n);this.size=e.size}N2.prototype.clear=function PY(){this.__data__=new Ud,this.size=0},N2.prototype.delete=function HY(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t},N2.prototype.get=function RY(n){return this.__data__.get(n)},N2.prototype.has=function kY(n){return this.__data__.has(n)},N2.prototype.set=function jY(n,e){var t=this.__data__;if(t instanceof Ud){var r=t.__data__;if(!g0||r.length<199)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new Gd(r)}return t.set(n,e),this.size=t.size,this};const R2=N2,Bv=function UY(n,e,t){(void 0!==t&&!T2(n[e],t)||void 0===t&&!(e in n))&&Jd(n,e,t)};var GY=function qY(n){return function(e,t,r){for(var i=-1,s=Object(e),o=r(e),c=o.length;c--;){var a=o[n?c:++i];if(!1===t(s[a],a,s))break}return e}}();const Vz=GY;var kz="object"==typeof exports&&exports&&!exports.nodeType&&exports,Fz=kz&&"object"==typeof module&&module&&!module.nodeType&&module,Bz=Fz&&Fz.exports===kz?Ps.Buffer:void 0,jz=Bz?Bz.allocUnsafe:void 0;const $z=function YY(n,e){if(e)return n.slice();var t=n.length,r=jz?jz(t):new n.constructor(t);return n.copy(r),r},e5=Ps.Uint8Array,jv=function ZY(n){var e=new n.constructor(n.byteLength);return new e5(e).set(new e5(n)),e},Uz=function KY(n,e){var t=e?jv(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)},qz=function JY(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e};var Gz=Object.create,QY=function(){function n(){}return function(e){if(!Gt(e))return{};if(Gz)return Gz(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const eX=QY,Wz=function tX(n,e){return function(t){return n(e(t))}},$v=Wz(Object.getPrototypeOf,Object);var rX=Object.prototype;const t5=function iX(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||rX)},Yz=function sX(n){return"function"!=typeof n.constructor||t5(n)?{}:eX($v(n))},nl=function oX(n){return null!=n&&Vv(n.length)&&!Hv(n)},n5=function cX(n){return Ls(n)&&nl(n)};var Xz="object"==typeof exports&&exports&&!exports.nodeType&&exports,Zz=Xz&&"object"==typeof module&&module&&!module.nodeType&&module,Kz=Zz&&Zz.exports===Xz?Ps.Buffer:void 0;const V2=(Kz?Kz.isBuffer:void 0)||function aX(){return!1};var Jz=Function.prototype.toString,mX=Object.prototype.hasOwnProperty,vX=Jz.call(Object);const bo=function yX(n){if(!Ls(n)||"[object Object]"!=da(n))return!1;var e=$v(n);if(null===e)return!0;var t=mX.call(e,"constructor")&&e.constructor;return"function"==typeof t&&t instanceof t&&Jz.call(t)==vX};var It={};It["[object Float32Array]"]=It["[object Float64Array]"]=It["[object Int8Array]"]=It["[object Int16Array]"]=It["[object Int32Array]"]=It["[object Uint8Array]"]=It["[object Uint8ClampedArray]"]=It["[object Uint16Array]"]=It["[object Uint32Array]"]=!0,It["[object Arguments]"]=It["[object Array]"]=It["[object ArrayBuffer]"]=It["[object Boolean]"]=It["[object DataView]"]=It["[object Date]"]=It["[object Error]"]=It["[object Function]"]=It["[object Map]"]=It["[object Number]"]=It["[object Object]"]=It["[object RegExp]"]=It["[object Set]"]=It["[object String]"]=It["[object WeakMap]"]=!1;const v0=function qX(n){return function(e){return n(e)}};var Qz="object"==typeof exports&&exports&&!exports.nodeType&&exports,y0=Qz&&"object"==typeof module&&module&&!module.nodeType&&module,Uv=y0&&y0.exports===Qz&&vz.process;const k2=function(){try{return y0&&y0.require&&y0.require("util").types||Uv&&Uv.binding&&Uv.binding("util")}catch{}}();var eD=k2&&k2.isTypedArray;const r5=eD?v0(eD):function $X(n){return Ls(n)&&Vv(n.length)&&!!It[da(n)]},qv=function XX(n,e){if(("constructor"!==e||"function"!=typeof n[e])&&"__proto__"!=e)return n[e]},b0=function ZX(n,e,t,r){var i=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var c=e[s],a=r?r(t[c],n[c],c,t,n):void 0;void 0===a&&(a=n[c]),i?Jd(t,c,a):kv(t,c,a)}return t};var eZ=Object.prototype.hasOwnProperty;const tD=function tZ(n,e){var t=yr(n),r=!t&&L2(n),i=!t&&!r&&V2(n),s=!t&&!r&&!i&&r5(n),o=t||r||i||s,c=o?function KX(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}(n.length,String):[],a=c.length;for(var l in n)(e||eZ.call(n,l))&&(!o||!("length"==l||i&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Yd(l,a)))&&c.push(l);return c};var sZ=Object.prototype.hasOwnProperty;const cZ=function oZ(n){if(!Gt(n))return function nZ(n){var e=[];if(null!=n)for(var t in Object(n))e.push(t);return e}(n);var e=t5(n),t=[];for(var r in n)"constructor"==r&&(e||!sZ.call(n,r))||t.push(r);return t},F2=function aZ(n){return nl(n)?tD(n,!0):cZ(n)},fZ=function hZ(n,e,t,r,i,s,o){var c=qv(n,t),a=qv(e,t),l=o.get(a);if(l)Bv(n,t,l);else{var h=s?s(c,a,t+"",n,e,o):void 0,d=void 0===h;if(d){var g=yr(a),p=!g&&V2(a),v=!g&&!p&&r5(a);h=a,g||p||v?yr(c)?h=c:n5(c)?h=qz(c):p?(d=!1,h=$z(a,!0)):v?(d=!1,h=Uz(a,!0)):h=[]:bo(a)||L2(a)?(h=c,L2(c)?h=function lZ(n){return b0(n,F2(n))}(c):(!Gt(c)||Hv(c))&&(h=Yz(a))):d=!1}d&&(o.set(a,h),i(h,a,r,s,o),o.delete(a)),Bv(n,t,h)}},Gv=function nD(n,e,t,r,i){n!==e&&Vz(e,function(s,o){if(i||(i=new R2),Gt(s))fZ(n,e,o,t,nD,r,i);else{var c=r?r(qv(n,o),s,o+"",n,e,i):void 0;void 0===c&&(c=s),Bv(n,o,c)}},F2)},B2=function dZ(n,e){return Rz(Nz(n,e,H2),n+"")},i5=function gZ(n,e,t){if(!Gt(t))return!1;var r=typeof e;return!!("number"==r?nl(t)&&Yd(e,t.length):"string"==r&&e in t)&&T2(t[e],n)},rD=function pZ(n){return B2(function(e,t){var r=-1,i=t.length,s=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for(s=n.length>3&&"function"==typeof s?(i--,s):void 0,o&&i5(t[0],t[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var c=t[r];c&&n(e,c,r,s)}return e})};var mZ=rD(function(n,e,t){Gv(n,e,t)});const bn=mZ;function s5(n){var e=-1,t=null==n?0:n.length;for(this.__data__=new Gd;++e<t;)this.add(n[e])}s5.prototype.add=s5.prototype.push=function yZ(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this},s5.prototype.has=function wZ(n){return this.__data__.has(n)};const Wv=s5,EZ=function CZ(n,e){for(var t=-1,r=null==n?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1},Yv=function _Z(n,e){return n.has(e)},iD=function zZ(n,e,t,r,i,s){var o=1&t,c=n.length,a=e.length;if(c!=a&&!(o&&a>c))return!1;var l=s.get(n),h=s.get(e);if(l&&h)return l==e&&h==n;var d=-1,g=!0,p=2&t?new Wv:void 0;for(s.set(n,e),s.set(e,n);++d<c;){var v=n[d],y=e[d];if(r)var w=o?r(y,v,d,e,n,s):r(v,y,d,n,e,s);if(void 0!==w){if(w)continue;g=!1;break}if(p){if(!EZ(e,function(C,M){if(!Yv(p,M)&&(v===C||i(v,C,t,r,s)))return p.push(M)})){g=!1;break}}else if(v!==y&&!i(v,y,t,r,s)){g=!1;break}}return s.delete(n),s.delete(e),g},AZ=function DZ(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t},Xv=function TZ(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t};var sD=ns?ns.prototype:void 0,Zv=sD?sD.valueOf:void 0;const oD=function GZ(n,e,t){var r=e(n);return yr(n)?r:Fv(r,t(n))},cD=function XZ(){return[]};var KZ=Object.prototype.propertyIsEnumerable,aD=Object.getOwnPropertySymbols,JZ=aD?function(n){return null==n?[]:(n=Object(n),function WZ(n,e){for(var t=-1,r=null==n?0:n.length,i=0,s=[];++t<r;){var o=n[t];e(o,t,n)&&(s[i++]=o)}return s}(aD(n),function(e){return KZ.call(n,e)}))}:cD;const Kv=JZ,eK=Wz(Object.keys,Object);var nK=Object.prototype.hasOwnProperty;const lD=function rK(n){if(!t5(n))return eK(n);var e=[];for(var t in Object(n))nK.call(n,t)&&"constructor"!=t&&e.push(t);return e},w0=function iK(n){return nl(n)?tD(n):lD(n)},Jv=function sK(n){return oD(n,w0,Kv)};var aK=Object.prototype.hasOwnProperty;const Qv=tl(Ps,"DataView"),ey=tl(Ps,"Promise"),j2=tl(Ps,"Set"),ty=tl(Ps,"WeakMap");var uD="[object Map]",hD="[object Promise]",fD="[object Set]",dD="[object WeakMap]",gD="[object DataView]",mK=el(Qv),vK=el(g0),yK=el(ey),bK=el(j2),wK=el(ty),rl=da;(Qv&&rl(new Qv(new ArrayBuffer(1)))!=gD||g0&&rl(new g0)!=uD||ey&&rl(ey.resolve())!=hD||j2&&rl(new j2)!=fD||ty&&rl(new ty)!=dD)&&(rl=function(n){var e=da(n),t="[object Object]"==e?n.constructor:void 0,r=t?el(t):"";if(r)switch(r){case mK:return gD;case vK:return uD;case yK:return hD;case bK:return fD;case wK:return dD}return e});const $2=rl;var pD="[object Arguments]",mD="[object Array]",o5="[object Object]",vD=Object.prototype.hasOwnProperty;const _K=function EK(n,e,t,r,i,s){var o=yr(n),c=yr(e),a=o?mD:$2(n),l=c?mD:$2(e),h=(a=a==pD?o5:a)==o5,d=(l=l==pD?o5:l)==o5,g=a==l;if(g&&V2(n)){if(!V2(e))return!1;o=!0,h=!1}if(g&&!h)return s||(s=new R2),o||r5(n)?iD(n,e,t,r,i,s):function UZ(n,e,t,r,i,s,o){switch(t){case"[object DataView]":if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=e.byteLength||!s(new e5(n),new e5(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return T2(+n,+e);case"[object Error]":return n.name==e.name&&n.message==e.message;case"[object RegExp]":case"[object String]":return n==e+"";case"[object Map]":var c=AZ;case"[object Set]":if(c||(c=Xv),n.size!=e.size&&!(1&r))return!1;var l=o.get(n);if(l)return l==e;r|=2,o.set(n,e);var h=iD(c(n),c(e),r,i,s,o);return o.delete(n),h;case"[object Symbol]":if(Zv)return Zv.call(n)==Zv.call(e)}return!1}(n,e,a,t,r,i,s);if(!(1&t)){var p=h&&vD.call(n,"__wrapped__"),v=d&&vD.call(e,"__wrapped__");if(p||v){var y=p?n.value():n,w=v?e.value():e;return s||(s=new R2),i(y,w,t,r,s)}}return!!g&&(s||(s=new R2),function lK(n,e,t,r,i,s){var o=1&t,c=Jv(n),a=c.length;if(a!=Jv(e).length&&!o)return!1;for(var d=a;d--;){var g=c[d];if(!(o?g in e:aK.call(e,g)))return!1}var p=s.get(n),v=s.get(e);if(p&&v)return p==e&&v==n;var y=!0;s.set(n,e),s.set(e,n);for(var w=o;++d<a;){var C=n[g=c[d]],M=e[g];if(r)var E=o?r(M,C,g,e,n,s):r(C,M,g,n,e,s);if(!(void 0===E?C===M||i(C,M,t,r,s):E)){y=!1;break}w||(w="constructor"==g)}if(y&&!w){var z=n.constructor,T=e.constructor;z!=T&&"constructor"in n&&"constructor"in e&&!("function"==typeof z&&z instanceof z&&"function"==typeof T&&T instanceof T)&&(y=!1)}return s.delete(n),s.delete(e),y}(n,e,t,r,i,s))},ny=function yD(n,e,t,r,i){return n===e||(null==n||null==e||!Ls(n)&&!Ls(e)?n!=n&&e!=e:_K(n,e,t,r,yD,i))},lc=function xK(n,e){return ny(n,e)};var AK=Object.prototype.hasOwnProperty;const bD=function TK(n){if(null==n)return!0;if(nl(n)&&(yr(n)||"string"==typeof n||"function"==typeof n.splice||V2(n)||r5(n)||L2(n)))return!n.length;var e=$2(n);if("[object Map]"==e||"[object Set]"==e)return!n.size;if(t5(n))return!lD(n).length;for(var t in n)if(AK.call(n,t))return!1;return!0};var FK=Object.getOwnPropertySymbols?function(n){for(var e=[];n;)Fv(e,Kv(n)),n=$v(n);return e}:cD;const wD=FK,UK=function $K(n){return oD(n,F2,wD)};var GK=Object.prototype.hasOwnProperty;var KK=/\w*$/;var MD=ns?ns.prototype:void 0,CD=MD?MD.valueOf:void 0;const CJ=function MJ(n,e,t){var r=n.constructor;switch(e){case"[object ArrayBuffer]":return jv(n);case"[object Boolean]":case"[object Date]":return new r(+n);case"[object DataView]":return function XK(n,e){var t=e?jv(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}(n,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Uz(n,t);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(n);case"[object RegExp]":return function JK(n){var e=new n.constructor(n.source,KK.exec(n));return e.lastIndex=n.lastIndex,e}(n);case"[object Symbol]":return function eJ(n){return CD?Object(CD.call(n)):{}}(n)}};var ED=k2&&k2.isMap;const zJ=ED?v0(ED):function _J(n){return Ls(n)&&"[object Map]"==$2(n)};var _D=k2&&k2.isSet;const IJ=_D?v0(_D):function AJ(n){return Ls(n)&&"[object Set]"==$2(n)};var xD="[object Arguments]",SD="[object Function]",zD="[object Object]",zt={};zt[xD]=zt["[object Array]"]=zt["[object ArrayBuffer]"]=zt["[object DataView]"]=zt["[object Boolean]"]=zt["[object Date]"]=zt["[object Float32Array]"]=zt["[object Float64Array]"]=zt["[object Int8Array]"]=zt["[object Int16Array]"]=zt["[object Int32Array]"]=zt["[object Map]"]=zt["[object Number]"]=zt[zD]=zt["[object RegExp]"]=zt["[object Set]"]=zt["[object String]"]=zt["[object Symbol]"]=zt["[object Uint8Array]"]=zt["[object Uint8ClampedArray]"]=zt["[object Uint16Array]"]=zt["[object Uint32Array]"]=!0,zt["[object Error]"]=zt[SD]=zt["[object WeakMap]"]=!1;const DD=function c5(n,e,t,r,i,s){var o,c=1&e,a=2&e,l=4&e;if(t&&(o=i?t(n,r,i,s):t(n)),void 0!==o)return o;if(!Gt(n))return n;var h=yr(n);if(h){if(o=function WK(n){var e=n.length,t=new n.constructor(e);return e&&"string"==typeof n[0]&&GK.call(n,"index")&&(t.index=n.index,t.input=n.input),t}(n),!c)return qz(n,o)}else{var d=$2(n),g=d==SD||"[object GeneratorFunction]"==d;if(V2(n))return $z(n,c);if(d==zD||d==xD||g&&!i){if(o=a||g?{}:Yz(n),!c)return a?function BK(n,e){return b0(n,wD(n),e)}(n,function HK(n,e){return n&&b0(e,F2(e),n)}(o,n)):function RK(n,e){return b0(n,Kv(n),e)}(n,function PK(n,e){return n&&b0(e,w0(e),n)}(o,n))}else{if(!zt[d])return i?n:{};o=CJ(n,d,c)}}s||(s=new R2);var p=s.get(n);if(p)return p;s.set(n,o),IJ(n)?n.forEach(function(w){o.add(c5(w,e,t,w,n,s))}):zJ(n)&&n.forEach(function(w,C){o.set(C,c5(w,e,t,C,n,s))});var y=h?void 0:(l?a?UK:Jv:a?F2:w0)(n);return function OK(n,e){for(var t=-1,r=null==n?0:n.length;++t<r&&!1!==e(n[t],t,n););}(y||n,function(w,C){y&&(w=n[C=w]),kv(o,C,c5(w,e,t,C,n,s))}),o},ry=function oQ(n){return DD(n,4)},Wt=function lQ(n){return DD(n,5)};var AD=Object.prototype,uQ=AD.hasOwnProperty,hQ=B2(function(n,e){n=Object(n);var t=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&i5(e[0],e[1],i)&&(r=1);++t<r;)for(var s=e[t],o=F2(s),c=-1,a=o.length;++c<a;){var l=o[c],h=n[l];(void 0===h||T2(h,AD[l])&&!uQ.call(n,l))&&(n[l]=s[l])}return n});const fQ=hQ,dQ=function TD(n,e,t,r,i,s){return Gt(n)&&Gt(e)&&(s.set(e,n),Gv(n,e,void 0,TD,s),s.delete(e)),n};var gQ=rD(function(n,e,t,r){Gv(n,e,t,r)});const pQ=gQ;var mQ=B2(function(n){return n.push(void 0,dQ),Lz(pQ,void 0,n)});const OD=mQ,yQ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])},MQ=/^\s*class\s+/.test(`${class wQ{}}`)||/^\s*class\s*\{/.test(`${class{}}`);function iy(n,e){let t;return MQ?t=class extends e{}:(t=function(){return e.apply(this,arguments)},function bQ(n,e){function t(){this.constructor=n}yQ(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}(t,e)),Object.defineProperty(t,"name",{value:n}),t}function ID(n){return"__proto__"===n}function sy(n,e,t="/"){let r;const i=Array.isArray(e)?e:e.split(t);if(i.length)for(r=n;i.length;){const s=i.shift();if(Object(r)!==r||!s||!(s in r))return;r=r[s]}return r}function U2(n,e,t,r="/"){const i=Array.isArray(e)?e:e.split(r),s=i.pop();if(s&&!ID(s)){let o=n;i.forEach(c=>{ID(c)||(null==o[c]&&(o[c]={}),o=o[c])}),o[s]=t}return n}function PD(n,e,t="/"){const r=Array.isArray(e)?e.slice():e.split(t),i=r.pop();if(i)if(r.length>0){const s=sy(n,r);s&&delete s[i]}else delete n[i];return n}class rs extends nG{}(function(n){n.dispose=fa.dispose})(rs||(rs={})),function vQ(n,...e){e.forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(r=>{"constructor"!==r&&Object.defineProperty(n.prototype,r,Object.getOwnPropertyDescriptor(t.prototype,r))})})}(rs,fa);const zQ=function SQ(n){return n!=n},LD=function IQ(n,e){return!(null==n||!n.length)&&function TQ(n,e,t){return e==e?function DQ(n,e,t){for(var r=t-1,i=n.length;++r<i;)if(n[r]===e)return r;return-1}(n,e,t):function _Q(n,e,t,r){for(var i=n.length,s=t+(r?1:-1);r?s--:++s<i;)if(e(n[s],s,n))return s;return-1}(n,zQ,t)}(n,e,0)>-1},HD=function PQ(n,e,t){for(var r=-1,i=null==n?0:n.length;++r<i;)if(t(e,n[r]))return!0;return!1};var RQ=j2&&1/Xv(new j2([,-0]))[1]==1/0?function(n){return new j2(n)}:function LQ(){};const VQ=RQ,ND=function FQ(n,e,t){var r=-1,i=LD,s=n.length,o=!0,c=[],a=c;if(t)o=!1,i=HD;else if(s>=200){var l=e?null:VQ(n);if(l)return Xv(l);o=!1,i=Yv,a=new Wv}else a=e?[]:c;e:for(;++r<s;){var h=n[r],d=e?e(h):h;if(h=t||0!==h?h:0,o&&d==d){for(var g=a.length;g--;)if(a[g]===d)continue e;e&&a.push(d),c.push(h)}else i(a,d,t)||(a!==c&&a.push(d),c.push(h))}return c},RD=function BQ(n){return n&&n.length?ND(n):[]};var jQ=B2(function(n){return ND(Qd(n,1,n5,!0))});const VD=jQ;var qQ=Math.floor,GQ=Math.min;const kD=function WQ(n,e,t,r){var i=0,s=null==n?0:n.length;if(0===s)return 0;for(var o=(e=t(e))!=e,c=null===e,a=yo(e),l=void 0===e;i<s;){var h=qQ((i+s)/2),d=t(n[h]),g=void 0!==d,p=null===d,v=d==d,y=yo(d);if(o)var w=r||v;else w=l?v&&(r||g):c?v&&g&&(r||!p):a?v&&g&&!p&&(r||!y):!p&&!y&&(r?d<=e:d<e);w?i=h+1:s=h}return GQ(s,4294967294)},QQ=function JQ(n,e){return function ZQ(n,e,t){var r=0,i=null==n?r:n.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var s=r+i>>>1,o=n[s];null!==o&&!yo(o)&&(t?o<=e:o<e)?r=s+1:i=s}return i}return kD(n,e,H2,t)}(n,e)},FD=function iee(n){return n==n&&!Gt(n)},BD=function cee(n,e){return function(t){return null!=t&&t[n]===e&&(void 0!==e||n in Object(t))}},lee=function aee(n){var e=function see(n){for(var e=w0(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,FD(i)]}return e}(n);return 1==e.length&&e[0][2]?BD(e[0][0],e[0][1]):function(t){return t===n||function nee(n,e,t,r){var i=t.length,s=i,o=!r;if(null==n)return!s;for(n=Object(n);i--;){var c=t[i];if(o&&c[2]?c[1]!==n[c[0]]:!(c[0]in n))return!1}for(;++i<s;){var a=(c=t[i])[0],l=n[a],h=c[1];if(o&&c[2]){if(void 0===l&&!(a in n))return!1}else{var d=new R2;if(r)var g=r(l,h,a,n,e,d);if(!(void 0===g?ny(h,l,3,r,d):g))return!1}}return!0}(t,n,e)}},pee=function gee(n,e){return Lv(n)&&FD(e)?BD(m0(n),e):function(t){var r=function uee(n,e,t){var r=null==n?void 0:Zd(n,e);return void 0===r?t:r}(t,n);return void 0===r&&r===e?Oz(t,n):ny(e,r,3)}},Mee=function wee(n){return Lv(n)?function mee(n){return function(e){return e?.[n]}}(m0(n)):function yee(n){return function(e){return Zd(e,n)}}(n)},oy=function Cee(n){return"function"==typeof n?n:null==n?H2:"object"==typeof n?yr(n)?pee(n[0],n[1]):lee(n):Mee(n)};var Dee=function zee(n,e){return function(t,r){if(null==t)return t;if(!nl(t))return n(t,r);for(var i=t.length,s=e?i:-1,o=Object(t);(e?s--:++s<i)&&!1!==r(o[s],s,o););return t}}(function xee(n,e){return n&&Vz(n,e,w0)});const jD=Dee,Lee=function Pee(n,e){if(n!==e){var t=void 0!==n,r=null===n,i=n==n,s=yo(n),o=void 0!==e,c=null===e,a=e==e,l=yo(e);if(!c&&!l&&!s&&n>e||s&&o&&a&&!c&&!l||r&&o&&a||!t&&a||!i)return 1;if(!r&&!s&&!l&&n<e||l&&t&&i&&!r&&!s||c&&t&&i||!o&&i||!a)return-1}return 0},Vee=function Ree(n,e,t){e=e.length?p0(e,function(s){return yr(s)?function(o){return Zd(o,1===s.length?s[0]:s)}:s}):[H2];var r=-1;e=p0(e,v0(oy));var i=function Aee(n,e){var t=-1,r=nl(n)?Array(n.length):[];return jD(n,function(i,s,o){r[++t]=e(i,s,o)}),r}(n,function(s,o,c){return{criteria:p0(e,function(l){return l(s)}),index:++r,value:s}});return function Oee(n,e){var t=n.length;for(n.sort(e);t--;)n[t]=n[t].value;return n}(i,function(s,o){return function Hee(n,e,t){for(var r=-1,i=n.criteria,s=e.criteria,o=i.length,c=t.length;++r<o;){var a=Lee(i[r],s[r]);if(a)return r>=c?a:a*("desc"==t[r]?-1:1)}return n.index-e.index}(s,o,t)})};var kee=B2(function(n,e){if(null==n)return[];var t=e.length;return t>1&&i5(n,e[0],e[1])?e=[]:t>2&&i5(e[0],e[1],e[2])&&(e=[e[0]]),Vee(n,Qd(e,1),[])});const Fee=kee,jee=function Bee(n,e,t,r){for(var i=-1,s=null==n?0:n.length;++i<s;){var o=n[i];e(r,o,t(o),n)}return r},Uee=function $ee(n,e,t,r){return jD(n,function(i,s,o){e(r,i,t(i),o)}),r};var Yee=Object.prototype.hasOwnProperty,Xee=function qee(n,e){return function(t,r){var i=yr(t)?jee:Uee,s=e?e():{};return i(t,n,oy(r),s)}}(function(n,e,t){Yee.call(n,t)?n[t].push(e):Jd(n,t,[e])});const $D=Xee;var Qee=B2(function(n,e){return n5(n)?function Kee(n,e,t,r){var i=-1,s=LD,o=!0,c=n.length,a=[],l=e.length;if(!c)return a;t&&(e=p0(e,v0(t))),r?(s=HD,o=!1):e.length>=200&&(s=Yv,o=!1,e=new Wv(e));e:for(;++i<c;){var h=n[i],d=null==t?h:t(h);if(h=r||0!==h?h:0,o&&d==d){for(var g=l;g--;)if(e[g]===d)continue e;a.push(h)}else s(e,d,r)||a.push(h)}return a}(n,Qd(e,1,n5,!0)):[]});const ete=Qee,ite=function rte(n,e){return n>e},ote=function ste(n){return n&&n.length?function tte(n,e,t){for(var r=-1,i=n.length;++r<i;){var s=n[r],o=e(s);if(null!=o&&(void 0===c?o==o&&!yo(o):t(o,c)))var c=o,a=s}return a}(n,H2,ite):void 0},pte=function hte(n){return function(e){return n?.[e]}}({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"});var mte=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Cte=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var xte=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var Dte=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var UD="\\ud800-\\udfff",qD="\\u2700-\\u27bf",GD="a-z\\xdf-\\xf6\\xf8-\\xff",WD="A-Z\\xc0-\\xd6\\xd8-\\xde",YD="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ZD="["+YD+"]",KD="\\d+",Bte="["+qD+"]",JD="["+GD+"]",QD="[^"+UD+YD+KD+qD+GD+WD+"]",eA="(?:\\ud83c[\\udde6-\\uddff]){2}",tA="[\\ud800-\\udbff][\\udc00-\\udfff]",q2="["+WD+"]",nA="(?:"+JD+"|"+QD+")",Gte="(?:"+q2+"|"+QD+")",rA="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",iA="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",sA="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",oA="[\\ufe0e\\ufe0f]?",Zte=oA+sA+"(?:\\u200d(?:"+["[^"+UD+"]",eA,tA].join("|")+")"+oA+sA+")*",Kte="(?:"+[Bte,eA,tA].join("|")+")"+Zte,Jte=RegExp([q2+"?"+JD+"+"+rA+"(?="+[ZD,q2,"$"].join("|")+")",Gte+"+"+iA+"(?="+[ZD,q2+nA,"$"].join("|")+")",q2+"?"+nA+"+"+rA,q2+"+"+iA,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",KD,Kte].join("|"),"g");const nne=function tne(n,e,t){return n=P2(n),void 0===(e=t?void 0:e)?function Ate(n){return Dte.test(n)}(n)?function Qte(n){return n.match(Jte)||[]}(n):function Ste(n){return n.match(xte)||[]}(n):n.match(e)||[]};var ine=RegExp("['\u2019]","g");const a5=function sne(n){return function(e){return function lte(n,e,t,r){var i=-1,s=null==n?0:n.length;for(r&&s&&(t=n[++i]);++i<s;)t=e(t,n[i],i,n);return t}(nne(function Ete(n){return(n=P2(n))&&n.replace(mte,pte).replace(Cte,"")}(e).replace(ine,"")),n,"")}},lne=function ane(n,e,t){var r=n.length;return t=void 0===t?r:t,!e&&t>=r?n:function one(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),(t=t>i?i:t)<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=n[r+e];return s}(n,e,t)};var vne=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const cA=function yne(n){return vne.test(n)};var aA="\\ud800-\\udfff",Sne="["+aA+"]",cy="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",ay="\\ud83c[\\udffb-\\udfff]",lA="[^"+aA+"]",uA="(?:\\ud83c[\\udde6-\\uddff]){2}",hA="[\\ud800-\\udbff][\\udc00-\\udfff]",fA="(?:"+cy+"|"+ay+")?",dA="[\\ufe0e\\ufe0f]?",Tne=dA+fA+"(?:\\u200d(?:"+[lA,uA,hA].join("|")+")"+dA+fA+")*",One="(?:"+[lA+cy+"?",cy,uA,hA,Sne].join("|")+")",Ine=RegExp(ay+"(?="+ay+")|"+One+Tne,"g");const Nne=function Hne(n){return cA(n)?function Pne(n){return n.match(Ine)||[]}(n):function bne(n){return n.split("")}(n)},gA=function Rne(n){return function(e){e=P2(e);var t=cA(e)?Nne(e):void 0,r=t?t[0]:e.charAt(0),i=t?lne(t,1).join(""):e.slice(1);return r[n]()+i}},M0=gA("toUpperCase");var kne=a5(function(n,e,t){return n+(t?" ":"")+M0(e)});const pA=kne;var jne=a5(function(n,e,t){return e=e.toLowerCase(),n+(t?function Fne(n){return M0(P2(n).toLowerCase())}(e):e)});const C0=jne;var $ne=a5(function(n,e,t){return n+(t?" ":"")+e.toUpperCase()});const Une=$ne;var qne=a5(function(n,e,t){return n+(t?" ":"")+e.toLowerCase()});const ly=qne,Wne=gA("toLowerCase"),il=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},mA=il(n=>n.replace(/\B([A-Z])/g,"-$1").toLowerCase()),uy=il(n=>pA(C0(n)).replace(/ /g,""));function hy(n){let e=2166136261,t=!1,r=n;for(let i=0,s=r.length;i<s;i+=1){let o=r.charCodeAt(i);o>127&&!t&&(r=unescape(encodeURIComponent(r)),o=r.charCodeAt(i),t=!0),e^=o,e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24)}return e>>>0}function l5(){let n="";for(let t=0,r=36;t<r;t+=1){const i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"[t],s=16*Math.random()|0;n+=("x"===i?s:"y"===i?3&s|8:i).toString(16)}return n}function Xne(n,e,t){let r=new Array(e.length+1),i=new Array(e.length+1);const s=t+1;for(let c=0;c<=e.length;c+=1)r[c]=c;for(let c=1;c<=n.length;c+=1){const a=n.charCodeAt(c-1),l=c>t?c-t:1,h=e.length>t+c?t+c:e.length;i[0]=c;let d=c;for(let p=1;p<l;p+=1)i[p]=s;for(let p=l;p<=h;p+=1){const v=a===e.charCodeAt(p-1)?r[p-1]:Math.min(r[p]+1,i[p-1]+1,r[p-1]+2);i[p]=v,d=Math.min(d,v)}for(let p=h+1;p<=e.length;p+=1)i[p]=s;if(d>t)return;const g=r;r=i,i=g}const o=r[e.length];return o>t?void 0:o}il(n=>Une(n).replace(/ /g,"_")),il(n=>ly(n).replace(/ /g,".")),il(n=>ly(n).replace(/ /g,"/")),il(n=>M0(ly(n))),il(n=>pA(C0(n)));const vA=function Kne(n){return"number"==typeof n||Ls(n)&&"[object Number]"==da(n)},is=function ere(n,e,t){return void 0===t&&(t=e,e=void 0),void 0!==t&&(t=(t=f0(t))==t?t:0),void 0!==e&&(e=(e=f0(e))==e?e:0),function Jne(n,e,t){return n==n&&(void 0!==t&&(n=n<=t?n:t),void 0!==e&&(n=n>=e?n:e)),n}(f0(n),e,t)};function uc(n){return"string"==typeof n&&"%"===n.slice(-1)}function Hs(n,e){if(null==n)return 0;let t;if("string"==typeof n){if(t=parseFloat(n),uc(n)&&(t/=100,Number.isFinite(t)))return t*e}else t=n;return Number.isFinite(t)?t>0&&t<1?t*e:t:0}function sl(n){if("object"==typeof n){let t=0,r=0,i=0,s=0;return null!=n.vertical&&Number.isFinite(n.vertical)&&(r=s=n.vertical),null!=n.horizontal&&Number.isFinite(n.horizontal)&&(i=t=n.horizontal),null!=n.left&&Number.isFinite(n.left)&&(t=n.left),null!=n.top&&Number.isFinite(n.top)&&(r=n.top),null!=n.right&&Number.isFinite(n.right)&&(i=n.right),null!=n.bottom&&Number.isFinite(n.bottom)&&(s=n.bottom),{top:r,right:i,bottom:s,left:t}}let e=0;return null!=n&&Number.isFinite(n)&&(e=n),{top:e,right:e,bottom:e,left:e}}let fy=!1,yA=!1,bA=!1,wA=!1,MA=!1,CA=!1,EA=!1,_A=!1,xA=!1,SA=!1,zA=!1,DA=!1,AA=!1,TA=!1,OA=!1,IA=!1;if("object"==typeof navigator){const n=navigator.userAgent;fy=n.indexOf("Macintosh")>=0,yA=!!n.match(/(iPad|iPhone|iPod)/g),bA=n.indexOf("Windows")>=0,wA=n.indexOf("MSIE")>=0,MA=!!n.match(/Trident\/7\./),CA=!!n.match(/Edge\//),EA=n.indexOf("Mozilla/")>=0&&n.indexOf("MSIE")<0&&n.indexOf("Edge/")<0,xA=n.indexOf("Chrome/")>=0&&n.indexOf("Edge/")<0,SA=n.indexOf("Opera/")>=0||n.indexOf("OPR/")>=0,zA=n.indexOf("Firefox/")>=0,DA=n.indexOf("AppleWebKit/")>=0&&n.indexOf("Chrome/")<0&&n.indexOf("Edge/")<0,"object"==typeof document&&(IA=!document.createElementNS||"[object SVGForeignObjectElement]"!=`${document.createElementNS("http://www.w3.org/2000/svg","foreignObject")}`||n.indexOf("Opera/")>=0)}if("object"==typeof window&&(_A=null!=window.chrome&&null!=window.chrome.app&&null!=window.chrome.app.runtime,TA=null!=window.PointerEvent&&!fy),"object"==typeof document){AA="ontouchstart"in document.documentElement;try{const n=Object.defineProperty({},"passive",{get(){OA=!0}}),e=document.createElement("div");e.addEventListener&&e.addEventListener("click",()=>{},n)}catch{}}var ga;(function(n){n.IS_MAC=fy,n.IS_IOS=yA,n.IS_WINDOWS=bA,n.IS_IE=wA,n.IS_IE11=MA,n.IS_EDGE=CA,n.IS_NETSCAPE=EA,n.IS_CHROME_APP=_A,n.IS_CHROME=xA,n.IS_OPERA=SA,n.IS_FIREFOX=zA,n.IS_SAFARI=DA,n.SUPPORT_TOUCH=AA,n.SUPPORT_POINTER=TA,n.SUPPORT_PASSIVE=OA,n.NO_FOREIGNOBJECT=IA,n.SUPPORT_FOREIGNOBJECT=!n.NO_FOREIGNOBJECT})(ga||(ga={})),function(n){function e(){const s=window.module;return null!=s&&null!=s.hot&&null!=s.hot.status?s.hot.status():"unkonwn"}n.getHMRStatus=e,n.isApplyingHMR=function t(){return"apply"===e()};const r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};n.isEventSupported=function i(s){const o=document.createElement(r[s]||"div"),c=`on${s}`;let a=c in o;return a||(o.setAttribute(c,"return;"),a="function"==typeof o[c]),a}}(ga||(ga={}));const dy=/[\t\r\n\f]/g,gy=/\S+/g,G2=n=>` ${n} `;function W2(n){return n&&n.getAttribute&&n.getAttribute("class")||""}function Y2(n,e){if(null==n||null==e)return!1;const t=G2(W2(n)),r=G2(e);return 1===n.nodeType&&t.replace(dy," ").includes(r)}function Ke(n,e){if(null!=n&&null!=e){if("function"==typeof e)return Ke(n,e(W2(n)));if("string"==typeof e&&1===n.nodeType){const t=e.match(gy)||[],r=G2(W2(n)).replace(dy," ");let i=t.reduce((s,o)=>s.indexOf(G2(o))<0?`${s}${o} `:s,r);i=i.trim(),r!==i&&n.setAttribute("class",i)}}}function ss(n,e){if(null!=n){if("function"==typeof e)return ss(n,e(W2(n)));if((!e||"string"==typeof e)&&1===n.nodeType){const t=(e||"").match(gy)||[],r=G2(W2(n)).replace(dy," ");let i=t.reduce((s,o)=>{const c=G2(o);return s.indexOf(c)>-1?s.replace(c," "):s},r);i=e?i.trim():"",r!==i&&n.setAttribute("class",i)}}}function PA(n,e,t){if(null!=n&&null!=e){if(null!=t&&"string"==typeof e)return void(t?Ke(n,e):ss(n,e));if("function"==typeof e)return PA(n,e(W2(n),t),t);"string"==typeof e&&(e.match(gy)||[]).forEach(i=>{Y2(n,i)?ss(n,i):Ke(n,i)})}}let LA=0;function py(n){return(null==n.id||""===n.id)&&(n.id=function tre(){return LA+=1,`v${LA}`}()),n.id}function pa(n){return null!=n&&"function"==typeof n.getScreenCTM&&n instanceof SVGElement}const Bn={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"};function NA(n,e=document){return e.createElement(n)}function my(n,e=Bn.xhtml,t=document){return t.createElementNS(e,n)}function hc(n,e=document){return my(n,Bn.svg,e)}function u5(n){if(n){const t=`<svg xmlns="${Bn.svg}" xmlns:xlink="${Bn.xlink}" version="1.1">${n}</svg>`,{documentElement:r}=function nre(n,e={}){let t;try{const r=new DOMParser;null!=e.async&&(r.async=e.async),t=r.parseFromString(n,e.mimeType||"text/xml")}catch{t=void 0}if(!t||t.getElementsByTagName("parsererror").length)throw new Error(`Invalid XML: ${n}`);return t}(t,{async:!1});return r}const e=document.createElementNS(Bn.svg,"svg");return e.setAttributeNS(Bn.xmlns,"xmlns:xlink",Bn.xlink),e.setAttribute("version","1.1"),e}function vy(n){let e=0,t=n.previousSibling;for(;t;)1===t.nodeType&&(e+=1),t=t.previousSibling;return e}function RA(n,e,t){const r=n.ownerSVGElement;let i=n.parentNode;for(;i&&i!==t&&i!==r;){if(Y2(i,e))return i;i=i.parentNode}return null}function VA(n,e){const t=e&&e.parentNode;return n===t||!!(t&&1===t.nodeType&&16&n.compareDocumentPosition(t))}function X2(n){n&&(Array.isArray(n)?n:[n]).forEach(t=>{t.parentNode&&t.parentNode.removeChild(t)})}function E0(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function _0(n,e){(Array.isArray(e)?e:[e]).forEach(r=>{null!=r&&n.appendChild(r)})}function yy(n,e){const t=n.parentNode;t&&(Array.isArray(e)?e:[e]).forEach(i=>{null!=i&&t.insertBefore(i,n)})}function kA(n){try{return n instanceof HTMLElement}catch{return"object"==typeof n&&1===n.nodeType&&"object"==typeof n.style&&"object"==typeof n.ownerDocument}}const FA=["viewBox","attributeName","attributeType","repeatCount","textLength","lengthAdjust","gradientUnits"];function BA(n,e){const t=$A(e);t.ns?n.hasAttributeNS(t.ns,t.local)&&n.removeAttributeNS(t.ns,t.local):n.hasAttribute(e)&&n.removeAttribute(e)}function by(n,e,t){if(null==t)return BA(n,e);const r=$A(e);r.ns&&"string"==typeof t?n.setAttributeNS(r.ns,e,t):"id"===e?n.id=`${t}`:n.setAttribute(e,`${t}`)}function jA(n,e){Object.keys(e).forEach(t=>{by(n,t,e[t])})}function yt(n,e,t){if(null==e){const r=n.attributes,i={};for(let s=0;s<r.length;s+=1)i[r[s].name]=r[s].value;return i}if("string"==typeof e&&void 0===t)return n.getAttribute(e);"object"==typeof e?jA(n,e):by(n,e,t)}function $A(n){if(-1!==n.indexOf(":")){const e=n.split(":");return{ns:Bn[e[0]],local:e[1]}}return{ns:null,local:n}}function x0(n){const e={};return Object.keys(n).forEach(t=>{const r=FA.includes(t)?t:mA(t);e[r]=n[t]}),e}function h5(n){const e={};return n.split(";").forEach(r=>{const i=r.trim();if(i){const s=i.split("=");s.length&&(e[s[0].trim()]=s[1]?s[1].trim():"")}}),e}function wy(n,e){return Object.keys(e).forEach(t=>{if("class"===t)n[t]=n[t]?`${n[t]} ${e[t]}`:e[t];else if("style"===t){const r="object"==typeof n[t],i="object"==typeof e[t];let s,o;r&&i?(s=n[t],o=e[t]):r?(s=n[t],o=h5(e[t])):i?(s=h5(n[t]),o=e[t]):(s=h5(n[t]),o=h5(e[t])),n[t]=wy(s,o)}else n[t]=e[t]}),n}function ure(n,e,t={}){const r=t.offset||0,i=[],s=[];let o,c,a=null;for(let l=0;l<n.length;l+=1){o=s[l]=n[l];for(let h=0,d=e.length;h<d;h+=1){const g=e[h];l>=g.start+r&&l<g.end+r&&("string"==typeof o?o=s[l]={t:n[l],attrs:g.attrs}:o.attrs=wy(wy({},o.attrs),g.attrs),t.includeAnnotationIndices&&(null==o.annotations&&(o.annotations=[]),o.annotations.push(h)))}c=s[l-1],c?Gt(o)&&Gt(c)?JSON.stringify(o.attrs)===JSON.stringify(c.attrs)?a.t+=o.t:(i.push(a),a=o):Gt(o)||Gt(c)?(i.push(a),a=o):a=(a||"")+o:a=o}return null!=a&&i.push(a),i}var UA;let ol;!function(n){function e(l){return"data:"===l.substr(0,5)}function r(l){let h=l.replace(/\s/g,"");h=decodeURIComponent(h);const d=h.indexOf(","),g=h.slice(0,d),p=g.split(":")[1].split(";")[0],v=h.slice(d+1);let y;y=g.indexOf("base64")>=0?atob(v):unescape(encodeURIComponent(v));const w=new Uint8Array(y.length);for(let C=0;C<y.length;C+=1)w[C]=y.charCodeAt(C);return new Blob([w],{type:p})}function i(l,h){const d=window.navigator.msSaveBlob;if(d)d(l,h);else{const g=window.URL.createObjectURL(l),p=document.createElement("a");p.href=g,p.download=h,document.body.appendChild(p),p.click(),document.body.removeChild(p),window.URL.revokeObjectURL(g)}}function c(l){const h=parseFloat(l);return Number.isNaN(h)?null:h}n.isDataUrl=e,n.imageToDataUri=function t(l,h){if(!l||e(l))return void setTimeout(()=>h(null,l));const d=()=>{h(new Error(`Failed to load image: ${l}`))},g=window.FileReader?v=>{if(200===v.status){const y=new FileReader;y.onload=w=>{h(null,w.target.result)},y.onerror=d,y.readAsDataURL(v.response)}else d()}:v=>{if(200===v.status){let w=l.split(".").pop()||"png";"svg"===w&&(w="svg+xml");const C=`data:image/${w};base64,`,M=new Uint8Array(v.response),E=C+btoa((w=>{const M=[];for(let E=0;E<w.length;E+=32768)M.push(String.fromCharCode.apply(null,w.subarray(E,E+32768)));return M.join("")})(M));h(null,E)}else d()},p=new XMLHttpRequest;p.responseType=window.FileReader?"blob":"arraybuffer",p.open("GET",l,!0),p.addEventListener("error",d),p.addEventListener("load",()=>g(p)),p.send()},n.dataUriToBlob=r,n.downloadBlob=i,n.downloadDataUri=function s(l,h){i(r(l),h)},n.svgToDataUrl=function a(l,h={}){let d=null;const g=E=>(null==d&&(d=function o(l){const h=l.match(/<svg[^>]*viewBox\s*=\s*(["']?)(.+?)\1[^>]*>/i);return h&&h[2]?h[2].replace(/\s+/," ").split(" "):null}(l)),null!=d?c(d[E]):null),p=E=>{const z=l.match(E);return z&&z[2]?c(z[2]):null};let v=h.width;if(null==v&&(v=p(/<svg[^>]*width\s*=\s*(["']?)(.+?)\1[^>]*>/i)),null==v&&(v=g(2)),null==v)throw new Error("Can not parse width from svg string");let y=h.height;if(null==y&&(y=p(/<svg[^>]*height\s*=\s*(["']?)(.+?)\1[^>]*>/i)),null==y&&(y=g(3)),null==y)throw new Error("Can not parse height from svg string");return`data:image/svg+xml,${encodeURIComponent(l).replace(/'/g,"%27").replace(/"/g,"%22")}`}}(UA||(UA={}));const fre={px:n=>n,mm:n=>ol*n,cm:n=>ol*n*10,in:n=>ol*n*25.4,pt:n=>ol*(25.4*n/72),pc:n=>ol*(25.4*n/6)};var qA;!function(n){function e(r,i,s){const o=document.createElement("div"),c=o.style;c.display="inline-block",c.position="absolute",c.left="-15000px",c.top="-15000px",c.width=r+(s||"px"),c.height=i+(s||"px"),document.body.appendChild(o);const a=o.getBoundingClientRect(),l={width:a.width||0,height:a.height||0};return document.body.removeChild(o),l}n.measure=e,n.toPx=function t(r,i){null==ol&&(ol=e("1","1","mm").width);const s=i?fre[i]:null;return s?s(r):r}}(qA||(qA={}));const dre=/-(.)/g,My={},GA=["webkit","ms","moz","o"],WA=document?document.createElement("div").style:{};function Cy(n,e){const t=n.ownerDocument&&n.ownerDocument.defaultView&&n.ownerDocument.defaultView.opener?n.ownerDocument.defaultView.getComputedStyle(n,null):window.getComputedStyle(n,null);return t&&e?t.getPropertyValue(e)||t[e]:t}document.selection||window;const mre={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function S0(n,e,t){if("string"!=typeof e)for(const r in e)S0(n,r,e[r]);else{const r=function vre(n){return/^--/.test(n)}(e);if(r||(e=function YA(n){const e=function gre(n){return n.replace(dre,(e,t)=>t.toUpperCase())}(n);if(null==My[e]){const t=e.charAt(0).toUpperCase()+e.slice(1);My[e]=e in WA?e:function pre(n){for(let e=0;e<GA.length;e+=1){const t=GA[e]+n;if(t in WA)return t}return null}(t)}return My[e]}(e)),void 0===t)return function f5(n,e,t){const r=window.getComputedStyle(n,null);return t?r.getPropertyValue(e)||void 0:r[e]||n.style[e]}(n,e,r);r||(t=function yre(n,e){return mre[n]||"number"!=typeof e?e:`${e}px`}(e,t));const i=n.style;r?i.setProperty(e,t):i[e]=t}}const g5=new WeakMap;function XA(n,e){const t=C0(e),r=g5.get(n);if(r)return r[t]}function cl(n,e,t){if(!e){const r={};return Object.keys(g5).forEach(i=>{r[i]=XA(n,i)}),r}if("string"==typeof e)return void 0===t?XA(n,e):void function bre(n,e,t){const r=C0(e),i=g5.get(n);i?i[r]=t:g5.set(n,{[r]:t})}(n,e,t);for(const r in e)cl(n,r,e[r])}class _e{get[Symbol.toStringTag](){return _e.toStringTag}get type(){return this.node.nodeName}get id(){return this.node.id}set id(e){this.node.id=e}constructor(e,t,r){if(!e)throw new TypeError("Invalid element to create vector");let i;if(_e.isVector(e))i=e.node;else if("string"==typeof e)if("svg"===e.toLowerCase())i=u5();else if("<"===e[0]){const s=u5(e);i=document.importNode(s.firstChild,!0)}else i=document.createElementNS(Bn.svg,e);else i=e;this.node=i,t&&this.setAttributes(t),r&&this.append(r)}transform(e,t){return null==e?K2(this.node):(K2(this.node,e,t),this)}translate(e,t=0,r={}){return null==e?sT(this.node):(sT(this.node,e,t,r),this)}rotate(e,t,r,i={}){return null==e?xy(this.node):(xy(this.node,e,t,r,i),this)}scale(e,t){return null==e?Sy(this.node):(Sy(this.node,e,t),this)}getTransformToElement(e){const t=_e.toNode(e);return T0(this.node,t)}removeAttribute(e){return BA(this.node,e),this}getAttribute(e){return function lre(n,e){return n.getAttribute(e)}(this.node,e)}setAttribute(e,t){return by(this.node,e,t),this}setAttributes(e){return jA(this.node,e),this}attr(e,t){return null==e?yt(this.node):"string"==typeof e&&void 0===t?yt(this.node,e):("object"==typeof e?yt(this.node,e):yt(this.node,e,t),this)}svg(){return this.node instanceof SVGSVGElement?this:_e.create(this.node.ownerSVGElement)}defs(){const e=this.svg()||this,t=e.node.getElementsByTagName("defs")[0];return t?_e.create(t):_e.create("defs").appendTo(e)}text(e,t={}){return JA(this.node,e,t),this}tagName(){return function rre(n,e=!0){const t=n.nodeName;return e?t.toLowerCase():t.toUpperCase()}(this.node)}clone(){return _e.create(this.node.cloneNode(!0))}remove(){return X2(this.node),this}empty(){return E0(this.node),this}append(e){return _0(this.node,_e.toNodes(e)),this}appendTo(e){return function cre(n,e){e?.appendChild(n)}(this.node,_e.isVector(e)?e.node:e),this}prepend(e){return function ore(n,e){const t=n.firstChild;t?yy(t,e):_0(n,e)}(this.node,_e.toNodes(e)),this}before(e){return yy(this.node,_e.toNodes(e)),this}replace(e){return this.node.parentNode&&this.node.parentNode.replaceChild(_e.toNode(e),this.node),_e.create(e)}first(){return this.node.firstChild?_e.create(this.node.firstChild):null}last(){return this.node.lastChild?_e.create(this.node.lastChild):null}get(e){const t=this.node.childNodes[e];return t?_e.create(t):null}indexOf(e){return Array.prototype.slice.call(this.node.childNodes).indexOf(_e.toNode(e))}find(e){const t=[],r=function ire(n,e){return n.querySelectorAll(e)}(this.node,e);if(r)for(let i=0,s=r.length;i<s;i+=1)t.push(_e.create(r[i]));return t}findOne(e){const t=function sre(n,e){return n.querySelector(e)}(this.node,e);return t?_e.create(t):null}findParentByClass(e,t){const r=RA(this.node,e,t);return r?_e.create(r):null}matches(e){const t=this.node,i=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null;return i&&i.call(t,e)}contains(e){return VA(this.node,_e.isVector(e)?e.node:e)}wrap(e){const t=_e.create(e),r=this.node.parentNode;return r?.insertBefore(t.node,this.node),t.append(this)}parent(e){let t=this;if(null==t.node.parentNode)return null;if(t=_e.create(t.node.parentNode),null==e)return t;do{if("string"==typeof e?t.matches(e):t instanceof e)return t}while(t=_e.create(t.node.parentNode));return t}children(){const e=this.node.childNodes,t=[];for(let r=0;r<e.length;r+=1)1===e[r].nodeType&&t.push(_e.create(e[r]));return t}eachChild(e,t){const r=this.children();for(let i=0,s=r.length;i<s;i+=1)e.call(r[i],r[i],i,r),t&&r[i].eachChild(e,t);return this}index(){return vy(this.node)}hasClass(e){return Y2(this.node,e)}addClass(e){return Ke(this.node,e),this}removeClass(e){return ss(this.node,e),this}toggleClass(e,t){return PA(this.node,e,t),this}toLocalPoint(e,t){return function Bre(n,e,t){const r=n instanceof SVGSVGElement?n:n.ownerSVGElement,i=r.createSVGPoint();i.x=e,i.y=t;try{const s=r.getScreenCTM(),o=i.matrixTransform(s.inverse()),c=T0(n,r).inverse();return o.matrixTransform(c)}catch{return i}}(this.node,e,t)}sample(e=1){return this.node instanceof SVGPathElement?function xre(n,e=1){const t=n.getTotalLength(),r=[];let s,i=0;for(;i<t;)s=n.getPointAtLength(i),r.push({distance:i,x:s.x,y:s.y}),i+=e;return r}(this.node,e):[]}toPath(){return _e.create(function Ire(n){const e=hc("path");yt(e,yt(n));const t=rT(n);return t&&e.setAttribute("d",t),e}(this.node))}toPathData(){return rT(this.node)}}!function(n){function e(o){if(null==o)return!1;if(o instanceof n)return!0;const c=o[Symbol.toStringTag];return(null==c||c===n.toStringTag)&&o.node instanceof SVGElement&&"function"==typeof o.sample&&"function"==typeof o.toPath}function t(o,c,a){return new n(o,c,a)}function i(o){return e(o)?o.node:o}n.toStringTag=`X6.${n.name}`,n.isVector=e,n.create=t,n.createVectors=function r(o){if("<"===o[0]){const c=u5(o),a=[];for(let l=0,h=c.childNodes.length;l<h;l+=1)a.push(t(document.importNode(c.childNodes[l],!0)));return a}return[t(o)]},n.toNode=i,n.toNodes=function s(o){return Array.isArray(o)?o.map(c=>i(c)):[i(o)]}}(_e||(_e={}));const ZA=document.createElement("canvas").getContext("2d");function Ere(n,e,t){const r=t.eol,i=t.baseSize,s=t.lineHeight;let c,o=0;const a={},l=e.length-1;for(let h=0;h<=l;h+=1){let d=e[h],g=null;if("object"==typeof d){const p=d.attrs,v=_e.create("tspan",p);c=v.node;let y=d.t;r&&h===l&&(y+=r),c.textContent=y;const w=p.class;w&&v.addClass(w),t.includeAnnotationIndices&&v.attr("annotations",d.annotations.join(",")),g=parseFloat(p["font-size"]),void 0===g&&(g=i),g&&g>o&&(o=g)}else r&&h===l&&(d+=r),c=document.createTextNode(d||" "),i&&i>o&&(o=i);n.appendChild(c)}return o&&(a.maxFontSize=o),s?a.lineHeight=s:o&&(a.lineHeight=1.2*o),a}const KA=/em$/;function p5(n,e){const t=parseFloat(n);return KA.test(n)?t*e:t}function JA(n,e,t={}){e=function hre(n){return n.replace(/ /g,"\xa0")}(e);const r=t.eol;let i=t.textPath;const s=t.textVerticalAnchor,o="middle"===s||"bottom"===s||"top"===s;let c=t.x;void 0===c&&(c=n.getAttribute("x")||0);const a=t.includeAnnotationIndices;let l=t.annotations;l&&!Array.isArray(l)&&(l=[l]);const h=t.lineHeight,d="auto"===h,g=d?"1.5em":h||"1em";let p=!0;const v=n.childNodes;if(1===v.length){const B=v[0];B&&"TITLE"===B.tagName.toUpperCase()&&(p=!1)}p&&E0(n),yt(n,{"xml:space":"preserve",display:e||t.displayEmpty?null:"none"});const y=yt(n,"font-size");let C,w=parseFloat(y);w||(w=16,(o||l)&&!y&&yt(n,"font-size",`${w}`)),i?("string"==typeof i&&(i={d:i}),C=function Cre(n,e){const t=_e.create(e),r=_e.create("textPath"),i=n.d;if(i&&void 0===n["xlink:href"]){const s=_e.create("path").attr("d",i).appendTo(t.defs());r.attr("xlink:href",`#${s.id}`)}return"object"==typeof n&&r.attr(n),r.node}(i,n)):C=document.createDocumentFragment();let M,z,E=0;const T=e.split("\n"),P=[],k=T.length-1;for(let B=0;B<=k;B+=1){M=g;let K="v-line";const Z=hc("tspan");let ee,ke=T[B];if(ke)if(l){ee=Ere(Z,ure(ke,l,{offset:-E,includeAnnotationIndices:a}),{eol:B!==k&&r,baseSize:w,lineHeight:d?null:g,includeAnnotationIndices:a});const R=ee.lineHeight;R&&d&&0!==B&&(M=R),0===B&&(z=.8*ee.maxFontSize)}else r&&B!==k&&(ke+=r),Z.textContent=ke;else{Z.textContent="-",K+=" v-empty-line";const Oe=Z.style;Oe.fillOpacity=0,Oe.strokeOpacity=0,l&&(ee={})}ee&&P.push(ee),B>0&&Z.setAttribute("dy",M),(B>0||i)&&Z.setAttribute("x",c),Z.className.baseVal=K,C.appendChild(Z),E+=ke.length+1}if(o)if(l)M=function _re(n,e,t,r){if(!Array.isArray(e))return 0;const i=e.length;if(!i)return 0;let s=e[0];const o=p5(s.maxFontSize,t)||t;let c=0;const a=p5(r,t);for(let d=1;d<i;d+=1)s=e[d],c+=p5(s.lineHeight,t)||a;const l=p5(s.maxFontSize,t)||t;let h;switch(n){case"middle":h=o/2-.15*l-c/2;break;case"bottom":h=-.25*l-c;break;default:h=.8*o}return h}(s,P,w,g);else if("top"===s)M="0.8em";else{let B;switch(k>0?(B=parseFloat(g)||1,B*=k,KA.test(g)||(B/=w)):B=0,s){case"middle":M=.3-B/2+"em";break;case"bottom":M=-B-.3+"em"}}else 0===s?M="0em":s?M=s:(M=0,null==n.getAttribute("y")&&n.setAttribute("y",`${z||"0.8em"}`));C.firstChild.setAttribute("dy",M),n.appendChild(C)}function z0(n,e={}){if(!n)return{width:0};const t=[],r=e["font-size"]?`${parseFloat(e["font-size"])}px`:"14px";return t.push(e["font-style"]||"normal"),t.push(e["font-variant"]||"normal"),t.push(e["font-weight"]||400),t.push(r),t.push(e["font-family"]||"sans-serif"),ZA.font=t.join(" "),ZA.measureText(n)}function QA(n,e,t,r={}){if(e>=t)return[n,""];const i=n.length,s={};let o=Math.round(e/t*i-1);for(o<0&&(o=0);o>=0&&o<i;){const c=n.slice(0,o),a=s[c]||z0(c,r).width,l=n.slice(0,o+1),h=s[l]||z0(l,r).width;if(s[c]=a,s[l]=h,a>e)o-=1;else{if(!(h<=e))break;o+=1}}return[n.slice(0,o),n.slice(o)]}function eT(n,e,t={},r={}){const i=e.width,s=e.height,o=r.eol||"\n",c=t.fontSize||14,a=t.lineHeight?parseFloat(t.lineHeight):Math.ceil(1.4*c),l=Math.floor(s/a);if(n.indexOf(o)>-1){const w=l5(),C=[];return n.split(o).map(M=>{const E=eT(M,Object.assign(Object.assign({},e),{height:Number.MAX_SAFE_INTEGER}),t,Object.assign(Object.assign({},r),{eol:w}));E&&C.push(...E.split(w))}),C.slice(0,l).join(o)}const{width:h}=z0(n,t);if(h<i)return n;const d=[];let g=n,p=h,v=r.ellipsis,y=0;v&&("string"!=typeof v&&(v="\u2026"),y=z0(v,t).width);for(let w=0;w<l;w+=1){if(!(p>i)){d.push(g);break}if(w===l-1){const[M]=QA(g,i-y,p,t);d.push(v?`${M}${v}`:M)}else{const[M,E]=QA(g,i,p,t);d.push(M),g=E,p=z0(g,t).width}}return d.join(o)}const Ey=.551784;function er(n,e,t=NaN){const r=n.getAttribute(e);if(null==r)return t;const i=parseFloat(r);return Number.isNaN(i)?t:i}function tT(n){return`M ${n.map(t=>`${t.x} ${t.y}`).join(" L")}`}function m5(n){const e=[],t=n.points;if(t)for(let r=0,i=t.numberOfItems;r<i;r+=1)e.push(t.getItem(r));return e}function nT(n){let e;const t=n.x,r=n.y,i=n.width,s=n.height,o=Math.min(n.rx||n["top-rx"]||0,i/2),c=Math.min(n.rx||n["bottom-rx"]||0,i/2),a=Math.min(n.ry||n["top-ry"]||0,s/2),l=Math.min(n.ry||n["bottom-ry"]||0,s/2);return e=o||c||a||l?["M",t,r+a,"v",s-a-l,"a",c,l,0,0,0,c,l,"h",i-2*c,"a",c,l,0,0,0,c,-l,"v",-(s-l-a),"a",o,a,0,0,0,-o,-a,"h",-(i-2*o),"a",o,a,0,0,0,-o,a,"Z"]:["M",t,r,"H",t+i,"V",r+s,"H",t,"V",r,"Z"],e.join(" ")}function rT(n){const e=n.tagName.toLowerCase();switch(e){case"path":return n.getAttribute("d");case"line":return function Sre(n){return["M",er(n,"x1"),er(n,"y1"),"L",er(n,"x2"),er(n,"y2")].join(" ")}(n);case"polygon":return function zre(n){const e=m5(n);return 0===e.length?null:`${tT(e)} Z`}(n);case"polyline":return function Dre(n){const e=m5(n);return 0===e.length?null:tT(e)}(n);case"ellipse":return function Tre(n){const e=er(n,"cx",0),t=er(n,"cy",0),r=er(n,"rx"),i=er(n,"ry")||r,s=r*Ey,o=i*Ey;return["M",e,t-i,"C",e+s,t-i,e+r,t-o,e+r,t,"C",e+r,t+o,e+s,t+i,e,t+i,"C",e-s,t+i,e-r,t+o,e-r,t,"C",e-r,t-o,e-s,t-i,e,t-i,"Z"].join(" ")}(n);case"circle":return function Are(n){const e=er(n,"cx",0),t=er(n,"cy",0),r=er(n,"r"),i=r*Ey;return["M",e,t-r,"C",e+i,t-r,e+r,t-i,e+r,t,"C",e+r,t+i,e+i,t+r,e,t+r,"C",e-i,t+r,e-r,t+i,e-r,t,"C",e-r,t-i,e-i,t-r,e,t-r,"Z"].join(" ")}(n);case"rect":return function Ore(n){return nT({x:er(n,"x",0),y:er(n,"y",0),width:er(n,"width",0),height:er(n,"height",0),rx:er(n,"rx",0),ry:er(n,"ry",0)})}(n)}throw new Error(`"${e}" cannot be converted to svg path element.`)}const v5=hc("svg"),Pre=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,iT=/[ ,]+/,Lre=/^(\w+)\((.*)\)/;function jn(n){const e=v5.createSVGMatrix();if(null!=n){const t=n,r=e;for(const i in t)r[i]=t[i]}return e}function D0(n){return null!=n?(n instanceof DOMMatrix||(n=jn(n)),v5.createSVGTransformFromMatrix(n)):v5.createSVGTransform()}function A0(n){let e=jn();const t=null!=n&&n.match(Pre);if(!t)return e;for(let r=0,i=t.length;r<i;r+=1){const o=t[r].match(Lre);if(o){let c,a,l,h,d,g=jn();const p=o[2].split(iT);switch(o[1].toLowerCase()){case"scale":c=parseFloat(p[0]),a=void 0===p[1]?c:parseFloat(p[1]),g=g.scaleNonUniform(c,a);break;case"translate":l=parseFloat(p[0]),h=parseFloat(p[1]),g=g.translate(l,h);break;case"rotate":d=parseFloat(p[0]),l=parseFloat(p[1])||0,h=parseFloat(p[2])||0,g=0!==l||0!==h?g.translate(l,h).rotate(d).translate(-l,-h):g.rotate(d);break;case"skewx":d=parseFloat(p[0]),g=g.skewX(d);break;case"skewy":d=parseFloat(p[0]),g=g.skewY(d);break;case"matrix":g.a=parseFloat(p[0]),g.b=parseFloat(p[1]),g.c=parseFloat(p[2]),g.d=parseFloat(p[3]),g.e=parseFloat(p[4]),g.f=parseFloat(p[5]);break;default:continue}e=e.multiply(g)}}return e}function Z2(n){const e=n||{};return`matrix(${null!=e.a?e.a:1},${null!=e.b?e.b:0},${null!=e.c?e.c:0},${null!=e.d?e.d:1},${null!=e.e?e.e:0},${null!=e.f?e.f:0})`}function y5(n){let e,t,r;if(n){const s=iT;if(n.trim().indexOf("matrix")>=0){const c=function Nre(n){const e=_y(n,{x:0,y:1}),t=_y(n,{x:1,y:0}),r=180/Math.PI*Math.atan2(e.y,e.x)-90;return{skewX:r,skewY:180/Math.PI*Math.atan2(t.y,t.x),translateX:n.e,translateY:n.f,scaleX:Math.sqrt(n.a*n.a+n.b*n.b),scaleY:Math.sqrt(n.c*n.c+n.d*n.d),rotation:r}}(A0(n));e=[c.translateX,c.translateY],t=[c.rotation],r=[c.scaleX,c.scaleY];const a=[];(0!==e[0]||0!==e[1])&&a.push(`translate(${e.join(",")})`),(1!==r[0]||1!==r[1])&&a.push(`scale(${r.join(",")})`),0!==t[0]&&a.push(`rotate(${t[0]})`),n=a.join(" ")}else{const o=n.match(/translate\((.*?)\)/);o&&(e=o[1].split(s));const c=n.match(/rotate\((.*?)\)/);c&&(t=c[1].split(s));const a=n.match(/scale\((.*?)\)/);a&&(r=a[1].split(s))}}const i=r&&r[0]?parseFloat(r[0]):1;return{raw:n||"",translation:{tx:e&&e[0]?parseInt(e[0],10):0,ty:e&&e[1]?parseInt(e[1],10):0},rotation:{angle:t&&t[0]?parseInt(t[0],10):0,cx:t&&t[1]?parseInt(t[1],10):void 0,cy:t&&t[2]?parseInt(t[2],10):void 0},scale:{sx:i,sy:r&&r[1]?parseFloat(r[1]):i}}}function _y(n,e){return{x:e.x*n.a+e.y*n.c+0,y:e.x*n.b+e.y*n.d+0}}function K2(n,e,t={}){if(null==e)return A0(yt(n,"transform"));if(t.absolute)return void n.setAttribute("transform",Z2(e));const r=n.transform,i=D0(e);r.baseVal.appendItem(i)}function sT(n,e,t=0,r={}){let i=yt(n,"transform");const s=y5(i);if(null==e)return s.translation;i=s.raw,i=i.replace(/translate\([^)]*\)/g,"").trim(),n.setAttribute("transform",`translate(${r.absolute?e:s.translation.tx+e},${r.absolute?t:s.translation.ty+t}) ${i}`.trim())}function xy(n,e,t,r,i={}){let s=yt(n,"transform");const o=y5(s);if(null==e)return o.rotation;s=o.raw,s=s.replace(/rotate\([^)]*\)/g,"").trim(),e%=360,n.setAttribute("transform",`${s} rotate(${i.absolute?e:o.rotation.angle+e}${null!=t&&null!=r?`,${t},${r}`:""})`.trim())}function Sy(n,e,t){let r=yt(n,"transform");const i=y5(r);if(null==e)return i.scale;t=t??e,r=i.raw,r=r.replace(/scale\([^)]*\)/g,"").trim(),n.setAttribute("transform",`${r} scale(${e},${t})`.trim())}function T0(n,e){if(pa(e)&&pa(n)){const t=e.getScreenCTM(),r=n.getScreenCTM();if(t&&r)return t.inverse().multiply(r)}return jn()}var os,al,Pe,J2,O0,jr,I0;!function(n){const e={};n.get=function t(s){return e[s]||{}},n.register=function r(s,o){e[s]=o},n.unregister=function i(s){delete e[s]}}(os||(os={})),function(n){const e=new WeakMap;n.ensure=function t(s){return e.has(s)||e.set(s,{events:Object.create(null)}),e.get(s)},n.get=function r(s){return e.get(s)},n.remove=function i(s){return e.delete(s)}}(al||(al={})),function(n){n.returnTrue=()=>!0,n.returnFalse=()=>!1,n.stopPropagationCallback=function e(i){i.stopPropagation()},n.addEventListener=function t(i,s,o){null!=i.addEventListener&&i.addEventListener(s,o)},n.removeEventListener=function r(i,s,o){null!=i.removeEventListener&&i.removeEventListener(s,o)}}(Pe||(Pe={})),function(n){const e=/[^\x20\t\r\n\f]+/g,t=/^([^.]*)(?:\.(.+)|)/;n.splitType=function r(c){return(c||"").match(e)||[""]},n.normalizeType=function i(c){const a=t.exec(c)||[];return{originType:a[1]?a[1].trim():a[1],namespaces:a[2]?a[2].split(".").map(l=>l.trim()).sort():[]}},n.isValidTarget=function s(c){return 1===c.nodeType||9===c.nodeType||!+c.nodeType},n.isValidSelector=function o(c,a){return!a||null!=c.querySelector&&null!=c.querySelector(a)}}(Pe||(Pe={})),function(n){let e=0;const t=new WeakMap;n.ensureHandlerId=function r(c){return t.has(c)||(t.set(c,e),e+=1),t.get(c)},n.getHandlerId=function i(c){return t.get(c)},n.removeHandlerId=function s(c){return t.delete(c)},n.setHandlerId=function o(c,a){return t.set(c,a)}}(Pe||(Pe={})),function(n){n.getHandlerQueue=function e(t,r){const i=[],s=al.get(t),o=s&&s.events&&s.events[r.type],c=o&&o.handlers||[],a=o?o.delegateCount:0;if(a>0&&!("click"===r.type&&"number"==typeof r.button&&r.button>=1))for(let l=r.target;l!==t;l=l.parentNode||t)if(1===l.nodeType&&("click"!==r.type||!0!==l.disabled)){const h=[],d={};for(let g=0;g<a;g+=1){const p=c[g],v=p.selector;if(null!=v&&null==d[v]){const w=[];t.querySelectorAll(v).forEach(C=>{w.push(C)}),d[v]=w.includes(l)}d[v]&&h.push(p)}h.length&&i.push({elem:l,handlers:h})}return a<c.length&&i.push({elem:t,handlers:c.slice(a)}),i}}(Pe||(Pe={})),function(n){n.isWindow=function e(t){return null!=t&&t===t.window}}(Pe||(Pe={})),function(n){n.contains=function e(t,r){const i=9===t.nodeType?t.documentElement:t,s=r&&r.parentNode;return t===s||!(!s||1!==s.nodeType||!(i.contains?i.contains(s):t.compareDocumentPosition&&16&t.compareDocumentPosition(s)))}}(Pe||(Pe={}));class wo{constructor(e,t){this.isDefaultPrevented=Pe.returnFalse,this.isPropagationStopped=Pe.returnFalse,this.isImmediatePropagationStopped=Pe.returnFalse,this.isSimulated=!1,this.preventDefault=()=>{const r=this.originalEvent;this.isDefaultPrevented=Pe.returnTrue,r&&!this.isSimulated&&r.preventDefault()},this.stopPropagation=()=>{const r=this.originalEvent;this.isPropagationStopped=Pe.returnTrue,r&&!this.isSimulated&&r.stopPropagation()},this.stopImmediatePropagation=()=>{const r=this.originalEvent;this.isImmediatePropagationStopped=Pe.returnTrue,r&&!this.isSimulated&&r.stopImmediatePropagation(),this.stopPropagation()},"string"==typeof e?this.type=e:e.type&&(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Pe.returnTrue:Pe.returnFalse,this.target=e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget,this.timeStamp=e.timeStamp),t&&Object.assign(this,t),this.timeStamp||(this.timeStamp=Date.now())}}(function(n){n.create=function e(t){return t instanceof n?t:new n(t)}})(wo||(wo={})),function(n){n.addProperty=function e(t,r){Object.defineProperty(n.prototype,t,{enumerable:!0,configurable:!0,get:"function"==typeof r?function(){if(this.originalEvent)return r(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set(i){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:i})}})}}(wo||(wo={})),function(n){const e={bubbles:!0,cancelable:!0,eventPhase:!0,detail:!0,view:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pageX:!0,pageY:!0,screenX:!0,screenY:!0,toElement:!0,pointerId:!0,pointerType:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,touches:!0,changedTouches:!0,targetTouches:!0,which:!0,altKey:!0,ctrlKey:!0,metaKey:!0,shiftKey:!0};Object.keys(e).forEach(t=>n.addProperty(t,e[t]))}(wo||(wo={})),J2||(J2={}),os.register("load",{noBubble:!0}),J2||(J2={}),os.register("beforeunload",{postDispatch(e,t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}),J2||(J2={}),os.register("mouseenter",{delegateType:"mouseover",bindType:"mouseover",handle(e,t){let r;const i=t.relatedTarget,s=t.handleObj;return(!i||i!==e&&!Pe.contains(e,i))&&(t.type=s.originType,r=s.handler.call(e,t),t.type="mouseover"),r}}),os.register("mouseleave",{delegateType:"mouseout",bindType:"mouseout",handle(e,t){let r;const i=t.relatedTarget,s=t.handleObj;return(!i||i!==e&&!Pe.contains(e,i))&&(t.type=s.originType,r=s.handler.call(e,t),t.type="mouseout"),r}}),function(n){let e;function i(o,c,...a){const l=wo.create(c);l.delegateTarget=o;const h=os.get(l.type);if(h.preDispatch&&!1===h.preDispatch(o,l))return;const d=Pe.getHandlerQueue(o,l);for(let g=0,p=d.length;g<p&&!l.isPropagationStopped();g+=1){const v=d[g];l.currentTarget=v.elem;for(let y=0,w=v.handlers.length;y<w&&!l.isImmediatePropagationStopped();y+=1){const C=v.handlers[y];if(null==l.rnamespace||C.namespace&&l.rnamespace.test(C.namespace)){l.handleObj=C,l.data=C.data;const M=os.get(C.originType).handle,E=M?M(v.elem,l,...a):C.handler.call(v.elem,l,...a);void 0!==E&&(l.result=E,!1===E&&(l.preventDefault(),l.stopPropagation()))}}}return h.postDispatch&&h.postDispatch(o,l),l.result}n.on=function t(o,c,a,l,h){if(!Pe.isValidTarget(o))return;let d;if("function"!=typeof a){const{handler:y,selector:w}=a,C=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(a,["handler","selector"]);a=y,h=w,d=C}const g=al.ensure(o);let p=g.handler;null==p&&(p=g.handler=function(y,...w){return e!==y.type?i(o,y,...w):void 0});const v=Pe.ensureHandlerId(a);Pe.splitType(c).forEach(y=>{const{originType:w,namespaces:C}=Pe.normalizeType(y);if(!w)return;let M=w,E=os.get(M);M=(h?E.delegateType:E.bindType)||M,E=os.get(M);const z=Object.assign({type:M,originType:w,data:l,selector:h,guid:v,handler:a,namespace:C.join(".")},d),T=g.events;let P=T[M];P||(P=T[M]={handlers:[],delegateCount:0},(!E.setup||!1===E.setup(o,l,C,p))&&Pe.addEventListener(o,M,p)),E.add&&(Pe.removeHandlerId(z.handler),E.add(o,z),Pe.setHandlerId(z.handler,v)),h?(P.handlers.splice(P.delegateCount,0,z),P.delegateCount+=1):P.handlers.push(z)})},n.off=function r(o,c,a,l,h){const d=al.get(o);if(!d)return;const g=d.events;g&&(Pe.splitType(c).forEach(p=>{const{originType:v,namespaces:y}=Pe.normalizeType(p);if(!v)return void Object.keys(g).forEach(T=>{r(o,T+p,a,l,!0)});let w=v;const C=os.get(w);w=(l?C.delegateType:C.bindType)||w;const M=g[w]||{},E=y.length>0?new RegExp(`(^|\\.)${y.join("\\.(?:.*\\.|)")}(\\.|$)`):null,z=M.handlers.length;for(let T=M.handlers.length-1;T>=0;T-=1){const P=M.handlers[T];(h||v===P.originType)&&(!a||Pe.getHandlerId(a)===P.guid)&&(null==E||P.namespace&&E.test(P.namespace))&&(null==l||l===P.selector||"**"===l&&P.selector)&&(M.handlers.splice(T,1),P.selector&&(M.delegateCount-=1),C.remove&&C.remove(o,P))}z&&0===M.handlers.length&&((!C.teardown||!1===C.teardown(o,y,d.handler))&&Pe.removeEventListener(o,w,d.handler),delete g[w])}),0===Object.keys(g).length&&al.remove(o))},n.dispatch=i,n.trigger=function s(o,c,a,l){let h=o,d="string"==typeof o?o:o.type,g="string"==typeof o||null==h.namespace?[]:h.namespace.split(".");const p=a;if(3===p.nodeType||8===p.nodeType)return;d.indexOf(".")>-1&&(g=d.split("."),d=g.shift(),g.sort());const v=d.indexOf(":")<0&&`on${d}`;h=o instanceof wo?o:new wo(d,"object"==typeof o?o:null),h.namespace=g.join("."),h.rnamespace=h.namespace?new RegExp(`(^|\\.)${g.join("\\.(?:.*\\.|)")}(\\.|$)`):null,h.result=void 0,h.target||(h.target=p);const y=[h];Array.isArray(c)?y.push(...c):y.push(c);const w=os.get(d);if(!l&&w.trigger&&!1===w.trigger(p,h,c))return;let C;const M=[p];if(!l&&!w.noBubble&&!Pe.isWindow(p)){C=w.delegateType||d;let z=p,T=p.parentNode;for(;null!=T;)M.push(T),z=T,T=T.parentNode;if(z===(p.ownerDocument||document)){const k=z.defaultView||z.parentWindow||window;M.push(k)}}let E=p;for(let z=0,T=M.length;z<T&&!h.isPropagationStopped();z+=1){const P=M[z];E=P,h.type=z>1?C:w.bindType||d;const k=al.get(P);k&&k.events[h.type]&&k.handler&&k.handler.call(P,...y);const G=v&&P[v]||null;G&&Pe.isValidTarget(P)&&(h.result=G.call(P,...y),!1===h.result&&h.preventDefault())}if(h.type=d,!l&&!h.isDefaultPrevented()){const z=w.preventDefault;if((null==z||!1===z(M.pop(),h,c))&&Pe.isValidTarget(p)&&v&&"function"==typeof p[d]&&!Pe.isWindow(p)){const T=p[v];T&&(p[v]=null),e=d,h.isPropagationStopped()&&E.addEventListener(d,Pe.stopPropagationCallback),p[d](),h.isPropagationStopped()&&E.removeEventListener(d,Pe.stopPropagationCallback),e=void 0,T&&(p[v]=T)}}return h.result}}(O0||(O0={})),function(n){n.on=function e(s,o,c,a,l){return I0.on(s,o,c,a,l),s},n.once=function t(s,o,c,a,l){return I0.on(s,o,c,a,l,!0),s},n.off=function r(s,o,c,a){return I0.off(s,o,c,a),s},n.trigger=function i(s,o,c,a){return O0.trigger(o,c,s,a),s}}(jr||(jr={})),function(n){n.on=function e(r,i,s,o,c,a){if("object"==typeof i)return"string"!=typeof s&&(o=o||s,s=void 0),void Object.keys(i).forEach(l=>e(r,l,s,o,i[l],a));if(null==o&&null==c?(c=s,o=s=void 0):null==c&&("string"==typeof s?(c=o,o=void 0):(c=o,o=s,s=void 0)),!1===c)c=Pe.returnFalse;else if(!c)return;if(a){const l=c;Pe.setHandlerId(c=function(h,...d){return n.off(r,h),l.call(this,h,...d)},Pe.ensureHandlerId(l))}O0.on(r,i,c,o,s)},n.off=function t(r,i,s,o){if(i&&null!=i.preventDefault&&null!=i.handleObj){const a=i.handleObj;t(i.delegateTarget,a.namespace?`${a.originType}.${a.namespace}`:a.originType,a.selector,a.handler)}else if("object"!=typeof i)(!1===s||"function"==typeof s)&&(o=s,s=void 0),!1===o&&(o=Pe.returnFalse),O0.off(r,i,o,s);else{const a=i;Object.keys(a).forEach(l=>t(r,l,s,a[l]))}}}(I0||(I0={}));class oT{constructor(e,t,r){this.animationFrameId=0,this.deltaX=0,this.deltaY=0,this.eventName=ga.isEventSupported("wheel")?"wheel":"mousewheel",this.target=e,this.onWheelCallback=t,this.onWheelGuard=r,this.onWheel=this.onWheel.bind(this),this.didWheel=this.didWheel.bind(this)}enable(){this.target.addEventListener(this.eventName,this.onWheel,{passive:!1})}disable(){this.target.removeEventListener(this.eventName,this.onWheel)}onWheel(e){if(null!=this.onWheelGuard&&!this.onWheelGuard(e))return;let t;this.deltaX+=e.deltaX,this.deltaY+=e.deltaY,e.preventDefault(),(0!==this.deltaX||0!==this.deltaY)&&(e.stopPropagation(),t=!0),!0===t&&0===this.animationFrameId&&(this.animationFrameId=requestAnimationFrame(()=>{this.didWheel(e)}))}didWheel(e){this.animationFrameId=0,this.onWheelCallback(e,this.deltaX,this.deltaY),this.deltaX=0,this.deltaY=0}}function aT(n,e=60){let t=null;return(...r)=>{t&&clearTimeout(t),t=window.setTimeout(()=>{n.apply(this,r)},e)}}const qre=typeof ResizeObserver<"u"?function Ure(n){let e=null,t=[];const r=aT(()=>{t.forEach(a=>{a(n)})}),o=()=>{e&&(e.disconnect(),t=[],e=null)};return{element:n,bind:a=>{e||(e=(()=>{const a=new ResizeObserver(r);return a.observe(n),r(),a})()),-1===t.indexOf(a)&&t.push(a)},destroy:o,unbind:a=>{const l=t.indexOf(a);-1!==l&&t.splice(l,1),0===t.length&&e&&o()}}}:function $re(n){let e=null,t=[];const i=aT(()=>{t.forEach(a=>a(n))}),o=()=>{e&&e.parentNode&&(e.contentDocument&&e.contentDocument.defaultView.removeEventListener("resize",i),e.parentNode.removeChild(e),e=null,t=[])};return{element:n,bind:a=>{e||(e=(()=>{"static"===getComputedStyle(n).position&&(n.style.position="relative");const a=document.createElement("object");return a.onload=()=>{a.contentDocument.defaultView.addEventListener("resize",i),i()},a.style.display="block",a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.height="100%",a.style.width="100%",a.style.overflow="hidden",a.style.pointerEvents="none",a.style.zIndex="-1",a.style.opacity="0",a.setAttribute("tabindex","-1"),a.type="text/html",n.appendChild(a),a.data="about:blank",a})()),-1===t.indexOf(a)&&t.push(a)},destroy:o,unbind:a=>{const l=t.indexOf(a);-1!==l&&t.splice(l,1),0===t.length&&e&&o()}}};var b5,zy,Q2;!function(n){const e=new WeakMap;function t(i){let s=e.get(i);return s||(s=qre(i),e.set(i,s),s)}n.bind=(i,s)=>{const o=t(i);return o.bind(s),()=>o.unbind(s)},n.clear=i=>{!function r(i){i.destroy(),e.delete(i.element)}(t(i))}}(b5||(b5={}));class P0{constructor(e={}){this.comparator=e.comparator||P0.defaultComparator,this.index={},this.data=e.data||[],this.heapify()}isEmpty(){return 0===this.data.length}insert(e,t,r){const i={priority:e,value:t},s=this.data.length;return r&&(i.id=r,this.index[r]=s),this.data.push(i),this.bubbleUp(s),this}peek(){return this.data[0]?this.data[0].value:null}peekPriority(){return this.data[0]?this.data[0].priority:null}updatePriority(e,t){const r=this.index[e];if(typeof r>"u")throw new Error(`Node with id '${e}' was not found in the heap.`);const i=this.data,o=this.comparator(t,i[r].priority);o<0?(i[r].priority=t,this.bubbleUp(r)):o>0&&(i[r].priority=t,this.bubbleDown(r))}remove(){const e=this.data,t=e[0],r=e.pop();return t.id&&delete this.index[t.id],e.length>0&&(e[0]=r,r.id&&(this.index[r.id]=0),this.bubbleDown(0)),t?t.value:null}heapify(){for(let e=0;e<this.data.length;e+=1)this.bubbleUp(e)}bubbleUp(e){const t=this.data;let r,i,s=e;for(;s>0&&(i=s-1>>>1,this.comparator(t[s].priority,t[i].priority)<0);){r=t[i],t[i]=t[s];let o=t[s].id;null!=o&&(this.index[o]=i),t[s]=r,o=t[s].id,null!=o&&(this.index[o]=s),s=i}}bubbleDown(e){const t=this.data,r=t.length-1;let i=e;for(;;){const s=1+(i<<1),o=s+1;let c=i;if(s<=r&&this.comparator(t[s].priority,t[c].priority)<0&&(c=s),o<=r&&this.comparator(t[o].priority,t[c].priority)<0&&(c=o),c===i)break;{const a=t[c];t[c]=t[i];let l=t[i].id;null!=l&&(this.index[l]=c),t[i]=a,l=t[i].id,null!=l&&(this.index[l]=i),i=c}}}}!function(n){n.defaultComparator=(e,t)=>e-t}(P0||(P0={})),function(n){n.run=function e(t,r,i=((s,o)=>1)){const s={},o={},c={},a=new P0;for(s[r]=0,Object.keys(t).forEach(l=>{l!==r&&(s[l]=1/0),a.insert(s[l],l,l)});!a.isEmpty();){const l=a.remove();c[l]=!0;const h=t[l]||[];for(let d=0;d<h.length;d+=1){const g=h[d];if(!c[g]){const p=s[l]+i(l,g);p<s[g]&&(s[g]=p,o[g]=l,a.updatePriority(g,p))}}}return o}}(zy||(zy={}));class fc{constructor(e,t,r,i){return null==e?this.set(255,255,255,1):"number"==typeof e?this.set(e,t,r,i):"string"==typeof e?fc.fromString(e)||this:Array.isArray(e)?this.set(e):void this.set(e.r,e.g,e.b,null==e.a?1:e.a)}blend(e,t,r){this.set(e.r+(t.r-e.r)*r,e.g+(t.g-e.g)*r,e.b+(t.b-e.b)*r,e.a+(t.a-e.a)*r)}lighten(e){const t=fc.lighten(this.toArray(),e);this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}darken(e){this.lighten(-e)}set(e,t,r,i){const s=Array.isArray(e)?e[0]:e,o=Array.isArray(e)?e[1]:t,c=Array.isArray(e)?e[2]:r,a=Array.isArray(e)?e[3]:i;return this.r=Math.round(is(s,0,255)),this.g=Math.round(is(o,0,255)),this.b=Math.round(is(c,0,255)),this.a=null==a?1:is(a,0,1),this}toHex(){return`#${["r","g","b"].map(t=>{const r=this[t].toString(16);return r.length<2?`0${r}`:r}).join("")}`}toRGBA(){return this.toArray()}toHSLA(){return fc.rgba2hsla(this.r,this.g,this.b,this.a)}toCSS(e){const t=`${this.r},${this.g},${this.b},`;return e?`rgb(${t})`:`rgba(${t},${this.a})`}toGrey(){return fc.makeGrey(Math.round((this.r+this.g+this.b)/3),this.a)}toArray(){return[this.r,this.g,this.b,this.a]}toString(){return this.toCSS()}}(function(n){function t(E){return new n([...v(E),1])}function r(E){const z=E.toLowerCase().match(/^rgba?\(([\s.,0-9]+)\)/);if(z){const T=z[1].split(/\s*,\s*/).map(P=>parseInt(P,10));return new n(T)}return null}function i(E,z,T){T<0&&++T,T>1&&--T;const P=6*T;return P<1?E+(z-E)*P:2*T<1?z:3*T<2?E+(z-E)*(2/3-T)*6:E}function s(E){const z=E.toLowerCase().match(/^hsla?\(([\s.,0-9]+)\)/);if(z){const T=z[2].split(/\s*,\s*/),P=(parseFloat(T[0])%360+360)%360/360,k=parseFloat(T[1])/100,G=parseFloat(T[2])/100,B=null==T[3]?1:parseInt(T[3],10);return new n(l(P,k,G,B))}return null}function l(E,z,T,P){const k=Array.isArray(E)?E[0]:E,G=Array.isArray(E)?E[1]:z,B=Array.isArray(E)?E[2]:T,K=Array.isArray(E)?E[3]:P,Z=B<=.5?B*(G+1):B+G-B*G,ee=2*B-Z;return[256*i(ee,Z,k+1/3),256*i(ee,Z,k),256*i(ee,Z,k-1/3),K??1]}function h(E){return new n(Math.round(256*Math.random()),Math.round(256*Math.random()),Math.round(256*Math.random()),E?void 0:parseFloat(Math.random().toFixed(2)))}function v(E){const z=0===E.indexOf("#")?E:`#${E}`;let T=+`0x${z.substr(1)}`;if(4!==z.length&&7!==z.length||Number.isNaN(T))throw new Error("Invalid hex color.");const P=4===z.length?4:8,k=(1<<P)-1,G=["b","g","r"].map(()=>{const B=T&k;return T>>=P,4===P?17*B:B});return[G[2],G[1],G[0]]}function y(E,z,T){const P=k=>k.length<2?`0${k}`:k;return`${P(E.toString(16))}${P(z.toString(16))}${P(T.toString(16))}`}function M(E,z){if("string"==typeof E){const k="#"===E[0],G=parseInt(k?E.substr(1):E,16),B=is((G>>16)+z,0,255),K=is((G>>8&255)+z,0,255);return`${k?"#":""}${(is((255&G)+z,0,255)|K<<8|B<<16).toString(16)}`}const P=v(M(y(E[0],E[1],E[2]),z));return[P[0],P[1],P[2],E[3]]}n.fromArray=function e(E){return new n(E)},n.fromHex=t,n.fromRGBA=r,n.fromHSLA=s,n.fromString=function o(E){if(E.startsWith("#"))return t(E);if(E.startsWith("rgb"))return r(E);const z=n.named[E];return z?t(z):s(E)},n.makeGrey=function c(E,z){return n.fromArray([E,E,E,z])},n.rgba2hsla=function a(E,z,T,P){const k=Array.isArray(E)?E[0]:E,G=Array.isArray(E)?E[1]:z,B=Array.isArray(E)?E[2]:T,K=Array.isArray(E)?E[3]:P,Z=Math.max(k,G,B),ee=Math.min(k,G,B),ke=(Z+ee)/2;let Oe=0,R=0;if(ee!==Z){const N=Z-ee;switch(R=ke>.5?N/(2-Z-ee):N/(Z+ee),Z){case k:Oe=(G-B)/N+(G<B?6:0);break;case G:Oe=(B-k)/N+2;break;case B:Oe=(k-G)/N+4}Oe/=6}return[Oe,R,ke,K??1]},n.hsla2rgba=l,n.random=h,n.randomHex=function d(){let z="#";for(let T=0;T<6;T+=1)z+="0123456789ABCDEF"[Math.floor(16*Math.random())];return z},n.randomRGBA=function g(E){return h(E).toString()},n.invert=function p(E,z){if("string"==typeof E){const B="#"===E[0],[K,Z,ee]=v(E);return z?.299*K+.587*Z+.114*ee>186?"#000000":"#ffffff":`${B?"#":""}${y(255-K,255-Z,255-ee)}`}const T=E[0],P=E[1],k=E[2],G=E[3];return z?.299*T+.587*P+.114*k>186?[0,0,0,G]:[255,255,255,G]:[255-T,255-P,255-k,G]},n.lighten=function w(E,z){return M(E,z)},n.darken=function C(E,z){return M(E,-z)}})(fc||(fc={})),function(n){n.named={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",burntsienna:"#ea7e5d",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}}(fc||(fc={}));class Dy{constructor(){this.clear()}clear(){this.map=new WeakMap,this.arr=[]}has(e){return this.map.has(e)}get(e){return this.map.get(e)}set(e,t){this.map.set(e,t),this.arr.push(e)}delete(e){const t=this.arr.indexOf(e);t>=0&&this.arr.splice(t,1);const r=this.map.get(e);return this.map.delete(e),r}each(e){this.arr.forEach(t=>{const r=this.map.get(t);e(r,t)})}dispose(){this.clear()}}!function(n){function e(i){const s=[],o=[];return Array.isArray(i)?s.push(...i):i.split("|").forEach(c=>{-1===c.indexOf("&")?s.push(c):o.push(...c.split("&"))}),{or:s,and:o}}n.parse=e,n.equals=function t(i,s){if(null!=i&&null!=s){const o=e(i),c=e(s),a=o.or.sort(),l=c.or.sort(),h=o.and.sort(),d=c.and.sort(),g=(p,v)=>p.length===v.length&&(0===p.length||p.every((y,w)=>y===v[w]));return g(a,l)&&g(h,d)}return null==i&&null==s},n.isMatch=function r(i,s,o){if(null==s||Array.isArray(s)&&0===s.length)return!o||!0!==i.altKey&&!0!==i.ctrlKey&&!0!==i.metaKey&&!0!==i.shiftKey;const{or:c,and:a}=e(s),l=h=>{const d=`${h.toLowerCase()}Key`;return!0===i[d]};return c.some(h=>l(h))&&a.every(h=>l(h))}}(Q2||(Q2={}));var e3=function(n){return n.linear=e=>e,n.quad=e=>e*e,n.cubic=e=>e*e*e,n.inout=e=>{if(e<=0)return 0;if(e>=1)return 1;const t=e*e,r=t*e;return 4*(e<.5?r:3*(e-t)+r-.75)},n.exponential=e=>Math.pow(2,10*(e-1)),n.bounce=e=>{for(let t=0,r=1;;t+=r,r/=2)if(e>=(7-4*t)/11){const i=(11-6*t-11*e)/4;return-i*i+r*r}},n}(e3||{});(function(n){n.decorators={reverse:e=>t=>1-e(1-t),reflect:e=>t=>.5*(t<.5?e(2*t):2-e(2-2*t)),clamp:(e,t=0,r=1)=>i=>{const s=e(i);return s<t?t:s>r?r:s},back:(e=1.70158)=>t=>t*t*((e+1)*t-e),elastic:(e=1.5)=>t=>Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*e/3*t)}})(e3||(e3={})),function(n){function ee(R){const N=R/1;if(N<1/2.75)return 7.5625*N*N;if(N<2/2.75){const X=N-.5454545454545454;return 7.5625*X*X+.75}if(N<2.5/2.75){const X=N-.8181818181818182;return 7.5625*X*X+.9375}{const X=N-.9545454545454546;return 7.5625*X*X+.984375}}function ke(R){return 1-ee(1-R)}n.easeInSine=function e(R){return-1*Math.cos(R*(Math.PI/2))+1},n.easeOutSine=function t(R){return Math.sin(R*(Math.PI/2))},n.easeInOutSine=function r(R){return-.5*(Math.cos(Math.PI*R)-1)},n.easeInQuad=function i(R){return R*R},n.easeOutQuad=function s(R){return R*(2-R)},n.easeInOutQuad=function o(R){return R<.5?2*R*R:(4-2*R)*R-1},n.easeInCubic=function c(R){return R*R*R},n.easeOutCubic=function a(R){const N=R-1;return N*N*N+1},n.easeInOutCubic=function l(R){return R<.5?4*R*R*R:(R-1)*(2*R-2)*(2*R-2)+1},n.easeInQuart=function h(R){return R*R*R*R},n.easeOutQuart=function d(R){const N=R-1;return 1-N*N*N*N},n.easeInOutQuart=function g(R){const N=R-1;return R<.5?8*R*R*R*R:1-8*N*N*N*N},n.easeInQuint=function p(R){return R*R*R*R*R},n.easeOutQuint=function v(R){const N=R-1;return 1+N*N*N*N*N},n.easeInOutQuint=function y(R){const N=R-1;return R<.5?16*R*R*R*R*R:1+16*N*N*N*N*N},n.easeInExpo=function w(R){return 0===R?0:Math.pow(2,10*(R-1))},n.easeOutExpo=function C(R){return 1===R?1:1-Math.pow(2,-10*R)},n.easeInOutExpo=function M(R){if(0===R||1===R)return R;const N=2*R,X=N-1;return N<1?.5*Math.pow(2,10*X):.5*(2-Math.pow(2,-10*X))},n.easeInCirc=function E(R){return-1*(Math.sqrt(1-R/1*R)-1)},n.easeOutCirc=function z(R){const N=R-1;return Math.sqrt(1-N*N)},n.easeInOutCirc=function T(R){const N=2*R,X=N-2;return N<1?-.5*(Math.sqrt(1-N*N)-1):.5*(Math.sqrt(1-X*X)+1)},n.easeInBack=function P(R,N=1.70158){return R*R*((N+1)*R-N)},n.easeOutBack=function k(R,N=1.70158){const X=R/1-1;return X*X*((N+1)*X+N)+1},n.easeInOutBack=function G(R,N=1.70158){const X=2*R,se=X-2,ue=1.525*N;return X<1?.5*X*X*((ue+1)*X-ue):.5*(se*se*((ue+1)*se+ue)+2)},n.easeInElastic=function B(R,N=.7){if(0===R||1===R)return R;const se=R/1-1,ue=1-N,je=ue/(2*Math.PI)*Math.asin(1);return-Math.pow(2,10*se)*Math.sin((se-je)*(2*Math.PI)/ue)},n.easeOutElastic=function K(R,N=.7){const X=1-N,se=2*R;if(0===R||1===R)return R;const ue=X/(2*Math.PI)*Math.asin(1);return Math.pow(2,-10*se)*Math.sin((se-ue)*(2*Math.PI)/X)+1},n.easeInOutElastic=function Z(R,N=.65){const X=1-N;if(0===R||1===R)return R;const se=2*R,ue=se-1,je=X/(2*Math.PI)*Math.asin(1);return se<1?Math.pow(2,10*ue)*Math.sin((ue-je)*(2*Math.PI)/X)*-.5:Math.pow(2,-10*ue)*Math.sin((ue-je)*(2*Math.PI)/X)*.5+1},n.easeOutBounce=ee,n.easeInBounce=ke,n.easeInOutBounce=function Oe(R){return R<.5?.5*ke(2*R):.5*ee(2*R-1)+.5}}(e3||(e3={}));var t3=function(n){return n.number=(e,t)=>{const r=t-e;return i=>e+r*i},n.object=(e,t)=>{const r=Object.keys(e);return i=>{const s={};for(let o=r.length-1;-1!==o;o-=1){const c=r[o];s[c]=e[c]+(t[c]-e[c])*i}return s}},n.unit=(e,t)=>{const r=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,i=r.exec(e),s=r.exec(t),o=s?s[1]:"",c=i?+i[1]:0,a=s?+s[1]:0,l=o.indexOf("."),h=l>0?o[1].length-l-1:0,d=a-c,g=i?i[2]:"";return p=>(c+d*p).toFixed(h)+g},n.color=(e,t)=>{const r=parseInt(e.slice(1),16),i=parseInt(t.slice(1),16),s=255&r,o=(255&i)-s,c=65280&r,a=(65280&i)-c,l=16711680&r,h=(16711680&i)-l;return d=>`#${(1<<24|s+o*d&255|c+a*d&65280|l+h*d&16711680).toString(16).slice(1)}`},n}(t3||{});const L0=[];var Dt,bt;!function(n){n.toDeg=function e(r){return 180*r/Math.PI%360},n.toRad=function(r,i=!1){return(i?r:r%360)*Math.PI/180},n.normalize=function t(r){return r%360+(r<0?360:0)}}(Dt||(Dt={})),function(n){n.round=function e(c,a=0){return Number.isInteger(c)?c:+c.toFixed(a)},n.random=function t(c,a){let l,h;if(null==a?(h=c??1,l=0):(h=a,l=c??0),h<l){const d=l;l=h,h=d}return Math.floor(Math.random()*(h-l+1)+l)},n.clamp=function r(c,a,l){return Number.isNaN(c)?NaN:Number.isNaN(a)||Number.isNaN(l)?0:a<l?c<a?a:c>l?l:c:c<l?l:c>a?a:c},n.snapToGrid=function i(c,a){return a*Math.round(c/a)},n.containsPoint=function s(c,a){return null!=a&&null!=c&&a.x>=c.x&&a.x<=c.x+c.width&&a.y>=c.y&&a.y<=c.y+c.height},n.squaredLength=function o(c,a){const l=c.x-a.x,h=c.y-a.y;return l*l+h*h}}(bt||(bt={}));class ma{valueOf(){return this.toJSON()}toString(){return JSON.stringify(this.toJSON())}}class O extends ma{constructor(e,t){super(),this.x=e??0,this.y=t??0}round(e=0){return this.x=bt.round(this.x,e),this.y=bt.round(this.y,e),this}add(e,t){const r=O.create(e,t);return this.x+=r.x,this.y+=r.y,this}update(e,t){const r=O.create(e,t);return this.x=r.x,this.y=r.y,this}translate(e,t){const r=O.create(e,t);return this.x+=r.x,this.y+=r.y,this}rotate(e,t){const r=O.rotate(this,e,t);return this.x=r.x,this.y=r.y,this}scale(e,t,r=new O){const i=O.create(r);return this.x=i.x+e*(this.x-i.x),this.y=i.y+t*(this.y-i.y),this}closest(e){if(1===e.length)return O.create(e[0]);let t=null,r=1/0;return e.forEach(i=>{const s=this.squaredDistance(i);s<r&&(t=i,r=s)}),t?O.create(t):null}distance(e){return Math.sqrt(this.squaredDistance(e))}squaredDistance(e){const t=O.create(e),r=this.x-t.x,i=this.y-t.y;return r*r+i*i}manhattanDistance(e){const t=O.create(e);return Math.abs(t.x-this.x)+Math.abs(t.y-this.y)}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)||.01}theta(e=new O){const t=O.create(e);let s=Math.atan2(-(t.y-this.y),t.x-this.x);return s<0&&(s=2*Math.PI+s),180*s/Math.PI}angleBetween(e,t){if(this.equals(e)||this.equals(t))return NaN;let r=this.theta(t)-this.theta(e);return r<0&&(r+=360),r}vectorAngle(e){return new O(0,0).angleBetween(this,e)}toPolar(e){return this.update(O.toPolar(this,e)),this}changeInAngle(e,t,r=new O){return this.clone().translate(-e,-t).theta(r)-this.theta(r)}adhereToRect(e){return bt.containsPoint(e,this)||(this.x=Math.min(Math.max(this.x,e.x),e.x+e.width),this.y=Math.min(Math.max(this.y,e.y),e.y+e.height)),this}bearing(e){const t=O.create(e),r=Dt.toRad(this.y),i=Dt.toRad(t.y),c=Dt.toRad(t.x-this.x),a=Math.sin(c)*Math.cos(i),l=Math.cos(r)*Math.sin(i)-Math.sin(r)*Math.cos(i)*Math.cos(c);let g=Dt.toDeg(Math.atan2(a,l))-22.5;return g<0&&(g+=360),g=parseInt(g/45,10),["NE","E","SE","S","SW","W","NW","N"][g]}cross(e,t){if(null!=e&&null!=t){const r=O.create(e),i=O.create(t);return(i.x-this.x)*(r.y-this.y)-(i.y-this.y)*(r.x-this.x)}return NaN}dot(e){const t=O.create(e);return this.x*t.x+this.y*t.y}diff(e,t){if("number"==typeof e)return new O(this.x-e,this.y-t);const r=O.create(e);return new O(this.x-r.x,this.y-r.y)}lerp(e,t){const r=O.create(e);return new O((1-t)*this.x+t*r.x,(1-t)*this.y+t*r.y)}normalize(e=1){const t=e/this.magnitude();return this.scale(t,t)}move(e,t){const r=O.create(e),i=Dt.toRad(r.theta(this));return this.translate(Math.cos(i)*t,-Math.sin(i)*t)}reflection(e){return O.create(e).move(this,this.distance(e))}snapToGrid(e,t){return this.x=bt.snapToGrid(this.x,e),this.y=bt.snapToGrid(this.y,t??e),this}equals(e){const t=O.create(e);return null!=t&&t.x===this.x&&t.y===this.y}clone(){return O.clone(this)}toJSON(){return O.toJSON(this)}serialize(){return`${this.x} ${this.y}`}}(function(n){n.isPoint=function e(t){return null!=t&&t instanceof n}})(O||(O={})),function(n){n.isPointLike=function e(r){return null!=r&&"object"==typeof r&&"number"==typeof r.x&&"number"==typeof r.y},n.isPointData=function t(r){return null!=r&&Array.isArray(r)&&2===r.length&&"number"==typeof r[0]&&"number"==typeof r[1]}}(O||(O={})),function(n){function t(d){return n.isPoint(d)?new n(d.x,d.y):Array.isArray(d)?new n(d[0],d[1]):new n(d.x,d.y)}function o(d,g){return d===g||null!=d&&null!=g&&d.x===g.x&&d.y===g.y}function h(d,g,p,v=new n){const y=t(d),w=t(v),C=y.x-w.x,M=y.y-w.y;return new n(C*g-M*p+w.x,M*g+C*p+w.y)}n.create=function e(d,g){return null==d||"number"==typeof d?new n(d,g):t(d)},n.clone=t,n.toJSON=function r(d){return n.isPoint(d)?{x:d.x,y:d.y}:Array.isArray(d)?{x:d[0],y:d[1]}:{x:d.x,y:d.y}},n.fromPolar=function i(d,g,p=new n){let v=Math.abs(d*Math.cos(g)),y=Math.abs(d*Math.sin(g));const w=t(p),C=Dt.normalize(Dt.toDeg(g));return C<90?y=-y:C<180?(v=-v,y=-y):C<270&&(v=-v),new n(w.x+v,w.y+y)},n.toPolar=function s(d,g=new n){const p=t(d),v=t(g),y=p.x-v.x,w=p.y-v.y;return new n(Math.sqrt(y*y+w*w),Dt.toRad(v.theta(p)))},n.equals=o,n.equalPoints=function c(d,g){if(null==d&&null!=g||null!=d&&null==g||null!=d&&null!=g&&d.length!==g.length)return!1;if(null!=d&&null!=g)for(let p=0,v=d.length;p<v;p+=1)if(!o(d[p],g[p]))return!1;return!0},n.random=function a(d,g,p,v){return new n(bt.random(d,g),bt.random(p,v))},n.rotate=function l(d,g,p){const v=Dt.toRad(Dt.normalize(-g)),y=Math.sin(v);return h(d,Math.cos(v),y,p)},n.rotateEx=h}(O||(O={}));class J extends ma{get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get origin(){return new O(this.x,this.y)}get topLeft(){return new O(this.x,this.y)}get topCenter(){return new O(this.x+this.width/2,this.y)}get topRight(){return new O(this.x+this.width,this.y)}get center(){return new O(this.x+this.width/2,this.y+this.height/2)}get bottomLeft(){return new O(this.x,this.y+this.height)}get bottomCenter(){return new O(this.x+this.width/2,this.y+this.height)}get bottomRight(){return new O(this.x+this.width,this.y+this.height)}get corner(){return new O(this.x+this.width,this.y+this.height)}get rightMiddle(){return new O(this.x+this.width,this.y+this.height/2)}get leftMiddle(){return new O(this.x,this.y+this.height/2)}get topLine(){return new ae(this.topLeft,this.topRight)}get rightLine(){return new ae(this.topRight,this.bottomRight)}get bottomLine(){return new ae(this.bottomLeft,this.bottomRight)}get leftLine(){return new ae(this.topLeft,this.bottomLeft)}constructor(e,t,r,i){super(),this.x=e??0,this.y=t??0,this.width=r??0,this.height=i??0}getOrigin(){return this.origin}getTopLeft(){return this.topLeft}getTopCenter(){return this.topCenter}getTopRight(){return this.topRight}getCenter(){return this.center}getCenterX(){return this.x+this.width/2}getCenterY(){return this.y+this.height/2}getBottomLeft(){return this.bottomLeft}getBottomCenter(){return this.bottomCenter}getBottomRight(){return this.bottomRight}getCorner(){return this.corner}getRightMiddle(){return this.rightMiddle}getLeftMiddle(){return this.leftMiddle}getTopLine(){return this.topLine}getRightLine(){return this.rightLine}getBottomLine(){return this.bottomLine}getLeftLine(){return this.leftLine}bbox(e){if(!e)return this.clone();const t=Dt.toRad(e),r=Math.abs(Math.sin(t)),i=Math.abs(Math.cos(t)),s=this.width*i+this.height*r,o=this.width*r+this.height*i;return new J(this.x+(this.width-s)/2,this.y+(this.height-o)/2,s,o)}round(e=0){return this.x=bt.round(this.x,e),this.y=bt.round(this.y,e),this.width=bt.round(this.width,e),this.height=bt.round(this.height,e),this}add(e,t,r,i){const s=J.create(e,t,r,i),o=Math.min(this.x,s.x),c=Math.min(this.y,s.y),a=Math.max(this.x+this.width,s.x+s.width),l=Math.max(this.y+this.height,s.y+s.height);return this.x=o,this.y=c,this.width=a-o,this.height=l-c,this}update(e,t,r,i){const s=J.create(e,t,r,i);return this.x=s.x,this.y=s.y,this.width=s.width,this.height=s.height,this}inflate(e,t){const r=e,i=t??e;return this.x-=r,this.y-=i,this.width+=2*r,this.height+=2*i,this}snapToGrid(e,t){const r=this.origin.snapToGrid(e,t),i=this.corner.snapToGrid(e,t);return this.x=r.x,this.y=r.y,this.width=i.x-r.x,this.height=i.y-r.y,this}translate(e,t){const r=O.create(e,t);return this.x+=r.x,this.y+=r.y,this}scale(e,t,r=new O){const i=this.origin.scale(e,t,r);return this.x=i.x,this.y=i.y,this.width*=e,this.height*=t,this}rotate(e,t=this.getCenter()){if(0!==e){const r=Dt.toRad(e),i=Math.cos(r),s=Math.sin(r);let o=this.getOrigin(),c=this.getTopRight(),a=this.getBottomRight(),l=this.getBottomLeft();o=O.rotateEx(o,i,s,t),c=O.rotateEx(c,i,s,t),a=O.rotateEx(a,i,s,t),l=O.rotateEx(l,i,s,t);const h=new J(o.x,o.y,0,0);h.add(c.x,c.y,0,0),h.add(a.x,a.y,0,0),h.add(l.x,l.y,0,0),this.update(h)}return this}rotate90(){const e=(this.width-this.height)/2;this.x+=e,this.y-=e;const t=this.width;return this.width=this.height,this.height=t,this}moveAndExpand(e){const t=J.clone(e);return this.x+=t.x||0,this.y+=t.y||0,this.width+=t.width||0,this.height+=t.height||0,this}getMaxScaleToFit(e,t=this.center){const r=J.clone(e),i=t.x,s=t.y;let o=1/0,c=1/0,a=1/0,l=1/0,h=1/0,d=1/0,g=1/0,p=1/0;const v=r.topLeft;v.x<i&&(o=(this.x-i)/(v.x-i)),v.y<s&&(h=(this.y-s)/(v.y-s));const y=r.bottomRight;y.x>i&&(c=(this.x+this.width-i)/(y.x-i)),y.y>s&&(d=(this.y+this.height-s)/(y.y-s));const w=r.topRight;w.x>i&&(a=(this.x+this.width-i)/(w.x-i)),w.y<s&&(g=(this.y-s)/(w.y-s));const C=r.bottomLeft;return C.x<i&&(l=(this.x-i)/(C.x-i)),C.y>s&&(p=(this.y+this.height-s)/(C.y-s)),{sx:Math.min(o,c,a,l),sy:Math.min(h,d,g,p)}}getMaxUniformScaleToFit(e,t=this.center){const r=this.getMaxScaleToFit(e,t);return Math.min(r.sx,r.sy)}containsPoint(e,t){return bt.containsPoint(this,O.create(e,t))}containsRect(e,t,r,i){const s=J.create(e,t,r,i),o=this.x,c=this.y,a=this.width,l=this.height,h=s.x,d=s.y,g=s.width,p=s.height;return 0!==a&&0!==l&&0!==g&&0!==p&&h>=o&&d>=c&&h+g<=o+a&&d+p<=c+l}intersectsWithLine(e){const r=[],i=[];return[this.topLine,this.rightLine,this.bottomLine,this.leftLine].forEach(s=>{const o=e.intersectsWithLine(s);null!==o&&i.indexOf(o.toString())<0&&(r.push(o),i.push(o.toString()))}),r.length>0?r:null}intersectsWithLineFromCenterToPoint(e,t){const r=O.clone(e),i=this.center;let s=null;null!=t&&0!==t&&r.rotate(t,i);const o=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],c=new ae(i,r);for(let a=o.length-1;a>=0;a-=1){const l=o[a].intersectsWithLine(c);if(null!==l){s=l;break}}return s&&null!=t&&0!==t&&s.rotate(-t,i),s}intersectsWithRect(e,t,r,i){const s=J.create(e,t,r,i);if(!this.isIntersectWithRect(s))return null;const o=this.origin,c=this.corner,a=s.origin,l=s.corner,h=Math.max(o.x,a.x),d=Math.max(o.y,a.y);return new J(h,d,Math.min(c.x,l.x)-h,Math.min(c.y,l.y)-d)}isIntersectWithRect(e,t,r,i){const s=J.create(e,t,r,i),o=this.origin,c=this.corner,a=s.origin,l=s.corner;return!(l.x<=o.x||l.y<=o.y||a.x>=c.x||a.y>=c.y)}normalize(){let e=this.x,t=this.y,r=this.width,i=this.height;return this.width<0&&(e=this.x+this.width,r=-this.width),this.height<0&&(t=this.y+this.height,i=-this.height),this.x=e,this.y=t,this.width=r,this.height=i,this}union(e){const t=J.clone(e),r=this.origin,i=this.corner,s=t.origin,o=t.corner,c=Math.min(r.x,s.x),a=Math.min(r.y,s.y),l=Math.max(i.x,o.x),h=Math.max(i.y,o.y);return new J(c,a,l-c,h-a)}getNearestSideToPoint(e){const t=O.clone(e),i=this.x+this.width-t.x,s=t.y-this.y;let c=t.x-this.x,a="left";return i<c&&(c=i,a="right"),s<c&&(c=s,a="top"),this.y+this.height-t.y<c&&(a="bottom"),a}getNearestPointToPoint(e){const t=O.clone(e);if(this.containsPoint(t)){const r=this.getNearestSideToPoint(t);if("left"===r)return new O(this.x,t.y);if("top"===r)return new O(t.x,this.y);if("right"===r)return new O(this.x+this.width,t.y);if("bottom"===r)return new O(t.x,this.y+this.height)}return t.adhereToRect(this)}equals(e){return null!=e&&e.x===this.x&&e.y===this.y&&e.width===this.width&&e.height===this.height}clone(){return new J(this.x,this.y,this.width,this.height)}toJSON(){return{x:this.x,y:this.y,width:this.width,height:this.height}}serialize(){return`${this.x} ${this.y} ${this.width} ${this.height}`}}(function(n){n.isRectangle=function e(t){return null!=t&&t instanceof n}})(J||(J={})),function(n){n.isRectangleLike=function e(t){return null!=t&&"object"==typeof t&&"number"==typeof t.x&&"number"==typeof t.y&&"number"==typeof t.width&&"number"==typeof t.height}}(J||(J={})),function(n){function t(o){return n.isRectangle(o)?o.clone():Array.isArray(o)?new n(o[0],o[1],o[2],o[3]):new n(o.x,o.y,o.width,o.height)}n.create=function e(o,c,a,l){return null==o||"number"==typeof o?new n(o,c,a,l):t(o)},n.clone=t,n.fromEllipse=function r(o){return new n(o.x-o.a,o.y-o.b,2*o.a,2*o.b)},n.fromSize=function i(o){return new n(0,0,o.width,o.height)},n.fromPositionAndSize=function s(o,c){return new n(o.x,o.y,c.width,c.height)}}(J||(J={}));class ae extends ma{get center(){return new O((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)}constructor(e,t,r,i){super(),"number"==typeof e&&"number"==typeof t?(this.start=new O(e,t),this.end=new O(r,i)):(this.start=O.create(e),this.end=O.create(t))}getCenter(){return this.center}round(e=0){return this.start.round(e),this.end.round(e),this}translate(e,t){return"number"==typeof e?(this.start.translate(e,t),this.end.translate(e,t)):(this.start.translate(e),this.end.translate(e)),this}rotate(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this}scale(e,t,r){return this.start.scale(e,t,r),this.end.scale(e,t,r),this}length(){return Math.sqrt(this.squaredLength())}squaredLength(){const e=this.start.x-this.end.x,t=this.start.y-this.end.y;return e*e+t*t}setLength(e){const t=this.length();if(!t)return this;const r=e/t;return this.scale(r,r,this.start)}parallel(e){const t=this.clone();if(!t.isDifferentiable())return t;const{start:r,end:i}=t,s=r.clone().rotate(270,i),o=i.clone().rotate(90,r);return r.move(o,e),i.move(s,e),t}vector(){return new O(this.end.x-this.start.x,this.end.y-this.start.y)}angle(){const e=new O(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)}bbox(){const e=Math.min(this.start.x,this.end.x),t=Math.min(this.start.y,this.end.y),r=Math.max(this.start.x,this.end.x),i=Math.max(this.start.y,this.end.y);return new J(e,t,r-e,i-t)}bearing(){return this.start.bearing(this.end)}closestPoint(e){return this.pointAt(this.closestPointNormalizedLength(e))}closestPointLength(e){return this.closestPointNormalizedLength(e)*this.length()}closestPointTangent(e){return this.tangentAt(this.closestPointNormalizedLength(e))}closestPointNormalizedLength(e){const t=this.vector().dot(new ae(this.start,e).vector()),r=Math.min(1,Math.max(0,t/this.squaredLength()));return Number.isNaN(r)?0:r}pointAt(e){const t=this.start,r=this.end;return e<=0?t.clone():e>=1?r.clone():t.lerp(r,e)}pointAtLength(e){const t=this.start,r=this.end;let i=!0;e<0&&(i=!1,e=-e);const s=this.length();return e>=s?i?r.clone():t.clone():this.pointAt((i?e:s-e)/s)}divideAt(e){const t=this.pointAt(e);return[new ae(this.start,t),new ae(t,this.end)]}divideAtLength(e){const t=this.pointAtLength(e);return[new ae(this.start,t),new ae(t,this.end)]}containsPoint(e){const t=this.start,r=this.end;if(0!==t.cross(e,r))return!1;const i=this.length();return!(new ae(t,e).length()>i||new ae(e,r).length()>i)}intersect(e,t){const r=e.intersectsWithLine(this,t);return r?Array.isArray(r)?r:[r]:null}intersectsWithLine(e){const t=new O(this.end.x-this.start.x,this.end.y-this.start.y),r=new O(e.end.x-e.start.x,e.end.y-e.start.y),i=t.x*r.y-t.y*r.x,s=new O(e.start.x-this.start.x,e.start.y-this.start.y),o=s.x*r.y-s.y*r.x,c=s.x*t.y-s.y*t.x;if(0===i||o*i<0||c*i<0)return null;if(i>0){if(o>i||c>i)return null}else if(o<i||c<i)return null;return new O(this.start.x+o*t.x/i,this.start.y+o*t.y/i)}isDifferentiable(){return!this.start.equals(this.end)}pointOffset(e){const t=O.clone(e),r=this.start,i=this.end;return((i.x-r.x)*(t.y-r.y)-(i.y-r.y)*(t.x-r.x))/this.length()}pointSquaredDistance(e,t){const r=O.create(e,t);return this.closestPoint(r).squaredDistance(r)}pointDistance(e,t){const r=O.create(e,t);return this.closestPoint(r).distance(r)}tangentAt(e){if(!this.isDifferentiable())return null;const t=this.start,r=this.end,i=this.pointAt(e),s=new ae(t,r);return s.translate(i.x-t.x,i.y-t.y),s}tangentAtLength(e){if(!this.isDifferentiable())return null;const t=this.start,r=this.end,i=this.pointAtLength(e),s=new ae(t,r);return s.translate(i.x-t.x,i.y-t.y),s}relativeCcw(e,t){const r=O.create(e,t);let i=r.x-this.start.x,s=r.y-this.start.y;const o=this.end.x-this.start.x,c=this.end.y-this.start.y;let a=i*c-s*o;return 0===a&&(a=i*o+s*c,a>0&&(i-=o,s-=c,a=i*o+s*c,a<0&&(a=0))),a<0?-1:a>0?1:0}equals(e){return null!=e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y}clone(){return new ae(this.start,this.end)}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.end.serialize()].join(" ")}}!function(n){n.isLine=function e(t){return null!=t&&t instanceof n}}(ae||(ae={}));class Ns extends ma{get center(){return new O(this.x,this.y)}constructor(e,t,r,i){super(),this.x=e??0,this.y=t??0,this.a=r??0,this.b=i??0}bbox(){return J.fromEllipse(this)}getCenter(){return this.center}inflate(e,t){const i=t??e;return this.a+=2*e,this.b+=2*i,this}normalizedDistance(e,t){const r=O.create(e,t),i=r.x-this.x,s=r.y-this.y,o=this.a,c=this.b;return i*i/(o*o)+s*s/(c*c)}containsPoint(e,t){return this.normalizedDistance(e,t)<=1}intersectsWithLine(e){const t=[],r=this.a,i=this.b,s=e.start,o=e.end,c=e.vector(),a=s.diff(new O(this.x,this.y)),l=new O(c.x/(r*r),c.y/(i*i)),h=new O(a.x/(r*r),a.y/(i*i)),d=c.dot(l),g=c.dot(h),v=g*g-d*(a.dot(h)-1);if(v<0)return null;if(v>0){const y=Math.sqrt(v),w=(-g-y)/d,C=(-g+y)/d;if((w<0||w>1)&&(C<0||C>1))return null;w>=0&&w<=1&&t.push(s.lerp(o,w)),C>=0&&C<=1&&t.push(s.lerp(o,C))}else{const y=-g/d;if(!(y>=0&&y<=1))return null;t.push(s.lerp(o,y))}return t}intersectsWithLineFromCenterToPoint(e,t=0){const r=O.clone(e);t&&r.rotate(t,this.getCenter());const i=r.x-this.x,s=r.y-this.y;let o;if(0===i)return o=this.bbox().getNearestPointToPoint(r),t?o.rotate(-t,this.getCenter()):o;const c=s/i;let d=Math.sqrt(1/(1/(this.a*this.a)+c*c/(this.b*this.b)));return d=i<0?-d:d,o=new O(this.x+d,this.y+c*d),t?o.rotate(-t,this.getCenter()):o}tangentTheta(e){const t=O.clone(e),r=t.x,i=t.y,s=this.a,o=this.b,c=this.bbox().center,a=c.x,l=c.y;let p,v;return r>c.x+s/2||r<c.x-s/2?(v=r>c.x?i-30:i+30,p=s*s/(r-a)-s*s*(i-l)*(v-l)/(o*o*(r-a))+a):(p=i>c.y?r+30:r-30,v=o*o/(i-l)-o*o*(r-a)*(p-a)/(s*s*(i-l))+l),new O(p,v).theta(t)}scale(e,t){return this.a*=e,this.b*=t,this}rotate(e,t){const r=J.fromEllipse(this);r.rotate(e,t);const i=Ns.fromRect(r);return this.a=i.a,this.b=i.b,this.x=i.x,this.y=i.y,this}translate(e,t){const r=O.create(e,t);return this.x+=r.x,this.y+=r.y,this}equals(e){return null!=e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b}clone(){return new Ns(this.x,this.y,this.a,this.b)}toJSON(){return{x:this.x,y:this.y,a:this.a,b:this.b}}serialize(){return`${this.x} ${this.y} ${this.a} ${this.b}`}}(function(n){n.isEllipse=function e(t){return null!=t&&t instanceof n}})(Ns||(Ns={})),function(n){function t(i){return n.isEllipse(i)?i.clone():Array.isArray(i)?new n(i[0],i[1],i[2],i[3]):new n(i.x,i.y,i.a,i.b)}n.create=function e(i,s,o,c){return null==i||"number"==typeof i?new n(i,s,o,c):t(i)},n.parse=t,n.fromRect=function r(i){const s=i.center;return new n(s.x,s.y,i.width/2,i.height/2)}}(Ns||(Ns={}));const Yre=new RegExp("^[\\s\\dLMCZz,.]*$");function Xre(n){return"string"==typeof n&&Yre.test(n)}function Ay(n,e){return(n%e+e)%e}function lT(n,e={}){const t=[];return n&&n.length&&n.forEach(r=>{Array.isArray(r)?t.push({x:r[0],y:r[1]}):t.push({x:r.x,y:r.y})}),function Zre(n,e,t,r,i){const s=[],o=n[n.length-1],c=null!=e&&e>0,a=e||0;if(r&&c){const d=(n=n.slice())[0],g=new O(o.x+(d.x-o.x)/2,o.y+(d.y-o.y)/2);n.splice(0,0,g)}let l=n[0],h=1;for(s.push(t?"M":"L",l.x,l.y);h<(r?n.length:n.length-1);){let d=n[Ay(h,n.length)],g=l.x-d.x,p=l.y-d.y;if(c&&(0!==g||0!==p)&&(null==i||i.indexOf(h-1)<0)){let v=Math.sqrt(g*g+p*p);const y=g*Math.min(a,v/2)/v,w=p*Math.min(a,v/2)/v;s.push("L",d.x+y,d.y+w);let E=n[Ay(h+1,n.length)];for(;h<n.length-2&&0===Math.round(E.x-d.x)&&0===Math.round(E.y-d.y);)E=n[Ay(h+2,n.length)],h+=1;g=E.x-d.x,p=E.y-d.y,v=Math.max(1,Math.sqrt(g*g+p*p));const z=g*Math.min(a,v/2)/v,T=p*Math.min(a,v/2)/v,P=d.x+z,k=d.y+T;s.push("Q",d.x,d.y,P,k),d=new O(P,k)}else s.push("L",d.x,d.y);l=d,h+=1}return r?s.push("Z"):s.push("L",o.x,o.y),s.map(d=>"string"==typeof d?d:+d.toFixed(3)).join(" ")}(t,e.round,null==e.initialMove||e.initialMove,e.close,e.exclude)}function w5(n,e,t,r,i=0,s=0,o=0,c,a){if(0===t||0===r)return[];c-=n,a-=e,t=Math.abs(t),r=Math.abs(r);const l=-c/2,h=-a/2,d=Math.cos(i*Math.PI/180),g=Math.sin(i*Math.PI/180),p=d*l+g*h,v=-1*g*l+d*h,y=p*p,w=v*v,C=t*t,M=r*r,E=y/C+w/M;let z;if(E>1)t=Math.sqrt(E)*t,r=Math.sqrt(E)*r,z=0;else{let At=1;s===o&&(At=-1),z=At*Math.sqrt((C*M-C*w-M*y)/(C*w+M*y))}const T=z*t*v/r,P=-1*z*r*p/t,k=d*T-g*P+c/2,G=g*T+d*P+a/2;let B=Math.atan2((v-P)/r,(p-T)/t)-Math.atan2(0,1),K=B>=0?B:2*Math.PI+B;B=Math.atan2((-v-P)/r,(-p-T)/t)-Math.atan2((v-P)/r,(p-T)/t);let Z=B>=0?B:2*Math.PI+B;0===o&&Z>0?Z-=2*Math.PI:0!==o&&Z<0&&(Z+=2*Math.PI);const ee=2*Z/Math.PI,ke=Math.ceil(ee<0?-1*ee:ee),Oe=Z/ke,R=8/3*Math.sin(Oe/4)*Math.sin(Oe/4)/Math.sin(Oe/2),N=d*t,X=d*r,se=g*t,ue=g*r;let je=Math.cos(K),wt=Math.sin(K),qn=-R*(N*wt+ue*je),Ai=-R*(se*wt-X*je),Qe=0,Ha=0;const js=[];for(let At=0;At<ke;At+=1){K+=Oe,je=Math.cos(K),wt=Math.sin(K),Qe=N*je-ue*wt+k,Ha=se*je+X*wt+G;const xo=-R*(N*wt+ue*je),Ur=-R*(se*wt-X*je),$s=6*At;js[$s]=Number(qn+n),js[$s+1]=Number(Ai+e),js[$s+2]=Number(Qe-xo+n),js[$s+3]=Number(Ha-Ur+e),js[$s+4]=Number(Qe+n),js[$s+5]=Number(Ha+e),qn=Qe+xo,Ai=Ha+Ur}return js.map(At=>+At.toFixed(2))}function Kre(n,e,t,r,i=0,s=0,o=0,c,a){const l=[],h=w5(n,e,t,r,i,s,o,c,a);if(null!=h)for(let d=0,g=h.length;d<g;d+=6)l.push("C",h[d],h[d+1],h[d+2],h[d+3],h[d+4],h[d+5]);return l.join(" ")}class rn extends ma{get start(){return this.points[0]||null}get end(){return this.points[this.points.length-1]||null}constructor(e){if(super(),null!=e){if("string"==typeof e)return rn.parse(e);this.points=e.map(t=>O.create(t))}else this.points=[]}scale(e,t,r=new O){return this.points.forEach(i=>i.scale(e,t,r)),this}rotate(e,t){return this.points.forEach(r=>r.rotate(e,t)),this}translate(e,t){const r=O.create(e,t);return this.points.forEach(i=>i.translate(r.x,r.y)),this}round(e=0){return this.points.forEach(t=>t.round(e)),this}bbox(){if(0===this.points.length)return new J;let e=1/0,t=-1/0,r=1/0,i=-1/0;const s=this.points;for(let o=0,c=s.length;o<c;o+=1){const a=s[o],l=a.x,h=a.y;l<e&&(e=l),l>t&&(t=l),h<r&&(r=h),h>i&&(i=h)}return new J(e,r,t-e,i-r)}closestPoint(e){const t=this.closestPointLength(e);return this.pointAtLength(t)}closestPointLength(e){const t=this.points,r=t.length;if(0===r||1===r)return 0;let i=0,s=0,o=1/0;for(let c=0,a=r-1;c<a;c+=1){const l=new ae(t[c],t[c+1]),h=l.length(),d=l.closestPointNormalizedLength(e),p=l.pointAt(d).squaredDistance(e);p<o&&(o=p,s=i+d*h),i+=h}return s}closestPointNormalizedLength(e){const t=this.length();return 0===t?0:this.closestPointLength(e)/t}closestPointTangent(e){const t=this.closestPointLength(e);return this.tangentAtLength(t)}containsPoint(e){if(0===this.points.length)return!1;const t=O.clone(e),r=t.x,i=t.y,s=this.points,o=s.length;let c=o-1,a=0;for(let l=0;l<o;l+=1){const h=s[c],d=s[l];if(t.equals(h))return!0;const g=new ae(h,d);if(g.containsPoint(e))return!0;if(i<=h.y&&i>d.y||i>h.y&&i<=d.y){const p=h.x-r>d.x-r?h.x-r:d.x-r;if(p>=0){const v=new O(r+p,i),y=new ae(e,v);g.intersectsWithLine(y)&&(a+=1)}}c=l}return a%2==1}intersectsWithLine(e){const t=[];for(let r=0,i=this.points.length-1;r<i;r+=1){const c=e.intersectsWithLine(new ae(this.points[r],this.points[r+1]));c&&t.push(c)}return t.length>0?t:null}isDifferentiable(){for(let e=0,t=this.points.length-1;e<t;e+=1)if(new ae(this.points[e],this.points[e+1]).isDifferentiable())return!0;return!1}length(){let e=0;for(let t=0,r=this.points.length-1;t<r;t+=1)e+=this.points[t].distance(this.points[t+1]);return e}pointAt(e){const t=this.points,r=t.length;if(0===r)return null;if(1===r||e<=0)return t[0].clone();if(e>=1)return t[r-1].clone();const s=this.length()*e;return this.pointAtLength(s)}pointAtLength(e){const t=this.points,r=t.length;if(0===r)return null;if(1===r)return t[0].clone();let i=!0;e<0&&(i=!1,e=-e);let s=0;for(let c=0,a=r-1;c<a;c+=1){const l=i?c:a-1-c,h=t[l],d=t[l+1],g=new ae(h,d),p=h.distance(d);if(e<=s+p)return g.pointAtLength((i?1:-1)*(e-s));s+=p}return(i?t[r-1]:t[0]).clone()}tangentAt(e){const r=this.points.length;if(0===r||1===r)return null;e<0&&(e=0),e>1&&(e=1);const s=this.length()*e;return this.tangentAtLength(s)}tangentAtLength(e){const t=this.points,r=t.length;if(0===r||1===r)return null;let i=!0;e<0&&(i=!1,e=-e);let s,o=0;for(let c=0,a=r-1;c<a;c+=1){const l=i?c:a-1-c,h=t[l],d=t[l+1],g=new ae(h,d),p=h.distance(d);if(g.isDifferentiable()){if(e<=o+p)return g.tangentAtLength((i?1:-1)*(e-o));s=g}o+=p}return s?s.tangentAt(i?1:0):null}simplify(e={}){const t=this.points;if(t.length<3)return this;const r=e.threshold||0;let i=0;for(;t[i+2];){const o=i+1,l=t[o];new ae(t[i],t[i+2]).closestPoint(l).distance(l)<=r?t.splice(o,1):i+=1}return this}toHull(){const e=this.points,t=e.length;if(0===t)return new rn;let r=e[0];for(let g=1;g<t;g+=1)(e[g].y<r.y||e[g].y===r.y&&e[g].x>r.x)&&(r=e[g]);const i=[];for(let g=0;g<t;g+=1){let p=r.theta(e[g]);0===p&&(p=360),i.push([e[g],g,p])}i.sort((g,p)=>{let v=g[2]-p[2];return 0===v&&(v=p[1]-g[1]),v}),i.length>2&&i.unshift(i[i.length-1]);const s={},o=[],c=g=>`${g[0].toString()}@${g[1]}`;for(;0!==i.length;){const g=i.pop(),p=g[0];if(s[c(g)])continue;let v=!1;for(;!v;)if(o.length<2)o.push(g),v=!0;else{const y=o.pop(),w=y[0],C=o.pop(),M=C[0],E=M.cross(w,p);if(E<0)o.push(C),o.push(y),o.push(g),v=!0;else if(0===E){const T=w.angleBetween(M,p);Math.abs(T-180)<1e-10||w.equals(p)||M.equals(w)?(s[c(y)]=w,o.push(C)):Math.abs((T+1)%360-1)<1e-10&&(o.push(C),i.push(y))}else s[c(y)]=w,o.push(C)}}o.length>2&&o.pop();let a,l=-1;for(let g=0,p=o.length;g<p;g+=1){const v=o[g][1];(void 0===a||v<a)&&(a=v,l=g)}let h=[];if(l>0){const g=o.slice(l),p=o.slice(0,l);h=g.concat(p)}else h=o;const d=[];for(let g=0,p=h.length;g<p;g+=1)d.push(h[g][0]);return new rn(d)}equals(e){return null!=e&&e.points.length===this.points.length&&e.points.every((t,r)=>t.equals(this.points[r]))}clone(){return new rn(this.points.map(e=>e.clone()))}toJSON(){return this.points.map(e=>e.toJSON())}serialize(){return this.points.map(e=>`${e.serialize()}`).join(" ")}}(function(n){n.isPolyline=function e(t){return null!=t&&t instanceof n}})(rn||(rn={})),function(n){n.parse=function e(t){const r=t.trim();if(""===r)return new n;const i=[],s=r.split(/\s*,\s*|\s+/);for(let o=0,c=s.length;o<c;o+=2)i.push({x:+s[o],y:+s[o+1]});return new n(i)}}(rn||(rn={}));class Yt extends ma{constructor(e,t,r,i){super(),this.PRECISION=3,this.start=O.create(e),this.controlPoint1=O.create(t),this.controlPoint2=O.create(r),this.end=O.create(i)}bbox(){const e=this.start,t=this.controlPoint1,r=this.controlPoint2,i=this.end,s=e.x,o=e.y,c=t.x,a=t.y,l=r.x,h=r.y,d=i.x,g=i.y,p=[],v=[],y=[[],[]];let w,C,M,E,z,T,P,k;for(let X=0;X<2;X+=1)if(0===X?(C=6*s-12*c+6*l,w=-3*s+9*c-9*l+3*d,M=3*c-3*s):(C=6*o-12*a+6*h,w=-3*o+9*a-9*h+3*g,M=3*a-3*o),Math.abs(w)<1e-12){if(Math.abs(C)<1e-12)continue;E=-M/C,E>0&&E<1&&v.push(E)}else P=C*C-4*M*w,k=Math.sqrt(P),!(P<0)&&(z=(-C+k)/(2*w),z>0&&z<1&&v.push(z),T=(-C-k)/(2*w),T>0&&T<1&&v.push(T));let G,B,K,Z=v.length;const ee=Z;for(;Z;)Z-=1,E=v[Z],K=1-E,G=K*K*K*s+3*K*K*E*c+3*K*E*E*l+E*E*E*d,y[0][Z]=G,B=K*K*K*o+3*K*K*E*a+3*K*E*E*h+E*E*E*g,y[1][Z]=B,p[Z]={X:G,Y:B};v[ee]=0,v[ee+1]=1,p[ee]={X:s,Y:o},p[ee+1]={X:d,Y:g},y[0][ee]=s,y[1][ee]=o,y[0][ee+1]=d,y[1][ee+1]=g,v.length=ee+2,y[0].length=ee+2,y[1].length=ee+2,p.length=ee+2;const ke=Math.min.apply(null,y[0]),Oe=Math.min.apply(null,y[1]),R=Math.max.apply(null,y[0]),N=Math.max.apply(null,y[1]);return new J(ke,Oe,R-ke,N-Oe)}closestPoint(e,t={}){return this.pointAtT(this.closestPointT(e,t))}closestPointLength(e,t={}){const r=this.getOptions(t);return this.lengthAtT(this.closestPointT(e,r),r)}closestPointNormalizedLength(e,t={}){const r=this.getOptions(t),i=this.closestPointLength(e,r);if(!i)return 0;const s=this.length(r);return 0===s?0:i/s}closestPointT(e,t={}){const r=this.getPrecision(t),i=this.getDivisions(t),s=Math.pow(10,-r);let o=null,c=0,a=0,l=0,h=0,d=0,g=null;const p=i.length;let v=p>0?1/p:0;for(i.forEach((y,w)=>{const C=y.start.distance(e),M=y.end.distance(e),E=C+M;(null==g||E<g)&&(o=y,c=w*v,a=(w+1)*v,l=C,h=M,g=E,d=y.endpointDistance())});;){const y=l?Math.abs(l-h)/l:0,w=null!=h?Math.abs(l-h)/h:0;if(y<s||w<s||!l||l<d*s||!h||h<d*s)return l<=h?c:a;const T=o.divide(.5);v/=2;const P=T[0].start.distance(e),k=T[0].end.distance(e),G=P+k,B=T[1].start.distance(e),K=T[1].end.distance(e);G<=B+K?(o=T[0],a-=v,l=P,h=k):(o=T[1],c+=v,l=B,h=K)}}closestPointTangent(e,t={}){return this.tangentAtT(this.closestPointT(e,t))}containsPoint(e,t={}){return this.toPolyline(t).containsPoint(e)}divideAt(e,t={}){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);const r=this.tAt(e,t);return this.divideAtT(r)}divideAtLength(e,t={}){const r=this.tAtLength(e,t);return this.divideAtT(r)}divide(e){return this.divideAtT(e)}divideAtT(e){const t=this.start,r=this.controlPoint1,i=this.controlPoint2,s=this.end;if(e<=0)return[new Yt(t,t,t,t),new Yt(t,r,i,s)];if(e>=1)return[new Yt(t,r,i,s),new Yt(s,s,s,s)];const o=this.getSkeletonPoints(e),l=o.divider,h=o.dividerControlPoint1,d=o.dividerControlPoint2;return[new Yt(t,o.startControlPoint1,o.startControlPoint2,l),new Yt(l,h,d,s)]}endpointDistance(){return this.start.distance(this.end)}getSkeletonPoints(e){const t=this.start,r=this.controlPoint1,i=this.controlPoint2,s=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:r.clone(),dividerControlPoint2:i.clone()};if(e>=1)return{startControlPoint1:r.clone(),startControlPoint2:i.clone(),divider:s.clone(),dividerControlPoint1:s.clone(),dividerControlPoint2:s.clone()};const o=new ae(t,r).pointAt(e),c=new ae(r,i).pointAt(e),a=new ae(i,s).pointAt(e),l=new ae(o,c).pointAt(e),h=new ae(c,a).pointAt(e);return{startControlPoint1:o,startControlPoint2:l,divider:new ae(l,h).pointAt(e),dividerControlPoint1:h,dividerControlPoint2:a}}getSubdivisions(e={}){const t=this.getPrecision(e);let r=[new Yt(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(0===t)return r;let i=this.endpointDistance();const s=Math.pow(10,-t);let o=0;for(;;){o+=1;const c=[];r.forEach(h=>{const d=h.divide(.5);c.push(d[0],d[1])});const a=c.reduce((h,d)=>h+d.endpointDistance(),0);if(o>1&&(0!==a?(a-i)/a:0)<s)return c;r=c,i=a}}length(e={}){return this.getDivisions(e).reduce((r,i)=>r+i.endpointDistance(),0)}lengthAtT(e,t={}){if(e<=0)return 0;const r=void 0===t.precision?this.PRECISION:t.precision;return this.divide(e)[0].length({precision:r})}pointAt(e,t={}){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();const r=this.tAt(e,t);return this.pointAtT(r)}pointAtLength(e,t={}){const r=this.tAtLength(e,t);return this.pointAtT(r)}pointAtT(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider}isDifferentiable(){const t=this.controlPoint1,r=this.controlPoint2,i=this.end;return!(this.start.equals(t)&&t.equals(r)&&r.equals(i))}tangentAt(e,t={}){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);const r=this.tAt(e,t);return this.tangentAtT(r)}tangentAtLength(e,t={}){if(!this.isDifferentiable())return null;const r=this.tAtLength(e,t);return this.tangentAtT(r)}tangentAtT(e){if(!this.isDifferentiable())return null;e<0&&(e=0),e>1&&(e=1);const t=this.getSkeletonPoints(e),r=t.startControlPoint2,s=t.divider,o=new ae(r,t.dividerControlPoint1);return o.translate(s.x-r.x,s.y-r.y),o}getPrecision(e={}){return null==e.precision?this.PRECISION:e.precision}getDivisions(e={}){if(null!=e.subdivisions)return e.subdivisions;const t=this.getPrecision(e);return this.getSubdivisions({precision:t})}getOptions(e={}){return{precision:this.getPrecision(e),subdivisions:this.getDivisions(e)}}tAt(e,t={}){if(e<=0)return 0;if(e>=1)return 1;const r=this.getOptions(t),s=this.length(r)*e;return this.tAtLength(s,r)}tAtLength(e,t={}){let r=!0;e<0&&(r=!1,e=-e);const i=this.getPrecision(t),s=this.getDivisions(t),o={precision:i,subdivisions:s};let a,l,c=null,h=0,d=0,g=0;const p=s.length;let v=p>0?1/p:0;for(let C=0;C<p;C+=1){const M=r?C:p-1-C,E=s[C],z=E.endpointDistance();if(e<=g+z){c=E,a=M*v,l=(M+1)*v,h=r?e-g:z+g-e,d=r?z+g-e:e-g;break}g+=z}if(null==c)return r?1:0;const y=this.length(o),w=Math.pow(10,-i);for(;;){let C,M,E;if(C=0!==y?h/y:0,C<w)return a;if(C=0!==y?d/y:0,C<w)return l;const z=c.divide(.5);v/=2;const T=z[0].endpointDistance(),P=z[1].endpointDistance();h<=T?(c=z[0],l-=v,M=h,E=T-M):(c=z[1],a+=v,M=h-T,E=P-M),h=M,d=E}}toPoints(e={}){const t=this.getDivisions(e),r=[t[0].start.clone()];return t.forEach(i=>r.push(i.end.clone())),r}toPolyline(e={}){return new rn(this.toPoints(e))}scale(e,t,r){return this.start.scale(e,t,r),this.controlPoint1.scale(e,t,r),this.controlPoint2.scale(e,t,r),this.end.scale(e,t,r),this}rotate(e,t){return this.start.rotate(e,t),this.controlPoint1.rotate(e,t),this.controlPoint2.rotate(e,t),this.end.rotate(e,t),this}translate(e,t){return"number"==typeof e?(this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t)):(this.start.translate(e),this.controlPoint1.translate(e),this.controlPoint2.translate(e),this.end.translate(e)),this}equals(e){return null!=e&&this.start.equals(e.start)&&this.controlPoint1.equals(e.controlPoint1)&&this.controlPoint2.equals(e.controlPoint2)&&this.end.equals(e.end)}clone(){return new Yt(this.start,this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.controlPoint1.serialize(),this.controlPoint2.serialize(),this.end.serialize()].join(" ")}}(function(n){n.isCurve=function e(t){return null!=t&&t instanceof n}})(Yt||(Yt={})),function(n){function e(i){const s=i.length,o=[],c=[];let a=2;o[0]=i[0]/a;for(let l=1;l<s;l+=1)c[l]=1/a,a=(l<s-1?4:3.5)-c[l],o[l]=(i[l]-o[l-1])/a;for(let l=1;l<s;l+=1)o[s-l-1]-=c[s-l]*o[s-l];return o}n.throughPoints=function r(i){if(null==i||Array.isArray(i)&&i.length<2)throw new Error("At least 2 points are required");const s=function t(i){const s=i.map(g=>O.clone(g)),o=[],c=[],a=s.length-1;if(1===a)return o[0]=new O((2*s[0].x+s[1].x)/3,(2*s[0].y+s[1].y)/3),c[0]=new O(2*o[0].x-s[0].x,2*o[0].y-s[0].y),[o,c];const l=[];for(let g=1;g<a-1;g+=1)l[g]=4*s[g].x+2*s[g+1].x;l[0]=s[0].x+2*s[1].x,l[a-1]=(8*s[a-1].x+s[a].x)/2;const h=e(l);for(let g=1;g<a-1;g+=1)l[g]=4*s[g].y+2*s[g+1].y;l[0]=s[0].y+2*s[1].y,l[a-1]=(8*s[a-1].y+s[a].y)/2;const d=e(l);for(let g=0;g<a;g+=1)o.push(new O(h[g],d[g])),c.push(g<a-1?new O(2*s[g+1].x-h[g+1],2*s[g+1].y-d[g+1]):new O((s[a].x+h[a-1])/2,(s[a].y+d[a-1])/2));return[o,c]}(i),o=[];for(let c=0,a=s[0].length;c<a;c+=1){const l=new O(s[0][c].x,s[0][c].y),h=new O(s[1][c].x,s[1][c].y);o.push(new n(i[c],l,h,i[c+1]))}return o}}(Yt||(Yt={}));class M5 extends ma{constructor(){super(...arguments),this.isVisible=!0,this.isSegment=!0,this.isSubpathStart=!1}get end(){return this.endPoint}get start(){if(null==this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path, or segment has not yet been added to a path.)");return this.previousSegment.end}closestPointT(e,t){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither `closestPointT` nor `closestPointNormalizedLength` method is implemented.")}lengthAtT(e,t){if(e<=0)return 0;const r=this.length();return e>=1?r:r*e}divideAtT(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither `divideAtT` nor `divideAt` method is implemented.")}pointAtT(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither `pointAtT` nor `pointAt` method is implemented.")}tangentAtT(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither `tangentAtT` nor `tangentAt` method is implemented.")}}class br extends M5{constructor(e,t){super(),this.endPoint=ae.isLine(e)?e.end.clone().round(2):O.create(e,t).round(2)}get type(){return"L"}get line(){return new ae(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(e){return this.line.closestPoint(e)}closestPointLength(e){return this.line.closestPointLength(e)}closestPointNormalizedLength(e){return this.line.closestPointNormalizedLength(e)}closestPointTangent(e){return this.line.closestPointTangent(e)}length(){return this.line.length()}divideAt(e){const t=this.line.divideAt(e);return[new br(t[0]),new br(t[1])]}divideAtLength(e){const t=this.line.divideAtLength(e);return[new br(t[0]),new br(t[1])]}getSubdivisions(){return[]}pointAt(e){return this.line.pointAt(e)}pointAtLength(e){return this.line.pointAtLength(e)}tangentAt(e){return this.line.tangentAt(e)}tangentAtLength(e){return this.line.tangentAtLength(e)}isDifferentiable(){return null!=this.previousSegment&&!this.start.equals(this.end)}clone(){return new br(this.end)}scale(e,t,r){return this.end.scale(e,t,r),this}rotate(e,t){return this.end.rotate(e,t),this}translate(e,t){return"number"==typeof e?this.end.translate(e,t):this.end.translate(e),this}equals(e){return this.type===e.type&&this.start.equals(e.start)&&this.end.equals(e.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){const e=this.end;return`${this.type} ${e.x} ${e.y}`}}!function(n){n.create=function e(...t){const r=t.length,i=t[0];if(ae.isLine(i))return new n(i);if(O.isPointLike(i))return 1===r?new n(i):t.map(o=>new n(o));if(2===r)return new n(+t[0],+t[1]);const s=[];for(let o=0;o<r;o+=2)s.push(new n(+t[o],+t[o+1]));return s}}(br||(br={}));class n3 extends M5{get end(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. MoveTo), or segment has not yet been added to a path.)");return this.subpathStartSegment.end}get type(){return"Z"}get line(){return new ae(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(e){return this.line.closestPoint(e)}closestPointLength(e){return this.line.closestPointLength(e)}closestPointNormalizedLength(e){return this.line.closestPointNormalizedLength(e)}closestPointTangent(e){return this.line.closestPointTangent(e)}length(){return this.line.length()}divideAt(e){const t=this.line.divideAt(e);return[t[1].isDifferentiable()?new br(t[0]):this.clone(),new br(t[1])]}divideAtLength(e){const t=this.line.divideAtLength(e);return[t[1].isDifferentiable()?new br(t[0]):this.clone(),new br(t[1])]}getSubdivisions(){return[]}pointAt(e){return this.line.pointAt(e)}pointAtLength(e){return this.line.pointAtLength(e)}tangentAt(e){return this.line.tangentAt(e)}tangentAtLength(e){return this.line.tangentAtLength(e)}isDifferentiable(){return!(!this.previousSegment||!this.subpathStartSegment||this.start.equals(this.end))}scale(){return this}rotate(){return this}translate(){return this}equals(e){return this.type===e.type&&this.start.equals(e.start)&&this.end.equals(e.end)}clone(){return new n3}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return this.type}}!function(n){n.create=function e(){return new n}}(n3||(n3={}));class r3 extends M5{constructor(e,t){super(),this.isVisible=!1,this.isSubpathStart=!0,this.endPoint=ae.isLine(e)||Yt.isCurve(e)?e.end.clone().round(2):O.create(e,t).round(2)}get start(){throw new Error("Illegal access. Moveto segments should not need a start property.")}get type(){return"M"}bbox(){return null}closestPoint(){return this.end.clone()}closestPointLength(){return 0}closestPointNormalizedLength(){return 0}closestPointT(){return 1}closestPointTangent(){return null}length(){return 0}lengthAtT(){return 0}divideAt(){return[this.clone(),this.clone()]}divideAtLength(){return[this.clone(),this.clone()]}getSubdivisions(){return[]}pointAt(){return this.end.clone()}pointAtLength(){return this.end.clone()}pointAtT(){return this.end.clone()}tangentAt(){return null}tangentAtLength(){return null}tangentAtT(){return null}isDifferentiable(){return!1}scale(e,t,r){return this.end.scale(e,t,r),this}rotate(e,t){return this.end.rotate(e,t),this}translate(e,t){return"number"==typeof e?this.end.translate(e,t):this.end.translate(e),this}clone(){return new r3(this.end)}equals(e){return this.type===e.type&&this.end.equals(e.end)}toJSON(){return{type:this.type,end:this.end.toJSON()}}serialize(){const e=this.end;return`${this.type} ${e.x} ${e.y}`}}!function(n){n.create=function e(...t){const r=t.length,i=t[0];if(ae.isLine(i))return new n(i);if(Yt.isCurve(i))return new n(i);if(O.isPointLike(i)){if(1===r)return new n(i);const o=[];for(let c=0;c<r;c+=1)o.push(0===c?new n(t[c]):new br(t[c]));return o}if(2===r)return new n(+t[0],+t[1]);const s=[];for(let o=0;o<r;o+=2){const c=+t[o],a=+t[o+1];s.push(0===o?new n(c,a):new br(c,a))}return s}}(r3||(r3={}));class cs extends M5{constructor(e,t,r,i,s,o){super(),Yt.isCurve(e)?(this.controlPoint1=e.controlPoint1.clone().round(2),this.controlPoint2=e.controlPoint2.clone().round(2),this.endPoint=e.end.clone().round(2)):"number"==typeof e?(this.controlPoint1=new O(e,t).round(2),this.controlPoint2=new O(r,i).round(2),this.endPoint=new O(s,o).round(2)):(this.controlPoint1=O.create(e).round(2),this.controlPoint2=O.create(t).round(2),this.endPoint=O.create(r).round(2))}get type(){return"C"}get curve(){return new Yt(this.start,this.controlPoint1,this.controlPoint2,this.end)}bbox(){return this.curve.bbox()}closestPoint(e){return this.curve.closestPoint(e)}closestPointLength(e){return this.curve.closestPointLength(e)}closestPointNormalizedLength(e){return this.curve.closestPointNormalizedLength(e)}closestPointTangent(e){return this.curve.closestPointTangent(e)}length(){return this.curve.length()}divideAt(e,t={}){const r=this.curve.divideAt(e,t);return[new cs(r[0]),new cs(r[1])]}divideAtLength(e,t={}){const r=this.curve.divideAtLength(e,t);return[new cs(r[0]),new cs(r[1])]}divideAtT(e){const t=this.curve.divideAtT(e);return[new cs(t[0]),new cs(t[1])]}getSubdivisions(){return[]}pointAt(e){return this.curve.pointAt(e)}pointAtLength(e){return this.curve.pointAtLength(e)}tangentAt(e){return this.curve.tangentAt(e)}tangentAtLength(e){return this.curve.tangentAtLength(e)}isDifferentiable(){if(!this.previousSegment)return!1;const t=this.controlPoint1,r=this.controlPoint2,i=this.end;return!(this.start.equals(t)&&t.equals(r)&&r.equals(i))}scale(e,t,r){return this.controlPoint1.scale(e,t,r),this.controlPoint2.scale(e,t,r),this.end.scale(e,t,r),this}rotate(e,t){return this.controlPoint1.rotate(e,t),this.controlPoint2.rotate(e,t),this.end.rotate(e,t),this}translate(e,t){return"number"==typeof e?(this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t)):(this.controlPoint1.translate(e),this.controlPoint2.translate(e),this.end.translate(e)),this}equals(e){return this.start.equals(e.start)&&this.end.equals(e.end)&&this.controlPoint1.equals(e.controlPoint1)&&this.controlPoint2.equals(e.controlPoint2)}clone(){return new cs(this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){const e=this.controlPoint1,t=this.controlPoint2,r=this.end;return[this.type,e.x,e.y,t.x,t.y,r.x,r.y].join(" ")}}function C5(n,e,t){return{x:n*Math.cos(t)-e*Math.sin(t),y:n*Math.sin(t)+e*Math.cos(t)}}function uT(n,e,t,r,i,s){const o=.3333333333333333,c=2/3;return[o*n+c*t,o*e+c*r,o*i+c*t,o*s+c*r,i,s]}function hT(n,e,t,r,i,s,o,c,a,l){const h=120*Math.PI/180,d=Math.PI/180*(+i||0);let p,v,y,w,C,g=[];if(l)v=l[0],y=l[1],w=l[2],C=l[3];else{p=C5(n,e,-d),n=p.x,e=p.y,p=C5(c,a,-d);const Oe=(n-(c=p.x))/2,R=(e-(a=p.y))/2;let N=Oe*Oe/(t*t)+R*R/(r*r);N>1&&(N=Math.sqrt(N),t*=N,r*=N);const X=t*t,se=r*r,ue=(s===o?-1:1)*Math.sqrt(Math.abs((X*se-X*R*R-se*Oe*Oe)/(X*R*R+se*Oe*Oe)));w=ue*t*R/r+(n+c)/2,C=ue*-r*Oe/t+(e+a)/2,v=Math.asin((e-C)/r),y=Math.asin((a-C)/r),v=n<w?Math.PI-v:v,y=c<w?Math.PI-y:y,v<0&&(v=2*Math.PI+v),y<0&&(y=2*Math.PI+y),o&&v>y&&(v-=2*Math.PI),!o&&y>v&&(y-=2*Math.PI)}let M=y-v;if(Math.abs(M)>h){const Oe=y,R=c,N=a;y=v+h*(o&&y>v?1:-1),g=hT(c=w+t*Math.cos(y),a=C+r*Math.sin(y),t,r,i,0,o,R,N,[y,Oe,w,C])}M=y-v;const E=Math.cos(v),z=Math.sin(v),T=Math.cos(y),P=Math.sin(y),k=Math.tan(M/4),G=4/3*(t*k),B=4/3*(r*k),K=[n,e],Z=[n+G*z,e-B*E],ee=[c+G*P,a-B*T],ke=[c,a];if(Z[0]=2*K[0]-Z[0],Z[1]=2*K[1]-Z[1],l)return[Z,ee,ke].concat(g);{g=[Z,ee,ke].concat(g).join().split(",");const Oe=[],R=g.length;for(let N=0;N<R;N+=1)Oe[N]=N%2?C5(+g[N-1],+g[N],d).y:C5(+g[N],+g[N+1],d).x;return Oe}}function eie(n){const e=function Qre(n){const e=function Jre(n){if(!n)return null;const e="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",t=new RegExp(`([a-z])[${e},]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[${e}]*,?[${e}]*)+)`,"ig"),r=new RegExp(`(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[${e}]*,?[${e}]*`,"ig"),i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},s=[];return n.replace(t,(o,c,a)=>{const l=[];let h=c.toLowerCase();a.replace(r,(g,p)=>(p&&l.push(+p),g)),"m"===h&&l.length>2&&(s.push([c,...l.splice(0,2)]),h="l",c="m"===c?"l":"L");const d=i[h];for(;l.length>=d&&(s.push([c,...l.splice(0,d)]),d););return o}),s}(n);if(!e||!e.length)return[["M",0,0]];let t=0,r=0,i=0,s=0;const o=[];for(let c=0,a=e.length;c<a;c+=1){const l=[];o.push(l);const h=e[c],d=h[0];if(d!==d.toUpperCase())switch(l[0]=d.toUpperCase(),l[0]){case"A":l[1]=h[1],l[2]=h[2],l[3]=h[3],l[4]=h[4],l[5]=h[5],l[6]=+h[6]+t,l[7]=+h[7]+r;break;case"V":l[1]=+h[1]+r;break;case"H":l[1]=+h[1]+t;break;case"M":i=+h[1]+t,s=+h[2]+r;for(let g=1,p=h.length;g<p;g+=1)l[g]=+h[g]+(g%2?t:r);break;default:for(let g=1,p=h.length;g<p;g+=1)l[g]=+h[g]+(g%2?t:r)}else for(let g=0,p=h.length;g<p;g+=1)l[g]=h[g];switch(l[0]){case"Z":t=+i,r=+s;break;case"H":t=l[1];break;case"V":r=l[1];break;case"M":i=l[l.length-2],s=l[l.length-1],t=l[l.length-2],r=l[l.length-1];break;default:t=l[l.length-2],r=l[l.length-1]}}return o}(n),t={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function r(a,l,h){let d,g;if(!a)return["C",l.x,l.y,l.x,l.y,l.x,l.y];switch(a[0]in{T:1,Q:1}||(l.qx=null,l.qy=null),a[0]){case"M":l.X=a[1],l.Y=a[2];break;case"A":return 0===parseFloat(a[1])||0===parseFloat(a[2])?["L",a[6],a[7]]:["C"].concat(hT.apply(0,[l.x,l.y].concat(a.slice(1))));case"S":return"C"===h||"S"===h?(d=2*l.x-l.bx,g=2*l.y-l.by):(d=l.x,g=l.y),["C",d,g].concat(a.slice(1));case"T":return"Q"===h||"T"===h?(l.qx=2*l.x-l.qx,l.qy=2*l.y-l.qy):(l.qx=l.x,l.qy=l.y),["C"].concat(uT(l.x,l.y,l.qx,l.qy,a[1],a[2]));case"Q":return l.qx=a[1],l.qy=a[2],["C"].concat(uT(l.x,l.y,a[1],a[2],a[3],a[4]));case"H":return["L"].concat(a[1],l.y);case"V":return["L"].concat(l.x,a[1])}return a}function i(a,l){if(a[l].length>7){a[l].shift();const h=a[l];for(;h.length;)s[l]="A",a.splice(l+=1,0,["C"].concat(h.splice(0,6)));a.splice(l,1),c=e.length}}const s=[];let o="",c=e.length;for(let a=0;a<c;a+=1){let l="";e[a]&&(l=e[a][0]),"C"!==l&&(s[a]=l,a>0&&(o=s[a-1])),e[a]=r(e[a],t,o),"A"!==s[a]&&"C"===l&&(s[a]="C"),i(e,a);const h=e[a],d=h.length;t.x=h[d-2],t.y=h[d-1],t.bx=parseFloat(h[d-4])||t.x,t.by=parseFloat(h[d-3])||t.y}return(!e[0][0]||"M"!==e[0][0])&&e.unshift(["M",0,0]),e}function tie(n){return eie(n).map(e=>e.map(t=>"string"==typeof t?t:bt.round(t,2))).join(",").split(",").join(" ")}!function(n){n.create=function e(...t){const r=t.length,i=t[0];if(Yt.isCurve(i))return new n(i);if(O.isPointLike(i)){if(3===r)return new n(t[0],t[1],t[2]);const o=[];for(let c=0;c<r;c+=3)o.push(new n(t[c],t[c+1],t[c+2]));return o}if(6===r)return new n(t[0],t[1],t[2],t[3],t[4],t[5]);const s=[];for(let o=0;o<r;o+=6)s.push(new n(t[o],t[o+1],t[o+2],t[o+3],t[o+4],t[o+5]));return s}}(cs||(cs={}));class he extends ma{constructor(e){if(super(),this.PRECISION=3,this.segments=[],Array.isArray(e))if(ae.isLine(e[0])||Yt.isCurve(e[0])){let t=null;e.forEach((i,s)=>{0===s&&this.appendSegment(he.createSegment("M",i.start)),null!=t&&!t.end.equals(i.start)&&this.appendSegment(he.createSegment("M",i.start)),ae.isLine(i)?this.appendSegment(he.createSegment("L",i.end)):Yt.isCurve(i)&&this.appendSegment(he.createSegment("C",i.controlPoint1,i.controlPoint2,i.end)),t=i})}else e.forEach(r=>{r.isSegment&&this.appendSegment(r)});else null!=e&&(ae.isLine(e)?(this.appendSegment(he.createSegment("M",e.start)),this.appendSegment(he.createSegment("L",e.end))):Yt.isCurve(e)?(this.appendSegment(he.createSegment("M",e.start)),this.appendSegment(he.createSegment("C",e.controlPoint1,e.controlPoint2,e.end))):rn.isPolyline(e)?e.points&&e.points.length&&e.points.forEach((t,r)=>{const i=he.createSegment(0===r?"M":"L",t);this.appendSegment(i)}):e.isSegment&&this.appendSegment(e))}get start(){const e=this.segments,t=e.length;if(0===t)return null;for(let r=0;r<t;r+=1){const i=e[r];if(i.isVisible)return i.start}return e[t-1].end}get end(){const e=this.segments,t=e.length;if(0===t)return null;for(let r=t-1;r>=0;r-=1){const i=e[r];if(i.isVisible)return i.end}return e[t-1].end}moveTo(...e){return this.appendSegment(r3.create.call(null,...e))}lineTo(...e){return this.appendSegment(br.create.call(null,...e))}curveTo(...e){return this.appendSegment(cs.create.call(null,...e))}arcTo(e,t,r,i,s,o,c){const a=this.end||new O,l="number"==typeof o?w5(a.x,a.y,e,t,r,i,s,o,c):w5(a.x,a.y,e,t,r,i,s,o.x,o.y);if(null!=l)for(let h=0,d=l.length;h<d;h+=6)this.curveTo(l[h],l[h+1],l[h+2],l[h+3],l[h+4],l[h+5]);return this}quadTo(e,t,r,i){const s=this.end||new O,o=["M",s.x,s.y];"number"==typeof e?o.push("Q",e,t,r,i):o.push("Q",e.x,e.y,t.x,t.y);const c=he.parse(o.join(" "));return this.appendSegment(c.segments.slice(1)),this}close(){return this.appendSegment(n3.create())}drawPoints(e,t={}){const r=lT(e,t),i=he.parse(r);i&&i.segments&&this.appendSegment(i.segments)}bbox(){const e=this.segments,t=e.length;if(0===t)return null;let r;for(let s=0;s<t;s+=1){const o=e[s];if(o.isVisible){const c=o.bbox();null!=c&&(r=r?r.union(c):c)}}if(null!=r)return r;const i=e[t-1];return new J(i.end.x,i.end.y,0,0)}appendSegment(e){const t=this.segments.length;let i,r=0!==t?this.segments[t-1]:null;if(Array.isArray(e))for(let o=0,c=e.length;o<c;o+=1)i=this.prepareSegment(e[o],r,null),this.segments.push(i),r=i;else null!=e&&e.isSegment&&(i=this.prepareSegment(e,r,null),this.segments.push(i));return this}insertSegment(e,t){const r=this.segments.length;if(e<0&&(e=r+e+1),e>r||e<0)throw new Error("Index out of range.");let i,s=null,o=null;if(0!==r&&(e>=1?(s=this.segments[e-1],o=s.nextSegment):(s=null,o=this.segments[0])),Array.isArray(t))for(let c=0,a=t.length;c<a;c+=1)i=this.prepareSegment(t[c],s,o),this.segments.splice(e+c,0,i),s=i;else i=this.prepareSegment(t,s,o),this.segments.splice(e,0,i);return this}removeSegment(e){const t=this.fixIndex(e),r=this.segments.splice(t,1)[0],i=r.previousSegment,s=r.nextSegment;return i&&(i.nextSegment=s),s&&(s.previousSegment=i),r.isSubpathStart&&s&&this.updateSubpathStartSegment(s),r}replaceSegment(e,t){const r=this.fixIndex(e);let i;const s=this.segments[r];let o=s.previousSegment;const c=s.nextSegment;let a=s.isSubpathStart;if(Array.isArray(t)){this.segments.splice(e,1);for(let l=0,h=t.length;l<h;l+=1)i=this.prepareSegment(t[l],o,c),this.segments.splice(e+l,0,i),o=i,a&&i.isSubpathStart&&(a=!1)}else i=this.prepareSegment(t,o,c),this.segments.splice(r,1,i),a&&i.isSubpathStart&&(a=!1);a&&c&&this.updateSubpathStartSegment(c)}getSegment(e){const t=this.fixIndex(e);return this.segments[t]}fixIndex(e){const t=this.segments.length;if(0===t)throw new Error("Path has no segments.");let r=e;for(;r<0;)r=t+r;if(r>=t||r<0)throw new Error("Index out of range.");return r}segmentAt(e,t={}){const r=this.segmentIndexAt(e,t);return r?this.getSegment(r):null}segmentAtLength(e,t={}){const r=this.segmentIndexAtLength(e,t);return r?this.getSegment(r):null}segmentIndexAt(e,t={}){if(0===this.segments.length)return null;const r=bt.clamp(e,0,1),i=this.getOptions(t),o=this.length(i)*r;return this.segmentIndexAtLength(o,i)}segmentIndexAtLength(e,t={}){const r=this.segments.length;if(0===r)return null;let i=!0;e<0&&(i=!1,e=-e);const s=this.getPrecision(t),o=this.getSubdivisions(t);let c=0,a=null;for(let l=0;l<r;l+=1){const h=i?l:r-1-l,d=this.segments[h],p=d.length({precision:s,subdivisions:o[h]});if(d.isVisible){if(e<=c+p)return h;a=h}c+=p}return a}getSegmentSubdivisions(e={}){const t=this.getPrecision(e),r=[];for(let i=0,s=this.segments.length;i<s;i+=1){const c=this.segments[i].getSubdivisions({precision:t});r.push(c)}return r}updateSubpathStartSegment(e){let t=e.previousSegment,r=e;for(;r&&!r.isSubpathStart;)r.subpathStartSegment=null!=t?t.subpathStartSegment:null,t=r,r=r.nextSegment}prepareSegment(e,t,r){e.previousSegment=t,e.nextSegment=r,null!=t&&(t.nextSegment=e),null!=r&&(r.previousSegment=e);let i=e;return e.isSubpathStart&&(e.subpathStartSegment=e,i=r),null!=i&&this.updateSubpathStartSegment(i),e}closestPoint(e,t={}){const r=this.closestPointT(e,t);return r?this.pointAtT(r):null}closestPointLength(e,t={}){const r=this.getOptions(t),i=this.closestPointT(e,r);return i?this.lengthAtT(i,r):0}closestPointNormalizedLength(e,t={}){const r=this.getOptions(t),i=this.closestPointLength(e,r);if(0===i)return 0;const s=this.length(r);return 0===s?0:i/s}closestPointT(e,t={}){if(0===this.segments.length)return null;const r=this.getPrecision(t),i=this.getSubdivisions(t);let s,o=1/0;for(let c=0,a=this.segments.length;c<a;c+=1){const l=this.segments[c];if(l.isVisible){const d=l.closestPointT(e,{precision:r,subdivisions:i[c]}),g=l.pointAtT(d),p=bt.squaredLength(g,e);p<o&&(s={segmentIndex:c,value:d},o=p)}}return s||{segmentIndex:this.segments.length-1,value:1}}closestPointTangent(e,t={}){if(0===this.segments.length)return null;const r=this.getPrecision(t),i=this.getSubdivisions(t);let s,o=1/0;for(let c=0,a=this.segments.length;c<a;c+=1){const l=this.segments[c],h=i[c];if(l.isDifferentiable()){const d=l.closestPointT(e,{precision:r,subdivisions:h}),g=l.pointAtT(d),p=bt.squaredLength(g,e);p<o&&(s=l.tangentAtT(d),o=p)}}return s||null}containsPoint(e,t={}){const r=this.toPolylines(t);if(!r)return!1;let i=0;for(let s=0,o=r.length;s<o;s+=1)r[s].containsPoint(e)&&(i+=1);return i%2==1}pointAt(e,t={}){if(0===this.segments.length)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();const r=this.getOptions(t),s=this.length(r)*e;return this.pointAtLength(s,r)}pointAtLength(e,t={}){if(0===this.segments.length)return null;if(0===e)return this.start.clone();let r=!0;e<0&&(r=!1,e=-e);const i=this.getPrecision(t),s=this.getSubdivisions(t);let o,c=0;for(let l=0,h=this.segments.length;l<h;l+=1){const d=r?l:h-1-l,g=this.segments[d],p=s[d],v=g.length({precision:i,subdivisions:p});if(g.isVisible){if(e<=c+v)return g.pointAtLength((r?1:-1)*(e-c),{precision:i,subdivisions:p});o=g}c+=v}return o?r?o.end:o.start:this.segments[this.segments.length-1].end.clone()}pointAtT(e){const t=this.segments,r=t.length;if(0===r)return null;const i=e.segmentIndex;if(i<0)return t[0].pointAtT(0);if(i>=r)return t[r-1].pointAtT(1);const s=bt.clamp(e.value,0,1);return t[i].pointAtT(s)}divideAt(e,t={}){if(0===this.segments.length)return null;const r=bt.clamp(e,0,1),i=this.getOptions(t),o=this.length(i)*r;return this.divideAtLength(o,i)}divideAtLength(e,t={}){if(0===this.segments.length)return null;let r=!0;e<0&&(r=!1,e=-e);const i=this.getPrecision(t),s=this.getSubdivisions(t);let c,a,l,h,d,o=0;for(let T=0,P=this.segments.length;T<P;T+=1){const k=r?T:P-1-T,G=this.getSegment(k),K={precision:i,subdivisions:s[k]},Z=G.length(K);if(G.isDifferentiable()&&(l=G,h=k,e<=o+Z)){a=k,c=G.divideAtLength((r?1:-1)*(e-o),K);break}o+=Z}if(!l)return null;c||(a=h,d=r?1:0,c=l.divideAtT(d));const g=this.clone(),p=a;g.replaceSegment(p,c);const v=p;let y=p+1,w=p+2;c[0].isDifferentiable()||(g.removeSegment(v),y-=1,w-=1);const C=g.getSegment(y).start;g.insertSegment(y,he.createSegment("M",C)),w+=1,c[1].isDifferentiable()||(g.removeSegment(w-1),w-=1);const M=w-v-1;for(let T=w,P=g.segments.length;T<P;T+=1){const k=this.getSegment(T-M),G=g.getSegment(T);if("Z"===G.type&&!k.subpathStartSegment.end.equals(G.subpathStartSegment.end)){const B=he.createSegment("L",k.end);g.replaceSegment(T,B)}}return[new he(g.segments.slice(0,y)),new he(g.segments.slice(y))]}intersectsWithLine(e,t={}){const r=this.toPolylines(t);if(null==r)return null;let i=null;for(let s=0,o=r.length;s<o;s+=1){const a=e.intersect(r[s]);a&&(null==i&&(i=[]),Array.isArray(a)?i.push(...a):i.push(a))}return i}isDifferentiable(){for(let e=0,t=this.segments.length;e<t;e+=1)if(this.segments[e].isDifferentiable())return!0;return!1}isValid(){const e=this.segments;return 0===e.length||"M"===e[0].type}length(e={}){if(0===this.segments.length)return 0;const t=this.getSubdivisions(e);let r=0;for(let i=0,s=this.segments.length;i<s;i+=1)r+=this.segments[i].length({subdivisions:t[i]});return r}lengthAtT(e,t={}){const r=this.segments.length;if(0===r)return 0;let i=e.segmentIndex;if(i<0)return 0;let s=bt.clamp(e.value,0,1);i>=r&&(i=r-1,s=1);const o=this.getPrecision(t),c=this.getSubdivisions(t);let a=0;for(let d=0;d<i;d+=1)a+=this.segments[d].length({precision:o,subdivisions:c[d]});return a+=this.segments[i].lengthAtT(s,{precision:o,subdivisions:c[i]}),a}tangentAt(e,t={}){if(0===this.segments.length)return null;const r=bt.clamp(e,0,1),i=this.getOptions(t),o=this.length(i)*r;return this.tangentAtLength(o,i)}tangentAtLength(e,t={}){if(0===this.segments.length)return null;let r=!0;e<0&&(r=!1,e=-e);const i=this.getPrecision(t),s=this.getSubdivisions(t);let o,c=0;for(let a=0,l=this.segments.length;a<l;a+=1){const h=r?a:l-1-a,d=this.segments[h],g=s[h],p=d.length({precision:i,subdivisions:g});if(d.isDifferentiable()){if(e<=c+p)return d.tangentAtLength((r?1:-1)*(e-c),{precision:i,subdivisions:g});o=d}c+=p}return o?o.tangentAtT(r?1:0):null}tangentAtT(e){const t=this.segments.length;if(0===t)return null;const r=e.segmentIndex;if(r<0)return this.segments[0].tangentAtT(0);if(r>=t)return this.segments[t-1].tangentAtT(1);const i=bt.clamp(e.value,0,1);return this.segments[r].tangentAtT(i)}getPrecision(e={}){return null==e.precision?this.PRECISION:e.precision}getSubdivisions(e={}){if(null==e.segmentSubdivisions){const t=this.getPrecision(e);return this.getSegmentSubdivisions({precision:t})}return e.segmentSubdivisions}getOptions(e={}){return{precision:this.getPrecision(e),segmentSubdivisions:this.getSubdivisions(e)}}toPoints(e={}){const t=this.segments,r=t.length;if(0===r)return null;const i=this.getSubdivisions(e),s=[];let o=[];for(let c=0;c<r;c+=1){const a=t[c];if(a.isVisible){const l=i[c];l.length>0?l.forEach(h=>o.push(h.start)):o.push(a.start)}else o.length>0&&(o.push(t[c-1].end),s.push(o),o=[])}return o.length>0&&(o.push(this.end),s.push(o)),s}toPolylines(e={}){const t=this.toPoints(e);return t?t.map(r=>new rn(r)):null}scale(e,t,r){return this.segments.forEach(i=>i.scale(e,t,r)),this}rotate(e,t){return this.segments.forEach(r=>r.rotate(e,t)),this}translate(e,t){return this.segments.forEach("number"==typeof e?r=>r.translate(e,t):r=>r.translate(e)),this}clone(){const e=new he;return this.segments.forEach(t=>e.appendSegment(t.clone())),e}equals(e){if(null==e)return!1;const t=this.segments,r=e.segments,i=t.length;if(r.length!==i)return!1;for(let s=0;s<i;s+=1){const o=t[s],c=r[s];if(o.type!==c.type||!o.equals(c))return!1}return!0}toJSON(){return this.segments.map(e=>e.toJSON())}serialize(){if(!this.isValid())throw new Error("Invalid path segments.");return this.segments.map(e=>e.serialize()).join(" ")}toString(){return this.serialize()}}(function(n){n.isPath=function e(t){return null!=t&&t instanceof n}})(he||(he={})),function(n){function t(r,...i){if("M"===r)return r3.create.call(null,...i);if("L"===r)return br.create.call(null,...i);if("C"===r)return cs.create.call(null,...i);if("z"===r||"Z"===r)return n3.create();throw new Error(`Invalid path segment type "${r}"`)}n.parse=function e(r){if(!r)return new n;const i=new n,o=n.normalize(r).match(/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g);if(null!=o)for(let c=0,a=o.length;c<a;c+=1){const d=o[c].match(/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g);if(null!=d){const g=d[0],p=d.slice(1).map(y=>+y),v=t.call(null,g,...p);i.appendSegment(v)}}return i},n.createSegment=t}(he||(he={})),function(n){n.normalize=tie,n.isValid=Xre,n.drawArc=Kre,n.drawPoints=lT,n.arcToCurves=w5}(he||(he={}));class sn{constructor(e){this.options=Object.assign({},e),this.data=this.options.data||{},this.register=this.register.bind(this),this.unregister=this.unregister.bind(this)}get names(){return Object.keys(this.data)}register(e,t,r=!1){if("object"==typeof e)return void Object.entries(e).forEach(([o,c])=>{this.register(o,c,t)});this.exist(e)&&!r&&!ga.isApplyingHMR()&&this.onDuplicated(e);const i=this.options.process,s=i?Se(i,this,e,t):t;return this.data[e]=s,s}unregister(e){const t=e?this.data[e]:null;return delete this.data[e],t}get(e){return e?this.data[e]:null}exist(e){return!!e&&null!=this.data[e]}onDuplicated(e){try{throw this.options.onConflict&&Se(this.options.onConflict,this,e),new Error(`${M0(this.options.type)} with name '${e}' already registered.`)}catch(t){throw t}}onNotFound(e,t){throw new Error(this.getSpellingSuggestion(e,t))}getSpellingSuggestion(e,t){const r=this.getSpellingSuggestionForName(e),i=t?`${t} ${Wne(this.options.type)}`:this.options.type;return`${M0(i)} with name '${e}' does not exist.${r?` Did you mean '${r}'?`:""}`}getSpellingSuggestionForName(e){return function Yne(n,e,t){const r=Math.min(2,Math.floor(.34*n.length));let s,i=Math.floor(.4*n.length)+1,o=!1;const c=n.toLowerCase();for(const a of e){const l=t(a);if(void 0!==l&&Math.abs(l.length-c.length)<=r){const h=l.toLowerCase();if(h===c){if(l===n)continue;return a}if(o||l.length<3)continue;const d=Xne(c,h,i-1);if(void 0===d)continue;d<3?(o=!0,s=a):(i=d,s=a)}}return s}(e,Object.keys(this.data),t=>t)}}!function(n){n.create=function e(t){return new n(t)}}(sn||(sn={}));const nie={color:"#aaaaaa",thickness:1,markup:"rect",update(n,e){const t=e.thickness*e.sx,r=e.thickness*e.sy;yt(n,{width:t,height:r,rx:t,ry:r,fill:e.color})}},rie={color:"#aaaaaa",thickness:1,markup:"rect",update(n,e){const t=e.sx<=1?e.thickness*e.sx:e.thickness;yt(n,{width:t,height:t,rx:t,ry:t,fill:e.color})}},iie={color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(n,e){let t;const r=e.width,i=e.height,s=e.thickness;t=r-s>=0&&i-s>=0?["M",r,0,"H0 M0 0 V0",i].join(" "):"M 0 0 0 0",yt(n,{d:t,stroke:e.color,"stroke-width":e.thickness})}},sie=[{color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(n,e){let t;const r=e.width,i=e.height,s=e.thickness;t=r-s>=0&&i-s>=0?["M",r,0,"H0 M0 0 V0",i].join(" "):"M 0 0 0 0",yt(n,{d:t,stroke:e.color,"stroke-width":e.thickness})}},{color:"rgba(224,224,224,0.2)",thickness:3,factor:4,markup:"path",update(n,e){let t;const r=e.factor||1,i=e.width*r,s=e.height*r,o=e.thickness;t=i-o>=0&&s-o>=0?["M",i,0,"H0 M0 0 V0",s].join(" "):"M 0 0 0 0",e.width=i,e.height=s,yt(n,{d:t,stroke:e.color,"stroke-width":e.thickness})}}];class va{constructor(){this.patterns={},this.root=_e.create(u5(),{width:"100%",height:"100%"},[hc("defs")]).node}add(e,t){const r=this.root.childNodes[0];r&&r.appendChild(t),this.patterns[e]=t,_e.create("rect",{width:"100%",height:"100%",fill:`url(#${e})`}).appendTo(this.root)}get(e){return this.patterns[e]}has(e){return null!=this.patterns[e]}}!function(n){n.presets=Ti,n.registry=sn.create({type:"grid"}),n.registry.register(n.presets,!0)}(va||(va={}));const fT=function(n){const e=document.createElement("canvas"),t=n.width,r=n.height;e.width=2*t,e.height=r;const i=e.getContext("2d");return i.drawImage(n,0,0,t,r),i.translate(2*t,0),i.scale(-1,1),i.drawImage(n,0,0,t,r),e},dT=function(n){const e=document.createElement("canvas"),t=n.width,r=n.height;e.width=t,e.height=2*r;const i=e.getContext("2d");return i.drawImage(n,0,0,t,r),i.translate(0,2*r),i.scale(1,-1),i.drawImage(n,0,0,t,r),e},gT=function(n){const e=document.createElement("canvas"),t=n.width,r=n.height;e.width=2*t,e.height=2*r;const i=e.getContext("2d");return i.drawImage(n,0,0,t,r),i.setTransform(-1,0,0,-1,e.width,e.height),i.drawImage(n,0,0,t,r),i.setTransform(-1,0,0,1,e.width,0),i.drawImage(n,0,0,t,r),i.setTransform(1,0,0,-1,0,e.height),i.drawImage(n,0,0,t,r),e},oie=function(n,e){const t=n.width,r=n.height,i=document.createElement("canvas");i.width=3*t,i.height=3*r;const s=i.getContext("2d"),c=Dt.toRad(null!=e.angle?-e.angle:-20),a=i.width/4,l=i.height/4;for(let h=0;h<4;h+=1)for(let d=0;d<4;d+=1)(h+d)%2>0&&(s.setTransform(1,0,0,1,(2*h-1)*a,(2*d-1)*l),s.rotate(c),s.drawImage(n,-t/2,-r/2,t,r));return i};var H0,i3;function Ty(n,e){return n??e}function $n(n,e){return null!=n&&Number.isFinite(n)?n:e}function cie(n={}){const e=Ty(n.color,"blue"),t=$n(n.width,1),r=$n(n.margin,2);return`\n    <filter>\n      <feFlood flood-color="${e}" flood-opacity="${$n(n.opacity,1)}" result="colored"/>\n      <feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${r+t}" />\n      <feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${r}" />\n      <feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/>\n      <feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/>\n      <feMerge>\n        <feMergeNode in="outline"/>\n        <feMergeNode in="SourceGraphic"/>\n      </feMerge>\n    </filter>\n  `.trim()}function aie(n={}){const e=Ty(n.color,"red"),t=$n(n.blur,0),r=$n(n.width,1);return`\n      <filter>\n        <feFlood flood-color="${e}" flood-opacity="${$n(n.opacity,1)}" result="colored"/>\n        <feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${r}"/>\n        <feComposite result="composed" in="colored" in2="morphed" operator="in"/>\n        <feGaussianBlur result="blured" in="composed" stdDeviation="${t}"/>\n        <feBlend in="SourceGraphic" in2="blured" mode="normal"/>\n      </filter>\n    `.trim()}function lie(n={}){const e=$n(n.x,2);return`\n    <filter>\n      <feGaussianBlur stdDeviation="${null!=n.y&&Number.isFinite(n.y)?[e,n.y]:e}"/>\n    </filter>\n  `.trim()}function uie(n={}){const e=$n(n.dx,0),t=$n(n.dy,0),r=Ty(n.color,"black"),i=$n(n.blur,4),s=$n(n.opacity,1);return"SVGFEDropShadowElement"in window?`<filter>\n         <feDropShadow stdDeviation="${i}" dx="${e}" dy="${t}" flood-color="${r}" flood-opacity="${s}" />\n       </filter>`.trim():`<filter>\n         <feGaussianBlur in="SourceAlpha" stdDeviation="${i}" />\n         <feOffset dx="${e}" dy="${t}" result="offsetblur" />\n         <feFlood flood-color="${r}" />\n         <feComposite in2="offsetblur" operator="in" />\n         <feComponentTransfer>\n           <feFuncA type="linear" slope="${s}" />\n         </feComponentTransfer>\n         <feMerge>\n           <feMergeNode/>\n           <feMergeNode in="SourceGraphic"/>\n         </feMerge>\n       </filter>`.trim()}function hie(n={}){const e=$n(n.amount,1),r=.7152-.7152*(1-e);return`\n    <filter>\n      <feColorMatrix type="matrix" values="${.2126+.7874*(1-e)} ${r} ${.0722-.0722*(1-e)} 0 0 ${.2126-.2126*(1-e)} ${.7152+.2848*(1-e)} ${.0722-.0722*(1-e)} 0 0 ${.2126-.2126*(1-e)} ${r} ${.0722+.9278*(1-e)} 0 0 0 0 0 1 0"/>\n    </filter>\n  `.trim()}function fie(n={}){const e=$n(n.amount,1);return`\n      <filter>\n        <feColorMatrix type="matrix" values="${.393+.607*(1-e)} ${.769-.769*(1-e)} ${.189-.189*(1-e)} 0 0 ${.349-.349*(1-e)} ${.686+.314*(1-e)} ${.168-.168*(1-e)} 0 0 ${.272-.272*(1-e)} ${.534-.534*(1-e)} ${.131+.869*(1-e)} 0 0 0 0 0 1 0"/>\n      </filter>\n    `.trim()}function die(n={}){return`\n      <filter>\n        <feColorMatrix type="saturate" values="${1-$n(n.amount,1)}"/>\n      </filter>\n    `.trim()}function gie(n={}){return`\n      <filter>\n        <feColorMatrix type="hueRotate" values="${$n(n.angle,0)}"/>\n      </filter>\n    `.trim()}function pie(n={}){const e=$n(n.amount,1),t=1-e;return`\n      <filter>\n        <feComponentTransfer>\n          <feFuncR type="table" tableValues="${e} ${t}"/>\n          <feFuncG type="table" tableValues="${e} ${t}"/>\n          <feFuncB type="table" tableValues="${e} ${t}"/>\n        </feComponentTransfer>\n      </filter>\n    `.trim()}function mie(n={}){const e=$n(n.amount,1);return`\n    <filter>\n      <feComponentTransfer>\n        <feFuncR type="linear" slope="${e}"/>\n        <feFuncG type="linear" slope="${e}"/>\n        <feFuncB type="linear" slope="${e}"/>\n      </feComponentTransfer>\n    </filter>\n  `.trim()}function vie(n={}){const e=$n(n.amount,1),t=.5-e/2;return`\n    <filter>\n     <feComponentTransfer>\n        <feFuncR type="linear" slope="${e}" intercept="${t}"/>\n        <feFuncG type="linear" slope="${e}" intercept="${t}"/>\n        <feFuncB type="linear" slope="${e}" intercept="${t}"/>\n      </feComponentTransfer>\n    </filter>\n  `.trim()}!function(n){n.presets=Object.assign({},A),n.presets["flip-x"]=fT,n.presets["flip-y"]=dT,n.presets["flip-xy"]=gT,n.registry=sn.create({type:"background pattern"}),n.registry.register(n.presets,!0)}(H0||(H0={})),function(n){n.presets=Na,n.registry=sn.create({type:"filter"}),n.registry.register(n.presets,!0)}(i3||(i3={}));const yie={xlinkHref:"xlink:href",xlinkShow:"xlink:show",xlinkRole:"xlink:role",xlinkType:"xlink:type",xlinkArcrole:"xlink:arcrole",xlinkTitle:"xlink:title",xlinkActuate:"xlink:actuate",xmlSpace:"xml:space",xmlBase:"xml:base",xmlLang:"xml:lang",preserveAspectRatio:"preserveAspectRatio",requiredExtension:"requiredExtension",requiredFeatures:"requiredFeatures",systemLanguage:"systemLanguage",externalResourcesRequired:"externalResourceRequired"},bie={},pT={position:E5("x","width","origin")},mT={position:E5("y","height","origin")},wie={position:E5("x","width","corner")},Mie={position:E5("y","height","corner")},vT={set:ya("width","width")},yT={set:ya("height","height")},Cie={set:ya("rx","width")},Eie={set:ya("ry","height")},bT={set:(n=>{const e=ya("r","width"),t=ya("r","height");return function(r,i){const s=i.refBBox;return Se(s.height>s.width?e:t,this,r,i)}})()},_ie={set(n,{refBBox:e}){let t=parseFloat(n);const r=uc(n);r&&(t/=100);const i=Math.sqrt(e.height*e.height+e.width*e.width);let s;return Number.isFinite(t)&&(s=r||t>=0&&t<=1?t*i:Math.max(t+i,0)),{r:s}}},xie={set:ya("cx","width")},Sie={set:ya("cy","height")},wT={set:ET({resetOffset:!0})},zie={set:ET({resetOffset:!1})},MT={set:_T({resetOffset:!0})},Die={set:_T({resetOffset:!1})},Aie=bT,Tie=wT,Oie=MT,Iie=pT,Pie=mT,Lie=vT,Hie=yT;function E5(n,e,t){return(r,{refBBox:i})=>{if(null==r)return null;let s=parseFloat(r);const o=uc(r);let c;if(o&&(s/=100),Number.isFinite(s)){const l=i[t];c=o||s>0&&s<1?l[n]+i[e]*s:l[n]+s}const a=new O;return a[n]=c||0,a}}function ya(n,e){return function(t,{refBBox:r}){let i=parseFloat(t);const s=uc(t);s&&(i/=100);const o={};if(Number.isFinite(i)){const c=s||i>=0&&i<=1?i*r[e]:Math.max(i+r[e],0);o[n]=c}return o}}function CT(n,e){const t="x6-shape",r=e&&e.resetOffset;return function(i,{elem:s,refBBox:o}){let c=cl(s,t);if(!c||c.value!==i){const y=n(i);c={value:i,shape:y,shapeBBox:y.bbox()},cl(s,t,c)}const a=c.shape.clone(),l=c.shapeBBox.clone(),h=l.getOrigin(),d=o.getOrigin();l.x=d.x,l.y=d.y;const g=o.getMaxScaleToFit(l,d);return a.scale(0===l.width||0===o.width?1:g.sx,0===l.height||0===o.height?1:g.sy,h),r&&a.translate(-h.x,-h.y),a}}function ET(n){const t=CT(function e(r){return he.parse(r)},n);return(r,i)=>({d:t(r,i).serialize()})}function _T(n){const e=CT(t=>new rn(t),n);return(t,r)=>({points:e(t,r).serialize()})}const Nie={qualify:bo,set:(n,{view:e})=>`url(#${e.graph.defineGradient(n)})`},Rie={qualify:bo,set(n,{view:e}){const t=e.cell,r=Object.assign({},n);if(t.isEdge()&&"linearGradient"===r.type){const s=e.sourcePoint,o=e.targetPoint;r.id=`gradient-${r.type}-${t.id}`,r.attrs=Object.assign(Object.assign({},r.attrs),{x1:s.x,y1:s.y,x2:o.x,y2:o.y,gradientUnits:"userSpaceOnUse"}),e.graph.defs.remove(r.id)}return`url(#${e.graph.defineGradient(r)})`}},xT={qualify:(n,{attrs:e})=>null==e.textWrap||!bo(e.textWrap),set(n,{view:e,elem:t,attrs:r}){const i="x6-text",s=cl(t,i),o=h=>{try{return JSON.parse(h)}catch{return h}},c={x:r.x,eol:r.eol,annotations:o(r.annotations),textPath:o(r["text-path"]||r.textPath),textVerticalAnchor:r["text-vertical-anchor"]||r.textVerticalAnchor,displayEmpty:"true"===(r["display-empty"]||r.displayEmpty),lineHeight:r["line-height"]||r.lineHeight},a=r["font-size"]||r.fontSize,l=JSON.stringify([n,c]);if(a&&t.setAttribute("font-size",a),null==s||s!==l){const h=c.textPath;if(null!=h&&"object"==typeof h){const d=h.selector;if("string"==typeof d){const g=e.find(d)[0];g instanceof SVGPathElement&&(py(g),c.textPath=Object.assign({"xlink:href":`#${g.id}`},h))}}JA(t,`${n}`,c),cl(t,i,l)}}},Vie={qualify:bo,set(n,{view:e,elem:t,attrs:r,refBBox:i}){const s=n,o=s.width||0;uc(o)?i.width*=parseFloat(o)/100:o<=0?i.width+=o:i.width=o;const c=s.height||0;uc(c)?i.height*=parseFloat(c)/100:c<=0?i.height+=c:i.height=c;let a,l=s.text;null==l&&(l=r.text||t?.textContent),a=null!=l?eT(`${l}`,i,{"font-weight":r["font-weight"]||r.fontWeight,"font-size":r["font-size"]||r.fontSize,"font-family":r["font-family"]||r.fontFamily,lineHeight:r.lineHeight},{ellipsis:s.ellipsis}):"",Se(xT.set,this,a,{view:e,elem:t,attrs:r,refBBox:i,cell:e.cell})}},s3=(n,{attrs:e})=>void 0!==e.text,kie={qualify:s3},Fie={qualify:s3},Bie={qualify:s3},jie={qualify:s3},$ie={qualify:s3},Uie={qualify:s3},qie={qualify:(n,{elem:e})=>e instanceof SVGElement,set(n,{elem:e}){const t="x6-title",r=`${n}`,i=cl(e,t);if(null==i||i!==r){cl(e,t,r);const s=e.firstChild;if(s&&"TITLE"===s.tagName.toUpperCase())s.textContent=r;else{const o=document.createElementNS(e.namespaceURI,"title");o.textContent=r,e.insertBefore(o,s)}}}},Gie={offset:ST("x","width","right")},Wie={offset:ST("y","height","bottom")},Yie={offset:(n,{refBBox:e})=>n?{x:-e.x,y:-e.y}:{x:0,y:0}};function ST(n,e,t){return(r,{refBBox:i})=>{const s=new O;let o;return o="middle"===r?i[e]/2:r===t?i[e]:"number"==typeof r&&Number.isFinite(r)?r>-1&&r<1?-i[e]*r:-r:uc(r)?i[e]*parseFloat(r)/100:0,s[n]=-(i[n]+o),s}}const Xie={qualify:bo,set(n,{elem:e}){S0(e,n)}},Zie={set(n,{elem:e}){e.innerHTML=`${n}`}},Kie={qualify:bo,set:(n,{view:e})=>`url(#${e.graph.defineFilter(n)})`},Jie={set:n=>null!=n&&"object"==typeof n&&n.id?n.id:n};function ba(n,e,t){let r,i;"object"==typeof e?(r=e.x,i=e.y):(r=e,i=t);const s=he.parse(n),o=s.bbox();if(o){let c=-o.height/2-o.y,a=-o.width/2-o.x;"number"==typeof r&&(a-=r),"number"==typeof i&&(c-=i),s.translate(a,c)}return s.serialize()}var zT=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t};const Qie=n=>{var{size:e,width:t,height:r,offset:i,open:s}=n;return DT({size:e,width:t,height:r,offset:i},!0===s,!0,void 0,zT(n,["size","width","height","offset","open"]))},ese=n=>{var{size:e,width:t,height:r,offset:i,factor:s}=n;return DT({size:e,width:t,height:r,offset:i},!1,!1,s,zT(n,["size","width","height","offset","factor"]))};function DT(n,e,t,r=3/4,i={}){const s=n.size||10,o=n.width||s,c=n.height||s,a=new he,l={};if(e)a.moveTo(o,0).lineTo(0,c/2).lineTo(o,c),l.fill="none";else{if(a.moveTo(0,c/2),a.lineTo(o,0),!t){const h=is(r,0,1);a.lineTo(o*h,c/2)}a.lineTo(o,c),a.close()}return Object.assign(Object.assign(Object.assign({},l),i),{tagName:"path",d:ba(a.serialize(),{x:null!=n.offset?n.offset:-o/2})})}const nse=n=>{var{size:e,width:t,height:r,offset:i}=n,s=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(n,["size","width","height","offset"]);const o=e||10,c=t||o,a=r||o,l=new he;return l.moveTo(0,a/2).lineTo(c/2,0).lineTo(c,a/2).lineTo(c/2,a).close(),Object.assign(Object.assign({},s),{tagName:"path",d:ba(l.serialize(),i??-c/2)})},ise=n=>{var{d:e,offsetX:t,offsetY:r}=n,i=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(n,["d","offsetX","offsetY"]);return Object.assign(Object.assign({},i),{tagName:"path",d:ba(e,t,r)})},ose=n=>{var{size:e,width:t,height:r,offset:i}=n,s=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(n,["size","width","height","offset"]);const o=e||10,c=t||o,a=r||o,l=new he;return l.moveTo(0,0).lineTo(c,a).moveTo(0,a).lineTo(c,0),Object.assign(Object.assign({},s),{tagName:"path",fill:"none",d:ba(l.serialize(),i||-c/2)})},ase=n=>{var{width:e,height:t,offset:r,open:i,flip:s}=n,o=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(n,["width","height","offset","open","flip"]);let c=t||6;const a=e||10,l=!0===i,h=!0===s,d=Object.assign(Object.assign({},o),{tagName:"path"});h&&(c=-c);const g=new he;return g.moveTo(0,c).lineTo(a,0),l?d.fill="none":(g.lineTo(a,c),g.close()),d.d=ba(g.serialize(),{x:r||-a/2,y:c/2}),d};var AT=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t};const TT=n=>{var{r:e}=n,t=AT(n,["r"]);const r=e||5;return Object.assign(Object.assign({cx:r},t),{tagName:"circle",r})},lse=n=>{var{r:e}=n,t=AT(n,["r"]);const r=e||5,i=new he;return i.moveTo(r,0).lineTo(r,2*r),i.moveTo(0,r).lineTo(2*r,r),{children:[Object.assign(Object.assign({},TT({r})),{fill:"none"}),Object.assign(Object.assign({},t),{tagName:"path",d:ba(i.serialize(),-r)})]}},hse=n=>{var{rx:e,ry:t}=n,r=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(n,["rx","ry"]);const i=e||5,s=t||5;return Object.assign(Object.assign({cx:i},r),{tagName:"ellipse",rx:i,ry:s})};var wa;function Oy(n){return"string"==typeof n||bo(n)}(function(n){n.presets=Ra,n.registry=sn.create({type:"marker"}),n.registry.register(n.presets,!0)})(wa||(wa={})),function(n){n.normalize=ba}(wa||(wa={}));const dse={qualify:Oy,set:(n,{view:e,attrs:t})=>Iy("marker-start",n,e,t)},gse={qualify:Oy,set:(n,{view:e,attrs:t})=>Iy("marker-end",n,e,t,{transform:"rotate(180)"})},pse={qualify:Oy,set:(n,{view:e,attrs:t})=>Iy("marker-mid",n,e,t)};function Iy(n,e,t,r,i={}){const s="string"==typeof e?{name:e}:e,{name:o,args:c}=s,a=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(s,["name","args"]);let l=a;if(o&&"string"==typeof o){const d=wa.registry.get(o);if(!d)return wa.registry.onNotFound(o);l=d(Object.assign(Object.assign({},a),c))}const h=Object.assign(Object.assign(Object.assign({},function mse(n,e){const t={},r=n.stroke;"string"==typeof r&&(t.stroke=r,t.fill=r);let i=n.strokeOpacity;if(null==i&&(i=n["stroke-opacity"]),null==i&&(i=n.opacity),null!=i&&(t["stroke-opacity"]=i,t["fill-opacity"]=i),"marker-mid"!==e){const s=parseFloat(n.strokeWidth||n["stroke-width"]);if(Number.isFinite(s)&&s>1){const o=Math.ceil(s/2);t.refX="marker-start"===e?o:-o}}return t}(r,n)),i),l);return{[n]:`url(#${t.graph.defineMarker(h)})`}}const N0=(n,{view:e})=>e.cell.isEdge(),vse={qualify:N0,set(n,e){var t,r,i,s;const o=e.view,c=n.reverse||!1,a=n.stubs||0;let l;if(Number.isFinite(a)&&0!==a)if(c){let h,d;const g=o.getConnectionLength()||0;a<0?(h=(g+a)/2,d=-a):(h=a,d=g-2*a);const p=o.getConnection();l=null===(s=null===(i=null===(r=null===(t=p?.divideAtLength(h))||void 0===t?void 0:t[1])||void 0===r?void 0:r.divideAtLength(d))||void 0===i?void 0:i[0])||void 0===s?void 0:s.serialize()}else{let h;h=a<0?((o.getConnectionLength()||0)+a)/2:a;const d=o.getConnection();if(d){const g=d.divideAtLength(h),p=d.divideAtLength(-h);g&&p&&(l=`${g[0].serialize()} ${p[1].serialize()}`)}}return{d:l||o.getConnectionPathData()}}},OT={qualify:N0,set:_5("getTangentAtLength",{rotate:!0})},yse={qualify:N0,set:_5("getTangentAtLength",{rotate:!1})},IT={qualify:N0,set:_5("getTangentAtRatio",{rotate:!0})},bse={qualify:N0,set:_5("getTangentAtRatio",{rotate:!1})},wse=OT,Mse=IT;function _5(n,e){const t={x:1,y:0};return(r,i)=>{let s,o;const c=i.view,a=c[n](Number(r));return a?(o=e.rotate?a.vector().vectorAngle(t):0,s=a.start):(s=c.path.start,o=0),0===o?{transform:`translate(${s.x},${s.y}')`}:{transform:`translate(${s.x},${s.y}') rotate(${o})`}}}var Mo;(function(n){n.isValidDefinition=function e(t,r,i){return!(null==t||"string"!=typeof t&&"function"==typeof t.qualify&&!Se(t.qualify,this,r,i))}})(Mo||(Mo={})),function(n){n.presets=Object.assign(Object.assign({},yie),w3),n.registry=sn.create({type:"attribute definition"}),n.registry.register(n.presets,!0)}(Mo||(Mo={}));const tr={prefixCls:"x6",autoInsertCSS:!0,useCSSSelector:!0,prefix:n=>`${tr.prefixCls}-${n}`},PT=tr.prefix("highlighted"),Cse={highlight(n,e,t){Ke(e,t&&t.className||PT)},unhighlight(n,e,t){ss(e,t&&t.className||PT)}},LT=tr.prefix("highlight-opacity"),Ese={highlight(n,e){Ke(e,LT)},unhighlight(n,e){ss(e,LT)}};var ut;!function(n){const e=hc("svg");function t(p,v){const y=function Hre(n,e){const t=v5.createSVGPoint();return t.x=n,t.y=e,t}(p.x,p.y).matrixTransform(v);return new O(y.x,y.y)}function s(p,v){const y=e.createSVGPoint();y.x=p.x,y.y=p.y;const w=y.matrixTransform(v);y.x=p.x+p.width,y.y=p.y;const C=y.matrixTransform(v);y.x=p.x+p.width,y.y=p.y+p.height;const M=y.matrixTransform(v);y.x=p.x,y.y=p.y+p.height;const E=y.matrixTransform(v),z=Math.min(w.x,C.x,M.x,E.x),T=Math.max(w.x,C.x,M.x,E.x),P=Math.min(w.y,C.y,M.y,E.y),k=Math.max(w.y,C.y,M.y,E.y);return new J(z,P,T-z,k-P)}function c(p,v={}){let y;if(!p.ownerSVGElement||!pa(p)){if(kA(p)){const{left:E,top:z,width:T,height:P}=a(p);return new J(E,z,T,P)}return new J(0,0,0,0)}let C=v.target;if(!v.recursive){try{y=p.getBBox()}catch{y={x:p.clientLeft,y:p.clientTop,width:p.clientWidth,height:p.clientHeight}}return C?s(y,T0(p,C)):J.create(y)}{const E=p.childNodes,z=E.length;if(0===z)return c(p,{target:C});C||(C=p);for(let T=0;T<z;T+=1){const P=E[T];let k;k=c(P,0===P.childNodes.length?{target:C}:{target:C,recursive:!0}),y=y?y.union(k):k}return y}}function a(p){let v=0,y=0,w=0,C=0;if(p){let M=p;for(;M;)v+=M.offsetLeft,y+=M.offsetTop,M=M.offsetParent,M&&(v+=parseInt(Cy(M,"borderLeft"),10),y+=parseInt(Cy(M,"borderTop"),10));w=p.offsetWidth,C=p.offsetHeight}return{left:v,top:y,width:w,height:C}}function l(p){const v=y=>{const w=p.getAttribute(y),C=w?parseFloat(w):0;return Number.isNaN(C)?0:C};switch(p instanceof SVGElement&&p.nodeName.toLowerCase()){case"rect":return new J(v("x"),v("y"),v("width"),v("height"));case"circle":return new Ns(v("cx"),v("cy"),v("r"),v("r"));case"ellipse":return new Ns(v("cx"),v("cy"),v("rx"),v("ry"));case"polyline":{const y=m5(p);return new rn(y)}case"polygon":{const y=m5(p);return y.length>1&&y.push(y[0]),new rn(y)}case"path":{let y=p.getAttribute("d");return he.isValid(y)||(y=he.normalize(y)),he.parse(y)}case"line":return new ae(v("x1"),v("y1"),v("x2"),v("y2"))}return c(p)}function d(p){if(null==p)return null;let v=p;do{let y=v.tagName;if("string"!=typeof y)return null;if(y=y.toUpperCase(),Y2(v,"x6-port"))v=v.nextElementSibling;else if("G"===y)v=v.firstElementChild;else{if("TITLE"!==y)break;v=v.nextElementSibling}}while(v);return v}n.normalizeMarker=ba,n.transformPoint=t,n.transformLine=function r(p,v){return new ae(t(p.start,v),t(p.end,v))},n.transformPolyline=function i(p,v){let y=p instanceof rn?p.points:p;return Array.isArray(y)||(y=[]),new rn(y.map(w=>t(w,v)))},n.transformRectangle=s,n.bbox=function o(p,v,y){let w;const C=p.ownerSVGElement;if(!C)return new J(0,0,0,0);try{w=p.getBBox()}catch{w={x:p.clientLeft,y:p.clientTop,width:p.clientWidth,height:p.clientHeight}}return v?J.create(w):s(w,T0(p,y||C))},n.getBBox=c,n.getBoundingOffsetRect=a,n.toGeometryShape=l,n.translateAndAutoOrient=function h(p,v,y,w){const C=O.create(v),M=O.create(y);w||(w=p instanceof SVGSVGElement?p:p.ownerSVGElement);const E=Sy(p);p.setAttribute("transform","");const z=c(p,{target:w}).scale(E.sx,E.sy),T=D0();T.setTranslate(-z.x-z.width/2,-z.y-z.height/2);const P=D0(),k=C.angleBetween(M,C.clone().translate(1,0));k&&P.setRotate(k,0,0);const G=D0(),B=C.clone().move(M,z.width/2);G.setTranslate(2*C.x-B.x,2*C.y-B.y);const K=T0(p,w),Z=D0();Z.setMatrix(G.matrix.multiply(P.matrix.multiply(T.matrix.multiply(K.scale(E.sx,E.sy))))),p.setAttribute("transform",Z2(Z.matrix))},n.findShapeNode=d,n.getBBoxV2=function g(p){const v=d(p);if(!pa(v)){if(kA(p)){const{left:C,top:M,width:E,height:z}=a(p);return new J(C,M,E,z)}return new J(0,0,0,0)}return l(v).bbox()||J.create()}}(ut||(ut={}));const _se={padding:3,rx:0,ry:0,attrs:{"stroke-width":3,stroke:"#FEB663"}},xse={highlight(n,e,t){const r=Ma.getHighlighterId(e,t);if(Ma.hasCache(r))return;t=OD({},t,_se);const i=_e.create(e);let s,o;try{s=i.toPathData()}catch{o=ut.bbox(i.node,!0),s=nT(Object.assign(Object.assign({},t),o))}const c=hc("path");if(yt(c,Object.assign({d:s,"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},t.attrs?x0(t.attrs):null)),n.isEdgeElement(e))yt(c,"d",n.getConnectionPathData());else{let h=i.getTransformToElement(n.container);const d=t.padding;if(d){null==o&&(o=ut.bbox(i.node,!0));const g=o.x+o.width/2,p=o.y+o.height/2;o=ut.transformRectangle(o,h);const v=Math.max(o.width,1),y=Math.max(o.height,1),w=(v+d)/v,C=(y+d)/y,M=jn({a:w,b:0,c:0,d:C,e:g-w*g,f:p-C*p});h=h.multiply(M)}K2(c,h)}Ke(c,tr.prefix("highlight-stroke"));const a=n.cell,l=()=>Ma.removeHighlighter(r);a.on("removed",l),a.model&&a.model.on("reseted",l),n.container.appendChild(c),Ma.setCache(r,c)},unhighlight(n,e,t){Ma.removeHighlighter(Ma.getHighlighterId(e,t))}};var Ma,dc;function Py(n,e={}){return new O(Hs(e.x,n.width),Hs(e.y,n.height))}function Ly(n,e,t){return Object.assign({angle:e,position:n.toJSON()},t)}!function(n){n.getHighlighterId=function e(o,c){return py(o),o.id+JSON.stringify(c)};const t={};n.setCache=function r(o,c){t[o]=c},n.hasCache=function i(o){return null!=t[o]},n.removeHighlighter=function s(o){const c=t[o];c&&(X2(c),delete t[o])}}(Ma||(Ma={})),function(n){n.check=function e(t,r){if("function"!=typeof r.highlight)throw new Error(`Highlighter '${t}' is missing required \`highlight()\` method`);if("function"!=typeof r.unhighlight)throw new Error(`Highlighter '${t}' is missing required \`unhighlight()\` method`)}}(dc||(dc={})),function(n){n.presets=ir,n.registry=sn.create({type:"highlighter"}),n.registry.register(n.presets,!0)}(dc||(dc={}));const Sse=(n,e)=>n.map(({x:t,y:r,angle:i})=>Ly(Py(e,{x:t,y:r}),i||0)),zse=(n,e,t)=>{const i=t.step||20;return HT(n,e,t.start||0,(s,o)=>(s+.5-o/2)*i)},Dse=(n,e,t)=>{const i=t.step||360/n.length;return HT(n,e,t.start||0,s=>s*i)};function HT(n,e,t,r){const i=e.getCenter(),s=e.getTopCenter(),o=e.width/e.height,c=Ns.fromRect(e),a=n.length;return n.map((l,h)=>{const d=t+r(h,a),g=s.clone().rotate(-d,i).scale(o,1,i),p=l.compensateRotate?-c.tangentTheta(g):0;return(l.dx||l.dy)&&g.translate(l.dx||0,l.dy||0),l.dr&&g.move(i,l.dr),Ly(g.round(),p,l)})}const Tse=(n,e,t)=>R0(n,Py(e,t.start||e.getOrigin()),Py(e,t.end||e.getCorner()),t),Ose=(n,e,t)=>R0(n,e.getTopLeft(),e.getBottomLeft(),t),Ise=(n,e,t)=>R0(n,e.getTopRight(),e.getBottomRight(),t),Pse=(n,e,t)=>R0(n,e.getTopLeft(),e.getTopRight(),t),Lse=(n,e,t)=>R0(n,e.getBottomLeft(),e.getBottomRight(),t);function R0(n,e,t,r){const i=new ae(e,t),s=n.length;return n.map((o,c)=>{var{strict:a}=o,l=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(o,["strict"]);const d=i.pointAt(a||r.strict?(c+1)/(s+1):(c+.5)/s);return(l.dx||l.dy)&&d.translate(l.dx||0,l.dy||0),Ly(d.round(),0,l)})}var ll;!function(n){n.presets=M3,n.registry=sn.create({type:"port layout"}),n.registry.register(n.presets,!0)}(ll||(ll={}));const Hse={position:{x:0,y:0},angle:0,attrs:{".":{y:"0","text-anchor":"start"}}};function Ca(n,e){const{x:t,y:r,angle:i,attrs:s}=e||{};return OD({},{angle:i,attrs:s,position:{x:t,y:r}},n,Hse)}const Nse=(n,e,t)=>Ca({position:e.getTopLeft()},t),Rse=(n,e,t)=>Ca({position:{x:-15,y:0},attrs:{".":{y:".3em","text-anchor":"end"}}},t),Vse=(n,e,t)=>Ca({position:{x:15,y:0},attrs:{".":{y:".3em","text-anchor":"start"}}},t),kse=(n,e,t)=>Ca({position:{x:0,y:-15},attrs:{".":{"text-anchor":"middle"}}},t),Fse=(n,e,t)=>Ca({position:{x:0,y:15},attrs:{".":{y:".6em","text-anchor":"middle"}}},t),Bse=(n,e,t)=>NT(n,e,!1,t),jse=(n,e,t)=>NT(n,e,!0,t),$se=(n,e,t)=>RT(n,e,!1,t),Use=(n,e,t)=>RT(n,e,!0,t);function NT(n,e,t,r){const i=null!=r.offset?r.offset:15,s=e.getCenter().theta(n),o=VT(e);let c,a,l,h,d=0;return s<o[1]||s>o[2]?(c=".3em",a=i,l=0,h="start"):s<o[0]?(c="0",a=0,l=-i,t?(d=-90,h="start"):h="middle"):s<o[3]?(c=".3em",a=-i,l=0,h="end"):(c=".6em",a=0,l=i,t?(d=90,h="start"):h="middle"),Ca({position:{x:Math.round(a),y:Math.round(l)},angle:d,attrs:{".":{y:c,"text-anchor":h}}},r)}function RT(n,e,t,r){const i=null!=r.offset?r.offset:15,s=e.getCenter().theta(n),o=VT(e);let c,a,l,h,d=0;return s<o[1]||s>o[2]?(c=".3em",a=-i,l=0,h="end"):s<o[0]?(c=".6em",a=0,l=i,t?(d=90,h="start"):h="middle"):s<o[3]?(c=".3em",a=i,l=0,h="start"):(c="0em",a=0,l=-i,t?(d=-90,h="start"):h="middle"),Ca({position:{x:Math.round(a),y:Math.round(l)},angle:d,attrs:{".":{y:c,"text-anchor":h}}},r)}function VT(n){const e=n.getCenter(),t=e.theta(n.getTopLeft()),r=e.theta(n.getBottomLeft()),i=e.theta(n.getBottomRight());return[t,e.theta(n.getTopRight()),i,r]}const qse=(n,e,t)=>kT(n.diff(e.getCenter()),!1,t),Gse=(n,e,t)=>kT(n.diff(e.getCenter()),!0,t);function kT(n,e,t){const r=null!=t.offset?t.offset:20,i=new O(0,0),s=-n.theta(i);let a,c=".3em",l=s;return(s+90)%180==0?(a=e?"end":"middle",!e&&-270===s&&(c="0em")):s>-270&&s<-90?(a="start",l=s-180):a="end",Ca({position:n.clone().move(i,r).diff(n).round().round().toJSON(),angle:e?l:0,attrs:{".":{y:c,"text-anchor":a}}},t)}var o3,Hy,Pt;!function(n){n.presets=Va,n.registry=sn.create({type:"port label layout"}),n.registry.register(n.presets,!0)}(o3||(o3={}));class Ft extends rs{get priority(){return 2}constructor(){super(),this.cid=Hy.uniqueId(),Ft.views[this.cid]=this}confirmUpdate(e,t){return 0}empty(e=this.container){return E0(e),this}unmount(e=this.container){return X2(e),this}remove(e=this.container){return e===this.container&&(this.removeEventListeners(document),this.onRemove(),delete Ft.views[this.cid]),this.unmount(e),this}onRemove(){}setClass(e,t=this.container){t.classList.value=Array.isArray(e)?e.join(" "):e}addClass(e,t=this.container){return Ke(t,Array.isArray(e)?e.join(" "):e),this}removeClass(e,t=this.container){return ss(t,Array.isArray(e)?e.join(" "):e),this}setStyle(e,t=this.container){return S0(t,e),this}setAttrs(e,t=this.container){return null!=e&&null!=t&&yt(t,e),this}findAttr(e,t=this.container){let r=t;for(;r&&1===r.nodeType;){const i=r.getAttribute(e);if(null!=i)return i;if(r===this.container)return null;r=r.parentNode}return null}find(e,t=this.container,r=this.selectors){return Ft.find(e,t,r).elems}findOne(e,t=this.container,r=this.selectors){const i=this.find(e,t,r);return i.length>0?i[0]:null}findByAttr(e,t=this.container){let r=t;for(;r&&r.getAttribute;){const i=r.getAttribute(e);if((null!=i||r===this.container)&&"false"!==i)return r;r=r.parentNode}return null}getSelector(e,t){let r;if(e===this.container)return"string"==typeof t&&(r=`> ${t}`),r;if(e){const i=vy(e)+1;r=`${e.tagName.toLowerCase()}:nth-child(${i})`,t&&(r+=` > ${t}`),r=this.getSelector(e.parentNode,r)}return r}prefixClassName(e){return tr.prefix(e)}delegateEvents(e,t){if(null==e)return this;t||this.undelegateEvents();const r=/^(\S+)\s*(.*)$/;return Object.keys(e).forEach(i=>{const s=i.match(r);if(null==s)return;const o=this.getEventHandler(e[i]);"function"==typeof o&&this.delegateEvent(s[1],s[2],o)}),this}undelegateEvents(){return jr.off(this.container,this.getEventNamespace()),this}delegateDocumentEvents(e,t){return this.addEventListeners(document,e,t),this}undelegateDocumentEvents(){return this.removeEventListeners(document),this}delegateEvent(e,t,r){return jr.on(this.container,e+this.getEventNamespace(),t,r),this}undelegateEvent(e,t,r){const i=e+this.getEventNamespace();return null==t?jr.off(this.container,i):"string"==typeof t?jr.off(this.container,i,t,r):jr.off(this.container,i,t),this}addEventListeners(e,t,r){if(null==t)return this;const i=this.getEventNamespace();return Object.keys(t).forEach(s=>{const o=this.getEventHandler(t[s]);"function"==typeof o&&jr.on(e,s+i,r,o)}),this}removeEventListeners(e){return null!=e&&jr.off(e,this.getEventNamespace()),this}getEventNamespace(){return`.${tr.prefixCls}-event-${this.cid}`}getEventHandler(e){let t;if("string"==typeof e){const r=this[e];"function"==typeof r&&(t=(...i)=>r.call(this,...i))}else t=(...r)=>e.call(this,...r);return t}getEventTarget(e,t={}){const{target:r,type:i,clientX:s=0,clientY:o=0}=e;return t.fromPoint||"touchmove"===i||"touchend"===i?document.elementFromPoint(s,o):r}stopPropagation(e){return this.setEventData(e,{propagationStopped:!0}),this}isPropagationStopped(e){return!0===this.getEventData(e).propagationStopped}getEventData(e){return this.eventData(e)}setEventData(e,t){return this.eventData(e,t)}eventData(e,t){if(null==e)throw new TypeError("Event object required");let r=e.data;const i=`__${this.cid}__`;return null==t?null==r?{}:r[i]||{}:(null==r&&(r=e.data={}),r[i]=Object.assign(null==r[i]?{}:Object.assign({},r[i]),t),r[i])}normalizeEvent(e){return Ft.normalizeEvent(e)}}(function(n){n.createElement=function e(i,s){return s?hc(i||"g"):my(i||"div")},n.find=function t(i,s,o){if(!i||"."===i)return{elems:[s]};if(o){const c=o[i];if(c)return{elems:Array.isArray(c)?c:[c]}}if(tr.useCSSSelector){const c=i.includes(">")?`:scope ${i}`:i;return{isCSSSelector:!0,elems:Array.prototype.slice.call(s.querySelectorAll(c))}}return{elems:[]}},n.normalizeEvent=function r(i){let s=i;const o=i.originalEvent,c=o&&o.changedTouches&&o.changedTouches[0];if(c){for(const a in i)void 0===c[a]&&(c[a]=i[a]);s=c}return s}})(Ft||(Ft={})),function(n){n.views={},n.getView=function e(t){return n.views[t]||null}}(Ft||(Ft={})),function(n){let e=0;n.uniqueId=function t(){const r=`v${e}`;return e+=1,r}}(Hy||(Hy={}));class Wse{constructor(e){this.view=e,this.clean()}clean(){this.elemCache&&this.elemCache.dispose(),this.elemCache=new Dy,this.pathCache={}}get(e){return this.elemCache.has(e)||this.elemCache.set(e,{}),this.elemCache.get(e)}getData(e){const t=this.get(e);return t.data||(t.data={}),t.data}getMatrix(e){const t=this.get(e);return null==t.matrix&&(t.matrix=function Fre(n,e){let t=jn();if(pa(e)&&pa(n)){let r=n;const i=[];for(;r&&r!==e;){const o=A0(r.getAttribute("transform")||null);i.push(o),r=r.parentNode}i.reverse().forEach(s=>{t=t.multiply(s)})}return t}(e,this.view.container)),jn(t.matrix)}getShape(e){const t=this.get(e);return null==t.shape&&(t.shape=ut.toGeometryShape(e)),t.shape.clone()}getBoundingRect(e){const t=this.get(e);return null==t.boundingRect&&(t.boundingRect=ut.getBBoxV2(e)),t.boundingRect.clone()}}(function(n){function t(l){return null!=l&&"string"==typeof l}function s(l,h={ns:Bn.svg}){const d=document.createDocumentFragment(),g={},p={},v=[{markup:Array.isArray(l)?l:[l],parent:d,ns:h.ns}];for(;v.length>0;){const y=v.pop();let w=y.ns||Bn.svg;const M=y.parent;y.markup.forEach(E=>{const z=E.tagName;if(!z)throw new TypeError("Invalid tagName");E.ns&&(w=E.ns);const T=w?my(z,w):NA(z),P=E.attrs;P&&yt(T,x0(P));const k=E.style;k&&S0(T,k);const G=E.className;null!=G&&T.setAttribute("class",Array.isArray(G)?G.join(" "):G),E.textContent&&(T.textContent=E.textContent);const B=E.selector;if(null!=B){if(p[B])throw new TypeError("Selector must be unique");p[B]=T}if(E.groupSelector){let Z=E.groupSelector;Array.isArray(Z)||(Z=[Z]),Z.forEach(ee=>{g[ee]||(g[ee]=[]),g[ee].push(T)})}M.appendChild(T);const K=E.children;Array.isArray(K)&&v.push({ns:w,markup:K,parent:T})})}return Object.keys(g).forEach(y=>{if(p[y])throw new Error("Ambiguous group selector");p[y]=g[y]}),{fragment:d,selectors:p,groups:g}}function o(l){return l instanceof SVGElement?hc("g"):NA("div")}n.isJSONMarkup=function e(l){return null!=l&&!t(l)},n.isStringMarkup=t,n.clone=function r(l){return null==l||t(l)?l:Wt(l)},n.sanitize=function i(l){return`${l}`.trim().replace(/[\r|\n]/g," ").replace(/>\s+</g,"><")},n.parseJSONMarkup=s,n.renderMarkup=function c(l){if(t(l)){const p=_e.createVectors(l),v=p.length;if(1===v)return{elem:p[0].node};if(v>1){const y=o(p[0].node);return p.forEach(w=>{y.appendChild(w.node)}),{elem:y}}return{}}const h=s(l),d=h.fragment;let g=null;return d.childNodes.length>1?(g=o(d.firstChild),g.appendChild(d)):g=d.firstChild,{elem:g,selectors:h.selectors}},n.parseLabelStringMarkup=function a(l){const h=_e.createVectors(l),d=document.createDocumentFragment();for(let g=0,p=h.length;g<p;g+=1)d.appendChild(h[g].node);return{fragment:d,selectors:{}}}})(Pt||(Pt={})),function(n){n.getSelector=function e(t,r,i){if(null!=t){let s;const o=t.tagName.toLowerCase();if(t===r)return s="string"==typeof i?`> ${o} > ${i}`:`> ${o}`,s;const c=t.parentNode;return s=c&&c.childNodes.length>1?`${o}:nth-child(${vy(t)+1})`:o,i&&(s+=` > ${i}`),e(t.parentNode,r,s)}return i}}(Pt||(Pt={})),function(n){n.getPortContainerMarkup=function e(){return"g"},n.getPortMarkup=function t(){return{tagName:"circle",selector:"circle",attrs:{r:10,fill:"#FFFFFF",stroke:"#000000"}}},n.getPortLabelMarkup=function r(){return{tagName:"text",selector:"text",attrs:{fill:"#000000"}}}}(Pt||(Pt={})),function(n){n.getEdgeMarkup=function e(){return[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}]}}(Pt||(Pt={})),function(n){n.getForeignObjectMarkup=function e(t=!1){return{tagName:"foreignObject",selector:"fo",children:[{ns:Bn.xhtml,tagName:"body",selector:"foBody",attrs:{xmlns:Bn.xhtml},style:{width:"100%",height:"100%",background:"transparent"},children:t?[]:[{tagName:"div",selector:"foContent",style:{width:"100%",height:"100%"}}]}]}}}(Pt||(Pt={}));class FT{constructor(e){this.view=e}get cell(){return this.view.cell}getDefinition(e){return this.cell.getAttrDefinition(e)}processAttrs(e,t){let r,i,s,o;const c=[];return Object.keys(t).forEach(a=>{const l=t[a],h=this.getDefinition(a),d=Se(Mo.isValidDefinition,this.view,h,l,{elem:e,attrs:t,cell:this.cell,view:this.view});if(h&&d)"string"==typeof h?(null==r&&(r={}),r[h]=l):null!==l&&c.push({name:a,definition:h});else{null==r&&(r={});const g=FA.includes(a)?a:mA(a);r[g]=l}}),c.forEach(({name:a,definition:l})=>{const h=t[a];"function"==typeof l.set&&(null==i&&(i={}),i[a]=h),"function"==typeof l.offset&&(null==s&&(s={}),s[a]=h),"function"==typeof l.position&&(null==o&&(o={}),o[a]=h)}),{raw:t,normal:r,set:i,offset:s,position:o}}mergeProcessedAttrs(e,t){e.set=Object.assign(Object.assign({},e.set),t.set),e.position=Object.assign(Object.assign({},e.position),t.position),e.offset=Object.assign(Object.assign({},e.offset),t.offset);const r=e.normal&&e.normal.transform;null!=r&&t.normal&&(t.normal.transform=r),e.normal=t.normal}findAttrs(e,t,r,i){const s=[],o=new Dy;return Object.keys(e).forEach(c=>{const a=e[c];if(!bo(a))return;const{isCSSSelector:l,elems:h}=Ft.find(c,t,i);r[c]=h;for(let d=0,g=h.length;d<g;d+=1){const p=h[d],v=i&&i[c]===p,y=o.get(p);if(y){y.array||(s.push(p),y.array=!0,y.attrs=[y.attrs],y.priority=[y.priority]);const w=y.attrs,C=y.priority;if(v)w.unshift(a),C.unshift(-1);else{const M=QQ(C,l?-1:g);w.splice(M,0,a),C.splice(M,0,g)}}else o.set(p,{elem:p,attrs:a,priority:v?-1:g,array:!1})}}),s.forEach(c=>{const a=o.get(c);a.attrs=a.attrs.reduceRight((h,d)=>bn(h,d),{})}),o}updateRelativeAttrs(e,t,r){const i=t.raw||{};let s=t.normal||{};const o=t.set,c=t.position,a=t.offset,l=()=>({elem:e,cell:this.cell,view:this.view,attrs:i,refBBox:r.clone()});if(null!=o&&Object.keys(o).forEach(w=>{const C=o[w],M=this.getDefinition(w);if(null!=M){const E=Se(M.set,this.view,C,l());"object"==typeof E?s=Object.assign(Object.assign({},s),E):null!=E&&(s[w]=E)}}),e instanceof HTMLElement)return void this.view.setAttrs(s,e);const h=s.transform,g=A0(h?`${h}`:null),p=new O(g.e,g.f);h&&(delete s.transform,g.e=0,g.f=0);let v=!1;null!=c&&Object.keys(c).forEach(w=>{const C=c[w],M=this.getDefinition(w);if(null!=M){const E=Se(M.position,this.view,C,l());null!=E&&(v=!0,p.translate(O.create(E)))}}),this.view.setAttrs(s,e);let y=!1;if(null!=a){const w=this.view.getBoundingRectOfElement(e);if(w.width>0&&w.height>0){const C=ut.transformRectangle(w,g);Object.keys(a).forEach(M=>{const E=a[M],z=this.getDefinition(M);if(null!=z){const T=Se(z.offset,this.view,E,{elem:e,cell:this.cell,view:this.view,attrs:i,refBBox:C});null!=T&&(y=!0,p.translate(O.create(T)))}})}}(null!=h||v||y)&&(p.round(1),g.e=p.x,g.f=p.y,e.setAttribute("transform",Z2(g)))}update(e,t,r){const i={},s=this.findAttrs(r.attrs||t,e,i,r.selectors),o=r.attrs?this.findAttrs(t,e,i,r.selectors):s,c=[];s.each(h=>{const d=h.elem,g=h.attrs,p=this.processAttrs(d,g);if(null==p.set&&null==p.position&&null==p.offset)this.view.setAttrs(p.normal,d);else{const v=o.get(d),y=v?v.attrs:null,w=y&&null==g.ref?y.ref:g.ref;let C;if(w){if(C=(i[w]||this.view.find(w,e,r.selectors))[0],!C)throw new Error(`"${w}" reference does not exist.`)}else C=null;const M={node:d,refNode:C,attributes:y,processedAttributes:p},E=c.findIndex(z=>z.refNode===d);E>-1?c.splice(E,0,M):c.push(M)}});const a=new Dy;let l;c.forEach(h=>{const d=h.node,g=h.refNode;let p;const v=null!=g&&null!=r.rotatableNode&&VA(r.rotatableNode,g);let y;g&&(p=a.get(g)),p||(p=g?ut.getBBox(g,{target:v?r.rotatableNode:e}):r.rootBBox,g&&a.set(g,p)),r.attrs&&h.attributes?(y=this.processAttrs(d,h.attributes),this.mergeProcessedAttrs(y,h.processedAttributes)):y=h.processedAttributes;let w=p;v&&null!=r.rotatableNode&&!r.rotatableNode.contains(d)&&(l||(l=A0(yt(r.rotatableNode,"transform"))),w=ut.transformRectangle(p,l)),this.updateRelativeAttrs(d,y,w)})}}class BT{get cell(){return this.view.cell}constructor(e,t,r=[]){this.view=e;const i={},s={};let o=0;Object.keys(t).forEach(a=>{let l=t[a];Array.isArray(l)||(l=[l]),l.forEach(h=>{let d=i[h];d||(o+=1,d=i[h]=1<<o),s[a]|=d})});let c=r;if(Array.isArray(c)||(c=[c]),c.forEach(a=>{i[a]||(o+=1,i[a]=1<<o)}),o>25)throw new Error("Maximum number of flags exceeded.");this.flags=i,this.attrs=s,this.bootstrap=r}getFlag(e){const t=this.flags;return null==t?0:Array.isArray(e)?e.reduce((r,i)=>r|t[i],0):0|t[e]}hasAction(e,t){return e&this.getFlag(t)}removeAction(e,t){return e^e&this.getFlag(t)}getBootstrapFlag(){return this.getFlag(this.bootstrap)}getChangedFlag(){let e=0;return this.attrs&&Object.keys(this.attrs).forEach(t=>{this.cell.hasChanged(t)&&(e|=this.attrs[t])}),e}}let wr=(()=>{class n extends Ft{static getDefaults(){return this.defaults}static config(t){this.defaults=this.getOptions(t)}static getOptions(t){const r=(h,d)=>null!=d?RD([...Array.isArray(h)?h:[h],...Array.isArray(d)?d:[d]]):Array.isArray(h)?[...h]:[h],i=Wt(this.getDefaults()),{bootstrap:s,actions:o,events:c,documentEvents:a}=t,l=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(t,["bootstrap","actions","events","documentEvents"]);return s&&(i.bootstrap=r(i.bootstrap,s)),o&&Object.entries(o).forEach(([h,d])=>{const g=i.actions[h];d&&g?i.actions[h]=r(g,d):d&&(i.actions[h]=r(d))}),c&&(i.events=Object.assign(Object.assign({},i.events),c)),t.documentEvents&&(i.documentEvents=Object.assign(Object.assign({},i.documentEvents),a)),bn(i,l)}get[Symbol.toStringTag](){return n.toStringTag}constructor(t,r={}){super(),this.cell=t,this.options=this.ensureOptions(r),this.graph=this.options.graph,this.attr=new FT(this),this.flag=new BT(this,this.options.actions,this.options.bootstrap),this.cache=new Wse(this),this.setContainer(this.ensureContainer()),this.setup(),this.init()}init(){}onRemove(){this.removeTools()}get priority(){return this.options.priority}get rootSelector(){return this.options.rootSelector}getConstructor(){return this.constructor}ensureOptions(t){return this.getConstructor().getOptions(t)}getContainerTagName(){return this.options.isSvgElement?"g":"div"}getContainerStyle(){}getContainerAttrs(){return{"data-cell-id":this.cell.id,"data-shape":this.cell.shape}}getContainerClassName(){return this.prefixClassName("cell")}ensureContainer(){return Ft.createElement(this.getContainerTagName(),this.options.isSvgElement)}setContainer(t){if(this.container!==t){this.undelegateEvents(),this.container=t,null!=this.options.events&&this.delegateEvents(this.options.events);const r=this.getContainerAttrs();null!=r&&this.setAttrs(r,t);const i=this.getContainerStyle();null!=i&&this.setStyle(i,t);const s=this.getContainerClassName();null!=s&&this.addClass(s,t)}return this}isNodeView(){return!1}isEdgeView(){return!1}render(){return this}confirmUpdate(t,r={}){return 0}getBootstrapFlag(){return this.flag.getBootstrapFlag()}getFlag(t){return this.flag.getFlag(t)}hasAction(t,r){return this.flag.hasAction(t,r)}removeAction(t,r){return this.flag.removeAction(t,r)}handleAction(t,r,i,s){if(this.hasAction(t,r)){i();const o=[r];return s&&("string"==typeof s?o.push(s):o.push(...s)),this.removeAction(t,o)}return t}setup(){this.cell.on("changed",({options:t})=>this.onAttrsChange(t))}onAttrsChange(t){let r=this.flag.getChangedFlag();t.updated||!r||(t.dirty&&this.hasAction(r,"update")&&(r|=this.getFlag("render")),t.toolId&&(t.async=!1),null!=this.graph&&this.graph.renderer.requestViewUpdate(this,r,t))}parseJSONMarkup(t,r){const i=Pt.parseJSONMarkup(t),s=i.selectors,o=this.rootSelector;if(r&&o){if(s[o])throw new Error("Invalid root selector");s[o]=r}return i}can(t){let r=this.graph.options.interacting;if("function"==typeof r&&(r=Se(r,this.graph,this)),"object"==typeof r){let i=r[t];return"function"==typeof i&&(i=Se(i,this.graph,this)),!1!==i}return"boolean"==typeof r&&r}cleanCache(){return this.cache.clean(),this}getCache(t){return this.cache.get(t)}getDataOfElement(t){return this.cache.getData(t)}getMatrixOfElement(t){return this.cache.getMatrix(t)}getShapeOfElement(t){return this.cache.getShape(t)}getBoundingRectOfElement(t){return this.cache.getBoundingRect(t)}getBBoxOfElement(t){const r=this.getBoundingRectOfElement(t),i=this.getMatrixOfElement(t),s=this.getRootRotatedMatrix(),o=this.getRootTranslatedMatrix();return ut.transformRectangle(r,o.multiply(s).multiply(i))}getUnrotatedBBoxOfElement(t){const r=this.getBoundingRectOfElement(t),i=this.getMatrixOfElement(t),s=this.getRootTranslatedMatrix();return ut.transformRectangle(r,s.multiply(i))}getBBox(t={}){let r;if(t.useCellGeometry){const i=this.cell,s=i.isNode()?i.getAngle():0;r=i.getBBox().bbox(s)}else r=this.getBBoxOfElement(this.container);return this.graph.coord.localToGraphRect(r)}getRootTranslatedMatrix(){const t=this.cell,r=t.isNode()?t.getPosition():{x:0,y:0};return jn().translate(r.x,r.y)}getRootRotatedMatrix(){let t=jn();const r=this.cell,i=r.isNode()?r.getAngle():0;if(i){const s=r.getBBox(),o=s.width/2,c=s.height/2;t=t.translate(o,c).rotate(i).translate(-o,-c)}return t}findMagnet(t=this.container){return this.findByAttr("magnet",t)}updateAttrs(t,r,i={}){null==i.rootBBox&&(i.rootBBox=new J),null==i.selectors&&(i.selectors=this.selectors),this.attr.update(t,r,i)}isEdgeElement(t){return this.cell.isEdge()&&(null==t||t===this.container)}prepareHighlight(t,r={}){const i=t||this.container;return r.partial=i===this.container,i}highlight(t,r={}){const i=this.prepareHighlight(t,r);return this.notify("cell:highlight",{magnet:i,options:r,view:this,cell:this.cell}),this.isEdgeView()?this.notify("edge:highlight",{magnet:i,options:r,view:this,edge:this.cell,cell:this.cell}):this.isNodeView()&&this.notify("node:highlight",{magnet:i,options:r,view:this,node:this.cell,cell:this.cell}),this}unhighlight(t,r={}){const i=this.prepareHighlight(t,r);return this.notify("cell:unhighlight",{magnet:i,options:r,view:this,cell:this.cell}),this.isNodeView()?this.notify("node:unhighlight",{magnet:i,options:r,view:this,node:this.cell,cell:this.cell}):this.isEdgeView()&&this.notify("edge:unhighlight",{magnet:i,options:r,view:this,edge:this.cell,cell:this.cell}),this}notifyUnhighlight(t,r){}getEdgeTerminal(t,r,i,s,o){const c=this.cell,a=this.findAttr("port",t),l=t.getAttribute("data-selector"),h={cell:c.id};return null!=l&&(h.magnet=l),null!=a?(h.port=a,c.isNode()&&!c.hasPort(a)&&null==l&&(h.selector=this.getSelector(t))):null==l&&this.container!==t&&(h.selector=this.getSelector(t)),h}getMagnetFromEdgeTerminal(t){const r=this.cell,i=this.container,s=t.port;let c,o=t.magnet;return null!=s&&r.isNode()&&r.hasPort(s)?c=this.findPortElem(s,o)||i:(o||(o=t.selector),!o&&null!=s&&(o=`[port="${s}"]`),c=this.findOne(o,i,this.selectors)),c}hasTools(t){const r=this.tools;return null!=r&&(null==t||r.name===t)}addTools(t){if(this.removeTools(),t){if(!this.can("toolsAddable"))return this;const r=wn.isToolsView(t)?t:new wn(t);this.tools=r,r.config({view:this}),r.mount()}return this}updateTools(t={}){return this.tools&&this.tools.update(t),this}removeTools(){return this.tools&&(this.tools.remove(),this.tools=null),this}hideTools(){return this.tools&&this.tools.hide(),this}showTools(){return this.tools&&this.tools.show(),this}renderTools(){const t=this.cell.getTools();return this.addTools(t),this}notify(t,r){return this.trigger(t,r),this.graph.trigger(t,r),this}getEventArgs(t,r,i){const s=this,o=s.cell;return null==r||null==i?{e:t,view:s,cell:o}:{e:t,x:r,y:i,view:s,cell:o}}onClick(t,r,i){this.notify("cell:click",this.getEventArgs(t,r,i))}onDblClick(t,r,i){this.notify("cell:dblclick",this.getEventArgs(t,r,i))}onContextMenu(t,r,i){this.notify("cell:contextmenu",this.getEventArgs(t,r,i))}onMouseDown(t,r,i){this.cell.model&&(this.cachedModelForMouseEvent=this.cell.model,this.cachedModelForMouseEvent.startBatch("mouse")),this.notify("cell:mousedown",this.getEventArgs(t,r,i))}onMouseUp(t,r,i){this.notify("cell:mouseup",this.getEventArgs(t,r,i)),this.cachedModelForMouseEvent&&(this.cachedModelForMouseEvent.stopBatch("mouse",{cell:this.cell}),this.cachedModelForMouseEvent=null)}onMouseMove(t,r,i){this.notify("cell:mousemove",this.getEventArgs(t,r,i))}onMouseOver(t){this.notify("cell:mouseover",this.getEventArgs(t))}onMouseOut(t){this.notify("cell:mouseout",this.getEventArgs(t))}onMouseEnter(t){this.notify("cell:mouseenter",this.getEventArgs(t))}onMouseLeave(t){this.notify("cell:mouseleave",this.getEventArgs(t))}onMouseWheel(t,r,i,s){this.notify("cell:mousewheel",Object.assign({delta:s},this.getEventArgs(t,r,i)))}onCustomEvent(t,r,i,s){this.notify("cell:customevent",Object.assign({name:r},this.getEventArgs(t,i,s))),this.notify(r,Object.assign({},this.getEventArgs(t,i,s)))}onMagnetMouseDown(t,r,i,s){}onMagnetDblClick(t,r,i,s){}onMagnetContextMenu(t,r,i,s){}onLabelMouseDown(t,r,i){}checkMouseleave(t){const r=this.getEventTarget(t,{fromPoint:!0}),i=this.graph.findViewByElem(r);i!==this&&(this.onMouseLeave(t),i&&i.onMouseEnter(t))}}return n.defaults={isSvgElement:!0,rootSelector:"root",priority:0,bootstrap:[],actions:{}},n})();(function(n){n.Flag=BT,n.Attr=FT})(wr||(wr={})),function(n){n.toStringTag=`X6.${n.name}`,n.isCellView=function e(t){if(null==t)return!1;if(t instanceof n)return!0;const r=t[Symbol.toStringTag];return(null==r||r===n.toStringTag)&&"function"==typeof t.isNodeView&&"function"==typeof t.isEdgeView&&"function"==typeof t.confirmUpdate}}(wr||(wr={})),function(n){n.priority=function e(r){return function(i){i.config({priority:r})}},n.bootstrap=function t(r){return function(i){i.config({bootstrap:r})}}}(wr||(wr={})),function(n){n.registry=sn.create({type:"view"})}(wr||(wr={}));class wn extends Ft{get name(){return this.options.name}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get[Symbol.toStringTag](){return wn.toStringTag}constructor(e={}){super(),this.svgContainer=this.createContainer(!0,e),this.htmlContainer=this.createContainer(!1,e),this.config(e)}createContainer(e,t){const r=e?Ft.createElement("g",!0):Ft.createElement("div",!1);return Ke(r,this.prefixClassName("cell-tools")),t.className&&Ke(r,t.className),r}config(e){if(this.options=Object.assign(Object.assign({},this.options),e),!wr.isCellView(e.view)||e.view===this.cellView)return this;this.cellView=e.view,this.cell.isEdge()?(Ke(this.svgContainer,this.prefixClassName("edge-tools")),Ke(this.htmlContainer,this.prefixClassName("edge-tools"))):this.cell.isNode()&&(Ke(this.svgContainer,this.prefixClassName("node-tools")),Ke(this.htmlContainer,this.prefixClassName("node-tools"))),this.svgContainer.setAttribute("data-cell-id",this.cell.id),this.htmlContainer.setAttribute("data-cell-id",this.cell.id),this.name&&(this.svgContainer.setAttribute("data-tools-name",this.name),this.htmlContainer.setAttribute("data-tools-name",this.name));const t=this.options.items;if(!Array.isArray(t))return this;this.tools=[];const r=[];t.forEach(i=>{wn.ToolItem.isToolItem(i)?"vertices"===i.name?r.unshift(i):r.push(i):"vertices"===("object"==typeof i?i.name:i)?r.unshift(i):r.push(i)});for(let i=0;i<r.length;i+=1){const s=r[i];let o;if(wn.ToolItem.isToolItem(s))o=s;else{const c="object"==typeof s?s.name:s,a="object"==typeof s&&s.args||{};if(c)if(this.cell.isNode()){const l=a3.registry.get(c);if(!l)return a3.registry.onNotFound(c);o=new l(a)}else if(this.cell.isEdge()){const l=l3.registry.get(c);if(!l)return l3.registry.onNotFound(c);o=new l(a)}}o&&(o.config(this.cellView,this),o.render(),(!1!==o.options.isSVGElement?this.svgContainer:this.htmlContainer).appendChild(o.container),this.tools.push(o))}return this}update(e={}){const t=this.tools;return t&&t.forEach(r=>{e.toolId!==r.cid&&r.isVisible()&&r.update()}),this}focus(e){const t=this.tools;return t&&t.forEach(r=>{e===r?r.show():r.hide()}),this}blur(e){const t=this.tools;return t&&t.forEach(r=>{r!==e&&!r.isVisible()&&(r.show(),r.update())}),this}hide(){return this.focus(null)}show(){return this.blur(null)}remove(){const e=this.tools;return e&&(e.forEach(t=>t.remove()),this.tools=null),X2(this.svgContainer),X2(this.htmlContainer),super.remove()}mount(){const e=this.tools,t=this.cellView;if(t&&e){const r=e.some(s=>!1!==s.options.isSVGElement),i=e.some(s=>!1===s.options.isSVGElement);r&&(this.options.local?t.container:t.graph.view.decorator).appendChild(this.svgContainer),i&&this.graph.container.appendChild(this.htmlContainer)}return this}}(function(n){n.toStringTag=`X6.${n.name}`,n.isToolsView=function e(t){if(null==t)return!1;if(t instanceof n)return!0;const r=t[Symbol.toStringTag];return(null==r||r===n.toStringTag)&&null!=t.graph&&null!=t.cell&&"function"==typeof t.config&&"function"==typeof t.update&&"function"==typeof t.focus&&"function"==typeof t.blur&&"function"==typeof t.show&&"function"==typeof t.hide}})(wn||(wn={})),function(n){let e=(()=>{class t extends Ft{static getDefaults(){return this.defaults}static config(i){this.defaults=this.getOptions(i)}static getOptions(i){return bn(Wt(this.getDefaults()),i)}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get name(){return this.options.name}get[Symbol.toStringTag](){return t.toStringTag}constructor(i={}){super(),this.visible=!0,this.options=this.getOptions(i),this.container=Ft.createElement(this.options.tagName||"g",!1!==this.options.isSVGElement),Ke(this.container,this.prefixClassName("cell-tool")),"string"==typeof this.options.className&&Ke(this.container,this.options.className),this.init()}init(){}getOptions(i){return this.constructor.getOptions(i)}delegateEvents(){return this.options.events&&super.delegateEvents(this.options.events),this}config(i,s){return this.cellView=i,this.parent=s,this.stamp(this.container),this.cell.isEdge()?Ke(this.container,this.prefixClassName("edge-tool")):this.cell.isNode()&&Ke(this.container,this.prefixClassName("node-tool")),this.name&&this.container.setAttribute("data-tool-name",this.name),this.delegateEvents(),this}render(){this.empty();const i=this.options.markup;if(i){const s=Pt.parseJSONMarkup(i);this.container.appendChild(s.fragment),this.childNodes=s.selectors}return this.onRender(),this}onRender(){}update(){return this}stamp(i){i&&i.setAttribute("data-cell-id",this.cellView.cell.id)}show(){return this.container.style.display="",this.visible=!0,this}hide(){return this.container.style.display="none",this.visible=!1,this}isVisible(){return this.visible}focus(){const i=this.options.focusOpacity;return null!=i&&Number.isFinite(i)&&(this.container.style.opacity=`${i}`),this.parent.focus(this),this}blur(){return this.container.style.opacity="",this.parent.blur(this),this}guard(i){return null==this.graph||null==this.cellView||this.graph.view.guard(i,this.cellView)}}return t.defaults={isSVGElement:!0,tagName:"g"},t})();var t;n.ToolItem=e,function(t){let r=0;t.define=function s(o){const c=iy(function i(o){return o?uy(o):(r+=1,`CustomTool${r}`)}(o.name),this);return c.config(o),c}}(e=n.ToolItem||(n.ToolItem={})),(t=e=n.ToolItem||(n.ToolItem={})).toStringTag=`X6.${t.name}`,t.isToolItem=function r(i){if(null==i)return!1;if(i instanceof t)return!0;const s=i[Symbol.toStringTag];return(null==s||s===t.toStringTag)&&null!=i.graph&&null!=i.cell&&"function"==typeof i.config&&"function"==typeof i.update&&"function"==typeof i.focus&&"function"==typeof i.blur&&"function"==typeof i.show&&"function"==typeof i.hide&&"function"==typeof i.isVisible}}(wn||(wn={}));const Xse=n=>n;function jT(n,e){return 0===e?"0%":`${Math.round(n/e*100)}%`}function $T(n){return(t,r,i,s)=>r.isEdgeElement(i)?function Kse(n,e,t,r,i){const s=t.getConnection();if(!s)return e;const o=s.closestPointLength(i);if(n){const c=s.length();e.anchor={name:"ratio",args:{ratio:o/c}}}else e.anchor={name:"length",args:{length:o}};return e}(n,t,r,0,s):function Zse(n,e,t,r,i){const s=t.cell,o=s.getAngle(),c=t.getUnrotatedBBoxOfElement(r),a=s.getBBox().getCenter(),l=O.create(i).rotate(o,a);let h=l.x-c.x,d=l.y-c.y;return n&&(h=jT(h,c.width),d=jT(d,c.height)),e.anchor={name:"topLeft",args:{dx:h,dy:d,rotate:!0}},e}(n,t,r,i,s)}const Jse=$T(!0),Qse=$T(!1);var Ny;function UT(n,e,t,r){return Se(Ny.presets.pinRelative,this.graph,{},e,t,n,this.cell,r,{}).anchor}function qT(n,e){return e?n.cell.getBBox():n.cell.isEdge()?n.getConnection().bbox():n.getUnrotatedBBoxOfElement(n.container)}!function(n){n.presets=C3,n.registry=sn.create({type:"connection strategy"}),n.registry.register(n.presets,!0)}(Ny||(Ny={}));class Ea extends wn.ToolItem{onRender(){Ke(this.container,this.prefixClassName("cell-tool-button")),this.update()}update(){return this.updatePosition(),this}updatePosition(){const t=this.cellView.cell.isEdge()?this.getEdgeMatrix():this.getNodeMatrix();K2(this.container,t,{absolute:!0})}getNodeMatrix(){const e=this.cellView,t=this.options;let{x:r=0,y:i=0}=t;const{offset:s,useCellGeometry:o,rotate:c}=t;let a=qT(e,o);const l=e.cell.getAngle();c||(a=a.bbox(l));let h=0,d=0;"number"==typeof s?(h=s,d=s):"object"==typeof s&&(h=s.x,d=s.y),r=Hs(r,a.width),i=Hs(i,a.height);let g=jn().translate(a.x+a.width/2,a.y+a.height/2);return c&&(g=g.rotate(l)),g=g.translate(r+h-a.width/2,i+d-a.height/2),g}getEdgeMatrix(){const e=this.cellView,t=this.options,{offset:r=0,distance:i=0,rotate:s}=t;let o,c,a;const l=Hs(i,1);o=l>=0&&l<=1?e.getTangentAtRatio(l):e.getTangentAtLength(l),o?(c=o.start,a=o.vector().vectorAngle(new O(1,0))||0):(c=e.getConnection().start,a=0);let h=jn().translate(c.x,c.y).rotate(a);return h="object"==typeof r?h.translate(r.x||0,r.y||0):h.translate(0,r),s||(h=h.rotate(-a)),h}onMouseDown(e){if(this.guard(e))return;e.stopPropagation(),e.preventDefault();const t=this.options.onClick;"function"==typeof t&&Se(t,this.cellView,{e,view:this.cellView,cell:this.cellView.cell,btn:this})}}(function(n){n.config({name:"button",useCellGeometry:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"}})})(Ea||(Ea={})),function(n){n.Remove=n.define({name:"button-remove",markup:[{tagName:"circle",selector:"button",attrs:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attrs:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],distance:60,offset:0,useCellGeometry:!0,onClick({view:e,btn:t}){t.parent.remove(),e.cell.remove({ui:!0,toolId:t.cid})}})}(Ea||(Ea={}));class x5 extends wn.ToolItem{onRender(){if(Ke(this.container,this.prefixClassName("cell-tool-boundary")),this.options.attrs){const e=this.options.attrs,{class:t}=e,r=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(e,["class"]);yt(this.container,x0(r)),t&&Ke(this.container,t)}this.update()}update(){const e=this.cellView,t=this.options,{useCellGeometry:r,rotate:i}=t,s=sl(t.padding);let o=qT(e,r).moveAndExpand({x:-s.left,y:-s.top,width:s.left+s.right,height:s.top+s.bottom});const c=e.cell;if(c.isNode()){const a=c.getAngle();if(a)if(i){const l=c.getBBox().getCenter();xy(this.container,a,l.x,l.y,{absolute:!0})}else o=o.bbox(a)}return yt(this.container,o.toJSON()),this}}!function(n){n.config({name:"boundary",tagName:"rect",padding:10,useCellGeometry:!0,attrs:{fill:"none",stroke:"#333","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"}})}(x5||(x5={}));class V0 extends wn.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}onRender(){return this.addClass(this.prefixClassName("edge-tool-vertices")),this.options.addable&&this.updatePath(),this.resetHandles(),this.renderHandles(),this}update(){return this.vertices.length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.addable&&this.updatePath(),this}resetHandles(){const e=this.handles;this.handles=[],e&&e.forEach(t=>{this.stopHandleListening(t),t.remove()})}renderHandles(){const e=this.vertices;for(let t=0,r=e.length;t<r;t+=1){const i=e[t],o=this.options.processHandle,c=(0,this.options.createHandle)({index:t,graph:this.graph,guard:a=>this.guard(a),attrs:this.options.attrs||{}});o&&o(c),c.updatePosition(i.x,i.y),this.stamp(c.container),this.container.appendChild(c.container),this.handles.push(c),this.startHandleListening(c)}}updateHandles(){const e=this.vertices;for(let t=0,r=e.length;t<r;t+=1){const i=e[t],s=this.handles[t];s&&s.updatePosition(i.x,i.y)}}updatePath(){const e=this.childNodes.connection;e&&e.setAttribute("d",this.cellView.getConnectionPathData())}startHandleListening(e){const t=this.cellView;t.can("vertexMovable")&&(e.on("change",this.onHandleChange,this),e.on("changing",this.onHandleChanging,this),e.on("changed",this.onHandleChanged,this)),t.can("vertexDeletable")&&e.on("remove",this.onHandleRemove,this)}stopHandleListening(e){const t=this.cellView;t.can("vertexMovable")&&(e.off("change",this.onHandleChange,this),e.off("changing",this.onHandleChanging,this),e.off("changed",this.onHandleChanged,this)),t.can("vertexDeletable")&&e.off("remove",this.onHandleRemove,this)}getNeighborPoints(e){const t=this.cellView,r=this.vertices,s=e<r.length-1?r[e+1]:t.targetAnchor;return{prev:O.create(e>0?r[e-1]:t.sourceAnchor),next:O.create(s)}}getMouseEventArgs(e){const t=this.normalizeEvent(e),{x:r,y:i}=this.graph.snapToGrid(t.clientX,t.clientY);return{e:t,x:r,y:i}}onHandleChange({e}){this.focus();const t=this.cellView;if(t.cell.startBatch("move-vertex",{ui:!0,toolId:this.cid}),!this.options.stopPropagation){const{e:r,x:i,y:s}=this.getMouseEventArgs(e);this.eventData(r,{start:{x:i,y:s}}),t.notifyMouseDown(r,i,s)}}onHandleChanging({handle:e,e:t}){const r=this.cellView,i=e.options.index,{e:s,x:o,y:c}=this.getMouseEventArgs(t),a={x:o,y:c};this.snapVertex(a,i),r.cell.setVertexAt(i,a,{ui:!0,toolId:this.cid}),e.updatePosition(a.x,a.y),this.options.stopPropagation||r.notifyMouseMove(s,o,c)}stopBatch(e){this.cell.stopBatch("move-vertex",{ui:!0,toolId:this.cid}),e&&this.cell.stopBatch("add-vertex",{ui:!0,toolId:this.cid})}onHandleChanged({e}){const t=this.options,r=this.cellView;if(t.addable&&this.updatePath(),!t.removeRedundancies)return void this.stopBatch(this.eventData(e).vertexAdded);r.removeRedundantLinearVertices({ui:!0,toolId:this.cid})&&this.render(),this.blur(),this.stopBatch(this.eventData(e).vertexAdded);const{e:s,x:o,y:c}=this.getMouseEventArgs(e);if(!this.options.stopPropagation){r.notifyMouseUp(s,o,c);const{start:a}=this.eventData(s);if(a){const{x:l,y:h}=a;l===o&&h===c&&r.onClick(s,o,c)}}r.checkMouseleave(s),t.onChanged&&t.onChanged({edge:r.cell,edgeView:r})}snapVertex(e,t){const r=this.options.snapRadius||0;if(r>0){const i=this.getNeighborPoints(t),s=i.prev,o=i.next;Math.abs(e.x-s.x)<r?e.x=s.x:Math.abs(e.x-o.x)<r&&(e.x=o.x),Math.abs(e.y-s.y)<r?e.y=i.prev.y:Math.abs(e.y-o.y)<r&&(e.y=o.y)}}onHandleRemove({handle:e,e:t}){if(this.options.removable){const i=this.cellView;i.cell.removeVertexAt(e.options.index,{ui:!0}),this.options.addable&&this.updatePath(),i.checkMouseleave(this.normalizeEvent(t))}}allowAddVertex(e){const t=this.guard(e),r=this.options.addable&&this.cellView.can("vertexAddable"),i=!this.options.modifiers||Q2.isMatch(e,this.options.modifiers);return!t&&r&&i}onPathMouseDown(e){const t=this.cellView;if(!this.allowAddVertex(e))return;e.stopPropagation(),e.preventDefault();const r=this.normalizeEvent(e),i=this.graph.snapToGrid(r.clientX,r.clientY).toJSON();t.cell.startBatch("add-vertex",{ui:!0,toolId:this.cid});const s=t.getVertexIndex(i.x,i.y);this.snapVertex(i,s),t.cell.insertVertex(i,s,{ui:!0,toolId:this.cid}),this.render();const o=this.handles[s];this.eventData(r,{vertexAdded:!0}),o.onMouseDown(r)}onRemove(){this.resetHandles()}}(function(n){n.Handle=class e extends Ft{get graph(){return this.options.graph}constructor(r){super(),this.options=r,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDoubleClick"})}render(){this.container=Ft.createElement("circle",!0);const r=this.options.attrs;if("function"==typeof r){const i=n.getDefaults();this.setAttrs(Object.assign(Object.assign({},i.attrs),r(this)))}else this.setAttrs(r);this.addClass(this.prefixClassName("edge-tool-vertex"))}updatePosition(r,i){this.setAttrs({cx:r,cy:i})}onMouseDown(r){this.options.guard(r)||(r.stopPropagation(),r.preventDefault(),this.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},r.data),this.emit("change",{e:r,handle:this}))}onMouseMove(r){this.emit("changing",{e:r,handle:this})}onMouseUp(r){this.emit("changed",{e:r,handle:this}),this.undelegateDocumentEvents(),this.graph.view.delegateEvents()}onDoubleClick(r){this.emit("remove",{e:r,handle:this})}}})(V0||(V0={})),function(n){const e=tr.prefix("edge-tool-vertex-path");n.config({name:"vertices",snapRadius:20,addable:!0,removable:!0,removeRedundancies:!0,stopPropagation:!0,attrs:{r:6,fill:"#333",stroke:"#fff",cursor:"move","stroke-width":2},createHandle:t=>new n.Handle(t),markup:[{tagName:"path",selector:"connection",className:e,attrs:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"pointer"}}],events:{[`mousedown .${e}`]:"onPathMouseDown",[`touchstart .${e}`]:"onPathMouseDown"}})}(V0||(V0={}));class k0 extends wn.ToolItem{constructor(){super(...arguments),this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}update(){return this.render(),this}onRender(){Ke(this.container,this.prefixClassName("edge-tool-segments")),this.resetHandles();const e=this.cellView,t=[...this.vertices];t.unshift(e.sourcePoint),t.push(e.targetPoint);for(let r=0,i=t.length;r<i-1;r+=1){const c=this.renderHandle(t[r],t[r+1],r);this.stamp(c.container),this.handles.push(c)}return this}renderHandle(e,t,r){const i=this.options.createHandle({index:r,graph:this.graph,guard:s=>this.guard(s),attrs:this.options.attrs||{}});return this.options.processHandle&&this.options.processHandle(i),this.updateHandle(i,e,t),this.container.appendChild(i.container),this.startHandleListening(i),i}startHandleListening(e){e.on("change",this.onHandleChange,this),e.on("changing",this.onHandleChanging,this),e.on("changed",this.onHandleChanged,this)}stopHandleListening(e){e.off("change",this.onHandleChange,this),e.off("changing",this.onHandleChanging,this),e.off("changed",this.onHandleChanged,this)}resetHandles(){const e=this.handles;this.handles=[],e&&e.forEach(t=>{this.stopHandleListening(t),t.remove()})}shiftHandleIndexes(e){const t=this.handles;for(let r=0,i=t.length;r<i;r+=1)t[r].options.index+=e}resetAnchor(e,t){const r=this.cellView.cell,i={ui:!0,toolId:this.cid};t?r.prop([e,"anchor"],t,i):r.removeProp([e,"anchor"],i)}snapHandle(e,t,r){const i=e.options.axis,s=e.options.index,a=this.cellView.cell.getVertices(),l=a[s-2]||r.sourceAnchor,h=a[s+1]||r.targetAnchor,d=this.options.snapRadius;return Math.abs(t[i]-l[i])<d?t[i]=l[i]:Math.abs(t[i]-h[i])<d&&(t[i]=h[i]),t}onHandleChanging({handle:e,e:t}){const r=this.graph,i=this.options,s=this.cellView,o=i.anchor,c=e.options.axis,a=e.options.index-1,l=this.getEventData(t),h=this.normalizeEvent(t),d=r.snapToGrid(h.clientX,h.clientY),g=this.snapHandle(e,d.clone(),l),p=Wt(this.vertices);let v=p[a],y=p[a+1];const w=s.sourceView,C=s.sourceBBox;let M=!1,E=!1;if(v?0===a?C.containsPoint(v)?(p.shift(),this.shiftHandleIndexes(-1),M=!0):(v[c]=g[c],E=!0):v[c]=g[c]:(v=s.sourceAnchor.toJSON(),v[c]=g[c],C.containsPoint(v)?M=!0:(p.unshift(v),this.shiftHandleIndexes(1),E=!0)),"function"==typeof o&&w){if(M){const G=l.sourceAnchor.clone();G[c]=g[c];const B=Se(o,s,G,w,s.sourceMagnet||w.container,"source",s,this);this.resetAnchor("source",B)}E&&this.resetAnchor("source",l.sourceAnchorDef)}const z=s.targetView,T=s.targetBBox;let P=!1,k=!1;if(y?a===p.length-2?T.containsPoint(y)?(p.pop(),P=!0):(y[c]=g[c],k=!0):y[c]=g[c]:(y=s.targetAnchor.toJSON(),y[c]=g[c],T.containsPoint(y)?P=!0:(p.push(y),k=!0)),"function"==typeof o&&z){if(P){const G=l.targetAnchor.clone();G[c]=g[c];const B=Se(o,s,G,z,s.targetMagnet||z.container,"target",s,this);this.resetAnchor("target",B)}k&&this.resetAnchor("target",l.targetAnchorDef)}O.equalPoints(p,this.vertices)||this.cellView.cell.setVertices(p,{ui:!0,toolId:this.cid}),this.updateHandle(e,v,y,0),i.stopPropagation||s.notifyMouseMove(h,d.x,d.y)}onHandleChange({handle:e,e:t}){const r=this.options,i=this.handles,s=this.cellView,o=e.options.index;if(Array.isArray(i)){for(let c=0,a=i.length;c<a;c+=1)c!==o&&i[c].hide();if(this.focus(),this.setEventData(t,{sourceAnchor:s.sourceAnchor.clone(),targetAnchor:s.targetAnchor.clone(),sourceAnchorDef:Wt(this.cell.prop(["source","anchor"])),targetAnchorDef:Wt(this.cell.prop(["target","anchor"]))}),this.cell.startBatch("move-segment",{ui:!0,toolId:this.cid}),!r.stopPropagation){const c=this.normalizeEvent(t),a=this.graph.snapToGrid(c.clientX,c.clientY);s.notifyMouseDown(c,a.x,a.y)}}}onHandleChanged({e}){const t=this.options,r=this.cellView;t.removeRedundancies&&r.removeRedundantLinearVertices({ui:!0,toolId:this.cid});const i=this.normalizeEvent(e),s=this.graph.snapToGrid(i.clientX,i.clientY);this.render(),this.blur(),this.cell.stopBatch("move-segment",{ui:!0,toolId:this.cid}),t.stopPropagation||r.notifyMouseUp(i,s.x,s.y),r.checkMouseleave(i),t.onChanged&&t.onChanged({edge:r.cell,edgeView:r})}updateHandle(e,t,r,i=0){const s=this.options.precision||0,o=Math.abs(t.x-r.x)<s,c=Math.abs(t.y-r.y)<s;if(o||c){const a=new ae(t,r);if(a.length()<this.options.threshold)e.hide();else{const h=a.getCenter(),d=o?"x":"y";h[d]+=i||0;const g=a.vector().vectorAngle(new O(1,0));e.updatePosition(h.x,h.y,g,this.cellView),e.show(),e.options.axis=d}}else e.hide()}onRemove(){this.resetHandles()}}(function(n){n.Handle=class e extends Ft{constructor(r){super(),this.options=r,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"})}render(){this.container=Ft.createElement("rect",!0);const r=this.options.attrs;if("function"==typeof r){const i=n.getDefaults();this.setAttrs(Object.assign(Object.assign({},i.attrs),r(this)))}else this.setAttrs(r);this.addClass(this.prefixClassName("edge-tool-segment"))}updatePosition(r,i,s,o){const c=o.getClosestPoint(new O(r,i))||new O(r,i);let a=jn().translate(c.x,c.y);if(c.equals({x:r,y:i}))a=a.rotate(s);else{let h=new ae(r,i,c.x,c.y).vector().vectorAngle(new O(1,0));0!==h&&(h+=90),a=a.rotate(h)}this.setAttrs({transform:Z2(a),cursor:s%180==0?"row-resize":"col-resize"})}onMouseDown(r){this.options.guard(r)||(this.trigger("change",{e:r,handle:this}),r.stopPropagation(),r.preventDefault(),this.options.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},r.data))}onMouseMove(r){this.emit("changing",{e:r,handle:this})}onMouseUp(r){this.emit("changed",{e:r,handle:this}),this.undelegateDocumentEvents(),this.options.graph.view.delegateEvents()}show(){this.container.style.display=""}hide(){this.container.style.display="none"}}})(k0||(k0={})),function(n){n.config({name:"segments",precision:.5,threshold:40,snapRadius:10,stopPropagation:!0,removeRedundancies:!0,attrs:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#333",stroke:"#fff","stroke-width":2},createHandle:e=>new n.Handle(e),anchor:UT})}(k0||(k0={}));class S5 extends wn.ToolItem{get type(){return this.options.type}onRender(){Ke(this.container,this.prefixClassName(`edge-tool-${this.type}-anchor`)),this.toggleArea(!1),this.update()}update(){return this.cellView.getTerminalView(this.type)?(this.updateAnchor(),this.updateArea(),this.container.style.display=""):this.container.style.display="none",this}updateAnchor(){const e=this.childNodes;if(!e)return;const t=e.anchor;if(!t)return;const r=this.type,i=this.cellView,s=this.options,o=i.getTerminalAnchor(r),c=i.cell.prop([r,"anchor"]);t.setAttribute("transform",`translate(${o.x}, ${o.y})`);const a=c?s.customAnchorAttrs:s.defaultAnchorAttrs;a&&Object.keys(a).forEach(l=>{t.setAttribute(l,a[l])})}updateArea(){const e=this.childNodes;if(!e)return;const t=e.area;if(!t)return;const r=this.type,i=this.cellView,s=i.getTerminalView(r);if(s){const o=s.cell,c=i.getTerminalMagnet(r);let l,h,d,a=this.options.areaPadding||0;Number.isFinite(a)||(a=0),s.isEdgeElement(c)?(l=s.getBBox(),h=0,d=l.getCenter()):(l=s.getUnrotatedBBoxOfElement(c),h=o.getAngle(),d=l.getCenter(),h&&d.rotate(-h,o.getBBox().getCenter())),l.inflate(a),yt(t,{x:-l.width/2,y:-l.height/2,width:l.width,height:l.height,transform:`translate(${d.x}, ${d.y}) rotate(${h})`})}}toggleArea(e){if(this.childNodes){const t=this.childNodes.area;t&&(t.style.display=e?"":"none")}}onMouseDown(e){this.guard(e)||(e.stopPropagation(),e.preventDefault(),this.graph.view.undelegateEvents(),this.options.documentEvents&&this.delegateDocumentEvents(this.options.documentEvents),this.focus(),this.toggleArea(this.options.restrictArea),this.cell.startBatch("move-anchor",{ui:!0,toolId:this.cid}))}resetAnchor(e){const t=this.type,r=this.cell;e?r.prop([t,"anchor"],e,{rewrite:!0,ui:!0,toolId:this.cid}):r.removeProp([t,"anchor"],{ui:!0,toolId:this.cid})}onMouseMove(e){const t=this.type,r=this.cellView,i=r.getTerminalView(t);if(null==i)return;const s=this.normalizeEvent(e),o=i.cell,c=r.getTerminalMagnet(t);let a=this.graph.coord.clientToLocalPoint(s.clientX,s.clientY);const l=this.options.snap;if("function"==typeof l){const g=Se(l,r,a,i,c,t,r,this);a=O.create(g)}if(this.options.restrictArea)if(i.isEdgeElement(c)){const g=i.getClosestPoint(a);g&&(a=g)}else{const g=i.getUnrotatedBBoxOfElement(c),p=o.getAngle(),v=o.getBBox().getCenter(),y=a.clone().rotate(p,v);g.containsPoint(y)||(a=g.getNearestPointToPoint(y).rotate(-p,v))}let h;const d=this.options.anchor;"function"==typeof d&&(h=Se(d,r,a,i,c,t,r,this)),this.resetAnchor(h),this.update()}onMouseUp(e){this.graph.view.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1),this.options.removeRedundancies&&this.cellView.removeRedundantLinearVertices({ui:!0,toolId:this.cid}),this.cell.stopBatch("move-anchor",{ui:!0,toolId:this.cid})}onDblClick(){const e=this.options.resetAnchor;e&&this.resetAnchor(!0===e?void 0:e),this.update()}}!function(n){n.config({tagName:"g",markup:[{tagName:"circle",selector:"anchor",attrs:{cursor:"pointer"}},{tagName:"rect",selector:"area",attrs:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDblClick"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},customAnchorAttrs:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttrs:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,resetAnchor:!0,restrictArea:!0,removeRedundancies:!0,anchor:UT,snap(e,t,r,i,s,o){const c=o.options.snapRadius||0,a="source"===i,h=this.cell.getVertexAt(a?0:-1)||this.getTerminalAnchor(a?"target":"source");return h&&(Math.abs(h.x-e.x)<c&&(e.x=h.x),Math.abs(h.y-e.y)<c&&(e.y=h.y)),e}})}(S5||(S5={}));const toe=S5.define({name:"source-anchor",type:"source"}),noe=S5.define({name:"target-anchor",type:"target"});class z5 extends wn.ToolItem{get type(){return this.options.type}get ratio(){return this.options.ratio}init(){if(this.options.attrs){const e=this.options.attrs,{class:t}=e,r=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(e,["class"]);this.setAttrs(r,this.container),t&&Ke(this.container,t)}}onRender(){Ke(this.container,this.prefixClassName(`edge-tool-${this.type}-arrowhead`)),this.update()}update(){const e=this.ratio,t=this.cellView,r=t.getTangentAtRatio(e),i=r?r.start:t.getPointAtRatio(e),s=r&&r.vector().vectorAngle(new O(1,0))||0;if(!i)return this;const o=jn().translate(i.x,i.y).rotate(s);return K2(this.container,o,{absolute:!0}),this}onMouseDown(e){if(this.guard(e))return;e.stopPropagation(),e.preventDefault();const t=this.cellView;if(t.can("arrowheadMovable")){t.cell.startBatch("move-arrowhead",{ui:!0,toolId:this.cid});const r=this.graph.snapToGrid(e.clientX,e.clientY),i=t.prepareArrowheadDragging(this.type,{x:r.x,y:r.y,options:Object.assign(Object.assign({},this.options),{toolId:this.cid})});this.cellView.setEventData(e,i),this.delegateDocumentEvents(this.options.documentEvents,e.data),t.graph.view.undelegateEvents(),this.container.style.pointerEvents="none"}this.focus()}onMouseMove(e){const t=this.normalizeEvent(e),r=this.graph.snapToGrid(t.clientX,t.clientY);this.cellView.onMouseMove(t,r.x,r.y),this.update()}onMouseUp(e){this.undelegateDocumentEvents();const t=this.normalizeEvent(e),r=this.cellView,i=this.graph.snapToGrid(t.clientX,t.clientY);r.onMouseUp(t,i.x,i.y),this.graph.view.delegateEvents(),this.blur(),this.container.style.pointerEvents="",r.cell.stopBatch("move-arrowhead",{ui:!0,toolId:this.cid})}}!function(n){n.config({tagName:"path",isSVGElement:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}})}(z5||(z5={}));const ioe=z5.define({name:"source-arrowhead",type:"source",ratio:0,attrs:{d:"M 10 -8 -10 0 10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}}),soe=z5.define({name:"target-arrowhead",type:"target",ratio:1,attrs:{d:"M -10 -8 10 0 -10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}});class c3 extends wn.ToolItem{constructor(){super(...arguments),this.labelIndex=-1,this.distance=.5,this.dblClick=this.onCellDblClick.bind(this)}onRender(){const e=this.cellView;e&&e.on("cell:dblclick",this.dblClick)}createElement(){const e=[this.prefixClassName((this.cell.isEdge()?"edge":"node")+"-tool-editor"),this.prefixClassName("cell-tool-editor")];this.editor=wn.createElement("div",!1),this.addClass(e,this.editor),this.editor.contentEditable="true",this.container.appendChild(this.editor)}removeElement(){this.undelegateDocumentEvents(),this.editor&&(this.container.removeChild(this.editor),this.editor=null)}updateEditor(){const{cell:e,editor:t}=this;if(!t)return;const{style:r}=t;e.isNode()?this.updateNodeEditorTransform():e.isEdge()&&this.updateEdgeEditorTransform();const{attrs:i}=this.options;r.fontSize=`${i.fontSize}px`,r.fontFamily=i.fontFamily,r.color=i.color,r.backgroundColor=i.backgroundColor;const s=this.getCellText()||"";return t.innerText=s,this.setCellText(""),this}updateNodeEditorTransform(){const{graph:e,cell:t,editor:r}=this;if(!r)return;let i=O.create(),s=20,o="",{x:c,y:a}=this.options;const{width:l,height:h}=this.options;if(typeof c<"u"&&typeof a<"u"){const p=t.getBBox();c=Hs(c,p.width),a=Hs(a,p.height),i=p.topLeft.translate(c,a),s=p.width-2*c}else{const p=t.getBBox();i=p.center,s=p.width-4,o="translate(-50%, -50%)"}const d=e.scale(),{style:g}=r;i=e.localToGraph(i),g.left=`${i.x}px`,g.top=`${i.y}px`,g.transform=`scale(${d.sx}, ${d.sy}) ${o}`,g.minWidth=`${s}px`,"number"==typeof l&&(g.width=`${l}px`),"number"==typeof h&&(g.height=`${h}px`)}updateEdgeEditorTransform(){if(!this.event)return;const{graph:e,editor:t}=this;if(!t)return;let r=O.create(),i=20;const{style:s}=t,o=this.event.target,c=o.parentElement;if(c&&Y2(c,this.prefixClassName("edge-label"))){const h=c.getAttribute("data-index")||"0";this.labelIndex=parseInt(h,10);const d=c.getAttribute("transform"),{translation:g}=y5(d);r=new O(g.tx,g.ty),i=ut.getBBox(o).width}else{if(!this.options.labelAddable)return this;r=e.clientToLocal(O.create(this.event.clientX,this.event.clientY));const d=this.cellView.path.closestPointLength(r);this.distance=d,this.labelIndex=-1}r=e.localToGraph(r);const l=e.scale();s.left=`${r.x}px`,s.top=`${r.y}px`,s.minWidth=`${i}px`,s.transform=`scale(${l.sx}, ${l.sy}) translate(-50%, -50%)`}onDocumentMouseDown(e){if(this.editor&&e.target!==this.editor){const t=this.editor.innerText.replace(/\n$/,"")||"";this.setCellText(""!==t?t:null),this.removeElement()}}onCellDblClick({e}){e.stopPropagation(),this.removeElement(),this.event=e,this.createElement(),this.updateEditor(),this.autoFocus(),this.delegateDocumentEvents(this.options.documentEvents)}onMouseDown(e){e.stopPropagation()}autoFocus(){setTimeout(()=>{this.editor&&(this.editor.focus(),this.selectText())})}selectText(){if(window.getSelection&&this.editor){const e=document.createRange(),t=window.getSelection();e.selectNodeContents(this.editor),t.removeAllRanges(),t.addRange(e)}}getCellText(){const{getText:e}=this.options;if("function"==typeof e)return Se(e,this.cellView,{cell:this.cell,index:this.labelIndex});if("string"==typeof e){if(this.cell.isNode())return this.cell.attr(e);if(this.cell.isEdge()&&-1!==this.labelIndex)return this.cell.prop(`labels/${this.labelIndex}/attrs/${e}`)}}setCellText(e){const t=this.options.setText;if("function"!=typeof t){if("string"==typeof t){if(this.cell.isNode())return void(null!==e&&this.cell.attr(t,e));if(this.cell.isEdge()){const r=this.cell;if(-1===this.labelIndex){if(e){const i={position:{distance:this.distance},attrs:{}};U2(i,`attrs/${t}`,e),r.appendLabel(i)}}else null!==e?r.prop(`labels/${this.labelIndex}/attrs/${t}`,e):"number"==typeof this.labelIndex&&r.removeLabelAt(this.labelIndex)}}}else Se(t,this.cellView,{cell:this.cell,value:e,index:this.labelIndex,distance:this.distance})}onRemove(){const e=this.cellView;e&&e.off("cell:dblclick",this.dblClick),this.removeElement()}}(function(n){n.config({tagName:"div",isSVGElement:!1,events:{mousedown:"onMouseDown"},documentEvents:{mousedown:"onDocumentMouseDown"}})})(c3||(c3={})),function(n){n.NodeEditor=n.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},getText:"text/text",setText:"text/text"}),n.EdgeEditor=n.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},labelAddable:!0,getText:"label/text",setText:"label/text"})}(c3||(c3={}));var a3,l3,GT=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t};!function(n){n.presets={boundary:x5,button:Ea,"button-remove":Ea.Remove,"node-editor":c3.NodeEditor},n.registry=sn.create({type:"node tool",process(e,t){if("function"==typeof t)return t;let r=wn.ToolItem;const{inherit:i}=t,s=GT(t,["inherit"]);if(i){const o=this.get(i);null==o?this.onNotFound(i,"inherited"):r=o}return null==s.name&&(s.name=e),r.define.call(r,s)}}),n.registry.register(n.presets,!0)}(a3||(a3={})),function(n){n.presets={boundary:x5,vertices:V0,segments:k0,button:Ea,"button-remove":Ea.Remove,"source-anchor":toe,"target-anchor":noe,"source-arrowhead":ioe,"target-arrowhead":soe,"edge-editor":c3.EdgeEditor},n.registry=sn.create({type:"edge tool",process(e,t){if("function"==typeof t)return t;let r=wn.ToolItem;const{inherit:i}=t,s=GT(t,["inherit"]);if(i){const o=this.get(i);null==o?this.onNotFound(i,"inherited"):r=o}return null==s.name&&(s.name=e),r.define.call(r,s)}}),n.registry.register(n.presets,!0)}(l3||(l3={}));const ooe=gc("center"),coe=gc("topCenter"),aoe=gc("bottomCenter"),loe=gc("leftMiddle"),uoe=gc("rightMiddle"),hoe=gc("topLeft"),foe=gc("topRight"),doe=gc("bottomLeft"),goe=gc("bottomRight");function gc(n){return function(e,t,r,i={}){const s=i.rotate?e.getUnrotatedBBoxOfElement(t):e.getBBoxOfElement(t),o=s[n];o.x+=Hs(i.dx,s.width),o.y+=Hs(i.dy,s.height);const c=e.cell;return i.rotate?o.rotate(-c.getAngle(),c.getBBox().getCenter()):o}}function D5(n){return function(e,t,r,i){if(r instanceof Element){const s=this.graph.findViewByElem(r);let o;return o=s?s.isEdgeElement(r)?WT(s,null!=i.fixedAt?i.fixedAt:"50%"):s.getBBoxOfElement(r).getCenter():new O,n.call(this,e,t,o,i)}return n.apply(this,arguments)}}function WT(n,e){const t=uc(e),r="string"==typeof e?parseFloat(e):e;return t?n.getPointAtRatio(r/100):n.getPointAtLength(r)}const poe=D5(function(n,e,t,r){const i=n.cell.getAngle(),s=n.getBBoxOfElement(e),o=s.getCenter(),c=s.getTopLeft(),a=s.getBottomRight();let l=r.padding;if(Number.isFinite(l)||(l=0),c.y+l<=t.y&&t.y<=a.y-l){const h=t.y-o.y;o.x+=0===i||180===i?0:1*h/Math.tan(Dt.toRad(i)),o.y+=h}else if(c.x+l<=t.x&&t.x<=a.x-l){const h=t.x-o.x;o.y+=90===i||270===i?0:h*Math.tan(Dt.toRad(i)),o.x+=h}return o}),moe=function(n,e,t,r,i){const s=n.cell.getConnectionPoint(this.cell,i);return(r.dx||r.dy)&&s.translate(r.dx||0,r.dy||0),s},voe=D5(function(n,e,t,r){let i,o,s=0;const c=n.cell;r.rotate?(i=n.getUnrotatedBBoxOfElement(e),o=c.getBBox().getCenter(),s=c.getAngle()):i=n.getBBoxOfElement(e);const a=r.padding;null!=a&&Number.isFinite(a)&&i.inflate(a),r.rotate&&t.rotate(s,o);const l=i.getNearestSideToPoint(t);let h;switch(l){case"left":h=i.getLeftMiddle();break;case"right":h=i.getRightMiddle();break;case"top":h=i.getTopCenter();break;case"bottom":h=i.getBottomCenter()}const d=r.direction;return"H"===d?("top"===l||"bottom"===l)&&(h=t.x<=i.x+i.width?i.getLeftMiddle():i.getRightMiddle()):"V"===d&&(h=t.y<=i.y+i.height?i.getTopCenter():i.getBottomCenter()),r.rotate?h.rotate(-s,o):h});var u3;!function(n){n.presets=Cc,n.registry=sn.create({type:"node endpoint"}),n.registry.register(n.presets,!0)}(u3||(u3={}));const yoe=function(n,e,t,r){let i=null!=r.ratio?r.ratio:.5;return i>1&&(i/=100),n.getPointAtRatio(i)},boe=function(n,e,t,r){return n.getPointAtLength(null!=r.length?r.length:20)},YT=function(n,e,t,r){return n.getClosestPoint(t)??new O},woe=D5(YT),Moe=D5(function(n,e,t,r){const s=n.getConnection(),o=n.getConnectionSubdivisions(),c=new ae(t.clone().translate(0,1e6),t.clone().translate(0,-1e6)),a=new ae(t.clone().translate(1e6,0),t.clone().translate(-1e6,0)),l=c.intersect(s,{segmentSubdivisions:o}),h=a.intersect(s,{segmentSubdivisions:o}),d=[];return l&&d.push(...l),h&&d.push(...h),d.length>0?t.closest(d):null!=r.fallbackAt?WT(n,r.fallbackAt):Se(YT,this,n,e,t,r)});var h3;function A5(n,e,t){let r;if("object"==typeof t){if(Number.isFinite(t.y)){const s=new ae(e,n),{start:o,end:c}=s.parallel(t.y);e=o,n=c}r=t.x}else r=t;if(null==r||!Number.isFinite(r))return n;const i=n.distance(e);return 0===r&&i>0?n:n.move(e,-Math.min(r,i-1))}function T5(n){const e=n.getAttribute("stroke-width");return null===e?0:parseFloat(e)||0}!function(n){n.presets=Oi,n.registry=sn.create({type:"edge endpoint"}),n.registry.register(n.presets,!0)}(h3||(h3={}));const XT=function(n,e,t,r){const i=e.getBBoxOfElement(t);r.stroked&&i.inflate(T5(t)/2);const s=n.intersect(i);return A5(s&&s.length?n.start.closest(s):n.end,n.start,r.offset)},Eoe=function(n,e,t,r,i){const s=e.cell,o=s.isNode()?s.getAngle():0;if(0===o)return Se(XT,this,n,e,t,r,i);const c=e.getUnrotatedBBoxOfElement(t);r.stroked&&c.inflate(T5(t)/2);const a=c.getCenter(),l=n.clone().rotate(o,a),h=l.setLength(1e6).intersect(c);return A5(h&&h.length?l.start.closest(h).rotate(-o,a):n.end,n.start,r.offset)},_oe=function(n,e,t,r){let i,s;const o=n.end,c=r.selector;if(i="string"==typeof c?e.findOne(c):Array.isArray(c)?sy(t,c):function Coe(n){if(null==n)return null;let e=n;do{let t=e.tagName;if("string"!=typeof t)return null;if(t=t.toUpperCase(),"G"===t)e=e.firstElementChild;else{if("TITLE"!==t)break;e=e.nextElementSibling}}while(e);return e}(t),!pa(i)){if(i===t||!pa(t))return o;i=t}const a=e.getShapeOfElement(i),l=e.getMatrixOfElement(i),h=e.getRootTranslatedMatrix(),d=e.getRootRotatedMatrix(),g=h.multiply(d).multiply(l),p=g.inverse(),v=ut.transformLine(n,p),y=v.start.clone(),w=e.getDataOfElement(i);if(!1===r.insideout){null==w.shapeBBox&&(w.shapeBBox=a.bbox());const z=w.shapeBBox;if(null!=z&&z.containsPoint(y))return o}let C;if(!0===r.extrapolate&&v.setLength(1e6),he.isPath(a)){const z=r.precision||2;null==w.segmentSubdivisions&&(w.segmentSubdivisions=a.getSegmentSubdivisions({precision:z})),C={precision:z,segmentSubdivisions:w.segmentSubdivisions},s=v.intersect(a,C)}else s=v.intersect(a);s?Array.isArray(s)&&(s=y.closest(s)):!0===r.sticky&&(s=J.isRectangle(a)?a.getNearestPointToPoint(y):Ns.isEllipse(a)?a.intersectsWithLineFromCenterToPoint(y):a.closestPoint(y,C));const M=s?ut.transformPoint(s,g):o;let E=r.offset||0;return!1!==r.stroked&&("object"==typeof E?(E=Object.assign({},E),null==E.x&&(E.x=0),E.x+=T5(i)/2):E+=T5(i)/2),A5(M,n.start,E)},Soe=function(n,e,t,r){const{alignOffset:i,align:s}=r;return s&&function xoe(n,e,t=0){const{start:r,end:i}=n;let s,o,c,a;switch(e){case"left":a="x",s=i,o=r,c=-1;break;case"right":a="x",s=r,o=i,c=1;break;case"top":a="y",s=i,o=r,c=-1;break;case"bottom":a="y",s=r,o=i,c=1;break;default:return}r[a]<i[a]?s[a]=o[a]:o[a]=s[a],Number.isFinite(t)&&(s[a]+=c*t,o[a]+=c*t)}(n,s,i),A5(n.end,n.start,r.offset)};var f3;!function(n){n.presets=vl,n.registry=sn.create({type:"connection point"}),n.registry.register(n.presets,!0)}(f3||(f3={}));const zoe=function(n){return[...n]},Doe=function(n,e,t){const r=e.side||"bottom",i=sl(e.padding||40),s=t.sourceBBox,o=t.targetBBox,c=s.getCenter(),a=o.getCenter();let l,h,d;switch(r){case"top":d=-1,l="y",h="height";break;case"left":d=-1,l="x",h="width";break;case"right":d=1,l="x",h="width";break;default:d=1,l="y",h="height"}return c[l]+=d*(s[h]/2+i[r]),a[l]+=d*(o[h]/2+i[r]),d*(c[l]-a[l])>0?a[l]=c[l]:c[l]=a[l],[c.toJSON(),...n,a.toJSON()]};function O5(n){return new J(n.x,n.y,0,0)}function I5(n={}){const e=sl(n.padding||20);return{x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}function ZT(n,e={}){return n.sourceBBox.clone().moveAndExpand(I5(e))}function KT(n,e={}){return n.targetBBox.clone().moveAndExpand(I5(e))}const JT=function(n,e,t){let r=ZT(t,e),i=KT(t,e);const s=function Aoe(n,e={}){return n.sourceAnchor?n.sourceAnchor:ZT(n,e).getCenter()}(t,e),o=function Toe(n,e={}){return n.targetAnchor?n.targetAnchor:KT(n,e).getCenter()}(t,e);r=r.union(O5(s)),i=i.union(O5(o));const c=n.map(h=>O.create(h));c.unshift(s),c.push(o);let a=null;const l=[];for(let h=0,d=c.length-1;h<d;h+=1){let g=null;const p=c[h],v=c[h+1],y=null!=as.getBearing(p,v);if(0===h)h+1===d?r.intersectsWithRect(i.clone().inflate(1))?g=as.insideNode(p,v,r,i):y||(g=as.nodeToNode(p,v,r,i)):r.containsPoint(v)?g=as.insideNode(p,v,r,O5(v).moveAndExpand(I5(e))):y||(g=as.nodeToVertex(p,v,r));else if(h+1===d){const w=y&&as.getBearing(v,p)===a;i.containsPoint(p)||w?g=as.insideNode(p,v,O5(p).moveAndExpand(I5(e)),i,a):y||(g=as.vertexToNode(p,v,i,a))}else y||(g=as.vertexToVertex(p,v,a));g?(l.push(...g.points),a=g.direction):a=as.getBearing(p,v),h+1<d&&l.push(v)}return l};var as;!function(n){const e={N:"S",S:"N",E:"W",W:"E"},t={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function r(d,g,p){let v=new O(d.x,g.y);return p.containsPoint(v)&&(v=new O(g.x,d.y)),v}function i(d,g){return d["W"===g||"E"===g?"width":"height"]}function s(d,g){return d.x===g.x?d.y>g.y?"N":"S":d.y===g.y?d.x>g.x?"W":"E":null}function o(d,g,p){const v=new O(d.x,g.y),y=new O(g.x,d.y),w=s(d,v),C=s(d,y),M=p?e[p]:null,E=w===p||w!==M&&(C===M||C!==p)?v:y;return{points:[E],direction:s(E,g)}}function c(d,g,p){const v=r(d,g,p);return{points:[v],direction:s(v,g)}}n.getBBoxSize=i,n.getBearing=s,n.vertexToVertex=o,n.nodeToVertex=c,n.vertexToNode=function a(d,g,p,v){const y=[new O(d.x,g.y),new O(g.x,d.y)],w=y.filter(E=>!p.containsPoint(E)),C=w.filter(E=>s(E,d)!==v);let M;if(C.length>0)return M=C.filter(E=>s(d,E)===v).pop(),M=M||C[0],{points:[M],direction:s(M,g)};{M=ete(y,w)[0];const E=O.create(g).move(M,-i(p,v)/2);return{points:[r(E,d,p),E],direction:s(E,g)}}},n.nodeToNode=function l(d,g,p,v){let y=c(g,d,v);const w=y.points[0];if(p.containsPoint(w)){y=c(d,g,p);const C=y.points[0];if(v.containsPoint(C)){const M=O.create(d).move(C,-i(p,s(d,C))/2),E=O.create(g).move(w,-i(v,s(g,w))/2),z=new ae(M,E).getCenter(),T=c(d,z,p),P=o(z,g,T.direction);y.points=[T.points[0],P.points[0]],y.direction=P.direction}}return y},n.insideNode=function h(d,g,p,v,y){const w=p.union(v).inflate(1),C=w.getCenter(),M=C.distance(g)>C.distance(d),E=M?g:d,z=M?d:g;let T,P,k,G;return y?(T=O.fromPolar(w.width+w.height,t[y],E),T=w.getNearestPointToPoint(T).move(T,-1)):T=w.getNearestPointToPoint(E).move(E,1),P=r(T,z,w),T.round().equals(P.round())?(P=O.fromPolar(w.width+w.height,Dt.toRad(T.theta(E))+Math.PI/2,z),P=w.getNearestPointToPoint(P).move(z,1).round(),k=r(T,P,w),G=M?[P,k,T]:[T,k,P]):G=M?[P,T]:[T,P],{points:G,direction:s(M?T:P,g)}}}(as||(as={}));const Ooe={step:10,maxLoopCount:2e3,precision:1,maxDirectionChange:90,perpendicular:!0,excludeTerminals:[],excludeNodes:[],excludeShapes:[],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost(){return _a(this.step,this)},directions(){const n=_a(this.step,this),e=_a(this.cost,this);return[{cost:e,offsetX:n,offsetY:0},{cost:e,offsetX:-n,offsetY:0},{cost:e,offsetX:0,offsetY:n},{cost:e,offsetX:0,offsetY:-n}]},penalties(){const n=_a(this.step,this);return{0:0,45:n/2,90:n/2}},paddingBox(){const n=_a(this.step,this);return{x:-n,y:-n,width:2*n,height:2*n}},fallbackRouter:JT,draggingRouter:null,snapToGrid:!0};function _a(n,e){return"function"==typeof n?n.call(e):n}class Poe{constructor(){this.items=[],this.hash={},this.values={}}add(e,t){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=1,this.values[e]=t;const r=function Eee(n,e,t){return kD(n,e,oy(t))}(this.items,e,i=>this.values[i]);this.items.splice(r,0,e)}pop(){const e=this.items.shift();return e&&(this.hash[e]=2),e}isOpen(e){return 1===this.hash[e]}isClose(e){return 2===this.hash[e]}isEmpty(){return 0===this.items.length}}class Loe{constructor(e){this.options=e,this.mapGridSize=100,this.map={}}build(e,t){const r=this.options,i=r.excludeTerminals.reduce((l,h)=>{const d=t[h];if(d){const g=e.getCell(d.cell);g&&l.push(g)}return l},[]);let s=[];const o=e.getCell(t.getSourceCellId());o&&(s=VD(s,o.getAncestors().map(l=>l.id)));const c=e.getCell(t.getTargetCellId());c&&(s=VD(s,c.getAncestors().map(l=>l.id)));const a=this.mapGridSize;return e.getNodes().reduce((l,h)=>{const d=i.some(w=>w.id===h.id),g=!!h.shape&&r.excludeShapes.includes(h.shape),p=r.excludeNodes.some(w=>"string"==typeof w?h.id===w:w===h),v=s.includes(h.id);if(!(g||d||p||v)){const w=h.getBBox().moveAndExpand(r.paddingBox),C=w.getOrigin().snapToGrid(a),M=w.getCorner().snapToGrid(a);for(let E=C.x;E<=M.x;E+=a)for(let z=C.y;z<=M.y;z+=a){const T=new O(E,z).toString();null==l[T]&&(l[T]=[]),l[T].push(w)}}return l},this.map),this}isAccessible(e){const t=e.clone().snapToGrid(this.mapGridSize).toString(),r=this.map[t];return!r||r.every(i=>!i.containsPoint(e))}}function tO(n,e){const t=n.sourceBBox.clone();return e&&e.paddingBox?t.moveAndExpand(e.paddingBox):t}function nO(n,e){const t=n.targetBBox.clone();return e&&e.paddingBox?t.moveAndExpand(e.paddingBox):t}function rO(n,e){return n.sourceAnchor?n.sourceAnchor:tO(n,e).getCenter()}function Ry(n,e,t,r,i){const s=360/t,o=n.theta(function Noe(n,e,t,r){const i=r.step;return new O(n.x+(e.x-n.x)/t.x*i,n.y+(e.y-n.y)/t.y*i)}(n,e,r,i)),c=Dt.normalize(o+s/2);return s*Math.floor(c/s)}function iO(n,e){const t=Math.abs(n-e);return t>180?360-t:t}function sO(n,e){if(!n)return e;const t=Math.abs(n),r=Math.round(t/e);return r?e+(t-r*e)/r:t}function F0(n,e){return n.round(e)}function P5(n,e,t){return F0(function koe(n,e){const t=e.source,r=bt.snapToGrid(n.x-t.x,e.x)+t.x,i=bt.snapToGrid(n.y-t.y,e.y)+t.y;return new O(r,i)}(n.clone(),e),t)}function B0(n){return n.toString()}function Vy(n){return new O(0===n.x?0:Math.abs(n.x)/n.x,0===n.y?0:Math.abs(n.y)/n.y)}function oO(n,e){let t=1/0;for(let r=0,i=e.length;r<i;r+=1){const s=n.manhattanDistance(e[r]);s<t&&(t=s)}return t}function cO(n,e,t,r,i){const s=i.precision,o=i.directionMap,c=n.diff(e.getCenter()),a=Object.keys(o).reduce((l,h)=>{if(t.includes(h)){const d=o[h],g=new O(n.x+d.x*(Math.abs(c.x)+e.width),n.y+d.y*(Math.abs(c.y)+e.height)),v=new ae(n,g).intersect(e)||[];let y,w=null;for(let C=0;C<v.length;C+=1){const M=v[C],E=n.squaredDistance(M);(null==y||E>y)&&(y=E,w=M)}if(w){let C=P5(w,r,s);e.containsPoint(C)&&(C=P5(C.translate(d.x*r.x,d.y*r.y),r,s)),l.push(C)}}return l},[]);return e.containsPoint(n)||a.push(P5(n,r,s)),a}function Foe(n,e,t,r,i){const s=[];let l,o=Vy(i.diff(t)),c=B0(t),a=n[c];for(;a;){l=e[c];const g=Vy(l.diff(a));g.equals(o)||(s.unshift(l),o=g),c=B0(a),a=n[c]}const h=e[c];return Vy(h.diff(r)).equals(o)||s.unshift(h),s}function Boe(n,e,t,r,i){const s=i.precision;let o,c;o=J.isRectangle(e)?F0(rO(n,i).clone(),s):F0(e.clone(),s),c=J.isRectangle(t)?F0(function Hoe(n,e){return n.targetAnchor?n.targetAnchor:nO(n,e).getCenter()}(n,i).clone(),s):F0(t.clone(),s);const a=function Voe(n,e,t){return{source:e.clone(),x:sO(t.x-e.x,n),y:sO(t.y-e.y,n)}}(i.step,o,c),l=o,h=c;let d,g;if(d=J.isRectangle(e)?cO(l,e,i.startDirections,a,i):[l],g=J.isRectangle(t)?cO(c,t,i.endDirections,a,i):[h],d=d.filter(p=>r.isAccessible(p)),g=g.filter(p=>r.isAccessible(p)),d.length>0&&g.length>0){const p=new Poe,v={},y={},w={};for(let K=0,Z=d.length;K<Z;K+=1){const ee=d[K],ke=B0(ee);p.add(ke,oO(ee,g)),v[ke]=ee,w[ke]=0}const C=i.previousDirectionAngle,M=void 0===C;let E,z;const T=function Roe(n,e){const t=e.step;return e.directions.forEach(r=>{r.gridOffsetX=r.offsetX/t*n.x,r.gridOffsetY=r.offsetY/t*n.y}),e.directions}(a,i),P=T.length,k=g.reduce((K,Z)=>{const ee=B0(Z);return K.push(ee),K},[]),G=O.equalPoints(d,g);let B=i.maxLoopCount;for(;!p.isEmpty()&&B>0;){const K=p.pop(),Z=v[K],ee=y[K],ke=w[K],Oe=Z.equals(l),R=null==ee;let N;if(N=R?M?Oe?null:Ry(l,Z,P,a,i):C:Ry(ee,Z,P,a,i),(!R||!G)&&k.indexOf(K)>=0)return i.previousDirectionAngle=N,Foe(y,v,Z,l,h);for(let se=0;se<P;se+=1){E=T[se];const ue=E.angle;if(z=iO(N,ue),(!M||!Oe)&&z>i.maxDirectionChange)continue;const je=P5(Z.clone().translate(E.gridOffsetX||0,E.gridOffsetY||0),a,s),wt=B0(je);if(p.isClose(wt)||!r.isAccessible(je))continue;if(k.indexOf(wt)>=0&&!je.equals(h)&&iO(ue,Ry(je,h,P,a,i))>i.maxDirectionChange)continue;const Qe=ke+E.cost+(Oe?0:i.penalties[z]);(!p.isOpen(wt)||Qe<w[wt])&&(v[wt]=je,y[wt]=Z,w[wt]=Qe,p.add(wt,Qe+oO(je,g)))}B-=1}}return i.fallbackRoute?Se(i.fallbackRoute,this,l,h,i):null}const $oe=function(n,e,t){const r=function Ioe(n){const e=Object.keys(n).reduce((t,r)=>(t[r]="fallbackRouter"===r||"draggingRouter"===r||"fallbackRoute"===r?n[r]:_a(n[r],n),t),{});if(e.padding){const t=sl(e.padding);e.paddingBox={x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}return e.directions.forEach(t=>{const r=new O(0,0),i=new O(t.offsetX,t.offsetY);t.angle=Dt.normalize(r.theta(i))}),e}(e),i=tO(t,r),s=nO(t,r),o=rO(t,r),c=new Loe(r).build(t.graph.model,t.cell),a=n.map(p=>O.create(p)),l=[];let d,g,h=o;for(let p=0,v=a.length;p<=v;p+=1){let y=null;if(d=g||i,g=a[p],null==g){g=s;const C=t.cell;if((null==C.getSourceCellId()||null==C.getTargetCellId())&&"function"==typeof r.draggingRouter){const E=d===i?o:d,z=g.getOrigin();y=Se(r.draggingRouter,t,E,z,r)}}if(null==y&&(y=Boe(t,d,g,c,r)),null===y)return console.warn("Unable to execute manhattan algorithm, use orth instead"),Se(r.fallbackRouter,this,n,r,t);const w=y[0];w&&w.equals(h)&&y.shift(),h=y[y.length-1]||h,l.push(...y)}return r.snapToGrid?function joe(n,e=10){if(n.length<=1)return n;for(let t=0,r=n.length;t<r-1;t+=1){const i=n[t],s=n[t+1];if(i.x===s.x){const o=e*Math.round(i.x/e);i.x!==o&&(i.x=o,s.x=o)}else if(i.y===s.y){const o=e*Math.round(i.y/e);i.y!==o&&(i.y=o,s.y=o)}}return n}(l,t.graph.grid.getGridSize()):l},aO=function(n,e,t){return Se($oe,this,n,Object.assign(Object.assign({},Ooe),e),t)},Uoe={maxDirectionChange:45,directions(){const n=_a(this.step,this),e=_a(this.cost,this),t=Math.ceil(Math.sqrt(n*n<<1));return[{cost:e,offsetX:n,offsetY:0},{cost:t,offsetX:n,offsetY:n},{cost:e,offsetX:0,offsetY:n},{cost:t,offsetX:-n,offsetY:n},{cost:e,offsetX:-n,offsetY:0},{cost:t,offsetX:-n,offsetY:-n},{cost:e,offsetX:0,offsetY:-n},{cost:t,offsetX:n,offsetY:-n}]},fallbackRoute(n,e,t){const r=n.theta(e),i=[];let s={x:e.x,y:n.y},o={x:n.x,y:e.y};if(r%180>90){const E=s;s=o,o=E}const c=r%90<45?s:o,a=new ae(n,c),l=90*Math.ceil(r/90),h=O.fromPolar(a.squaredLength(),Dt.toRad(l+135),c),d=new ae(e,h),g=a.intersectsWithLine(d),p=g||e,y=360/t.directions.length,w=(g?p:n).theta(e),C=Dt.normalize(w+y/2),M=y*Math.floor(C/y);return t.previousDirectionAngle=M,p&&i.push(p.round()),i.push(e),i}},qoe=function(n,e,t){return Se(aO,this,n,Object.assign(Object.assign({},Uoe),e),t)},Goe=function(n,e,t){const r=e.offset||32,i=null==e.min?16:e.min;let s=0,o=e.direction;const c=t.sourceBBox,a=t.targetBBox,l=c.getCenter(),h=a.getCenter();if("number"==typeof r&&(s=r),null==o){let C=a.left-c.right,M=a.top-c.bottom;C>=0&&M>=0?o=C>=M?"L":"T":C<=0&&M>=0?(C=c.left-a.right,o=C>=0&&C>=M?"R":"T"):C>=0&&M<=0?(M=c.top-a.bottom,o=M>=0?C>=M?"L":"B":"L"):(C=c.left-a.right,M=c.top-a.bottom,o=C>=0&&M>=0?C>=M?"R":"B":C<=0&&M>=0?"B":C>=0&&M<=0||Math.abs(C)>Math.abs(M)?"R":"B")}let d,g,p;"H"===o?o=h.x-l.x>=0?"L":"R":"V"===o&&(o=h.y-l.y>=0?"T":"B"),"center"===r&&("L"===o?s=(a.left-c.right)/2:"R"===o?s=(c.left-a.right)/2:"T"===o?s=(a.top-c.bottom)/2:"B"===o&&(s=(c.top-a.bottom)/2));const v="L"===o||"R"===o;if(v){if(h.y===l.y)return[...n];p="L"===o?1:-1,d="x",g="width"}else{if(h.x===l.x)return[...n];p="T"===o?1:-1,d="y",g="height"}const y=l.clone(),w=h.clone();if(y[d]+=p*(c[g]/2+s),w[d]-=p*(a[g]/2+s),v){const C=y.x,M=w.x,E=c.width/2+i,z=a.width/2+i;h.x>l.x?M<=C&&(y.x=Math.max(M,l.x+E),w.x=Math.min(C,h.x-z)):M>=C&&(y.x=Math.min(M,l.x-E),w.x=Math.max(C,h.x+z))}else{const C=y.y,M=w.y,E=c.height/2+i,z=a.height/2+i;h.y>l.y?M<=C&&(y.y=Math.max(M,l.y+E),w.y=Math.min(C,h.y-z)):M>=C&&(y.y=Math.min(M,l.y-E),w.y=Math.max(C,h.y+z))}return[y.toJSON(),...n,w.toJSON()]};function d3(n,e){if(null!=e&&!1!==e){const t="boolean"==typeof e?0:e;if(t>0){const r=O.create(n[1]).move(n[2],t),i=O.create(n[1]).move(n[0],t);return[r.toJSON(),...n,i.toJSON()]}{const r=n[1];return[Object.assign({},r),...n,Object.assign({},r)]}}return n}const Woe=function(n,e,t){const r=e.width||50,s=(e.height||80)/2,o=e.angle||"auto",c=t.sourceAnchor,a=t.targetAnchor,l=t.sourceBBox,h=t.targetBBox;if(c.equals(a)){const d=C=>{const M=Dt.toRad(C),E=Math.sin(M),z=Math.cos(M),T=new O(c.x+z*r,c.y+E*r),P=new O(T.x-z*s,T.y-E*s),k=P.clone().rotate(-90,T),G=P.clone().rotate(90,T);return[k.toJSON(),T.toJSON(),G.toJSON()]},g=C=>{const M=c.clone().move(C,-1),E=new ae(M,C);return!l.containsPoint(C)&&!l.intersectsWithLine(E)},p=[0,90,180,270,45,135,225,315];if("number"==typeof o)return d3(d(o),e.merge);const v=l.getCenter();if(v.equals(c))return d3(d(0),e.merge);const y=v.angleBetween(c,v.clone().translate(1,0));let w=d(y);if(g(w[1]))return d3(w,e.merge);for(let C=1,M=p.length;C<M;C+=1)if(w=d(y+p[C]),g(w[1]))return d3(w,e.merge);return d3(w,e.merge)}{const d=new ae(c,a);let g=d.parallel(-r),p=g.getCenter(),v=g.start.clone().move(g.end,s),y=g.end.clone().move(g.start,s);const w=d.parallel(-1),C=new ae(w.start,p),M=new ae(w.end,p);if((l.containsPoint(p)||h.containsPoint(p)||l.intersectsWithLine(C)||l.intersectsWithLine(M)||h.intersectsWithLine(C)||h.intersectsWithLine(M))&&(g=d.parallel(r),p=g.getCenter(),v=g.start.clone().move(g.end,s),y=g.end.clone().move(g.start,s)),e.merge){const E=new ae(c,a),z=new ae(p,E.center).setLength(Number.MAX_SAFE_INTEGER),T=l.intersectsWithLine(z),P=h.intersectsWithLine(z),k=T?Array.isArray(T)?T:[T]:[];P&&(Array.isArray(P)?k.push(...P):k.push(P));const G=E.center.closest(k);G?(t.sourceAnchor=G.clone(),t.targetAnchor=G.clone()):(t.sourceAnchor=E.center.clone(),t.targetAnchor=E.center.clone())}return d3([v.toJSON(),p.toJSON(),y.toJSON()],e.merge)}};var xa;!function(n){n.presets=Us,n.registry=sn.create({type:"router"}),n.registry.register(n.presets,!0)}(xa||(xa={}));const Yoe=function(n,e,t,r={}){const i=[n,...t,e],s=new rn(i),o=new he(s);return r.raw?o:o.serialize()},Xoe=function(n,e,t,r={}){const i=3===t.length?0:1,s=O.create(t[0+i]),o=O.create(t[2+i]),c=O.create(t[1+i]);if(!O.equals(n,e)){const l=new O((n.x+e.x)/2,(n.y+e.y)/2),h=l.angleBetween(O.create(n).rotate(90,l),c);h>1&&(s.rotate(180-h,l),o.rotate(180-h,l),c.rotate(180-h,l))}const a=`\n     M ${n.x} ${n.y}\n     Q ${s.x} ${s.y} ${c.x} ${c.y}\n     Q ${o.x} ${o.y} ${e.x} ${e.y}\n  `;return r.raw?he.parse(a):a},Zoe=function(n,e,t,r={}){const i=new he;i.appendSegment(he.createSegment("M",n));const s=1/3,o=2/3,c=r.radius||10;let a,l;for(let h=0,d=t.length;h<d;h+=1){const g=O.create(t[h]),p=t[h-1]||n,v=t[h+1]||e;a=l||g.distance(p)/2,l=g.distance(v)/2;const y=-Math.min(c,a),w=-Math.min(c,l),C=g.clone().move(p,y).round(),M=g.clone().move(v,w).round(),E=new O(s*C.x+o*g.x,o*g.y+s*C.y),z=new O(s*M.x+o*g.x,o*g.y+s*M.y);i.appendSegment(he.createSegment("L",C)),i.appendSegment(he.createSegment("C",E,z,M))}return i.appendSegment(he.createSegment("L",e)),r.raw?i:i.serialize()},Koe=function(n,e,t,r={}){let i,s=r.direction;if(t&&0!==t.length){const o=[n,...t,e],c=Yt.throughPoints(o);i=new he(c)}else if(i=new he,i.appendSegment(he.createSegment("M",n)),s||(s=Math.abs(n.x-e.x)>=Math.abs(n.y-e.y)?"H":"V"),"H"===s){const o=(n.x+e.x)/2;i.appendSegment(he.createSegment("C",o,n.y,o,e.y,e.x,e.y))}else{const o=(n.y+e.y)/2;i.appendSegment(he.createSegment("C",n.x,o,e.x,o,e.x,e.y))}return r.raw?i:i.serialize()},L5=1/3,H5=2/3;function ky(n,e,t=[]){const r=[n,...t,e],i=[];return r.forEach((s,o)=>{const c=r[o+1];null!=c&&i.push(new ae(s,c))}),i}function uO(n,e){return new ae(n,e).squaredLength()}function hO(n,e,t,r){const i=new he;let s;return s=he.createSegment("M",n[0].start),i.appendSegment(s),n.forEach((o,c)=>{if(j0.includes(o)){let a,l,h,d;if("arc"===t){a=-90,l=o.start.diff(o.end),(l.x<0||0===l.x&&l.y<0)&&(a+=180);const p=o.getCenter(),v=new ae(p,o.end).rotate(a,p);let y;y=new ae(o.start,p),h=y.pointAt(2/3).rotate(a,o.start),d=v.pointAt(1/3).rotate(-a,v.end),s=he.createSegment("C",h,d,v.end),i.appendSegment(s),y=new ae(p,o.end),h=v.pointAt(1/3).rotate(a,v.end),d=y.pointAt(1/3).rotate(-a,o.end),s=he.createSegment("C",h,d,o.end),i.appendSegment(s)}else if("gap"===t)s=he.createSegment("M",o.end),i.appendSegment(s);else if("cubic"===t){a=o.start.theta(o.end);const g=.6*e;let p=1.35*e;l=o.start.diff(o.end),(l.x<0||0===l.x&&l.y<0)&&(p*=-1),h=new O(o.start.x+g,o.start.y+p).rotate(a,o.start),d=new O(o.end.x-g,o.end.y+p).rotate(a,o.end),s=he.createSegment("C",h,d,o.end),i.appendSegment(s)}}else{const a=n[c+1];0===r||!a||j0.includes(a)?(s=he.createSegment("L",o.end),i.appendSegment(s)):function tce(n,e,t,r,i){const s=t.distance(r)/2,o=t.distance(i)/2,c=-Math.min(n,s),a=-Math.min(n,o),l=t.clone().move(r,c).round(),h=t.clone().move(i,a).round(),d=new O(L5*l.x+H5*t.x,H5*t.y+L5*l.y),g=new O(L5*h.x+H5*t.x,H5*t.y+L5*h.y);let p;p=he.createSegment("L",l),e.appendSegment(p),p=he.createSegment("C",d,g,h),e.appendSegment(p)}(r,i,o.end,o.start,a.end)}}),i}let j0,N5;const nce=function(n,e,t,r={}){j0=[],N5=[],function Joe(n){let e=n.graph._jumpOverUpdateList;if(null==e&&(e=n.graph._jumpOverUpdateList=[],n.graph.on("cell:mouseup",()=>{const t=n.graph._jumpOverUpdateList;setTimeout(()=>{for(let r=0;r<t.length;r+=1)t[r].update()})}),n.graph.on("model:reseted",()=>{e=n.graph._jumpOverUpdateList=[]})),e.indexOf(n)<0){e.push(n);const t=()=>e.splice(e.indexOf(n),1);n.cell.once("change:connector",t),n.cell.once("removed",t)}}(this);const i=r.size||5,s=r.type||"arc",o=r.radius||0,c=r.ignoreConnectors||["smooth"],a=this.graph,h=a.model.getEdges();if(1===h.length)return hO(ky(n,e,t),i,s,o);const d=this.cell,g=h.indexOf(d),p=a.options.connecting.connector||{},v=h.filter((z,T)=>{const P=z.getConnector()||p;return!(c.includes(P.name)||T>g&&"jumpover"===P.name)}),y=v.map(z=>a.findViewByCell(z)),w=ky(n,e,t),C=y.map(z=>null==z?[]:z===this?w:ky(z.sourcePoint,z.targetPoint,z.routePoints)),M=[];w.forEach(z=>{const T=v.reduce((P,k,G)=>{if(k!==d){const B=function Qoe(n,e){const t=[];return e.forEach(r=>{const i=n.intersectsWithLine(r);i&&t.push(i)}),t}(z,C[G]);P.push(...B)}return P},[]).sort((P,k)=>uO(z.start,P)-uO(z.start,k));T.length>0?M.push(...function ece(n,e,t){return e.reduce((r,i,s)=>{if(N5.includes(i))return r;const o=r.pop()||n,c=O.create(i).move(o.start,-t);let a=O.create(i).move(o.start,+t);const l=e[s+1];if(null!=l){const g=a.distance(l);g<=t&&(a=l.move(o.start,g),N5.push(l))}else if(c.distance(o.end)<2*t+1)return r.push(o),r;if(a.distance(o.start)<2*t+1)return r.push(o),r;const d=new ae(c,a);return j0.push(d),r.push(new ae(o.start,c),d,new ae(a,o.end)),r},[])}(z,T,i)):M.push(z)});const E=hO(M,i,s,o);return j0=[],N5=[],r.raw?E:E.serialize()};var ul;!function(n){n.presets=qs,n.registry=sn.create({type:"connector"}),n.registry.register(n.presets,!0)}(ul||(ul={}));class fO extends rs{constructor(e={}){super(),this.pending=!1,this.changing=!1,this.data={},this.mutate(Wt(e)),this.changed={}}mutate(e,t={}){const r=!0===t.unset,i=!0===t.silent,s=[],o=this.changing;this.changing=!0,o||(this.previous=Wt(this.data),this.changed={});const c=this.data,a=this.previous,l=this.changed;if(Object.keys(e).forEach(h=>{const d=h,g=e[d];lc(c[d],g)||s.push(d),lc(a[d],g)?delete l[d]:l[d]=g,r?delete c[d]:c[d]=g}),!i&&s.length>0&&(this.pending=!0,this.pendingOptions=t,s.forEach(h=>{this.emit("change:*",{key:h,options:t,store:this,current:c[h],previous:a[h]})})),o)return this;if(!i)for(;this.pending;)this.pending=!1,this.emit("changed",{current:c,previous:a,store:this,options:this.pendingOptions});return this.pending=!1,this.changing=!1,this.pendingOptions=null,this}get(e,t){return null==e?this.data:this.data[e]??t}getPrevious(e){if(this.previous)return this.previous[e]??void 0}set(e,t,r){return null!=e&&("object"==typeof e?this.mutate(e,t):this.mutate({[e]:t},r)),this}remove(e,t){const i={};let s;if("string"==typeof e)i[e]=void 0,s=t;else if(Array.isArray(e))e.forEach(o=>i[o]=void 0),s=t;else{for(const o in this.data)i[o]=void 0;s=e}return this.mutate(i,Object.assign(Object.assign({},s),{unset:!0})),this}getByPath(e){return sy(this.data,e,"/")}setByPath(e,t,r={}){const i="/",s=Array.isArray(e)?[...e]:e.split(i),o=Array.isArray(e)?e.join(i):e,c=s[0],a=s.length;if(r.propertyPath=o,r.propertyValue=t,r.propertyPathArray=s,1===a)this.set(c,t,r);else{const l={};let h=l,d=c;for(let v=1;v<a;v+=1){const y=s[v],w=Number.isFinite(Number(y));h=h[d]=w?[]:{},d=y}U2(l,s,t,i);const g=Wt(this.data);r.rewrite&&PD(g,e,i);const p=bn(g,l);this.set(c,p[c],r)}return this}removeByPath(e,t){const r=Array.isArray(e)?e:e.split("/"),i=r[0];if(1===r.length)this.remove(i,t);else{const s=r.slice(1),o=Wt(this.get(i));o&&PD(o,s),this.set(i,o,t)}return this}hasChanged(e){return null==e?Object.keys(this.changed).length>0:e in this.changed}getChanges(e){if(null==e)return this.hasChanged()?Wt(this.changed):null;const t=this.changing?this.previous:this.data,r={};let i;for(const s in e){const o=e[s];lc(t[s],o)||(r[s]=o,i=!0)}return i?Wt(r):null}toJSON(){return Wt(this.data)}clone(){return new(0,this.constructor)(this.data)}dispose(){this.off(),this.data={},this.previous={},this.changed={},this.pending=!1,this.changing=!1,this.pendingOptions=null,this.trigger("disposed",{store:this})}}!function(n,e,t,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(o=n[c])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);i>3&&s&&Object.defineProperty(e,t,s)}([rs.dispose()],fO.prototype,"dispose",null);class $0{constructor(e){this.cell=e,this.ids={},this.cache={}}get(){return Object.keys(this.ids)}start(e,t,r={},i="/"){const s=this.cell.getPropByPath(e),o=fQ(r,$0.defaultOptions),c=this.getTiming(o.timing),a=this.getInterp(o.interp,s,t);let l=0;const h=Array.isArray(e)?e.join(i):e,d=Array.isArray(e)?e:e.split(i),g=()=>{const p=(new Date).getTime();0===l&&(l=p);let y=(p-l)/o.duration;y<1?this.ids[h]=requestAnimationFrame(g):y=1;const w=a(c(y));this.cell.setPropByPath(d,w),r.progress&&r.progress(Object.assign({progress:y,currentValue:w},this.getArgs(h))),1===y&&(this.cell.notify("transition:complete",this.getArgs(h)),r.complete&&r.complete(this.getArgs(h)),this.cell.notify("transition:finish",this.getArgs(h)),r.finish&&r.finish(this.getArgs(h)),this.clean(h))};return setTimeout(()=>{this.stop(e,void 0,i),this.cache[h]={startValue:s,targetValue:t,options:o},this.ids[h]=requestAnimationFrame(g),this.cell.notify("transition:start",this.getArgs(h)),r.start&&r.start(this.getArgs(h))},r.delay),this.stop.bind(this,e,i,r)}stop(e,t={},r="/"){const i=Array.isArray(e)?e:e.split(r);return Object.keys(this.ids).filter(s=>lc(i,s.split(r).slice(0,i.length))).forEach(s=>{cancelAnimationFrame(this.ids[s]);const o=this.cache[s],c=this.getArgs(s),a=Object.assign(Object.assign({},o.options),t),l=a.jumpedToEnd;l&&null!=o.targetValue&&(this.cell.setPropByPath(s,o.targetValue),this.cell.notify("transition:end",Object.assign({},c)),this.cell.notify("transition:complete",Object.assign({},c)),a.complete&&a.complete(Object.assign({},c)));const h=Object.assign({jumpedToEnd:l},c);this.cell.notify("transition:stop",Object.assign({},h)),a.stop&&a.stop(Object.assign({},h)),this.cell.notify("transition:finish",Object.assign({},c)),a.finish&&a.finish(Object.assign({},c)),this.clean(s)}),this}clean(e){delete this.ids[e],delete this.cache[e]}getTiming(e){return"string"==typeof e?e3[e]:e}getInterp(e,t,r){return e?e(t,r):"number"==typeof r?t3.number(t,r):"string"==typeof r?"#"===r[0]?t3.color(t,r):t3.unit(t,r):t3.object(t,r)}getArgs(e){const t=this.cache[e];return{path:e,startValue:t.startValue,targetValue:t.targetValue,cell:this.cell}}}!function(n){n.defaultOptions={delay:10,duration:100,timing:"linear"}}($0||($0={}));var g3,dO=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t};class qe extends rs{static config(e){const{markup:t,propHooks:r,attrHooks:i}=e,s=dO(e,["markup","propHooks","attrHooks"]);null!=t&&(this.markup=t),r&&(this.propHooks=this.propHooks.slice(),Array.isArray(r)?this.propHooks.push(...r):"function"==typeof r?this.propHooks.push(r):Object.values(r).forEach(o=>{"function"==typeof o&&this.propHooks.push(o)})),i&&(this.attrHooks=Object.assign(Object.assign({},this.attrHooks),i)),this.defaults=bn({},this.defaults,s)}static getMarkup(){return this.markup}static getDefaults(e){return e?this.defaults:Wt(this.defaults)}static getAttrHooks(){return this.attrHooks}static applyPropHooks(e,t){return this.propHooks.reduce((r,i)=>i?Se(i,e,r):r,t)}get[Symbol.toStringTag](){return qe.toStringTag}constructor(e={}){super();const r=this.constructor.getDefaults(!0),i=bn({},this.preprocess(r),this.preprocess(e));this.id=i.id||l5(),this.store=new fO(i),this.animation=new $0(this),this.setup(),this.init(),this.postprocess(e)}init(){}get model(){return this._model}set model(e){this._model!==e&&(this._model=e)}preprocess(e,t){const r=e.id,s=this.constructor.applyPropHooks(this,e);return null==r&&!0!==t&&(s.id=l5()),s}postprocess(e){}setup(){this.store.on("change:*",e=>{const{key:t,current:r,previous:i,options:s}=e;this.notify("change:*",{key:t,options:s,current:r,previous:i,cell:this}),this.notify(`change:${t}`,{options:s,current:r,previous:i,cell:this}),("source"===t||"target"===t)&&this.notify("change:terminal",{type:t,current:r,previous:i,options:s,cell:this})}),this.store.on("changed",({options:e})=>this.notify("changed",{options:e,cell:this}))}notify(e,t){this.trigger(e,t);const r=this.model;return r&&(r.notify(`cell:${e}`,t),this.isNode()?r.notify(`node:${e}`,Object.assign(Object.assign({},t),{node:this})):this.isEdge()&&r.notify(`edge:${e}`,Object.assign(Object.assign({},t),{edge:this}))),this}isNode(){return!1}isEdge(){return!1}isSameStore(e){return this.store===e.store}get view(){return this.store.get("view")}get shape(){return this.store.get("shape","")}getProp(e,t){return null==e?this.store.get():this.store.get(e,t)}setProp(e,t,r){if("string"==typeof e)this.store.set(e,t,r);else{const i=this.preprocess(e,!0);this.store.set(bn({},this.getProp(),i),t),this.postprocess(e)}return this}removeProp(e,t){return"string"==typeof e||Array.isArray(e)?this.store.removeByPath(e,t):this.store.remove(t),this}hasChanged(e){return null==e?this.store.hasChanged():this.store.hasChanged(e)}getPropByPath(e){return this.store.getByPath(e)}setPropByPath(e,t,r={}){return this.model&&("children"===e?this._children=t?t.map(i=>this.model.getCell(i)).filter(i=>null!=i):null:"parent"===e&&(this._parent=t?this.model.getCell(t):null)),this.store.setByPath(e,t,r),this}removePropByPath(e,t={}){const r=Array.isArray(e)?e:e.split("/");return"attrs"===r[0]&&(t.dirty=!0),this.store.removeByPath(r,t),this}prop(e,t,r){return null==e?this.getProp():"string"==typeof e||Array.isArray(e)?1===arguments.length?this.getPropByPath(e):null==t?this.removePropByPath(e,r||{}):this.setPropByPath(e,t,r||{}):this.setProp(e,t||{})}previous(e){return this.store.getPrevious(e)}get zIndex(){return this.getZIndex()}set zIndex(e){null==e?this.removeZIndex():this.setZIndex(e)}getZIndex(){return this.store.get("zIndex")}setZIndex(e,t={}){return this.store.set("zIndex",e,t),this}removeZIndex(e={}){return this.store.remove("zIndex",e),this}toFront(e={}){const t=this.model;if(t){let i,r=t.getMaxZIndex();e.deep?(i=this.getDescendants({deep:!0,breadthFirst:!0}),i.unshift(this)):i=[this],r=r-i.length+1;const s=t.total();let o=t.indexOf(this)!==s-i.length;o||(o=i.some((c,a)=>c.getZIndex()!==r+a)),o&&this.batchUpdate("to-front",()=>{r+=i.length,i.forEach((c,a)=>{c.setZIndex(r+a,e)})})}return this}toBack(e={}){const t=this.model;if(t){let i,r=t.getMinZIndex();e.deep?(i=this.getDescendants({deep:!0,breadthFirst:!0}),i.unshift(this)):i=[this];let s=0!==t.indexOf(this);s||(s=i.some((o,c)=>o.getZIndex()!==r+c)),s&&this.batchUpdate("to-back",()=>{r-=i.length,i.forEach((o,c)=>{o.setZIndex(r+c,e)})})}return this}get markup(){return this.getMarkup()}set markup(e){null==e?this.removeMarkup():this.setMarkup(e)}getMarkup(){let e=this.store.get("markup");return null==e&&(e=this.constructor.getMarkup()),e}setMarkup(e,t={}){return this.store.set("markup",e,t),this}removeMarkup(e={}){return this.store.remove("markup",e),this}get attrs(){return this.getAttrs()}set attrs(e){null==e?this.removeAttrs():this.setAttrs(e)}getAttrs(){const e=this.store.get("attrs");return e?Object.assign({},e):{}}setAttrs(e,t={}){if(null==e)this.removeAttrs(t);else{const r=i=>this.store.set("attrs",i,t);if(!0===t.overwrite)r(e);else{const i=this.getAttrs();r(!1===t.deep?Object.assign(Object.assign({},i),e):bn({},i,e))}}return this}replaceAttrs(e,t={}){return this.setAttrs(e,Object.assign(Object.assign({},t),{overwrite:!0}))}updateAttrs(e,t={}){return this.setAttrs(e,Object.assign(Object.assign({},t),{deep:!1}))}removeAttrs(e={}){return this.store.remove("attrs",e),this}getAttrDefinition(e){if(!e)return null;const r=this.constructor.getAttrHooks()||{};let i=r[e]||Mo.registry.get(e);if(!i){const s=C0(e);i=r[s]||Mo.registry.get(s)}return i||null}getAttrByPath(e){return null==e||""===e?this.getAttrs():this.getPropByPath(this.prefixAttrPath(e))}setAttrByPath(e,t,r={}){return this.setPropByPath(this.prefixAttrPath(e),t,r),this}removeAttrByPath(e,t={}){return this.removePropByPath(this.prefixAttrPath(e),t),this}prefixAttrPath(e){return Array.isArray(e)?["attrs"].concat(e):`attrs/${e}`}attr(e,t,r){return null==e?this.getAttrByPath():"string"==typeof e||Array.isArray(e)?1===arguments.length?this.getAttrByPath(e):null==t?this.removeAttrByPath(e,r||{}):this.setAttrByPath(e,t,r||{}):this.setAttrs(e,t||{})}get visible(){return this.isVisible()}set visible(e){this.setVisible(e)}setVisible(e,t={}){return this.store.set("visible",e,t),this}isVisible(){return!1!==this.store.get("visible")}show(e={}){return this.isVisible()||this.setVisible(!0,e),this}hide(e={}){return this.isVisible()&&this.setVisible(!1,e),this}toggleVisible(e,t={}){const i="boolean"==typeof e?t:e;return("boolean"==typeof e?e:!this.isVisible())?this.show(i):this.hide(i),this}get data(){return this.getData()}set data(e){this.setData(e)}getData(){return this.store.get("data")}setData(e,t={}){if(null==e)this.removeData(t);else{const r=i=>this.store.set("data",i,t);if(!0===t.overwrite)r(e);else{const i=this.getData();r(!1===t.deep?"object"==typeof e?Object.assign(Object.assign({},i),e):e:bn({},i,e))}}return this}replaceData(e,t={}){return this.setData(e,Object.assign(Object.assign({},t),{overwrite:!0}))}updateData(e,t={}){return this.setData(e,Object.assign(Object.assign({},t),{deep:!1}))}removeData(e={}){return this.store.remove("data",e),this}get parent(){return this.getParent()}get children(){return this.getChildren()}getParentId(){return this.store.get("parent")}getParent(){const e=this.getParentId();if(e&&this.model){const t=this.model.getCell(e);return this._parent=t,t}return null}getChildren(){const e=this.store.get("children");if(e&&e.length&&this.model){const t=e.map(r=>{var i;return null===(i=this.model)||void 0===i?void 0:i.getCell(r)}).filter(r=>null!=r);return this._children=t,[...t]}return null}hasParent(){return null!=this.parent}isParentOf(e){return null!=e&&e.getParent()===this}isChildOf(e){return null!=e&&this.getParent()===e}eachChild(e,t){return this.children&&this.children.forEach(e,t),this}filterChild(e,t){return this.children?this.children.filter(e,t):[]}getChildCount(){return null==this.children?0:this.children.length}getChildIndex(e){return null==this.children?-1:this.children.indexOf(e)}getChildAt(e){return null!=this.children&&e>=0?this.children[e]:null}getAncestors(e={}){const t=[];let r=this.getParent();for(;r;)t.push(r),r=!1!==e.deep?r.getParent():null;return t}getDescendants(e={}){if(!1!==e.deep){if(e.breadthFirst){const t=[],r=this.getChildren()||[];for(;r.length>0;){const i=r.shift(),s=i.getChildren();t.push(i),s&&r.push(...s)}return t}{const t=this.getChildren()||[];return t.forEach(r=>{t.push(...r.getDescendants(e))}),t}}return this.getChildren()||[]}isDescendantOf(e,t={}){if(null==e)return!1;if(!1!==t.deep){let r=this.getParent();for(;r;){if(r===e)return!0;r=r.getParent()}return!1}return this.isChildOf(e)}isAncestorOf(e,t={}){return null!=e&&e.isDescendantOf(this,t)}contains(e){return this.isAncestorOf(e)}getCommonAncestor(...e){return qe.getCommonAncestor(this,...e)}setParent(e,t={}){return this._parent=e,e?this.store.set("parent",e.id,t):this.store.remove("parent",t),this}setChildren(e,t={}){return this._children=e,null!=e?this.store.set("children",e.map(r=>r.id),t):this.store.remove("children",t),this}unembed(e,t={}){const r=this.children;if(null!=r&&null!=e){const i=this.getChildIndex(e);-1!==i&&(r.splice(i,1),e.setParent(null,t),this.setChildren(r,t))}return this}embed(e,t={}){return e.addTo(this,t),this}addTo(e,t={}){return qe.isCell(e)?e.addChild(this,t):e.addCell(this,t),this}insertTo(e,t,r={}){return e.insertChild(this,t,r),this}addChild(e,t={}){return this.insertChild(e,void 0,t)}insertChild(e,t,r={}){if(null!=e&&e!==this){const i=e.getParent(),s=this!==i;let o=t;if(null==o&&(o=this.getChildCount(),s||(o-=1)),i){const a=i.getChildren();if(a){const l=a.indexOf(e);l>=0&&(e.setParent(null,r),a.splice(l,1),i.setChildren(a,r))}}let c=this.children;if(null==c?(c=[],c.push(e)):c.splice(o,0,e),e.setParent(this,r),this.setChildren(c,r),s&&this.model){const a=this.model.getIncomingEdges(this),l=this.model.getOutgoingEdges(this);a&&a.forEach(h=>h.updateParent(r)),l&&l.forEach(h=>h.updateParent(r))}this.model&&this.model.addCell(e,r)}return this}removeFromParent(e={}){const t=this.getParent();if(null!=t){const r=t.getChildIndex(this);t.removeChildAt(r,e)}return this}removeChild(e,t={}){const r=this.getChildIndex(e);return this.removeChildAt(r,t)}removeChildAt(e,t={}){const r=this.getChildAt(e);return null!=this.children&&null!=r&&(this.unembed(r,t),r.remove(t)),r}remove(e={}){return this.batchUpdate("remove",()=>{const t=this.getParent();t&&t.removeChild(this,e),!1!==e.deep&&this.eachChild(r=>r.remove(e)),this.model&&this.model.removeCell(this,e)}),this}transition(e,t,r={},i="/"){return this.animation.start(e,t,r,i)}stopTransition(e,t,r="/"){return this.animation.stop(e,t,r),this}getTransitions(){return this.animation.get()}translate(e,t,r){return this}scale(e,t,r,i){return this}addTools(e,t,r){const i=Array.isArray(e)?e:[e],s="string"==typeof t?t:null,o="object"==typeof t?t:"object"==typeof r?r:{};if(o.reset)return this.setTools({name:s,items:i,local:o.local},o);let c=Wt(this.getTools());return null==c||null==s||c.name===s?(null==c&&(c={}),c.items||(c.items=[]),c.name=s,c.items=[...c.items,...i],this.setTools(Object.assign({},c),o)):void 0}setTools(e,t={}){return null==e?this.removeTools():this.store.set("tools",qe.normalizeTools(e),t),this}getTools(){return this.store.get("tools")}removeTools(e={}){return this.store.remove("tools",e),this}hasTools(e){const t=this.getTools();return null!=t&&(null==e||t.name===e)}hasTool(e){const t=this.getTools();return null!=t&&t.items.some(r=>"string"==typeof r?r===e:r.name===e)}removeTool(e,t={}){const r=Wt(this.getTools());if(r){let i=!1;const s=r.items.slice(),o=c=>{s.splice(c,1),i=!0};if("number"==typeof e)o(e);else for(let c=s.length-1;c>=0;c-=1){const a=s[c];("string"==typeof a?a===e:a.name===e)&&o(c)}i&&(r.items=s,this.setTools(r,t))}return this}getBBox(e){return new J}getConnectionPoint(e,t){return new O}toJSON(e={}){const t=Object.assign({},this.store.get()),r=Object.prototype.toString,i=this.isNode()?"node":this.isEdge()?"edge":"cell";if(!t.shape){const v=this.constructor;throw new Error(`Unable to serialize ${i} missing "shape" prop, check the ${i} "${v.name||r.call(v)}"`)}const o=!0===e.diff,c=t.attrs||{},a=this.constructor.getDefaults(!0),l=o?this.preprocess(a,!0):a,h=l.attrs||{},d={};Object.entries(t).forEach(([v,y])=>{if(null!=y&&!Array.isArray(y)&&"object"==typeof y&&!bo(y))throw new Error(`Can only serialize ${i} with plain-object props, but got a "${r.call(y)}" type of key "${v}" on ${i} "${this.id}"`);"attrs"!==v&&"shape"!==v&&o&&lc(y,l[v])&&delete t[v]}),Object.keys(c).forEach(v=>{const y=c[v],w=h[v];Object.keys(y).forEach(C=>{const M=y[C],E=w?w[C]:null;null==M||"object"!=typeof M||Array.isArray(M)?(null==w||!lc(E,M))&&(null==d[v]&&(d[v]={}),d[v][C]=M):Object.keys(M).forEach(z=>{const T=M[z];null!=w&&null!=E&&Gt(E)&&lc(E[z],T)||(null==d[v]&&(d[v]={}),null==d[v][C]&&(d[v][C]={}),d[v][C][z]=T)})})});const g=Object.assign(Object.assign({},t),{attrs:bD(d)?void 0:d});null==g.attrs&&delete g.attrs;const p=g;return 0===p.angle&&delete p.angle,Wt(p)}clone(e={}){if(!e.deep){const r=Object.assign({},this.store.get());return e.keepId||delete r.id,delete r.parent,delete r.children,new(0,this.constructor)(r)}return qe.deepClone(this)[this.id]}findView(e){return e.findViewByCell(this)}startBatch(e,t={},r=this.model){return this.notify("batch:start",{name:e,data:t,cell:this}),r&&r.startBatch(e,Object.assign(Object.assign({},t),{cell:this})),this}stopBatch(e,t={},r=this.model){return r&&r.stopBatch(e,Object.assign(Object.assign({},t),{cell:this})),this.notify("batch:stop",{name:e,data:t,cell:this}),this}batchUpdate(e,t,r){const i=this.model;this.startBatch(e,r,i);const s=t();return this.stopBatch(e,r,i),s}dispose(){this.removeFromParent(),this.store.dispose()}}qe.defaults={},qe.attrHooks={},qe.propHooks=[],function(n,e,t,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(o=n[c])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);i>3&&s&&Object.defineProperty(e,t,s)}([rs.dispose()],qe.prototype,"dispose",null),function(n){n.normalizeTools=function e(t){return"string"==typeof t?{items:[t]}:Array.isArray(t)?{items:t}:t.items?t:{items:[t]}}}(qe||(qe={})),function(n){n.toStringTag=`X6.${n.name}`,n.isCell=function e(t){if(null==t)return!1;if(t instanceof n)return!0;const r=t[Symbol.toStringTag];return(null==r||r===n.toStringTag)&&"function"==typeof t.isNode&&"function"==typeof t.isEdge&&"function"==typeof t.prop&&"function"==typeof t.attr}}(qe||(qe={})),function(n){n.getCommonAncestor=function e(...s){const o=s.filter(a=>null!=a).map(a=>a.getAncestors()).sort((a,l)=>a.length-l.length);return o.shift().find(a=>o.every(l=>l.includes(a)))||null},n.getCellsBBox=function t(s,o={}){let c=null;for(let a=0,l=s.length;a<l;a+=1){const h=s[a];let d=h.getBBox(o);if(d){if(h.isNode()){const g=h.getAngle();null!=g&&0!==g&&(d=d.bbox(g))}c=null==c?d:c.union(d)}}return c},n.deepClone=function r(s){const o=[s,...s.getDescendants({deep:!0})];return n.cloneCells(o)},n.cloneCells=function i(s){const o=RD(s),c=o.reduce((a,l)=>(a[l.id]=l.clone(),a),{});return o.forEach(a=>{const l=c[a.id];if(l.isEdge()){const g=l.getSourceCellId(),p=l.getTargetCellId();g&&c[g]&&l.setSource(Object.assign(Object.assign({},l.getSource()),{cell:c[g].id})),p&&c[p]&&l.setTarget(Object.assign(Object.assign({},l.getTarget()),{cell:c[p].id}))}const h=a.getParent();h&&c[h.id]&&l.setParent(c[h.id]);const d=a.getChildren();if(d&&d.length){const g=d.reduce((p,v)=>(c[v.id]&&p.push(c[v.id]),p),[]);g.length>0&&l.setChildren(g)}}),c}}(qe||(qe={})),function(n){n.config({propHooks(e){var{tools:t}=e,r=dO(e,["tools"]);return t&&(r.tools=n.normalizeTools(t)),r}})}(qe||(qe={})),function(n){let e,t;n.exist=function r(o,c){return c?null!=e&&e.exist(o):null!=t&&t.exist(o)},n.setEdgeRegistry=function i(o){e=o},n.setNodeRegistry=function s(o){t=o}}(g3||(g3={}));class sce{constructor(e){this.ports=[],this.groups={},this.init(Wt(e))}getPorts(){return this.ports}getGroup(e){return null!=e?this.groups[e]:null}getPortsByGroup(e){return this.ports.filter(t=>t.group===e||null==t.group&&null==e)}getPortsLayoutByGroup(e,t){const r=this.getPortsByGroup(e),i=e?this.getGroup(e):null,s=i?i.position:null,o=s?s.name:null;let c;if(null!=o){const d=ll.registry.get(o);if(null==d)return ll.registry.onNotFound(o);c=d}else c=ll.presets.left;return c(r.map(d=>d&&d.position&&d.position.args||{}),t,s&&s.args||{}).map((d,g)=>{const p=r[g];return{portLayout:d,portId:p.id,portSize:p.size,portAttrs:p.attrs,labelSize:p.label.size,labelLayout:this.getPortLabelLayout(p,O.create(d.position),t)}})}init(e){const{groups:t,items:r}=e;null!=t&&Object.keys(t).forEach(i=>{this.groups[i]=this.parseGroup(t[i])}),Array.isArray(r)&&r.forEach(i=>{this.ports.push(this.parsePort(i))})}parseGroup(e){return Object.assign(Object.assign({},e),{label:this.getLabel(e,!0),position:this.getPortPosition(e.position,!0)})}parsePort(e){const t=Object.assign({},e),r=this.getGroup(e.group)||{};return t.markup=t.markup||r.markup,t.attrs=bn({},r.attrs,t.attrs),t.position=this.createPosition(r,t),t.label=bn({},r.label,this.getLabel(t)),t.zIndex=this.getZIndex(r,t),t.size=Object.assign(Object.assign({},r.size),t.size),t}getZIndex(e,t){return"number"==typeof t.zIndex?t.zIndex:"number"==typeof e.zIndex||"auto"===e.zIndex?e.zIndex:"auto"}createPosition(e,t){return bn({name:"left",args:{}},e.position,{args:t.args})}getPortPosition(e,t=!1){if(null==e){if(t)return{name:"left",args:{}}}else{if("string"==typeof e)return{name:e,args:{}};if(Array.isArray(e))return{name:"absolute",args:{x:e[0],y:e[1]}};if("object"==typeof e)return e}return{args:{}}}getPortLabelPosition(e,t=!1){if(null==e){if(t)return{name:"left",args:{}}}else{if("string"==typeof e)return{name:e,args:{}};if("object"==typeof e)return e}return{args:{}}}getLabel(e,t=!1){const r=e.label||{};return r.position=this.getPortLabelPosition(r.position,t),r}getPortLabelLayout(e,t,r){const s=e.label.position.args||{},o=o3.registry.get(e.label.position.name||"left")||o3.presets.left;return o?o(t,r,s):null}}var R5=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t};let Sn=(()=>{class n extends qe{get[Symbol.toStringTag](){return n.toStringTag}constructor(t={}){super(t),this.initPorts()}preprocess(t,r){const{x:i,y:s,width:o,height:c}=t,a=R5(t,["x","y","width","height"]);if(null!=i||null!=s){const l=a.position;a.position=Object.assign(Object.assign({},l),{x:i??(l?l.x:0),y:s??(l?l.y:0)})}if(null!=o||null!=c){const l=a.size;a.size=Object.assign(Object.assign({},l),{width:o??(l?l.width:0),height:c??(l?l.height:0)})}return super.preprocess(a,r)}isNode(){return!0}size(t,r,i){return void 0===t?this.getSize():"number"==typeof t?this.setSize(t,r,i):this.setSize(t,r)}getSize(){const t=this.store.get("size");return t?Object.assign({},t):{width:1,height:1}}setSize(t,r,i){return"object"==typeof t?this.resize(t.width,t.height,r):this.resize(t,r,i),this}resize(t,r,i={}){this.startBatch("resize",i);const s=i.direction;if(s){const o=this.getSize();switch(s){case"left":case"right":r=o.height;break;case"top":case"bottom":t=o.width}let a={right:0,"top-right":0,top:1,"top-left":1,left:2,"bottom-left":2,bottom:3,"bottom-right":3}[s];const l=Dt.normalize(this.getAngle()||0);i.absolute&&(a+=Math.floor((l+45)/90),a%=4);const h=this.getBBox();let d;d=0===a?h.getBottomLeft():1===a?h.getCorner():2===a?h.getTopRight():h.getOrigin();const g=d.clone().rotate(-l,h.getCenter()),p=Math.sqrt(t*t+r*r)/2;let v=a*Math.PI/2;v+=Math.atan(a%2==0?r/t:t/r),v-=Dt.toRad(l);const w=O.fromPolar(p,v,g).clone().translate(t/-2,r/-2);this.store.set("size",{width:t,height:r},i),this.setPosition(w.x,w.y,i)}else this.store.set("size",{width:t,height:r},i);return this.stopBatch("resize",i),this}scale(t,r,i,s={}){const o=this.getBBox().scale(t,r,i??void 0);return this.startBatch("scale",s),this.setPosition(o.x,o.y,s),this.resize(o.width,o.height,s),this.stopBatch("scale"),this}position(t,r,i){return"number"==typeof t?this.setPosition(t,r,i):this.getPosition(t)}getPosition(t={}){if(t.relative){const i=this.getParent();if(null!=i&&i.isNode()){const s=this.getPosition(),o=i.getPosition();return{x:s.x-o.x,y:s.y-o.y}}}const r=this.store.get("position");return r?Object.assign({},r):{x:0,y:0}}setPosition(t,r,i={}){let s,o,c;if("object"==typeof t?(s=t.x,o=t.y,c=r||{}):(s=t,o=r,c=i||{}),c.relative){const a=this.getParent();if(null!=a&&a.isNode()){const l=a.getPosition();s+=l.x,o+=l.y}}if(c.deep){const a=this.getPosition();this.translate(s-a.x,o-a.y,c)}else this.store.set("position",{x:s,y:o},c);return this}translate(t=0,r=0,i={}){if(0===t&&0===r)return this;i.translateBy=i.translateBy||this.id;const s=this.getPosition();if(null!=i.restrict&&i.translateBy===this.id){const c=this.getBBox({deep:!0}),a=i.restrict,l=s.x-c.x,h=s.y-c.y,d=Math.max(a.x+l,Math.min(a.x+a.width+l-c.width,s.x+t)),g=Math.max(a.y+h,Math.min(a.y+a.height+h-c.height,s.y+r));t=d-s.x,r=g-s.y}const o={x:s.x+t,y:s.y+r};return i.tx=t,i.ty=r,i.transition?("object"!=typeof i.transition&&(i.transition={}),this.transition("position",o,Object.assign(Object.assign({},i.transition),{interp:t3.object})),this.eachChild(c=>{var a;(null===(a=i.exclude)||void 0===a?void 0:a.includes(c))||c.translate(t,r,i)})):(this.startBatch("translate",i),this.store.set("position",o,i),this.eachChild(c=>{var a;(null===(a=i.exclude)||void 0===a?void 0:a.includes(c))||c.translate(t,r,i)}),this.stopBatch("translate",i)),this}angle(t,r){return null==t?this.getAngle():this.rotate(t,r)}getAngle(){return this.store.get("angle",0)}rotate(t,r={}){const i=this.getAngle();if(r.center){const s=this.getSize(),o=this.getPosition(),c=this.getBBox().getCenter();c.rotate(i-t,r.center);const a=c.x-s.width/2-o.x,l=c.y-s.height/2-o.y;this.startBatch("rotate",{angle:t,options:r}),this.setPosition(o.x+a,o.y+l,r),this.rotate(t,Object.assign(Object.assign({},r),{center:null})),this.stopBatch("rotate")}else this.store.set("angle",r.absolute?t:(i+t)%360,r);return this}getBBox(t={}){if(t.deep){const r=this.getDescendants({deep:!0,breadthFirst:!0});return r.push(this),qe.getCellsBBox(r)}return J.fromPositionAndSize(this.getPosition(),this.getSize())}getConnectionPoint(t,r){const i=this.getBBox(),s=i.getCenter(),o=t.getTerminal(r);if(null==o)return s;const c=o.port;if(!c||!this.hasPort(c))return s;const a=this.getPort(c);if(!a||!a.group)return s;const h=this.getPortsPosition(a.group)[c].position,d=O.create(h).translate(i.getOrigin()),g=this.getAngle();return g&&d.rotate(-g,s),d}fit(t={}){const i=(this.getChildren()||[]).filter(h=>h.isNode());if(0===i.length)return this;this.startBatch("fit-embeds",t),t.deep&&i.forEach(h=>h.fit(t));let{x:s,y:o,width:c,height:a}=qe.getCellsBBox(i);const l=sl(t.padding);return s-=l.left,o-=l.top,c+=l.left+l.right,a+=l.bottom+l.top,this.store.set({position:{x:s,y:o},size:{width:c,height:a}},t),this.stopBatch("fit-embeds"),this}get portContainerMarkup(){return this.getPortContainerMarkup()}set portContainerMarkup(t){this.setPortContainerMarkup(t)}getDefaultPortContainerMarkup(){return this.store.get("defaultPortContainerMarkup")||Pt.getPortContainerMarkup()}getPortContainerMarkup(){return this.store.get("portContainerMarkup")||this.getDefaultPortContainerMarkup()}setPortContainerMarkup(t,r={}){return this.store.set("portContainerMarkup",Pt.clone(t),r),this}get portMarkup(){return this.getPortMarkup()}set portMarkup(t){this.setPortMarkup(t)}getDefaultPortMarkup(){return this.store.get("defaultPortMarkup")||Pt.getPortMarkup()}getPortMarkup(){return this.store.get("portMarkup")||this.getDefaultPortMarkup()}setPortMarkup(t,r={}){return this.store.set("portMarkup",Pt.clone(t),r),this}get portLabelMarkup(){return this.getPortLabelMarkup()}set portLabelMarkup(t){this.setPortLabelMarkup(t)}getDefaultPortLabelMarkup(){return this.store.get("defaultPortLabelMarkup")||Pt.getPortLabelMarkup()}getPortLabelMarkup(){return this.store.get("portLabelMarkup")||this.getDefaultPortLabelMarkup()}setPortLabelMarkup(t,r={}){return this.store.set("portLabelMarkup",Pt.clone(t),r),this}get ports(){const t=this.store.get("ports",{items:[]});return null==t.items&&(t.items=[]),t}getPorts(){return Wt(this.ports.items)}getPortsByGroup(t){return this.getPorts().filter(r=>r.group===t)}getPort(t){return Wt(this.ports.items.find(r=>r.id&&r.id===t))}getPortAt(t){return this.ports.items[t]||null}hasPorts(){return this.ports.items.length>0}hasPort(t){return-1!==this.getPortIndex(t)}getPortIndex(t){const r="string"==typeof t?t:t.id;return null!=r?this.ports.items.findIndex(i=>i.id===r):-1}getPortsPosition(t){const r=this.getSize();return this.port.getPortsLayoutByGroup(t,new J(0,0,r.width,r.height)).reduce((s,o)=>{const c=o.portLayout;return s[o.portId]={position:Object.assign({},c.position),angle:c.angle||0},s},{})}getPortProp(t,r){return this.getPropByPath(this.prefixPortPath(t,r))}setPortProp(t,r,i,s){if("string"==typeof r||Array.isArray(r)){const a=this.prefixPortPath(t,r);return this.setPropByPath(a,i,s)}const o=this.prefixPortPath(t);return this.setPropByPath(o,r,i)}removePortProp(t,r,i){return"string"==typeof r||Array.isArray(r)?this.removePropByPath(this.prefixPortPath(t,r),i):this.removePropByPath(this.prefixPortPath(t),r)}portProp(t,r,i,s){return null==r?this.getPortProp(t):"string"==typeof r||Array.isArray(r)?2===arguments.length?this.getPortProp(t,r):null==i?this.removePortProp(t,r,s):this.setPortProp(t,r,i,s):this.setPortProp(t,r,i)}prefixPortPath(t,r){const i=this.getPortIndex(t);if(-1===i)throw new Error(`Unable to find port with id: "${t}"`);return null==r||""===r?["ports","items",`${i}`]:Array.isArray(r)?["ports","items",`${i}`,...r]:`ports/items/${i}/${r}`}addPort(t,r){const i=[...this.ports.items];return i.push(t),this.setPropByPath("ports/items",i,r),this}addPorts(t,r){return this.setPropByPath("ports/items",[...this.ports.items,...t],r),this}insertPort(t,r,i){const s=[...this.ports.items];return s.splice(t,0,r),this.setPropByPath("ports/items",s,i),this}removePort(t,r={}){return this.removePortAt(this.getPortIndex(t),r)}removePortAt(t,r={}){if(t>=0){const i=[...this.ports.items];i.splice(t,1),r.rewrite=!0,this.setPropByPath("ports/items",i,r)}return this}removePorts(t,r){let i;if(Array.isArray(t)){if(i=r||{},t.length){i.rewrite=!0;const o=[...this.ports.items].filter(c=>!t.some(a=>c.id===("string"==typeof a?a:a.id)));this.setPropByPath("ports/items",o,i)}}else i=t||{},i.rewrite=!0,this.setPropByPath("ports/items",[],i);return this}getParsedPorts(){return this.port.getPorts()}getParsedGroups(){return this.port.groups}getPortsLayoutByGroup(t,r){return this.port.getPortsLayoutByGroup(t,r)}initPorts(){this.updatePortData(),this.on("change:ports",()=>{this.processRemovedPort(),this.updatePortData()})}processRemovedPort(){const r={};this.ports.items.forEach(c=>{c.id&&(r[c.id]=!0)});const i={};(this.store.getPrevious("ports")||{items:[]}).items.forEach(c=>{c.id&&!r[c.id]&&(i[c.id]=!0)});const o=this.model;o&&!bD(i)&&(o.getConnectedEdges(this,{incoming:!0}).forEach(l=>{const h=l.getTargetPortId();h&&i[h]&&l.remove()}),o.getConnectedEdges(this,{outgoing:!0}).forEach(l=>{const h=l.getSourcePortId();h&&i[h]&&l.remove()}))}validatePorts(){const t={},r=[];return this.ports.items.forEach(i=>{"object"!=typeof i&&r.push(`Invalid port ${i}.`),null==i.id&&(i.id=this.generatePortId()),t[i.id]&&r.push("Duplicitied port id."),t[i.id]=!0}),r}generatePortId(){return l5()}updatePortData(){const t=this.validatePorts();if(t.length>0)throw this.store.set("ports",this.store.getPrevious("ports")),new Error(t.join(" "));const r=this.port?this.port.getPorts():null;this.port=new sce(this.ports);const i=this.port.getPorts(),s=r?i.filter(c=>r.find(a=>a.id===c.id)?null:c):[...i],o=r?r.filter(c=>i.find(a=>a.id===c.id)?null:c):[];s.length>0&&this.notify("ports:added",{added:s,cell:this,node:this}),o.length>0&&this.notify("ports:removed",{removed:o,cell:this,node:this})}}return n.defaults={angle:0,position:{x:0,y:0},size:{width:1,height:1}},n})();(function(n){n.toStringTag=`X6.${n.name}`,n.isNode=function e(t){if(null==t)return!1;if(t instanceof n)return!0;const r=t[Symbol.toStringTag];return(null==r||r===n.toStringTag)&&"function"==typeof t.isNode&&"function"==typeof t.isEdge&&"function"==typeof t.prop&&"function"==typeof t.attr&&"function"==typeof t.size&&"function"==typeof t.position}})(Sn||(Sn={})),function(n){n.config({propHooks(e){var{ports:t}=e,r=R5(e,["ports"]);return t&&(r.ports=Array.isArray(t)?{items:t}:t),r}})}(Sn||(Sn={})),function(n){n.registry=sn.create({type:"node",process(e,t){if(g3.exist(e,!0))throw new Error(`Node with name '${e}' was registered by anthor Edge`);if("function"==typeof t)return t.config({shape:e}),t;let r=n;const{inherit:i}=t,s=R5(t,["inherit"]);if(i)if("string"==typeof i){const c=this.get(i);null==c?this.onNotFound(i,"inherited"):r=c}else r=i;null==s.constructorName&&(s.constructorName=e);const o=r.define.call(r,s);return o.config({shape:e}),o}}),g3.setNodeRegistry(n.registry)}(Sn||(Sn={})),function(n){let e=0;n.define=function r(s){const{constructorName:o,overwrite:c}=s,a=R5(s,["constructorName","overwrite"]),l=iy(function t(s){return s?uy(s):(e+=1,`CustomNode${e}`)}(o||a.shape),this);return l.config(a),a.shape&&n.registry.register(a.shape,l,c),l},n.create=function i(s){const o=s.shape||"rect",c=n.registry.get(o);return c?new c(s):n.registry.onNotFound(o)}}(Sn||(Sn={}));var V5=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t};let on=(()=>{class n extends qe{get[Symbol.toStringTag](){return n.toStringTag}constructor(t={}){super(t)}preprocess(t,r){const{source:i,sourceCell:s,sourcePort:o,sourcePoint:c,target:a,targetCell:l,targetPort:h,targetPoint:d}=t,p=V5(t,["source","sourceCell","sourcePort","sourcePoint","target","targetCell","targetPort","targetPoint"]),v=y=>"string"==typeof y||"number"==typeof y;if(null!=i)if(qe.isCell(i))p.source={cell:i.id};else if(v(i))p.source={cell:i};else if(O.isPoint(i))p.source=i.toJSON();else if(Array.isArray(i))p.source={x:i[0],y:i[1]};else{const y=i.cell;p.source=qe.isCell(y)?Object.assign(Object.assign({},i),{cell:y.id}):i}if(null!=s||null!=o){let y=p.source;if(null!=s){const w=v(s)?s:s.id;y?y.cell=w:y=p.source={cell:w}}null!=o&&y&&(y.port=o)}else null!=c&&(p.source=O.create(c).toJSON());if(null!=a)if(qe.isCell(a))p.target={cell:a.id};else if(v(a))p.target={cell:a};else if(O.isPoint(a))p.target=a.toJSON();else if(Array.isArray(a))p.target={x:a[0],y:a[1]};else{const y=a.cell;p.target=qe.isCell(y)?Object.assign(Object.assign({},a),{cell:y.id}):a}if(null!=l||null!=h){let y=p.target;if(null!=l){const w=v(l)?l:l.id;y?y.cell=w:y=p.target={cell:w}}null!=h&&y&&(y.port=h)}else null!=d&&(p.target=O.create(d).toJSON());return super.preprocess(p,r)}setup(){super.setup(),this.on("change:labels",t=>this.onLabelsChanged(t)),this.on("change:vertices",t=>this.onVertexsChanged(t))}isEdge(){return!0}disconnect(t={}){return this.store.set({source:{x:0,y:0},target:{x:0,y:0}},t),this}get source(){return this.getSource()}set source(t){this.setSource(t)}getSource(){return this.getTerminal("source")}getSourceCellId(){return this.source.cell}getSourcePortId(){return this.source.port}setSource(t,r,i={}){return this.setTerminal("source",t,r,i)}get target(){return this.getTarget()}set target(t){this.setTarget(t)}getTarget(){return this.getTerminal("target")}getTargetCellId(){return this.target.cell}getTargetPortId(){return this.target.port}setTarget(t,r,i={}){return this.setTerminal("target",t,r,i)}getTerminal(t){return Object.assign({},this.store.get(t))}setTerminal(t,r,i,s={}){if(qe.isCell(r))return this.store.set(t,bn({},i,{cell:r.id}),s),this;const o=r;return O.isPoint(r)||null!=o.x&&null!=o.y?(this.store.set(t,bn({},i,{x:o.x,y:o.y}),s),this):(this.store.set(t,Wt(r),s),this)}getSourcePoint(){return this.getTerminalPoint("source")}getTargetPoint(){return this.getTerminalPoint("target")}getTerminalPoint(t){const r=this[t];if(O.isPointLike(r))return O.create(r);const i=this.getTerminalCell(t);return i?i.getConnectionPoint(this,t):new O}getSourceCell(){return this.getTerminalCell("source")}getTargetCell(){return this.getTerminalCell("target")}getTerminalCell(t){if(this.model){const r="source"===t?this.getSourceCellId():this.getTargetCellId();if(r)return this.model.getCell(r)}return null}getSourceNode(){return this.getTerminalNode("source")}getTargetNode(){return this.getTerminalNode("target")}getTerminalNode(t){let r=this;const i={};for(;r&&r.isEdge();){if(i[r.id])return null;i[r.id]=!0,r=r.getTerminalCell(t)}return r&&r.isNode()?r:null}get router(){return this.getRouter()}set router(t){null==t?this.removeRouter():this.setRouter(t)}getRouter(){return this.store.get("router")}setRouter(t,r,i){return"object"==typeof t?this.store.set("router",t,r):this.store.set("router",{name:t,args:r},i),this}removeRouter(t={}){return this.store.remove("router",t),this}get connector(){return this.getConnector()}set connector(t){null==t?this.removeConnector():this.setConnector(t)}getConnector(){return this.store.get("connector")}setConnector(t,r,i){return"object"==typeof t?this.store.set("connector",t,r):this.store.set("connector",{name:t,args:r},i),this}removeConnector(t={}){return this.store.remove("connector",t)}getDefaultLabel(){const t=this.constructor,r=this.store.get("defaultLabel")||t.defaultLabel||{};return Wt(r)}get labels(){return this.getLabels()}set labels(t){this.setLabels(t)}getLabels(){return[...this.store.get("labels",[])].map(t=>this.parseLabel(t))}setLabels(t,r={}){return this.store.set("labels",Array.isArray(t)?t:[t],r),this}insertLabel(t,r,i={}){const s=this.getLabels(),o=s.length;let c=null!=r&&Number.isFinite(r)?r:o;return c<0&&(c=o+c+1),s.splice(c,0,this.parseLabel(t)),this.setLabels(s,i)}appendLabel(t,r={}){return this.insertLabel(t,-1,r)}getLabelAt(t){const r=this.getLabels();return null!=t&&Number.isFinite(t)?this.parseLabel(r[t]):null}setLabelAt(t,r,i={}){if(null!=t&&Number.isFinite(t)){const s=this.getLabels();s[t]=this.parseLabel(r),this.setLabels(s,i)}return this}removeLabelAt(t,r={}){const i=this.getLabels(),s=null!=t&&Number.isFinite(t)?t:-1,o=i.splice(s,1);return this.setLabels(i,r),o.length?o[0]:null}parseLabel(t){return"string"==typeof t?this.constructor.parseStringLabel(t):t}onLabelsChanged({previous:t,current:r}){const i=t&&r?r.filter(o=>t.find(c=>o===c||lc(o,c))?null:o):r?[...r]:[],s=t&&r?t.filter(o=>r.find(c=>o===c||lc(o,c))?null:o):t?[...t]:[];i.length>0&&this.notify("labels:added",{added:i,cell:this,edge:this}),s.length>0&&this.notify("labels:removed",{removed:s,cell:this,edge:this})}get vertices(){return this.getVertices()}set vertices(t){this.setVertices(t)}getVertices(){return[...this.store.get("vertices",[])]}setVertices(t,r={}){const i=Array.isArray(t)?t:[t];return this.store.set("vertices",i.map(s=>O.toJSON(s)),r),this}insertVertex(t,r,i={}){const s=this.getVertices(),o=s.length;let c=null!=r&&Number.isFinite(r)?r:o;return c<0&&(c=o+c+1),s.splice(c,0,O.toJSON(t)),this.setVertices(s,i)}appendVertex(t,r={}){return this.insertVertex(t,-1,r)}getVertexAt(t){return null!=t&&Number.isFinite(t)?this.getVertices()[t]:null}setVertexAt(t,r,i={}){if(null!=t&&Number.isFinite(t)){const s=this.getVertices();s[t]=r,this.setVertices(s,i)}return this}removeVertexAt(t,r={}){const i=this.getVertices(),s=null!=t&&Number.isFinite(t)?t:-1;return i.splice(s,1),this.setVertices(i,r)}onVertexsChanged({previous:t,current:r}){const i=t&&r?r.filter(o=>t.find(c=>O.equals(o,c))?null:o):r?[...r]:[],s=t&&r?t.filter(o=>r.find(c=>O.equals(o,c))?null:o):t?[...t]:[];i.length>0&&this.notify("vertexs:added",{added:i,cell:this,edge:this}),s.length>0&&this.notify("vertexs:removed",{removed:s,cell:this,edge:this})}getDefaultMarkup(){return this.store.get("defaultMarkup")||Pt.getEdgeMarkup()}getMarkup(){return super.getMarkup()||this.getDefaultMarkup()}translate(t,r,i={}){return i.translateBy=i.translateBy||this.id,i.tx=t,i.ty=r,this.applyToPoints(s=>({x:(s.x||0)+t,y:(s.y||0)+r}),i)}scale(t,r,i,s={}){return this.applyToPoints(o=>O.create(o).scale(t,r,i).toJSON(),s)}applyToPoints(t,r={}){const i={},s=this.getSource(),o=this.getTarget();O.isPointLike(s)&&(i.source=t(s)),O.isPointLike(o)&&(i.target=t(o));const c=this.getVertices();return c.length>0&&(i.vertices=c.map(t)),this.store.set(i,r),this}getBBox(){return this.getPolyline().bbox()}getConnectionPoint(){return this.getPolyline().pointAt(.5)}getPolyline(){const t=[this.getSourcePoint(),...this.getVertices().map(r=>O.create(r)),this.getTargetPoint()];return new rn(t)}updateParent(t){let r=null;const i=this.getSourceCell(),s=this.getTargetCell(),o=this.getParent();return i&&s&&(r=i===s||i.isDescendantOf(s)?s:s.isDescendantOf(i)?i:qe.getCommonAncestor(i,s)),o&&r&&r.id!==o.id&&o.unembed(this,t),r&&(!o||o.id!==r.id)&&r.embed(this,t),r}hasLoop(t={}){const r=this.getSource(),i=this.getTarget(),s=r.cell,o=i.cell;if(!s||!o)return!1;let c=s===o;if(!c&&t.deep&&this._model){const a=this.getSourceCell(),l=this.getTargetCell();a&&l&&(c=a.isAncestorOf(l,t)||l.isAncestorOf(a,t))}return c}getFragmentAncestor(){const t=[this,this.getSourceNode(),this.getTargetNode()].filter(r=>null!=r);return this.getCommonAncestor(...t)}isFragmentDescendantOf(t){const r=this.getFragmentAncestor();return!!r&&(r.id===t.id||r.isDescendantOf(t))}}return n.defaults={},n})();(function(n){n.equalTerminals=function e(t,r){return t.cell===r.cell&&(t.port===r.port||null==t.port&&null==r.port)}})(on||(on={})),function(n){n.defaultLabel={markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}],attrs:{text:{fill:"#000",fontSize:14,textAnchor:"middle",textVerticalAnchor:"middle",pointerEvents:"none"},rect:{ref:"label",fill:"#fff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}},n.parseStringLabel=function e(t){return{attrs:{label:{text:t}}}}}(on||(on={})),function(n){n.toStringTag=`X6.${n.name}`,n.isEdge=function e(t){if(null==t)return!1;if(t instanceof n)return!0;const r=t[Symbol.toStringTag];return(null==r||r===n.toStringTag)&&"function"==typeof t.isNode&&"function"==typeof t.isEdge&&"function"==typeof t.prop&&"function"==typeof t.attr&&"function"==typeof t.disconnect&&"function"==typeof t.getSource&&"function"==typeof t.getTarget}}(on||(on={})),function(n){n.registry=sn.create({type:"edge",process(e,t){if(g3.exist(e,!1))throw new Error(`Edge with name '${e}' was registered by anthor Node`);if("function"==typeof t)return t.config({shape:e}),t;let r=n;const{inherit:i="edge"}=t,s=V5(t,["inherit"]);if("string"==typeof i){const c=this.get(i||"edge");null==c&&i?this.onNotFound(i,"inherited"):r=c}else r=i;null==s.constructorName&&(s.constructorName=e);const o=r.define.call(r,s);return o.config({shape:e}),o}}),g3.setEdgeRegistry(n.registry)}(on||(on={})),function(n){let e=0;n.define=function r(s){const{constructorName:o,overwrite:c}=s,a=V5(s,["constructorName","overwrite"]),l=iy(function t(s){return s?uy(s):(e+=1,`CustomEdge${e}`)}(o||a.shape),this);return l.config(a),a.shape&&n.registry.register(a.shape,l,c),l},n.create=function i(s){const o=s.shape||"edge",c=n.registry.get(o);return c?new c(s):n.registry.onNotFound(o)}}(on||(on={})),function(n){const e="basic.edge";n.config({shape:e,propHooks(t){const{label:r,vertices:i}=t,s=V5(t,["label","vertices"]);if(r){null==s.labels&&(s.labels=[]);const o="string"==typeof r?n.parseStringLabel(r):r;s.labels.push(o)}return i&&Array.isArray(i)&&(s.vertices=i.map(o=>O.create(o).toJSON())),s}}),n.registry.register(e,n)}(on||(on={}));class oce extends rs{constructor(e,t={}){super(),this.length=0,this.comparator=t.comparator||"zIndex",this.clean(),e&&this.reset(e,{silent:!0})}toJSON(){return this.cells.map(e=>e.toJSON())}add(e,t,r){let i,s;"number"==typeof t?(i=t,s=Object.assign({merge:!1},r)):(i=this.length,s=Object.assign({merge:!1},t)),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);const o=Array.isArray(e)?e:[e],c=this.comparator&&"number"!=typeof t&&!1!==s.sort,a=this.comparator||null;let l=!1;const h=[],d=[];return o.forEach(g=>{const p=this.get(g);p?s.merge&&!g.isSameStore(p)&&(p.setProp(g.getProp(),r),d.push(p),c&&!l&&(l=null==a||"function"==typeof a?p.hasChanged():"string"==typeof a?p.hasChanged(a):a.some(v=>p.hasChanged(v)))):(h.push(g),this.reference(g))}),h.length&&(c&&(l=!0),this.cells.splice(i,0,...h),this.length=this.cells.length),l&&this.sort({silent:!0}),s.silent||(h.forEach((g,p)=>{const v={cell:g,index:i+p,options:s};this.trigger("added",v),s.dryrun||g.notify("added",Object.assign({},v))}),l&&this.trigger("sorted"),(h.length||d.length)&&this.trigger("updated",{added:h,merged:d,removed:[],options:s})),this}remove(e,t={}){const r=Array.isArray(e)?e:[e],i=this.removeCells(r,t);return!t.silent&&i.length>0&&this.trigger("updated",{options:t,removed:i,added:[],merged:[]}),Array.isArray(e)?i:i[0]}removeCells(e,t){const r=[];for(let i=0;i<e.length;i+=1){const s=this.get(e[i]);if(null==s)continue;const o=this.cells.indexOf(s);this.cells.splice(o,1),this.length-=1,delete this.map[s.id],r.push(s),this.unreference(s),t.dryrun||s.remove(),t.silent||(this.trigger("removed",{cell:s,index:o,options:t}),t.dryrun||s.notify("removed",{cell:s,index:o,options:t}))}return r}reset(e,t={}){const r=this.cells.slice();if(r.forEach(i=>this.unreference(i)),this.clean(),this.add(e,Object.assign({silent:!0},t)),!t.silent){const i=this.cells.slice();this.trigger("reseted",{options:t,previous:r,current:i});const s=[],o=[];i.forEach(c=>{r.some(l=>l.id===c.id)||s.push(c)}),r.forEach(c=>{i.some(l=>l.id===c.id)||o.push(c)}),this.trigger("updated",{options:t,added:s,removed:o,merged:[]})}return this}push(e,t){return this.add(e,this.length,t)}pop(e){const t=this.at(this.length-1);return this.remove(t,e)}unshift(e,t){return this.add(e,0,t)}shift(e){const t=this.at(0);return this.remove(t,e)}get(e){return null==e?null:this.map["string"==typeof e||"number"==typeof e?e:e.id]||null}has(e){return null!=this.get(e)}at(e){return e<0&&(e+=this.length),this.cells[e]||null}first(){return this.at(0)}last(){return this.at(-1)}indexOf(e){return this.cells.indexOf(e)}toArray(){return this.cells.slice()}sort(e={}){return null!=this.comparator&&(this.cells=Fee(this.cells,this.comparator),e.silent||this.trigger("sorted")),this}clone(){return new(0,this.constructor)(this.cells.slice(),{comparator:this.comparator})}reference(e){this.map[e.id]=e,e.on("*",this.notifyCellEvent,this)}unreference(e){e.off("*",this.notifyCellEvent,this),delete this.map[e.id]}notifyCellEvent(e,t){const r=t.cell;this.trigger(`cell:${e}`,t),r&&(r.isNode()?this.trigger(`node:${e}`,Object.assign(Object.assign({},t),{node:r})):r.isEdge()&&this.trigger(`edge:${e}`,Object.assign(Object.assign({},t),{edge:r})))}clean(){this.length=0,this.cells=[],this.map={}}}class pc extends rs{get[Symbol.toStringTag](){return pc.toStringTag}constructor(e=[]){super(),this.batches={},this.addings=new WeakMap,this.nodes={},this.edges={},this.outgoings={},this.incomings={},this.collection=new oce(e),this.setup()}notify(e,t){this.trigger(e,t);const r=this.graph;return r&&r.trigger("sorted"===e||"reseted"===e||"updated"===e?`model:${e}`:e,t),this}setup(){const e=this.collection;e.on("sorted",()=>this.notify("sorted",null)),e.on("updated",t=>this.notify("updated",t)),e.on("cell:change:zIndex",()=>this.sortOnChangeZ()),e.on("added",({cell:t})=>{this.onCellAdded(t)}),e.on("removed",t=>{const r=t.cell;this.onCellRemoved(r,t.options),this.notify("cell:removed",t),r.isNode()?this.notify("node:removed",Object.assign(Object.assign({},t),{node:r})):r.isEdge()&&this.notify("edge:removed",Object.assign(Object.assign({},t),{edge:r}))}),e.on("reseted",t=>{this.onReset(t.current),this.notify("reseted",t)}),e.on("edge:change:source",({edge:t})=>this.onEdgeTerminalChanged(t,"source")),e.on("edge:change:target",({edge:t})=>{this.onEdgeTerminalChanged(t,"target")})}sortOnChangeZ(){this.collection.sort()}onCellAdded(e){const t=e.id;e.isEdge()?(e.updateParent(),this.edges[t]=!0,this.onEdgeTerminalChanged(e,"source"),this.onEdgeTerminalChanged(e,"target")):this.nodes[t]=!0}onCellRemoved(e,t){const r=e.id;if(e.isEdge()){delete this.edges[r];const i=e.getSource(),s=e.getTarget();if(i&&i.cell){const o=this.outgoings[i.cell],c=o?o.indexOf(r):-1;c>=0&&(o.splice(c,1),0===o.length&&delete this.outgoings[i.cell])}if(s&&s.cell){const o=this.incomings[s.cell],c=o?o.indexOf(r):-1;c>=0&&(o.splice(c,1),0===o.length&&delete this.incomings[s.cell])}}else delete this.nodes[r];t.clear||(t.disconnectEdges?this.disconnectConnectedEdges(e,t):this.removeConnectedEdges(e,t)),e.model===this&&(e.model=null)}onReset(e){this.nodes={},this.edges={},this.outgoings={},this.incomings={},e.forEach(t=>this.onCellAdded(t))}onEdgeTerminalChanged(e,t){const r="source"===t?this.outgoings:this.incomings,i=e.previous(t);if(i&&i.cell){const o=qe.isCell(i.cell)?i.cell.id:i.cell,c=r[o],a=c?c.indexOf(e.id):-1;a>=0&&(c.splice(a,1),0===c.length&&delete r[o])}const s=e.getTerminal(t);if(s&&s.cell){const o=qe.isCell(s.cell)?s.cell.id:s.cell,c=r[o]||[];-1===c.indexOf(e.id)&&c.push(e.id),r[o]=c}}prepareCell(e,t){return!e.model&&(!t||!t.dryrun)&&(e.model=this),null==e.zIndex&&e.setZIndex(this.getMaxZIndex()+1,{silent:!0}),e}resetCells(e,t={}){return e.map(r=>this.prepareCell(r,Object.assign(Object.assign({},t),{dryrun:!0}))),this.collection.reset(e,t),e.map(r=>this.prepareCell(r,{options:t})),this}clear(e={}){const t=this.getCells();if(0===t.length)return this;const r=Object.assign(Object.assign({},e),{clear:!0});return this.batchUpdate("clear",()=>{const i=t.sort((s,o)=>(s.isEdge()?1:2)-(o.isEdge()?1:2));for(;i.length>0;){const s=i.shift();s&&s.remove(r)}},r),this}addNode(e,t={}){const r=Sn.isNode(e)?e:this.createNode(e);return this.addCell(r,t),r}updateNode(e,t={}){const r=this.createNode(e),i=r.getProp();return r.dispose(),this.updateCell(i,t)}createNode(e){return Sn.create(e)}addEdge(e,t={}){const r=on.isEdge(e)?e:this.createEdge(e);return this.addCell(r,t),r}createEdge(e){return on.create(e)}updateEdge(e,t={}){const r=this.createEdge(e),i=r.getProp();return r.dispose(),this.updateCell(i,t)}addCell(e,t={}){return Array.isArray(e)?this.addCells(e,t):(!this.collection.has(e)&&!this.addings.has(e)&&(this.addings.set(e,!0),this.collection.add(this.prepareCell(e,t),t),e.eachChild(r=>this.addCell(r,t)),this.addings.delete(e)),this)}addCells(e,t={}){const r=e.length;if(0===r)return this;const i=Object.assign(Object.assign({},t),{position:r-1,maxPosition:r-1});return this.startBatch("add",Object.assign(Object.assign({},i),{cells:e})),e.forEach(s=>{this.addCell(s,i),i.position-=1}),this.stopBatch("add",Object.assign(Object.assign({},i),{cells:e})),this}updateCell(e,t={}){const r=e.id&&this.getCell(e.id);return!!r&&this.batchUpdate("update",()=>(Object.entries(e).forEach(([i,s])=>r.setProp(i,s,t)),!0),e)}removeCell(e,t={}){const r="string"==typeof e?this.getCell(e):e;return r&&this.has(r)?this.collection.remove(r,t):null}updateCellId(e,t){if(e.id===t)return;this.startBatch("update",{id:t}),e.prop("id",t);const r=e.clone({keepId:!0});return this.addCell(r),this.getConnectedEdges(e).forEach(s=>{const o=s.getSourceCell(),c=s.getTargetCell();o===e&&s.setSource(Object.assign(Object.assign({},s.getSource()),{cell:t})),c===e&&s.setTarget(Object.assign(Object.assign({},s.getTarget()),{cell:t}))}),this.removeCell(e),this.stopBatch("update",{id:t}),r}removeCells(e,t={}){return e.length?this.batchUpdate("remove",()=>e.map(r=>this.removeCell(r,t))):[]}removeConnectedEdges(e,t={}){const r=this.getConnectedEdges(e);return r.forEach(i=>{i.remove(t)}),r}disconnectConnectedEdges(e,t={}){const r="string"==typeof e?e:e.id;this.getConnectedEdges(e).forEach(i=>{const s=i.getSourceCellId(),o=i.getTargetCellId();s===r&&i.setSource({x:0,y:0},t),o===r&&i.setTarget({x:0,y:0},t)})}has(e){return this.collection.has(e)}total(){return this.collection.length}indexOf(e){return this.collection.indexOf(e)}getCell(e){return this.collection.get(e)}getCells(){return this.collection.toArray()}getFirstCell(){return this.collection.first()}getLastCell(){return this.collection.last()}getMinZIndex(){const e=this.collection.first();return e&&e.getZIndex()||0}getMaxZIndex(){const e=this.collection.last();return e&&e.getZIndex()||0}getCellsFromCache(e){return e?Object.keys(e).map(t=>this.getCell(t)).filter(t=>null!=t):[]}getNodes(){return this.getCellsFromCache(this.nodes)}getEdges(){return this.getCellsFromCache(this.edges)}getOutgoingEdges(e){const r=this.outgoings["string"==typeof e?e:e.id];return r?r.map(i=>this.getCell(i)).filter(i=>i&&i.isEdge()):null}getIncomingEdges(e){const r=this.incomings["string"==typeof e?e:e.id];return r?r.map(i=>this.getCell(i)).filter(i=>i&&i.isEdge()):null}getConnectedEdges(e,t={}){const r=[],i="string"==typeof e?this.getCell(e):e;if(null==i)return r;const s={},o=t.indirect;let c=t.incoming,a=t.outgoing;null==c&&null==a&&(c=a=!0);const l=(h,d)=>{const g=d?this.getOutgoingEdges(h):this.getIncomingEdges(h);if(g?.forEach(p=>{s[p.id]||(r.push(p),s[p.id]=!0,o&&(c&&l(p,!1),a&&l(p,!0)))}),o&&h.isEdge()){const p=d?h.getTargetCell():h.getSourceCell();p&&p.isEdge()&&(s[p.id]||(r.push(p),l(p,d)))}};if(a&&l(i,!0),c&&l(i,!1),t.deep){const h=i.getDescendants({deep:!0}),d={};h.forEach(p=>{p.isNode()&&(d[p.id]=!0)});const g=(p,v)=>{const y=v?this.getOutgoingEdges(p.id):this.getIncomingEdges(p.id);y?.forEach(w=>{if(!s[w.id]){const C=w.getSourceCell(),M=w.getTargetCell();if(!t.enclosed&&C&&d[C.id]&&M&&d[M.id])return;r.push(w),s[w.id]=!0}})};h.forEach(p=>{p.isEdge()||(a&&g(p,!0),c&&g(p,!1))})}return r}isBoundary(e,t){const r="string"==typeof e?this.getCell(e):e,i=t?this.getIncomingEdges(r):this.getOutgoingEdges(r);return null==i||0===i.length}getBoundaryNodes(e){const t=[];return Object.keys(this.nodes).forEach(r=>{if(this.isBoundary(r,e)){const i=this.getCell(r);i&&t.push(i)}}),t}getRoots(){return this.getBoundaryNodes(!0)}getLeafs(){return this.getBoundaryNodes(!1)}isRoot(e){return this.isBoundary(e,!0)}isLeaf(e){return this.isBoundary(e,!1)}getNeighbors(e,t={}){let r=t.incoming,i=t.outgoing;null==r&&null==i&&(r=i=!0);const o=this.getConnectedEdges(e,t).reduce((c,a)=>{const l=a.hasLoop(t),h=a.getSourceCell(),d=a.getTargetCell();return r&&h&&h.isNode()&&!c[h.id]&&(l||h!==e&&(!t.deep||!h.isDescendantOf(e)))&&(c[h.id]=h),i&&d&&d.isNode()&&!c[d.id]&&(l||d!==e&&(!t.deep||!d.isDescendantOf(e)))&&(c[d.id]=d),c},{});if(e.isEdge()){if(r){const c=e.getSourceCell();c&&c.isNode()&&!o[c.id]&&(o[c.id]=c)}if(i){const c=e.getTargetCell();c&&c.isNode()&&!o[c.id]&&(o[c.id]=c)}}return Object.keys(o).map(c=>o[c])}isNeighbor(e,t,r={}){let i=r.incoming,s=r.outgoing;return null==i&&null==s&&(i=s=!0),this.getConnectedEdges(e,r).some(o=>{const c=o.getSourceCell(),a=o.getTargetCell();return!!(i&&c&&c.id===t.id||s&&a&&a.id===t.id)})}getSuccessors(e,t={}){const r=[];return this.search(e,(i,s)=>{i!==e&&this.matchDistance(s,t.distance)&&r.push(i)},Object.assign(Object.assign({},t),{outgoing:!0})),r}isSuccessor(e,t,r={}){let i=!1;return this.search(e,(s,o)=>{if(s===t&&s!==e&&this.matchDistance(o,r.distance))return i=!0,!1},Object.assign(Object.assign({},r),{outgoing:!0})),i}getPredecessors(e,t={}){const r=[];return this.search(e,(i,s)=>{i!==e&&this.matchDistance(s,t.distance)&&r.push(i)},Object.assign(Object.assign({},t),{incoming:!0})),r}isPredecessor(e,t,r={}){let i=!1;return this.search(e,(s,o)=>{if(s===t&&s!==e&&this.matchDistance(o,r.distance))return i=!0,!1},Object.assign(Object.assign({},r),{incoming:!0})),i}matchDistance(e,t){return null==t||("function"==typeof t?t(e):!(!Array.isArray(t)||!t.includes(e))||e===t)}getCommonAncestor(...e){const t=[];return e.forEach(r=>{r&&(Array.isArray(r)?t.push(...r):t.push(r))}),qe.getCommonAncestor(...t)}getSubGraph(e,t={}){const r=[],i={},s=[],o=[],c=a=>{i[a.id]||(r.push(a),i[a.id]=a,a.isEdge()&&o.push(a),a.isNode()&&s.push(a))};return e.forEach(a=>{c(a),t.deep&&a.getDescendants({deep:!0}).forEach(h=>c(h))}),o.forEach(a=>{const l=a.getSourceCell(),h=a.getTargetCell();l&&!i[l.id]&&(r.push(l),i[l.id]=l,l.isNode()&&s.push(l)),h&&!i[h.id]&&(r.push(h),i[h.id]=h,h.isNode()&&s.push(h))}),s.forEach(a=>{this.getConnectedEdges(a,t).forEach(h=>{const d=h.getSourceCell(),g=h.getTargetCell();!i[h.id]&&d&&i[d.id]&&g&&i[g.id]&&(r.push(h),i[h.id]=h)})}),r}cloneSubGraph(e,t={}){const r=this.getSubGraph(e,t);return this.cloneCells(r)}cloneCells(e){return qe.cloneCells(e)}getNodesFromPoint(e,t){const r="number"==typeof e?{x:e,y:t||0}:e;return this.getNodes().filter(i=>i.getBBox().containsPoint(r))}getNodesInArea(e,t,r,i,s){const o="number"==typeof e?new J(e,t,r,i):J.create(e),c="number"==typeof e?s:t,a=c&&c.strict;return this.getNodes().filter(l=>{const h=l.getBBox();return a?o.containsRect(h):o.isIntersectWithRect(h)})}getEdgesInArea(e,t,r,i,s){const o="number"==typeof e?new J(e,t,r,i):J.create(e),c="number"==typeof e?s:t,a=c&&c.strict;return this.getEdges().filter(l=>{const h=l.getBBox();return 0===h.width?h.inflate(1,0):0===h.height&&h.inflate(0,1),a?o.containsRect(h):o.isIntersectWithRect(h)})}getNodesUnderNode(e,t={}){const r=e.getBBox();return(null==t.by||"bbox"===t.by?this.getNodesInArea(r):this.getNodesFromPoint(r[t.by])).filter(s=>e.id!==s.id&&!s.isDescendantOf(e))}getAllCellsBBox(){return this.getCellsBBox(this.getCells())}getCellsBBox(e,t={}){return qe.getCellsBBox(e,t)}search(e,t,r={}){r.breadthFirst?this.breadthFirstSearch(e,t,r):this.depthFirstSearch(e,t,r)}breadthFirstSearch(e,t,r={}){const i=[],s={},o={};for(i.push(e),o[e.id]=0;i.length>0;){const c=i.shift();null==c||s[c.id]||(s[c.id]=!0,!1===Se(t,this,c,o[c.id]))||this.getNeighbors(c,r).forEach(l=>{o[l.id]=o[c.id]+1,i.push(l)})}}depthFirstSearch(e,t,r={}){const i=[],s={},o={};for(i.push(e),o[e.id]=0;i.length>0;){const c=i.pop();if(null==c||s[c.id]||(s[c.id]=!0,!1===Se(t,this,c,o[c.id])))continue;const a=this.getNeighbors(c,r),l=i.length;a.forEach(h=>{o[h.id]=o[c.id]+1,i.splice(l,0,h)})}}getShortestPath(e,t,r={}){const i={};this.getEdges().forEach(l=>{const h=l.getSourceCellId(),d=l.getTargetCellId();h&&d&&(i[h]||(i[h]=[]),i[d]||(i[d]=[]),i[h].push(d),r.directed||i[d].push(h))});const o=zy.run(i,"string"==typeof e?e:e.id,r.weight),c=[];let a="string"==typeof t?t:t.id;for(o[a]&&c.push(a);a=o[a];)c.unshift(a);return c}translate(e,t,r){return this.getCells().filter(i=>!i.hasParent()).forEach(i=>i.translate(e,t,r)),this}resize(e,t,r){return this.resizeCells(e,t,this.getCells(),r)}resizeCells(e,t,r,i={}){const s=this.getCellsBBox(r);if(s){const o=Math.max(e/s.width,0),c=Math.max(t/s.height,0),a=s.getOrigin();r.forEach(l=>l.scale(o,c,a,i))}return this}toJSON(e={}){return pc.toJSON(this.getCells(),e)}parseJSON(e){return pc.fromJSON(e)}fromJSON(e,t={}){const r=this.parseJSON(e);return this.resetCells(r,t),this}startBatch(e,t={}){return this.batches[e]=(this.batches[e]||0)+1,this.notify("batch:start",{name:e,data:t}),this}stopBatch(e,t={}){return this.batches[e]=(this.batches[e]||0)-1,this.notify("batch:stop",{name:e,data:t}),this}batchUpdate(e,t,r={}){this.startBatch(e,r);const i=t();return this.stopBatch(e,r),i}hasActiveBatch(e=Object.keys(this.batches)){return(Array.isArray(e)?e:[e]).some(r=>this.batches[r]>0)}}(function(n){n.toStringTag=`X6.${n.name}`,n.isModel=function e(t){if(null==t)return!1;if(t instanceof n)return!0;const r=t[Symbol.toStringTag];return(null==r||r===n.toStringTag)&&"function"==typeof t.addNode&&"function"==typeof t.addEdge&&null!=t.collection}})(pc||(pc={})),function(n){n.toJSON=function e(r,i={}){return{cells:r.map(s=>s.toJSON(i))}},n.fromJSON=function t(r){const i=[];return Array.isArray(r)?i.push(...r):(r.cells&&i.push(...r.cells),r.nodes&&r.nodes.forEach(s=>{null==s.shape&&(s.shape="rect"),i.push(s)}),r.edges&&r.edges.forEach(s=>{null==s.shape&&(s.shape="edge"),i.push(s)})),i.map(s=>{const o=s.shape;if(o){if(Sn.registry.exist(o))return Sn.create(s);if(on.registry.exist(o))return on.create(s)}throw new Error("The `shape` should be specified when creating a node/edge instance")})}}(pc||(pc={}));class Sa extends Sn{get label(){return this.getLabel()}set label(e){this.setLabel(e)}getLabel(){return this.getAttrByPath("text/text")}setLabel(e,t){return null==e?this.removeLabel():this.setAttrByPath("text/text",e,t),this}removeLabel(){return this.removeAttrByPath("text/text"),this}}function lce(n,e="body"){return[{tagName:n,selector:e},{tagName:"text",selector:"label"}]}function p3(n,e,t={}){const r={constructorName:n,markup:lce(n,t.selector),attrs:{[n]:Object.assign({},Sa.bodyAttr)}};return(t.parent||Sa).define(bn(r,e,{shape:n}))}!function(n){n.bodyAttr={fill:"#ffffff",stroke:"#333333",strokeWidth:2},n.labelAttr={fontSize:14,fill:"#000000",refX:.5,refY:.5,textAnchor:"middle",textVerticalAnchor:"middle",fontFamily:"Arial, helvetica, sans-serif"},n.config({attrs:{text:Object.assign({},n.labelAttr)},propHooks(e){const{label:t}=e,r=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(e,["label"]);return t&&U2(r,"attrs/text/text",t),r},visible:!0})}(Sa||(Sa={})),p3("rect",{attrs:{body:{refWidth:"100%",refHeight:"100%"}}});const hce=on.define({shape:"edge",markup:[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}],attrs:{lines:{connection:!0,strokeLinejoin:"round"},wrap:{strokeWidth:10},line:{stroke:"#333",strokeWidth:2,targetMarker:"classic"}}});p3("ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}}});class m3 extends Sa{get points(){return this.getPoints()}set points(e){this.setPoints(e)}getPoints(){return this.getAttrByPath("body/refPoints")}setPoints(e,t){return null==e?this.removePoints():this.setAttrByPath("body/refPoints",m3.pointsToString(e),t),this}removePoints(){return this.removeAttrByPath("body/refPoints"),this}}!function(n){function e(t){return"string"==typeof t?t:t.map(r=>Array.isArray(r)?r.join(","):O.isPointLike(r)?`${r.x}, ${r.y}`:"").join(" ")}n.pointsToString=e,n.config({propHooks(t){const{points:r}=t,i=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(t,["points"]);if(r){const s=e(r);s&&U2(i,"attrs/body/refPoints",s)}return i}})}(m3||(m3={})),p3("polygon",{},{parent:m3}),p3("polyline",{},{parent:m3}),Sa.define({shape:"path",markup:[{tagName:"rect",selector:"bg"},{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}],attrs:{bg:{refWidth:"100%",refHeight:"100%",fill:"none",stroke:"none",pointerEvents:"all"},body:{fill:"none",stroke:"#000",strokeWidth:2}},propHooks(n){const{path:e}=n,t=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(n,["path"]);return e&&U2(t,"attrs/body/refD",e),t}}),Sa.define({shape:"text-block",markup:[{tagName:"rect",selector:"body"},ga.SUPPORT_FOREIGNOBJECT?{tagName:"foreignObject",selector:"foreignObject",children:[{tagName:"div",ns:Bn.xhtml,selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attrs:{textAnchor:"middle"}}],attrs:{body:Object.assign(Object.assign({},Sa.bodyAttr),{refWidth:"100%",refHeight:"100%"}),foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}},propHooks(n){const{text:e}=n,t=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(n,["text"]);return e&&U2(t,"attrs/label/text",e),t},attrHooks:{text:{set(n,{cell:e,view:t,refBBox:r,elem:i,attrs:s}){if(!(i instanceof HTMLElement)){const o=s.style||{},c={text:n,width:-5,height:"100%"},a=Object.assign({textVerticalAnchor:"middle"},o);return Se(Mo.presets.textWrap.set,this,c,{cell:e,view:t,elem:i,refBBox:r,attrs:a}),{fill:o.color||null}}i.textContent=n},position(n,{refBBox:e,elem:t}){if(t instanceof SVGElement)return e.getCenter()}}}}),p3("image",{attrs:{image:{refWidth:"100%",refHeight:"100%"}},propHooks:function uce(n="xlink:href"){return t=>{const{imageUrl:r,imageWidth:i,imageHeight:s}=t,o=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(t,["imageUrl","imageWidth","imageHeight"]);if(null!=r||null!=i||null!=s){const c=()=>{if(o.attrs){const a=o.attrs.image;null!=r&&(a[n]=r),null!=i&&(a.width=i),null!=s&&(a.height=s),o.attrs.image=a}};o.attrs?(null==o.attrs.image&&(o.attrs.image={}),c()):(o.attrs={image:{}},c())}return o}}()},{selector:"image"}),p3("circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%"}}});class Rs extends wr{constructor(){super(...arguments),this.portsCache={}}get[Symbol.toStringTag](){return Rs.toStringTag}getContainerClassName(){const e=[super.getContainerClassName(),this.prefixClassName("node")];return this.can("nodeMovable")||e.push(this.prefixClassName("node-immovable")),e.join(" ")}updateClassName(e){const t=e.target;if(t.hasAttribute("magnet")){const r=this.prefixClassName("port-unconnectable");this.can("magnetConnectable")?ss(t,r):Ke(t,r)}else{const r=this.prefixClassName("node-immovable");this.can("nodeMovable")?this.removeClass(r):this.addClass(r)}}isNodeView(){return!0}confirmUpdate(e,t={}){let r=e;return this.hasAction(r,"ports")&&(this.removePorts(),this.cleanPortsCache()),this.hasAction(r,"render")?(this.render(),r=this.removeAction(r,["render","update","resize","translate","rotate","ports","tools"])):(r=this.handleAction(r,"resize",()=>this.resize(),"update"),r=this.handleAction(r,"update",()=>this.update(),tr.useCSSSelector?"ports":null),r=this.handleAction(r,"translate",()=>this.translate()),r=this.handleAction(r,"rotate",()=>this.rotate()),r=this.handleAction(r,"ports",()=>this.renderPorts()),r=this.handleAction(r,"tools",()=>{this.getFlag("tools")===e?this.renderTools():this.updateTools(t)})),r}update(e){this.cleanCache(),tr.useCSSSelector&&this.removePorts();const t=this.cell,r=t.getSize(),i=t.getAttrs();this.updateAttrs(this.container,i,{attrs:e===i?null:e,rootBBox:new J(0,0,r.width,r.height),selectors:this.selectors}),tr.useCSSSelector&&this.renderPorts()}renderMarkup(){const e=this.cell.markup;if(e){if("string"==typeof e)throw new TypeError("Not support string markup.");return this.renderJSONMarkup(e)}throw new TypeError("Invalid node markup.")}renderJSONMarkup(e){const t=this.parseJSONMarkup(e,this.container);this.selectors=t.selectors,this.container.appendChild(t.fragment)}render(){return this.empty(),this.renderMarkup(),this.resize(),this.updateTransform(),tr.useCSSSelector||this.renderPorts(),this.renderTools(),this}resize(){this.cell.getAngle()&&this.rotate(),this.update()}translate(){this.updateTransform()}rotate(){this.updateTransform()}getTranslationString(){const e=this.cell.getPosition();return`translate(${e.x},${e.y})`}getRotationString(){const e=this.cell.getAngle();if(e){const t=this.cell.getSize();return`rotate(${e},${t.width/2},${t.height/2})`}}updateTransform(){let e=this.getTranslationString();const t=this.getRotationString();t&&(e+=` ${t}`),this.container.setAttribute("transform",e)}findPortElem(e,t){const r=e?this.portsCache[e]:null;return r?this.findOne(t,r.portContentElement,r.portContentSelectors||{}):null}cleanPortsCache(){this.portsCache={}}removePorts(){Object.values(this.portsCache).forEach(e=>{X2(e.portElement)})}renderPorts(){const e=this.container,t=[];e.childNodes.forEach(o=>{t.push(o)});const r=this.cell.getParsedPorts(),i=$D(r,"zIndex"),s="auto";i[s]&&i[s].forEach(o=>{const c=this.getPortElement(o);e.append(c),t.push(c)}),Object.keys(i).forEach(o=>{if(o!==s){const c=parseInt(o,10);this.appendPorts(i[o],c,t)}}),this.updatePorts()}appendPorts(e,t,r){const i=e.map(s=>this.getPortElement(s));r[t]||t<0?yy(r[Math.max(t,0)],i):_0(this.container,i)}getPortElement(e){const t=this.portsCache[e.id];return t?t.portElement:this.createPortElement(e)}createPortElement(e){let t=Pt.renderMarkup(this.cell.getPortContainerMarkup());const r=t.elem;if(null==r)throw new Error("Invalid port container markup.");t=Pt.renderMarkup(this.getPortMarkup(e));const i=t.elem,s=t.selectors;if(null==i)throw new Error("Invalid port markup.");this.setAttrs({port:e.id,"port-group":e.group},i);let o="x6-port";e.group&&(o+=` x6-port-${e.group}`),Ke(r,o),Ke(r,"x6-port"),Ke(i,"x6-port-body"),r.appendChild(i);let a,l,c=s;if(this.existPortLabel(e)){if(t=Pt.renderMarkup(this.getPortLabelMarkup(e.label)),a=t.elem,l=t.selectors,null==a)throw new Error("Invalid port label markup.");if(s&&l){for(const d in l)if(s[d]&&d!==this.rootSelector)throw new Error("Selectors within port must be unique.");c=Object.assign(Object.assign({},s),l)}Ke(a,"x6-port-label"),r.appendChild(a)}return this.portsCache[e.id]={portElement:r,portSelectors:c,portLabelElement:a,portLabelSelectors:l,portContentElement:i,portContentSelectors:s},this.graph.options.onPortRendered&&this.graph.options.onPortRendered({port:e,node:this.cell,container:r,selectors:c,labelContainer:a,labelSelectors:l,contentContainer:i,contentSelectors:s}),r}updatePorts(){const e=this.cell.getParsedGroups(),t=Object.keys(e);0===t.length?this.updatePortGroup():t.forEach(r=>this.updatePortGroup(r))}updatePortGroup(e){const t=J.fromSize(this.cell.getSize()),r=this.cell.getPortsLayoutByGroup(e,t);for(let i=0,s=r.length;i<s;i+=1){const o=r[i],a=this.portsCache[o.portId]||{},l=o.portLayout;if(this.applyPortTransform(a.portElement,l),null!=o.portAttrs){const d={selectors:a.portSelectors||{}};o.portSize&&(d.rootBBox=J.fromSize(o.portSize)),this.updateAttrs(a.portElement,o.portAttrs,d)}const h=o.labelLayout;if(h&&a.portLabelElement&&(this.applyPortTransform(a.portLabelElement,h,-(l.angle||0)),h.attrs)){const d={selectors:a.portLabelSelectors||{}};o.labelSize&&(d.rootBBox=J.fromSize(o.labelSize)),this.updateAttrs(a.portLabelElement,h.attrs,d)}}}applyPortTransform(e,t,r=0){const i=t.angle,s=t.position;K2(e,jn().rotate(r).translate(s.x||0,s.y||0).rotate(i||0),{absolute:!0})}getPortMarkup(e){return e.markup||this.cell.portMarkup}getPortLabelMarkup(e){return e.markup||this.cell.portLabelMarkup}existPortLabel(e){return e.attrs&&e.attrs.text}getEventArgs(e,t,r){const i=this,s=i.cell;return null==t||null==r?{e,view:i,node:s,cell:s}:{e,x:t,y:r,view:i,node:s,cell:s}}getPortEventArgs(e,t,r){const i=this,s=i.cell;return r?{e,x:r.x,y:r.y,view:i,node:s,cell:s,port:t}:{e,view:i,node:s,cell:s,port:t}}notifyMouseDown(e,t,r){super.onMouseDown(e,t,r),this.notify("node:mousedown",this.getEventArgs(e,t,r))}notifyMouseMove(e,t,r){super.onMouseMove(e,t,r),this.notify("node:mousemove",this.getEventArgs(e,t,r))}notifyMouseUp(e,t,r){super.onMouseUp(e,t,r),this.notify("node:mouseup",this.getEventArgs(e,t,r))}notifyPortEvent(e,t,r){const i=this.findAttr("port",t.target);if(i){const s=t.type;"node:port:mouseenter"===e?t.type="mouseenter":"node:port:mouseleave"===e&&(t.type="mouseleave"),this.notify(e,this.getPortEventArgs(t,i,r)),t.type=s}}onClick(e,t,r){super.onClick(e,t,r),this.notify("node:click",this.getEventArgs(e,t,r)),this.notifyPortEvent("node:port:click",e,{x:t,y:r})}onDblClick(e,t,r){super.onDblClick(e,t,r),this.notify("node:dblclick",this.getEventArgs(e,t,r)),this.notifyPortEvent("node:port:dblclick",e,{x:t,y:r})}onContextMenu(e,t,r){super.onContextMenu(e,t,r),this.notify("node:contextmenu",this.getEventArgs(e,t,r)),this.notifyPortEvent("node:port:contextmenu",e,{x:t,y:r})}onMouseDown(e,t,r){this.isPropagationStopped(e)||(this.notifyMouseDown(e,t,r),this.notifyPortEvent("node:port:mousedown",e,{x:t,y:r}),this.startNodeDragging(e,t,r))}onMouseMove(e,t,r){const i=this.getEventData(e),s=i.action;if("magnet"===s)this.dragMagnet(e,t,r);else{if("move"===s){const c=i.targetView||this;c.dragNode(e,t,r),c.notify("node:moving",{e,x:t,y:r,view:c,cell:c.cell,node:c.cell})}this.notifyMouseMove(e,t,r),this.notifyPortEvent("node:port:mousemove",e,{x:t,y:r})}this.setEventData(e,i)}onMouseUp(e,t,r){const i=this.getEventData(e),s=i.action;"magnet"===s?this.stopMagnetDragging(e,t,r):(this.notifyMouseUp(e,t,r),this.notifyPortEvent("node:port:mouseup",e,{x:t,y:r}),"move"===s&&(i.targetView||this).stopNodeDragging(e,t,r));const o=i.targetMagnet;o&&this.onMagnetClick(e,o,t,r),this.checkMouseleave(e)}onMouseOver(e){super.onMouseOver(e),this.notify("node:mouseover",this.getEventArgs(e)),this.notifyPortEvent("node:port:mouseenter",e),this.notifyPortEvent("node:port:mouseover",e)}onMouseOut(e){super.onMouseOut(e),this.notify("node:mouseout",this.getEventArgs(e)),this.notifyPortEvent("node:port:mouseleave",e),this.notifyPortEvent("node:port:mouseout",e)}onMouseEnter(e){this.updateClassName(e),super.onMouseEnter(e),this.notify("node:mouseenter",this.getEventArgs(e))}onMouseLeave(e){super.onMouseLeave(e),this.notify("node:mouseleave",this.getEventArgs(e))}onMouseWheel(e,t,r,i){super.onMouseWheel(e,t,r,i),this.notify("node:mousewheel",Object.assign({delta:i},this.getEventArgs(e,t,r)))}onMagnetClick(e,t,r,i){const s=this.graph;s.view.getMouseMovedCount(e)>s.options.clickThreshold||this.notify("node:magnet:click",Object.assign({magnet:t},this.getEventArgs(e,r,i)))}onMagnetDblClick(e,t,r,i){this.notify("node:magnet:dblclick",Object.assign({magnet:t},this.getEventArgs(e,r,i)))}onMagnetContextMenu(e,t,r,i){this.notify("node:magnet:contextmenu",Object.assign({magnet:t},this.getEventArgs(e,r,i)))}onMagnetMouseDown(e,t,r,i){this.startMagnetDragging(e,r,i)}onCustomEvent(e,t,r,i){this.notify("node:customevent",Object.assign({name:t},this.getEventArgs(e,r,i))),super.onCustomEvent(e,t,r,i)}prepareEmbedding(e){const t=this.graph,i=this.getEventData(e).cell||this.cell,s=t.findViewByCell(i),o=t.snapToGrid(e.clientX,e.clientY);this.notify("node:embed",{e,node:i,view:s,cell:i,x:o.x,y:o.y,currentParent:i.getParent()})}processEmbedding(e,t){const r=t.cell||this.cell,i=t.graph||this.graph,s=i.options.embedding,o=s.findParent;let c="function"==typeof o?Se(o,i,{view:this,node:this.cell}).filter(g=>qe.isCell(g)&&this.cell.id!==g.id&&!g.isDescendantOf(this.cell)):i.model.getNodesUnderNode(r,{by:o});if(s.frontOnly&&c.length>0){const g=$D(c,"zIndex"),p=ote(Object.keys(g).map(v=>parseInt(v,10)));p&&(c=g[p])}c=c.filter(g=>g.visible);let a=null;const l=t.candidateEmbedView,h=s.validate;for(let g=c.length-1;g>=0;g-=1){const p=c[g];if(l&&l.cell.id===p.id){a=l;break}{const v=p.findView(i);if(Se(h,i,{child:this.cell,parent:v.cell,childView:this,parentView:v})){a=v;break}}}this.clearEmbedding(t),a&&a.highlight(null,{type:"embedding"}),t.candidateEmbedView=a;const d=i.snapToGrid(e.clientX,e.clientY);this.notify("node:embedding",{e,cell:r,node:r,view:i.findViewByCell(r),x:d.x,y:d.y,currentParent:r.getParent(),candidateParent:a?a.cell:null})}clearEmbedding(e){const t=e.candidateEmbedView;t&&(t.unhighlight(null,{type:"embedding"}),e.candidateEmbedView=null)}finalizeEmbedding(e,t){this.graph.startBatch("embedding");const r=t.cell||this.cell,i=t.graph||this.graph,s=i.findViewByCell(r),o=r.getParent(),c=t.candidateEmbedView;if(c?(c.unhighlight(null,{type:"embedding"}),t.candidateEmbedView=null,(null==o||o.id!==c.cell.id)&&c.cell.insertChild(r,void 0,{ui:!0})):o&&o.unembed(r,{ui:!0}),i.model.getConnectedEdges(r,{deep:!0}).forEach(a=>{a.updateParent({ui:!0})}),s&&c){const a=i.snapToGrid(e.clientX,e.clientY);s.notify("node:embedded",{e,cell:r,x:a.x,y:a.y,node:r,view:i.findViewByCell(r),previousParent:o,currentParent:r.getParent()})}this.graph.stopBatch("embedding")}getDelegatedView(){let e=this.cell,t=this;for(;t&&!e.isEdge();){if(!e.hasParent()||t.can("stopDelegateOnDragging"))return t;e=e.getParent(),t=this.graph.findViewByCell(e)}return null}validateMagnet(e,t,r){if("passive"!==t.getAttribute("magnet")){const i=this.graph.options.connecting.validateMagnet;return!i||Se(i,this.graph,{e:r,magnet:t,view:e,cell:e.cell})}return!1}startMagnetDragging(e,t,r){if(!this.can("magnetConnectable"))return;e.stopPropagation();const i=e.currentTarget,s=this.graph;this.setEventData(e,{targetMagnet:i}),this.validateMagnet(this,i,e)?(s.options.magnetThreshold<=0&&this.startConnectting(e,i,t,r),this.setEventData(e,{action:"magnet"}),this.stopPropagation(e)):this.onMouseDown(e,t,r),s.view.delegateDragEvents(e,this)}startConnectting(e,t,r,i){this.graph.model.startBatch("add-edge");const s=this.createEdgeFromMagnet(t,r,i);s.setEventData(e,s.prepareArrowheadDragging("target",{x:r,y:i,isNewEdge:!0,fallbackAction:"remove"})),this.setEventData(e,{edgeView:s}),s.notifyMouseDown(e,r,i)}getDefaultEdge(e,t){let r;const i=this.graph.options.connecting.createEdge;return i&&(r=Se(i,this.graph,{sourceMagnet:t,sourceView:e,sourceCell:e.cell})),r}createEdgeFromMagnet(e,t,r){const i=this.graph,s=i.model,o=this.getDefaultEdge(this,e);return o.setSource(Object.assign(Object.assign({},o.getSource()),this.getEdgeTerminal(e,t,r,o,"source"))),o.setTarget(Object.assign(Object.assign({},o.getTarget()),{x:t,y:r})),o.addTo(s,{async:!1,ui:!0}),o.findView(i)}dragMagnet(e,t,r){const i=this.getEventData(e),s=i.edgeView;if(s)s.onMouseMove(e,t,r),this.autoScrollGraph(e.clientX,e.clientY);else{const o=this.graph,c=o.options.magnetThreshold,a=this.getEventTarget(e),l=i.targetMagnet;if("onleave"===c){if(l===a||l.contains(a))return}else if(o.view.getMouseMovedCount(e)<=c)return;this.startConnectting(e,l,t,r)}}stopMagnetDragging(e,t,r){const s=this.eventData(e).edgeView;s&&(s.onMouseUp(e,t,r),this.graph.model.stopBatch("add-edge"))}notifyUnhandledMouseDown(e,t,r){this.notify("node:unhandled:mousedown",{e,x:t,y:r,view:this,cell:this.cell,node:this.cell})}notifyNodeMove(e,t,r,i,s){let o=[s];const c=this.graph.getPlugin("selection");if(c&&c.isSelectionMovable()){const a=c.getSelectedCells();a.includes(s)&&(o=a.filter(l=>l.isNode()))}o.forEach(a=>{this.notify(e,{e:t,x:r,y:i,cell:a,node:a,view:a.findView(this.graph)})})}getRestrictArea(e){const t=this.graph.options.translating.restrict,r="function"==typeof t?Se(t,this.graph,e):t;return"number"==typeof r?this.graph.transform.getGraphArea().inflate(r):!0===r?this.graph.transform.getGraphArea():r||null}startNodeDragging(e,t,r){const i=this.getDelegatedView();if(null==i||!i.can("nodeMovable"))return this.notifyUnhandledMouseDown(e,t,r);this.setEventData(e,{targetView:i,action:"move"});const s=O.create(i.cell.getPosition());i.setEventData(e,{moving:!1,offset:s.diff(t,r),restrict:this.getRestrictArea(i)})}dragNode(e,t,r){const i=this.cell,s=this.graph,o=s.getGridSize(),c=this.getEventData(e),a=c.offset,l=c.restrict;c.moving||(c.moving=!0,this.addClass("node-moving"),this.notifyNodeMove("node:move",e,t,r,this.cell)),this.autoScrollGraph(e.clientX,e.clientY);const h=bt.snapToGrid(t+a.x,o),d=bt.snapToGrid(r+a.y,o);i.setPosition(h,d,{restrict:l,deep:!0,ui:!0}),s.options.embedding.enabled&&(c.embedding||(this.prepareEmbedding(e),c.embedding=!0),this.processEmbedding(e,c))}stopNodeDragging(e,t,r){const i=this.getEventData(e);i.embedding&&this.finalizeEmbedding(e,i),i.moving&&(this.removeClass("node-moving"),this.notifyNodeMove("node:moved",e,t,r,this.cell)),i.moving=!1,i.embedding=!1}autoScrollGraph(e,t){const r=this.graph.getPlugin("scroller");r&&r.autoScroll(e,t)}}(function(n){n.toStringTag=`X6.${n.name}`,n.isNodeView=function e(t){if(null==t)return!1;if(t instanceof n)return!0;const r=t[Symbol.toStringTag];return(null==r||r===n.toStringTag)&&"function"==typeof t.isNodeView&&"function"==typeof t.isEdgeView&&"function"==typeof t.confirmUpdate&&"function"==typeof t.update&&"function"==typeof t.findPortElem&&"function"==typeof t.resize&&"function"==typeof t.rotate&&"function"==typeof t.translate}})(Rs||(Rs={})),Rs.config({isSvgElement:!0,priority:0,bootstrap:["render"],actions:{view:["render"],markup:["render"],attrs:["update"],size:["resize","ports","tools"],angle:["rotate","tools"],position:["translate","tools"],ports:["ports"],tools:["tools"]}}),Rs.registry.register("node",Rs,!0);class mc extends wr{constructor(){super(...arguments),this.POINT_ROUNDING=2}get[Symbol.toStringTag](){return mc.toStringTag}getContainerClassName(){return[super.getContainerClassName(),this.prefixClassName("edge")].join(" ")}get sourceBBox(){const e=this.sourceView;if(!e){const r=this.cell.getSource();return new J(r.x,r.y)}const t=this.sourceMagnet;return e.isEdgeElement(t)?new J(this.sourceAnchor.x,this.sourceAnchor.y):e.getBBoxOfElement(t||e.container)}get targetBBox(){const e=this.targetView;if(!e){const r=this.cell.getTarget();return new J(r.x,r.y)}const t=this.targetMagnet;return e.isEdgeElement(t)?new J(this.targetAnchor.x,this.targetAnchor.y):e.getBBoxOfElement(t||e.container)}isEdgeView(){return!0}confirmUpdate(e,t={}){let r=e;if(this.hasAction(r,"source")){if(!this.updateTerminalProperties("source"))return r;r=this.removeAction(r,"source")}if(this.hasAction(r,"target")){if(!this.updateTerminalProperties("target"))return r;r=this.removeAction(r,"target")}return this.hasAction(r,"render")?(this.render(),r=this.removeAction(r,["render","update","labels","tools"]),r):(r=this.handleAction(r,"update",()=>this.update(t)),r=this.handleAction(r,"labels",()=>this.onLabelsChange(t)),r=this.handleAction(r,"tools",()=>this.renderTools()),r)}render(){return this.empty(),this.renderMarkup(),this.labelContainer=null,this.renderLabels(),this.update(),this.renderTools(),this}renderMarkup(){const e=this.cell.markup;if(e){if("string"==typeof e)throw new TypeError("Not support string markup.");return this.renderJSONMarkup(e)}throw new TypeError("Invalid edge markup.")}renderJSONMarkup(e){const t=this.parseJSONMarkup(e,this.container);this.selectors=t.selectors,this.container.append(t.fragment)}customizeLabels(){if(this.labelContainer){const e=this.cell,t=e.labels;for(let r=0,i=t.length;r<i;r+=1){const a=this.graph.options.onEdgeLabelRendered;a&&a({edge:e,label:t[r],container:this.labelCache[r],selectors:this.labelSelectors[r]})}}}renderLabels(){const e=this.cell,t=e.getLabels(),r=t.length;let i=this.labelContainer;if(this.labelCache={},this.labelSelectors={},r<=0)return i&&i.parentNode&&i.parentNode.removeChild(i),this;i?this.empty(i):(i=hc("g"),this.addClass(this.prefixClassName("edge-labels"),i),this.labelContainer=i);for(let s=0,o=t.length;s<o;s+=1){const a=this.normalizeLabelMarkup(this.parseLabelMarkup(t[s].markup));let l,h;if(a)l=a.node,h=a.selectors;else{const g=e.getDefaultLabel(),p=this.normalizeLabelMarkup(this.parseLabelMarkup(g.markup));l=p.node,h=p.selectors}l.setAttribute("data-index",`${s}`),i.appendChild(l);const d=this.rootSelector;if(h[d])throw new Error("Ambiguous label root selector.");h[d]=l,this.labelCache[s]=l,this.labelSelectors[s]=h}return null==i.parentNode&&this.container.appendChild(i),this.updateLabels(),this.customizeLabels(),this}onLabelsChange(e={}){this.shouldRerenderLabels(e)?this.renderLabels():this.updateLabels(),this.updateLabelPositions()}shouldRerenderLabels(e={}){const t=this.cell.previous("labels");if(null==t)return!0;if("propertyPathArray"in e&&"propertyValue"in e){const r=e.propertyPathArray||[],i=r.length;if(i>1&&t[r[1]]){if(2===i)return"object"==typeof e.propertyValue&&Xd(e.propertyValue,"markup");if("markup"!==r[2])return!1}}return!0}parseLabelMarkup(e){return e?"string"==typeof e?this.parseLabelStringMarkup(e):this.parseJSONMarkup(e):null}parseLabelStringMarkup(e){const t=_e.createVectors(e),r=document.createDocumentFragment();for(let i=0,s=t.length;i<s;i+=1)r.appendChild(t[i].node);return{fragment:r,selectors:{}}}normalizeLabelMarkup(e){if(null==e)return;const t=e.fragment;if(!(t instanceof DocumentFragment&&t.hasChildNodes()))throw new Error("Invalid label markup.");let r;const i=t.childNodes;return r=i.length>1||"G"!==i[0].nodeName.toUpperCase()?_e.create("g").append(t):_e.create(i[0]),r.addClass(this.prefixClassName("edge-label")),{node:r.node,selectors:e.selectors}}updateLabels(){if(this.labelContainer){const e=this.cell,t=e.labels,r=this.can("edgeLabelMovable"),i=e.getDefaultLabel();for(let s=0,o=t.length;s<o;s+=1){const c=this.labelCache[s],a=this.labelSelectors[s];c.setAttribute("cursor",r?"move":"default");const l=t[s],h=bn({},i.attrs,l.attrs);this.updateAttrs(c,h,{selectors:a,rootBBox:l.size?J.fromSize(l.size):void 0})}}}renderTools(){const e=this.cell.getTools();return this.addTools(e),this}update(e={}){this.cleanCache(),this.updateConnection(e);const t=this.cell.getAttrs();return null!=t&&this.updateAttrs(this.container,t,{selectors:this.selectors}),this.updateLabelPositions(),this.updateTools(e),this}removeRedundantLinearVertices(e={}){const t=this.cell,r=t.getVertices(),i=[this.sourceAnchor,...r,this.targetAnchor],s=i.length,o=new rn(i);o.simplify({threshold:.01});const c=o.points.map(l=>l.toJSON()),a=c.length;return s===a?0:(t.setVertices(c.slice(1,a-1),e),s-a)}getTerminalView(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalAnchor(e){switch(e){case"source":return O.create(this.sourceAnchor);case"target":return O.create(this.targetAnchor);default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalConnectionPoint(e){switch(e){case"source":return O.create(this.sourcePoint);case"target":return O.create(this.targetPoint);default:throw new Error(`Unknown terminal type '${e}'`)}}getTerminalMagnet(e,t={}){switch(e){case"source":{if(t.raw)return this.sourceMagnet;const r=this.sourceView;return r?this.sourceMagnet||r.container:null}case"target":{if(t.raw)return this.targetMagnet;const r=this.targetView;return r?this.targetMagnet||r.container:null}default:throw new Error(`Unknown terminal type '${e}'`)}}updateConnection(e={}){const t=this.cell;if(e.translateBy&&t.isFragmentDescendantOf(e.translateBy)){const r=e.tx||0,i=e.ty||0;this.routePoints=new rn(this.routePoints).translate(r,i).points,this.translateConnectionPoints(r,i),this.path.translate(r,i)}else{const r=t.getVertices(),i=this.findAnchors(r);this.sourceAnchor=i.source,this.targetAnchor=i.target,this.routePoints=this.findRoutePoints(r);const s=this.findConnectionPoints(this.routePoints,this.sourceAnchor,this.targetAnchor);this.sourcePoint=s.source,this.targetPoint=s.target;const o=this.findMarkerPoints(this.routePoints,this.sourcePoint,this.targetPoint);this.path=this.findPath(this.routePoints,o.source||this.sourcePoint,o.target||this.targetPoint)}this.cleanCache()}findAnchors(e){const t=this.cell,s=e[0],o=e[e.length-1];return t.target.priority&&!t.source.priority?this.findAnchorsOrdered("target",o,"source",s):this.findAnchorsOrdered("source",s,"target",o)}findAnchorsOrdered(e,t,r,i){let s,o;const c=this.cell,a=c[e],l=c[r],h=this.getTerminalView(e),d=this.getTerminalView(r),g=this.getTerminalMagnet(e),p=this.getTerminalMagnet(r);if(h){let v;v=t?O.create(t):d?p:O.create(l),s=this.getAnchor(a.anchor,h,g,v,e)}else s=O.create(a);if(d){const v=O.create(i||s);o=this.getAnchor(l.anchor,d,p,v,r)}else o=O.isPointLike(l)?O.create(l):new O;return{[e]:s,[r]:o}}getAnchor(e,t,r,i,s){const o=t.isEdgeElement(r),c=this.graph.options.connecting;let l,a="string"==typeof e?{name:e}:e;if(!a){const d=o?("source"===s?c.sourceEdgeAnchor:c.targetEdgeAnchor)||c.edgeAnchor:("source"===s?c.sourceAnchor:c.targetAnchor)||c.anchor;a="string"==typeof d?{name:d}:d}if(!a)throw new Error("Anchor should be specified.");const h=a.name;if(o){const d=h3.registry.get(h);if("function"!=typeof d)return h3.registry.onNotFound(h);l=Se(d,this,t,r,i,a.args||{},s)}else{const d=u3.registry.get(h);if("function"!=typeof d)return u3.registry.onNotFound(h);l=Se(d,this,t,r,i,a.args||{},s)}return l?l.round(this.POINT_ROUNDING):new O}findRoutePoints(e=[]){const t=this.graph.options.connecting.router||xa.presets.normal,r=this.cell.getRouter()||t;let i;if("function"==typeof r)i=Se(r,this,e,{},this);else{const s="string"==typeof r?r:r.name,o="string"==typeof r?{}:r.args||{},c=s?xa.registry.get(s):xa.presets.normal;if("function"!=typeof c)return xa.registry.onNotFound(s);i=Se(c,this,e,o,this)}return null==i?e.map(s=>O.create(s)):i.map(s=>O.create(s))}findConnectionPoints(e,t,r){const i=this.cell,s=this.graph.options.connecting,o=i.getSource(),c=i.getTarget(),a=this.sourceView,l=this.targetView,h=e[0],d=e[e.length-1];let g,p;if(a&&!a.isEdgeElement(this.sourceMagnet)){const v=this.sourceMagnet||a.container,w=new ae(h||r,t);g=this.getConnectionPoint(o.connectionPoint||s.sourceConnectionPoint||s.connectionPoint,a,v,w,"source")}else g=t;if(l&&!l.isEdgeElement(this.targetMagnet)){const v=this.targetMagnet||l.container,y=c.connectionPoint||s.targetConnectionPoint||s.connectionPoint,C=new ae(d||t,r);p=this.getConnectionPoint(y,l,v,C,"target")}else p=r;return{source:g,target:p}}getConnectionPoint(e,t,r,i,s){const o=i.end;if(null==e)return o;const c="string"==typeof e?e:e.name,a="string"==typeof e?{}:e.args,l=f3.registry.get(c);if("function"!=typeof l)return f3.registry.onNotFound(c);const h=Se(l,this,i,t,r,a||{},s);return h?h.round(this.POINT_ROUNDING):o}findMarkerPoints(e,t,r){const i=d=>{const g=this.cell.getAttrs(),p=Object.keys(g);for(let v=0,y=p.length;v<y;v+=1){const w=g[p[v]];if(w[`${d}Marker`]||w[`${d}-marker`]){const C=w.strokeWidth||w["stroke-width"];if(C)return parseFloat(C);break}}return null},s=e[0],o=e[e.length-1];let c,a;const l=i("source");l&&(c=t.clone().move(s||r,-l));const h=i("target");return h&&(a=r.clone().move(o||t,-h)),this.sourceMarkerPoint=c||t.clone(),this.targetMarkerPoint=a||r.clone(),{source:c,target:a}}findPath(e,t,r){const i=this.cell.getConnector()||this.graph.options.connecting.connector;let s,o,c;if("string"==typeof i?s=i:(s=i.name,o=i.args),s){const l=ul.registry.get(s);if("function"!=typeof l)return ul.registry.onNotFound(s);c=l}else c=ul.presets.normal;const a=Se(c,this,t,r,e,Object.assign(Object.assign({},o),{raw:!0}),this);return"string"==typeof a?he.parse(a):a}translateConnectionPoints(e,t){this.sourcePoint.translate(e,t),this.targetPoint.translate(e,t),this.sourceAnchor.translate(e,t),this.targetAnchor.translate(e,t),this.sourceMarkerPoint.translate(e,t),this.targetMarkerPoint.translate(e,t)}updateLabelPositions(){if(null==this.labelContainer)return this;if(!this.path)return this;const t=this.cell,r=t.getLabels();if(0===r.length)return this;const i=t.getDefaultLabel(),s=this.normalizeLabelPosition(i.position);for(let o=0,c=r.length;o<c;o+=1){const a=r[o],l=this.labelCache[o];if(!l)continue;const h=this.normalizeLabelPosition(a.position),d=bn({},s,h),g=this.getLabelTransformationMatrix(d);l.setAttribute("transform",Z2(g))}return this}updateTerminalProperties(e){const r=this.graph,i=this.cell[e],s=i&&i.cell,o=`${e}View`;if(!s)return this[o]=null,this.updateTerminalMagnet(e),!0;const c=r.getCellById(s);if(!c)throw new Error(`Edge's ${e} node with id "${s}" not exists`);const a=c.findView(r);return!!a&&(this[o]=a,this.updateTerminalMagnet(e),!0)}updateTerminalMagnet(e){const t=`${e}Magnet`,r=this.getTerminalView(e);if(r){let i=r.getMagnetFromEdgeTerminal(this.cell[e]);i===r.container&&(i=null),this[t]=i}else this[t]=null}getLabelPositionAngle(e){const t=this.cell.getLabelAt(e);return t&&t.position&&"object"==typeof t.position&&t.position.angle||0}getLabelPositionArgs(e){const t=this.cell.getLabelAt(e);if(t&&t.position&&"object"==typeof t.position)return t.position.options}getDefaultLabelPositionArgs(){const e=this.cell.getDefaultLabel();if(e&&e.position&&"object"==typeof e.position)return e.position.options}mergeLabelPositionArgs(e,t){return null===e?null:void 0===e?null===t?null:t:bn({},t,e)}getConnection(){return null!=this.path?this.path.clone():null}getConnectionPathData(){if(null==this.path)return"";const e=this.cache.pathCache;return Xd(e,"data")||(e.data=this.path.serialize()),e.data||""}getConnectionSubdivisions(){if(null==this.path)return null;const e=this.cache.pathCache;return Xd(e,"segmentSubdivisions")||(e.segmentSubdivisions=this.path.getSegmentSubdivisions()),e.segmentSubdivisions}getConnectionLength(){if(null==this.path)return 0;const e=this.cache.pathCache;return Xd(e,"length")||(e.length=this.path.length({segmentSubdivisions:this.getConnectionSubdivisions()})),e.length}getPointAtLength(e){return null==this.path?null:this.path.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getPointAtRatio(e){return null==this.path?null:(uc(e)&&(e=parseFloat(e)/100),this.path.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}))}getTangentAtLength(e){return null==this.path?null:this.path.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getTangentAtRatio(e){return null==this.path?null:this.path.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPoint(e){return null==this.path?null:this.path.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointLength(e){return null==this.path?null:this.path.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointRatio(e){return null==this.path?null:this.path.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}getLabelPosition(e,t,r,i){const s={distance:0};let c,o=0;"number"==typeof r?(o=r,c=i):c=r,null!=c&&(s.options=c);const a=c&&c.absoluteOffset,l=!(c&&c.absoluteDistance),h=c&&c.absoluteDistance&&c.reverseDistance,d=this.path,g={segmentSubdivisions:this.getConnectionSubdivisions()},p=new O(e,t),v=d.closestPointT(p,g),y=this.getConnectionLength()||0;let C,M,w=d.lengthAtT(v,g);if(l&&(w=y>0?w/y:0),h&&(w=-1*(y-w)||1),s.distance=w,a||(C=d.tangentAtT(v)),C)M=C.pointOffset(p);else{const E=d.pointAtT(v),z=p.diff(E);M={x:z.x,y:z.y}}return s.offset=M,s.angle=o,s}normalizeLabelPosition(e){return"number"==typeof e?{distance:e}:e}getLabelTransformationMatrix(e){const t=this.normalizeLabelPosition(e),r=t.options||{},i=t.angle||0,s=t.distance,o=s>0&&s<=1;let c=0;const a={x:0,y:0},l=t.offset;l&&("number"==typeof l?c=l:(null!=l.x&&(a.x=l.x),null!=l.y&&(a.y=l.y)));const h=0!==a.x||0!==a.y||0===c,d=r.keepGradient,g=r.ensureLegibility,p=this.path,v={segmentSubdivisions:this.getConnectionSubdivisions()},y=o?s*this.getConnectionLength():s,w=p.tangentAtLength(y,v);let C,M=i;if(w){if(h)C=w.start,C.translate(a);else{const E=w.clone();E.rotate(-90,w.start),E.setLength(c),C=E.end}d&&(M=w.angle()+i,g&&(M=Dt.normalize((M+90)%180-90)))}else C=p.start,h&&C.translate(a);return jn().translate(C.x,C.y).rotate(M)}getVertexIndex(e,t){const i=this.cell.getVertices(),s=this.getClosestPointLength(new O(e,t));let o=0;if(null!=s)for(const c=i.length;o<c;o+=1){const l=this.getClosestPointLength(i[o]);if(null!=l&&s<l)break}return o}getEventArgs(e,t,r){const i=this,s=i.cell;return null==t||null==r?{e,view:i,edge:s,cell:s}:{e,x:t,y:r,view:i,edge:s,cell:s}}notifyUnhandledMouseDown(e,t,r){this.notify("edge:unhandled:mousedown",{e,x:t,y:r,view:this,cell:this.cell,edge:this.cell})}notifyMouseDown(e,t,r){super.onMouseDown(e,t,r),this.notify("edge:mousedown",this.getEventArgs(e,t,r))}notifyMouseMove(e,t,r){super.onMouseMove(e,t,r),this.notify("edge:mousemove",this.getEventArgs(e,t,r))}notifyMouseUp(e,t,r){super.onMouseUp(e,t,r),this.notify("edge:mouseup",this.getEventArgs(e,t,r))}onClick(e,t,r){super.onClick(e,t,r),this.notify("edge:click",this.getEventArgs(e,t,r))}onDblClick(e,t,r){super.onDblClick(e,t,r),this.notify("edge:dblclick",this.getEventArgs(e,t,r))}onContextMenu(e,t,r){super.onContextMenu(e,t,r),this.notify("edge:contextmenu",this.getEventArgs(e,t,r))}onMouseDown(e,t,r){this.notifyMouseDown(e,t,r),this.startEdgeDragging(e,t,r)}onMouseMove(e,t,r){const i=this.getEventData(e);switch(i.action){case"drag-label":this.dragLabel(e,t,r);break;case"drag-arrowhead":this.dragArrowhead(e,t,r);break;case"drag-edge":this.dragEdge(e,t,r)}return this.notifyMouseMove(e,t,r),i}onMouseUp(e,t,r){const i=this.getEventData(e);switch(i.action){case"drag-label":this.stopLabelDragging(e,t,r);break;case"drag-arrowhead":this.stopArrowheadDragging(e,t,r);break;case"drag-edge":this.stopEdgeDragging(e,t,r)}return this.notifyMouseUp(e,t,r),this.checkMouseleave(e),i}onMouseOver(e){super.onMouseOver(e),this.notify("edge:mouseover",this.getEventArgs(e))}onMouseOut(e){super.onMouseOut(e),this.notify("edge:mouseout",this.getEventArgs(e))}onMouseEnter(e){super.onMouseEnter(e),this.notify("edge:mouseenter",this.getEventArgs(e))}onMouseLeave(e){super.onMouseLeave(e),this.notify("edge:mouseleave",this.getEventArgs(e))}onMouseWheel(e,t,r,i){super.onMouseWheel(e,t,r,i),this.notify("edge:mousewheel",Object.assign({delta:i},this.getEventArgs(e,t,r)))}onCustomEvent(e,t,r,i){if(RA(e.target,"edge-tool",this.container)){if(e.stopPropagation(),this.can("useEdgeTools")){if("edge:remove"===t)return void this.cell.remove({ui:!0});this.notify("edge:customevent",Object.assign({name:t},this.getEventArgs(e,r,i)))}this.notifyMouseDown(e,r,i)}else this.notify("edge:customevent",Object.assign({name:t},this.getEventArgs(e,r,i))),super.onCustomEvent(e,t,r,i)}onLabelMouseDown(e,t,r){this.notifyMouseDown(e,t,r),this.startLabelDragging(e,t,r),this.getEventData(e).stopPropagation&&e.stopPropagation()}startEdgeDragging(e,t,r){this.can("edgeMovable")?this.setEventData(e,{x:t,y:r,moving:!1,action:"drag-edge"}):this.notifyUnhandledMouseDown(e,t,r)}dragEdge(e,t,r){const i=this.getEventData(e);i.moving||(i.moving=!0,this.addClass("edge-moving"),this.notify("edge:move",{e,x:t,y:r,view:this,cell:this.cell,edge:this.cell})),this.cell.translate(t-i.x,r-i.y,{ui:!0}),this.setEventData(e,{x:t,y:r}),this.notify("edge:moving",{e,x:t,y:r,view:this,cell:this.cell,edge:this.cell})}stopEdgeDragging(e,t,r){const i=this.getEventData(e);i.moving&&(this.removeClass("edge-moving"),this.notify("edge:moved",{e,x:t,y:r,view:this,cell:this.cell,edge:this.cell})),i.moving=!1}prepareArrowheadDragging(e,t){const r=this.getTerminalMagnet(e),i={action:"drag-arrowhead",x:t.x,y:t.y,isNewEdge:!0===t.isNewEdge,terminalType:e,initialMagnet:r,initialTerminal:ry(this.cell[e]),fallbackAction:t.fallbackAction||"revert",getValidateConnectionArgs:this.createValidateConnectionArgs(e),options:t.options};return this.beforeArrowheadDragging(i),i}createValidateConnectionArgs(e){const t=[];t[4]=e,t[5]=this;let r,i=0,s=0;"source"===e?(i=2,r="target"):(s=2,r="source");const o=this.cell[r],c=o.cell;if(c){let a;const l=t[i]=this.graph.findViewByCell(c);l&&(a=l.getMagnetFromEdgeTerminal(o),a===l.container&&(a=void 0)),t[i+1]=a}return(a,l)=>(t[s]=a,t[s+1]=a.container===l?void 0:l,t)}beforeArrowheadDragging(e){e.zIndex=this.cell.zIndex,this.cell.toFront();const t=this.container.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.graph.options.connecting.highlight&&this.highlightAvailableMagnets(e)}afterArrowheadDragging(e){null!=e.zIndex&&(this.cell.setZIndex(e.zIndex,{ui:!0}),e.zIndex=null),this.container.style.pointerEvents=e.pointerEvents||"",this.graph.options.connecting.highlight&&this.unhighlightAvailableMagnets(e)}validateConnection(e,t,r,i,s,o,c){const a=this.graph.options.connecting,l=a.allowLoop,h=a.allowNode,d=a.allowEdge,g=a.allowPort,p=a.allowMulti,v=a.validateConnection,y=o?o.cell:null,w="target"===s?r:e,C="target"===s?i:t;let M=!0;const E=z=>{const T="source"===s?c?c.port:null:y?y.getSourcePortId():null,P="target"===s?c?c.port:null:y?y.getTargetPortId():null;return Se(z,this.graph,{edge:y,edgeView:o,sourceView:e,targetView:r,sourcePort:T,targetPort:P,sourceMagnet:t,targetMagnet:i,sourceCell:e?e.cell:null,targetCell:r?r.cell:null,type:s})};if(null!=l&&("boolean"==typeof l?!l&&e===r&&(M=!1):M=E(l)),M&&null!=g&&("boolean"==typeof g?!g&&C&&(M=!1):M=E(g)),M&&null!=d&&("boolean"==typeof d?!d&&mc.isEdgeView(w)&&(M=!1):M=E(d)),M&&null!=h&&null==C&&("boolean"==typeof h?!h&&Rs.isNodeView(w)&&(M=!1):M=E(h)),M&&null!=p&&o){const z=o.cell,T="source"===s?c:z.getSource(),P="target"===s?c:z.getTarget(),k=c?this.graph.getCellById(c.cell):null;if(T&&P&&T.cell&&P.cell&&k)if("function"==typeof p)M=E(p);else{const G=this.graph.model.getConnectedEdges(k,{outgoing:"source"===s,incoming:"target"===s});G.length&&("withPort"===p?G.some(K=>{const Z=K.getSource(),ee=K.getTarget();return Z&&ee&&Z.cell===T.cell&&ee.cell===P.cell&&null!=Z.port&&Z.port===T.port&&null!=ee.port&&ee.port===P.port})&&(M=!1):p||G.some(K=>{const Z=K.getSource(),ee=K.getTarget();return Z&&ee&&Z.cell===T.cell&&ee.cell===P.cell})&&(M=!1))}}return M&&null!=v&&(M=E(v)),M}allowConnectToBlank(e){const t=this.graph,i=t.options.connecting.allowBlank;if("function"!=typeof i)return!!i;const s=t.findViewByCell(e),o=e.getSourceCell(),c=e.getTargetCell(),a=t.findViewByCell(o),l=t.findViewByCell(c);return Se(i,t,{edge:e,edgeView:s,sourceCell:o,targetCell:c,sourceView:a,targetView:l,sourcePort:e.getSourcePortId(),targetPort:e.getTargetPortId(),sourceMagnet:s.sourceMagnet,targetMagnet:s.targetMagnet})}validateEdge(e,t,r){const i=this.graph;if(!this.allowConnectToBlank(e)){const o=e.getSourceCellId(),c=e.getTargetCellId();if(!o||!c)return!1}const s=i.options.connecting.validateEdge;return!s||Se(s,i,{edge:e,type:t,previous:r})}arrowheadDragging(e,t,r,i){i.x=t,i.y=r,i.currentTarget!==e&&(i.currentMagnet&&i.currentView&&i.currentView.unhighlight(i.currentMagnet,{type:"magnetAdsorbed"}),i.currentView=this.graph.findViewByElem(e),i.currentView?(i.currentMagnet=i.currentView.findMagnet(e),i.currentMagnet&&this.validateConnection(...i.getValidateConnectionArgs(i.currentView,i.currentMagnet),i.currentView.getEdgeTerminal(i.currentMagnet,t,r,this.cell,i.terminalType))?i.currentView.highlight(i.currentMagnet,{type:"magnetAdsorbed"}):i.currentMagnet=null):i.currentMagnet=null),i.currentTarget=e,this.cell.prop(i.terminalType,{x:t,y:r},Object.assign(Object.assign({},i.options),{ui:!0}))}arrowheadDragged(e,t,r){const i=e.currentView,s=e.currentMagnet;if(!s||!i)return;i.unhighlight(s,{type:"magnetAdsorbed"});const o=e.terminalType,c=i.getEdgeTerminal(s,t,r,this.cell,o);this.cell.setTerminal(o,c,{ui:!0})}snapArrowhead(e,t,r){const i=this.graph,{snap:s,allowEdge:o}=i.options.connecting,c="object"==typeof s&&s.radius||50,a=i.renderer.findViewsInArea({x:e-c,y:t-c,width:2*c,height:2*c},{nodeOnly:!0});if(o){const E=i.renderer.findEdgeViewsFromPoint({x:e,y:t},c).filter(z=>z!==this);a.push(...E)}const l=r.closestView||null,h=r.closestMagnet||null;r.closestView=null,r.closestMagnet=null;let d,g=Number.MAX_SAFE_INTEGER;const p=new O(e,t);let v;a.forEach(E=>{if("false"!==E.container.getAttribute("magnet")){if(E.isNodeView())d=E.cell.getBBox().getCenter().distance(p);else if(E.isEdgeView()){const z=E.getClosestPoint(p);d=z?z.distance(p):Number.MAX_SAFE_INTEGER}d<c&&d<g&&(h===E.container||this.validateConnection(...r.getValidateConnectionArgs(E,null),E.getEdgeTerminal(E.container,e,t,this.cell,r.terminalType)))&&(g=d,r.closestView=E,r.closestMagnet=E.container)}E.container.querySelectorAll("[magnet]").forEach(z=>{if("false"!==z.getAttribute("magnet")){const T=E.getBBoxOfElement(z);d=p.distance(T.getCenter()),d<c&&d<g&&(h===z||this.validateConnection(...r.getValidateConnectionArgs(E,z),E.getEdgeTerminal(z,e,t,this.cell,r.terminalType)))&&(g=d,r.closestView=E,r.closestMagnet=z)}})});const y=r.terminalType,w=r.closestView,C=r.closestMagnet,M=h!==C;if(l&&M&&l.unhighlight(h,{type:"magnetAdsorbed"}),w){if(!M)return;w.highlight(C,{type:"magnetAdsorbed"}),v=w.getEdgeTerminal(C,e,t,this.cell,y)}else v={x:e,y:t};this.cell.setTerminal(y,v,{},Object.assign(Object.assign({},r.options),{ui:!0}))}snapArrowheadEnd(e){const t=e.closestView,r=e.closestMagnet;t&&r&&(t.unhighlight(r,{type:"magnetAdsorbed"}),e.currentMagnet=t.findMagnet(r)),e.closestView=null,e.closestMagnet=null}finishEmbedding(e){this.graph.options.embedding.enabled&&this.cell.updateParent()&&(e.zIndex=null)}fallbackConnection(e){"remove"===e.fallbackAction?this.cell.remove({ui:!0}):this.cell.prop(e.terminalType,e.initialTerminal,{ui:!0})}notifyConnectionEvent(e,t){const r=e.terminalType,i=e.initialTerminal,s=this.cell[r];if(s&&!on.equalTerminals(i,s)){const c=this.graph,a=i,l=a.cell?c.getCellById(a.cell):null,h=a.port,d=l?c.findViewByCell(l):null,g=l||e.isNewEdge?null:O.create(i).toJSON(),p=s,v=p.cell?c.getCellById(p.cell):null,y=p.port,w=v?c.findViewByCell(v):null,C=v?null:O.create(s).toJSON();this.notify("edge:connected",{e:t,previousCell:l,previousPort:h,previousView:d,previousPoint:g,currentCell:v,currentView:w,currentPort:y,currentPoint:C,previousMagnet:e.initialMagnet,currentMagnet:e.currentMagnet,edge:this.cell,view:this,type:r,isNew:e.isNewEdge})}}highlightAvailableMagnets(e){const t=this.graph,r=t.model.getCells();e.marked={};for(let i=0,s=r.length;i<s;i+=1){const o=t.findViewByCell(r[i]);if(!o||o.cell.id===this.cell.id)continue;const c=Array.prototype.slice.call(o.container.querySelectorAll("[magnet]"));"false"!==o.container.getAttribute("magnet")&&c.push(o.container);const a=c.filter(l=>this.validateConnection(...e.getValidateConnectionArgs(o,l),o.getEdgeTerminal(l,e.x,e.y,this.cell,e.terminalType)));if(a.length>0){for(let l=0,h=a.length;l<h;l+=1)o.highlight(a[l],{type:"magnetAvailable"});o.highlight(null,{type:"nodeAvailable"}),e.marked[o.cell.id]=a}}}unhighlightAvailableMagnets(e){const t=e.marked||{};Object.keys(t).forEach(r=>{const i=this.graph.findViewByCell(r);i&&(t[r].forEach(o=>{i.unhighlight(o,{type:"magnetAvailable"})}),i.unhighlight(null,{type:"nodeAvailable"}))}),e.marked=null}startArrowheadDragging(e,t,r){if(!this.can("arrowheadMovable"))return void this.notifyUnhandledMouseDown(e,t,r);const s=e.target.getAttribute("data-terminal"),o=this.prepareArrowheadDragging(s,{x:t,y:r});this.setEventData(e,o)}dragArrowhead(e,t,r){const i=this.getEventData(e);this.graph.options.connecting.snap?this.snapArrowhead(t,r,i):this.arrowheadDragging(this.getEventTarget(e),t,r,i)}stopArrowheadDragging(e,t,r){const i=this.graph,s=this.getEventData(e);i.options.connecting.snap?this.snapArrowheadEnd(s):this.arrowheadDragged(s,t,r),this.validateEdge(this.cell,s.terminalType,s.initialTerminal)?(this.finishEmbedding(s),this.notifyConnectionEvent(s,e)):this.fallbackConnection(s),this.afterArrowheadDragging(s)}startLabelDragging(e,t,r){if(this.can("edgeLabelMovable")){const s=parseInt(e.currentTarget.getAttribute("data-index"),10),o=this.getLabelPositionAngle(s),c=this.getLabelPositionArgs(s),a=this.getDefaultLabelPositionArgs(),l=this.mergeLabelPositionArgs(c,a);this.setEventData(e,{index:s,positionAngle:o,positionArgs:l,stopPropagation:!0,action:"drag-label"})}else this.setEventData(e,{stopPropagation:!0});this.graph.view.delegateDragEvents(e,this)}dragLabel(e,t,r){const i=this.getEventData(e),s=this.cell.getLabelAt(i.index),o=bn({},s,{position:this.getLabelPosition(t,r,i.positionAngle,i.positionArgs)});this.cell.setLabelAt(i.index,o)}stopLabelDragging(e,t,r){}}(function(n){n.toStringTag=`X6.${n.name}`,n.isEdgeView=function e(t){if(null==t)return!1;if(t instanceof n)return!0;const r=t[Symbol.toStringTag];return(null==r||r===n.toStringTag)&&"function"==typeof t.isNodeView&&"function"==typeof t.isEdgeView&&"function"==typeof t.confirmUpdate&&"function"==typeof t.update&&"function"==typeof t.getConnection}})(mc||(mc={})),mc.config({isSvgElement:!0,priority:1,bootstrap:["render","source","target"],actions:{view:["render"],markup:["render"],attrs:["update"],source:["source","update"],target:["target","update"],router:["update"],connector:["update"],labels:["labels"],defaultLabel:["labels"],tools:["tools"],vertices:["vertices","update"]}}),mc.registry.register("edge",mc,!0);class Co extends Ft{get options(){return this.graph.options}constructor(e){super(),this.graph=e;const{selectors:t,fragment:r}=Pt.parseJSONMarkup(Co.markup);this.background=t.background,this.grid=t.grid,this.svg=t.svg,this.defs=t.defs,this.viewport=t.viewport,this.primer=t.primer,this.stage=t.stage,this.decorator=t.decorator,this.overlay=t.overlay,this.container=this.options.container,this.restore=Co.snapshoot(this.container),Ke(this.container,this.prefixClassName("graph")),_0(this.container,r),this.delegateEvents()}delegateEvents(){return super.delegateEvents(this.constructor.events),this}guard(e,t){return!!("mousedown"===e.type&&2===e.button||this.options.guard&&this.options.guard(e,t))||(e.data&&void 0!==e.data.guarded?e.data.guarded:!(t&&t.cell&&qe.isCell(t.cell)||this.svg===e.target||this.container===e.target||this.svg.contains(e.target)))}findView(e){return this.graph.findViewByElem(e)}onDblClick(e){this.options.preventDefaultDblClick&&e.preventDefault();const t=this.normalizeEvent(e),r=this.findView(t.target);if(this.guard(t,r))return;const i=this.graph.snapToGrid(t.clientX,t.clientY);r?r.onDblClick(t,i.x,i.y):this.graph.trigger("blank:dblclick",{e:t,x:i.x,y:i.y})}onClick(e){if(this.getMouseMovedCount(e)<=this.options.clickThreshold){const t=this.normalizeEvent(e),r=this.findView(t.target);if(this.guard(t,r))return;const i=this.graph.snapToGrid(t.clientX,t.clientY);r?r.onClick(t,i.x,i.y):this.graph.trigger("blank:click",{e:t,x:i.x,y:i.y})}}isPreventDefaultContextMenu(e){let t=this.options.preventDefaultContextMenu;return"function"==typeof t&&(t=Se(t,this.graph,{view:e})),t}onContextMenu(e){const t=this.normalizeEvent(e),r=this.findView(t.target);if(this.isPreventDefaultContextMenu(r)&&e.preventDefault(),this.guard(t,r))return;const i=this.graph.snapToGrid(t.clientX,t.clientY);r?r.onContextMenu(t,i.x,i.y):this.graph.trigger("blank:contextmenu",{e:t,x:i.x,y:i.y})}delegateDragEvents(e,t){null==e.data&&(e.data={}),this.setEventData(e,{currentView:t||null,mouseMovedCount:0,startPosition:{x:e.clientX,y:e.clientY}}),this.delegateDocumentEvents(this.constructor.documentEvents,e.data),this.undelegateEvents()}getMouseMovedCount(e){return this.getEventData(e).mouseMovedCount||0}onMouseDown(e){const t=this.normalizeEvent(e),r=this.findView(t.target);if(this.guard(t,r))return;this.options.preventDefaultMouseDown&&e.preventDefault();const i=this.graph.snapToGrid(t.clientX,t.clientY);r?r.onMouseDown(t,i.x,i.y):(this.options.preventDefaultBlankAction&&["touchstart"].includes(t.type)&&e.preventDefault(),this.graph.trigger("blank:mousedown",{e:t,x:i.x,y:i.y})),this.delegateDragEvents(t,r)}onMouseMove(e){const t=this.getEventData(e),r=t.startPosition;if(r&&r.x===e.clientX&&r.y===e.clientY||(null==t.mouseMovedCount&&(t.mouseMovedCount=0),t.mouseMovedCount+=1,t.mouseMovedCount<=this.options.moveThreshold))return;const s=this.normalizeEvent(e),o=this.graph.snapToGrid(s.clientX,s.clientY),c=t.currentView;c?c.onMouseMove(s,o.x,o.y):this.graph.trigger("blank:mousemove",{e:s,x:o.x,y:o.y}),this.setEventData(s,t)}onMouseUp(e){this.undelegateDocumentEvents();const t=this.normalizeEvent(e),r=this.graph.snapToGrid(t.clientX,t.clientY),s=this.getEventData(e).currentView;if(s?s.onMouseUp(t,r.x,r.y):this.graph.trigger("blank:mouseup",{e:t,x:r.x,y:r.y}),!e.isPropagationStopped()){const o=new wo(e,{type:"click",data:e.data});this.onClick(o)}e.stopImmediatePropagation(),this.delegateEvents()}onMouseOver(e){const t=this.normalizeEvent(e),r=this.findView(t.target);if(!this.guard(t,r))if(r)r.onMouseOver(t);else{if(this.container===t.target)return;this.graph.trigger("blank:mouseover",{e:t})}}onMouseOut(e){const t=this.normalizeEvent(e),r=this.findView(t.target);if(!this.guard(t,r))if(r)r.onMouseOut(t);else{if(this.container===t.target)return;this.graph.trigger("blank:mouseout",{e:t})}}onMouseEnter(e){const t=this.normalizeEvent(e),r=this.findView(t.target);if(this.guard(t,r))return;const i=this.graph.findViewByElem(t.relatedTarget);if(r){if(i===r)return;r.onMouseEnter(t)}else{if(i)return;this.graph.trigger("graph:mouseenter",{e:t})}}onMouseLeave(e){const t=this.normalizeEvent(e),r=this.findView(t.target);if(this.guard(t,r))return;const i=this.graph.findViewByElem(t.relatedTarget);if(r){if(i===r)return;r.onMouseLeave(t)}else{if(i)return;this.graph.trigger("graph:mouseleave",{e:t})}}onMouseWheel(e){const t=this.normalizeEvent(e),r=this.findView(t.target);if(this.guard(t,r))return;const i=t.originalEvent,s=this.graph.snapToGrid(i.clientX,i.clientY),o=Math.max(-1,Math.min(1,i.wheelDelta||-i.detail));r?r.onMouseWheel(t,s.x,s.y,o):this.graph.trigger("blank:mousewheel",{e:t,delta:o,x:s.x,y:s.y})}onCustomEvent(e){const t=e.currentTarget,r=t.getAttribute("event")||t.getAttribute("data-event");if(r){const i=this.findView(t);if(i){const s=this.normalizeEvent(e);if(this.guard(s,i))return;const o=this.graph.snapToGrid(s.clientX,s.clientY);i.onCustomEvent(s,r,o.x,o.y)}}}handleMagnetEvent(e,t){const r=e.currentTarget,i=r.getAttribute("magnet");if(i&&"false"!==i.toLowerCase()){const s=this.findView(r);if(s){const o=this.normalizeEvent(e);if(this.guard(o,s))return;const c=this.graph.snapToGrid(o.clientX,o.clientY);Se(t,this.graph,s,o,r,c.x,c.y)}}}onMagnetMouseDown(e){this.handleMagnetEvent(e,(t,r,i,s,o)=>{t.onMagnetMouseDown(r,i,s,o)})}onMagnetDblClick(e){this.handleMagnetEvent(e,(t,r,i,s,o)=>{t.onMagnetDblClick(r,i,s,o)})}onMagnetContextMenu(e){const t=this.findView(e.target);this.isPreventDefaultContextMenu(t)&&e.preventDefault(),this.handleMagnetEvent(e,(r,i,s,o,c)=>{r.onMagnetContextMenu(i,s,o,c)})}onLabelMouseDown(e){const r=this.findView(e.currentTarget);if(r){const i=this.normalizeEvent(e);if(this.guard(i,r))return;const s=this.graph.snapToGrid(i.clientX,i.clientY);r.onLabelMouseDown(i,s.x,s.y)}}onImageDragStart(){return!1}dispose(){this.undelegateEvents(),this.undelegateDocumentEvents(),this.restore(),this.restore=()=>{}}}(function(n,e,t,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(o=n[c])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);i>3&&s&&Object.defineProperty(e,t,s)})([Ft.dispose()],Co.prototype,"dispose",null),function(n){const e=`${tr.prefixCls}-graph`;n.markup=[{ns:Bn.xhtml,tagName:"div",selector:"background",className:`${e}-background`},{ns:Bn.xhtml,tagName:"div",selector:"grid",className:`${e}-grid`},{ns:Bn.svg,tagName:"svg",selector:"svg",className:`${e}-svg`,attrs:{width:"100%",height:"100%","xmlns:xlink":Bn.xlink},children:[{tagName:"defs",selector:"defs"},{tagName:"g",selector:"viewport",className:`${e}-svg-viewport`,children:[{tagName:"g",selector:"primer",className:`${e}-svg-primer`},{tagName:"g",selector:"stage",className:`${e}-svg-stage`},{tagName:"g",selector:"decorator",className:`${e}-svg-decorator`},{tagName:"g",selector:"overlay",className:`${e}-svg-overlay`}]}]}],n.snapshoot=function t(r){const i=r.cloneNode();return r.childNodes.forEach(s=>i.appendChild(s)),()=>{for(E0(r);r.attributes.length>0;)r.removeAttribute(r.attributes[0].name);for(let s=0,o=i.attributes.length;s<o;s+=1){const c=i.attributes[s];r.setAttribute(c.name,c.value)}i.childNodes.forEach(s=>r.appendChild(s))}}}(Co||(Co={})),function(n){const e=tr.prefixCls;n.events={dblclick:"onDblClick",contextmenu:"onContextMenu",touchstart:"onMouseDown",mousedown:"onMouseDown",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousewheel:"onMouseWheel",DOMMouseScroll:"onMouseWheel",[`mouseenter  .${e}-cell`]:"onMouseEnter",[`mouseleave  .${e}-cell`]:"onMouseLeave",[`mouseenter  .${e}-cell-tools`]:"onMouseEnter",[`mouseleave  .${e}-cell-tools`]:"onMouseLeave",[`mousedown   .${e}-cell [event]`]:"onCustomEvent",[`touchstart  .${e}-cell [event]`]:"onCustomEvent",[`mousedown   .${e}-cell [data-event]`]:"onCustomEvent",[`touchstart  .${e}-cell [data-event]`]:"onCustomEvent",[`dblclick    .${e}-cell [magnet]`]:"onMagnetDblClick",[`contextmenu .${e}-cell [magnet]`]:"onMagnetContextMenu",[`mousedown   .${e}-cell [magnet]`]:"onMagnetMouseDown",[`touchstart  .${e}-cell [magnet]`]:"onMagnetMouseDown",[`dblclick    .${e}-cell [data-magnet]`]:"onMagnetDblClick",[`contextmenu .${e}-cell [data-magnet]`]:"onMagnetContextMenu",[`mousedown   .${e}-cell [data-magnet]`]:"onMagnetMouseDown",[`touchstart  .${e}-cell [data-magnet]`]:"onMagnetMouseDown",[`dragstart   .${e}-cell image`]:"onImageDragStart",[`mousedown   .${e}-edge .${e}-edge-label`]:"onLabelMouseDown",[`touchstart  .${e}-edge .${e}-edge-label`]:"onLabelMouseDown"},n.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}}(Co||(Co={}));class Un extends fa{get options(){return this.graph.options}get model(){return this.graph.model}get view(){return this.graph.view}constructor(e){super(),this.graph=e,this.init()}init(){}}class Fy extends Un{init(){tr.autoInsertCSS&&function Gre(n,e){const t=L0.find(r=>r.name===n);if(!(t&&(t.loadTimes+=1,t.loadTimes>1)||ga.isApplyingHMR())){const r=document.createElement("style");r.setAttribute("type","text/css"),r.textContent=e;const i=document.querySelector("head");i&&i.insertBefore(r,i.firstChild),L0.push({name:n,loadTimes:1,styleElement:r})}}("core",".x6-graph {\n  position: relative;\n  overflow: hidden;\n  outline: none;\n  touch-action: none;\n}\n.x6-graph-background,\n.x6-graph-grid,\n.x6-graph-svg {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.x6-graph-background-stage,\n.x6-graph-grid-stage,\n.x6-graph-svg-stage {\n  user-select: none;\n}\n.x6-graph.x6-graph-pannable {\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n.x6-graph.x6-graph-panning {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n  user-select: none;\n}\n.x6-node {\n  cursor: move;\n  /* stylelint-disable-next-line */\n}\n.x6-node.x6-node-immovable {\n  cursor: default;\n}\n.x6-node * {\n  -webkit-user-drag: none;\n}\n.x6-node .scalable * {\n  vector-effect: non-scaling-stroke;\n}\n.x6-node [magnet='true'] {\n  cursor: crosshair;\n  transition: opacity 0.3s;\n}\n.x6-node [magnet='true']:hover {\n  opacity: 0.7;\n}\n.x6-node foreignObject {\n  display: block;\n  overflow: visible;\n  background-color: transparent;\n}\n.x6-node foreignObject > body {\n  position: static;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  overflow: visible;\n  background-color: transparent;\n}\n.x6-edge .source-marker,\n.x6-edge .target-marker {\n  vector-effect: non-scaling-stroke;\n}\n.x6-edge .connection {\n  stroke-linejoin: round;\n  fill: none;\n}\n.x6-edge .connection-wrap {\n  cursor: move;\n  opacity: 0;\n  fill: none;\n  stroke: #000;\n  stroke-width: 15;\n  stroke-linecap: round;\n  stroke-linejoin: round;\n}\n.x6-edge .connection-wrap:hover {\n  opacity: 0.4;\n  stroke-opacity: 0.4;\n}\n.x6-edge .vertices {\n  cursor: move;\n  opacity: 0;\n}\n.x6-edge .vertices .vertex {\n  fill: #1abc9c;\n}\n.x6-edge .vertices .vertex :hover {\n  fill: #34495e;\n  stroke: none;\n}\n.x6-edge .vertices .vertex-remove {\n  cursor: pointer;\n  fill: #fff;\n}\n.x6-edge .vertices .vertex-remove-area {\n  cursor: pointer;\n  opacity: 0.1;\n}\n.x6-edge .vertices .vertex-group:hover .vertex-remove-area {\n  opacity: 1;\n}\n.x6-edge .arrowheads {\n  cursor: move;\n  opacity: 0;\n}\n.x6-edge .arrowheads .arrowhead {\n  fill: #1abc9c;\n}\n.x6-edge .arrowheads .arrowhead :hover {\n  fill: #f39c12;\n  stroke: none;\n}\n.x6-edge .tools {\n  cursor: pointer;\n  opacity: 0;\n}\n.x6-edge .tools .tool-options {\n  display: none;\n}\n.x6-edge .tools .tool-remove circle {\n  fill: #f00;\n}\n.x6-edge .tools .tool-remove path {\n  fill: #fff;\n}\n.x6-edge:hover .vertices,\n.x6-edge:hover .arrowheads,\n.x6-edge:hover .tools {\n  opacity: 1;\n}\n.x6-highlight-opacity {\n  opacity: 0.3;\n}\n.x6-cell-tool-editor {\n  position: relative;\n  display: inline-block;\n  min-height: 1em;\n  margin: 0;\n  padding: 0;\n  line-height: 1;\n  white-space: normal;\n  text-align: center;\n  vertical-align: top;\n  overflow-wrap: normal;\n  outline: none;\n  transform-origin: 0 0;\n  -webkit-user-drag: none;\n}\n.x6-edge-tool-editor {\n  border: 1px solid #275fc5;\n  border-radius: 2px;\n}\n")}dispose(){!function Wre(n){const e=L0.findIndex(t=>t.name===n);if(e>-1){const t=L0[e];if(t.loadTimes-=1,t.loadTimes>0)return;let r=t.styleElement;r&&r.parentNode&&r.parentNode.removeChild(r),r=null,L0.splice(e,1)}}("core")}}var U0;!function(n,e,t,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(o=n[c])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);i>3&&s&&Object.defineProperty(e,t,s)}([Fy.dispose()],Fy.prototype,"dispose",null),function(n){n.get=function e(t){const{grid:r}=t,c=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(t,["grid","panning","mousewheel","embedding"]),a=t.container;if(null==a)throw new Error("Ensure the container of the graph is specified and valid");null==c.width&&(c.width=a.clientWidth),null==c.height&&(c.height=a.clientHeight);const l=bn({},n.defaults,c);return l.grid="number"==typeof r?{size:r,visible:!1}:Object.assign(Object.assign({},{size:10,visible:!1}),"boolean"==typeof r?{visible:r}:r),["panning","mousewheel","embedding"].forEach(g=>{const p=t[g];"boolean"==typeof p?l[g].enabled=p:l[g]=Object.assign(Object.assign({},l[g]),p)}),l}}(U0||(U0={})),function(n){n.defaults={x:0,y:0,scaling:{min:.01,max:16},grid:{size:10,visible:!1},background:!1,panning:{enabled:!1,eventTypes:["leftMouseDown"]},mousewheel:{enabled:!1,factor:1.2,zoomAtMousePosition:!0},highlighting:{default:{name:"stroke",args:{padding:3}},nodeAvailable:{name:"className",args:{className:tr.prefix("available-node")}},magnetAvailable:{name:"className",args:{className:tr.prefix("available-magnet")}}},connecting:{snap:!1,allowLoop:!0,allowNode:!0,allowEdge:!1,allowPort:!0,allowBlank:!0,allowMulti:!0,highlight:!1,anchor:"center",edgeAnchor:"ratio",connectionPoint:"boundary",router:"normal",connector:"normal",validateConnection:({type:e,sourceView:t,targetView:r})=>null!=("target"===e?r:t),createEdge:()=>new hce},translating:{restrict:!1},embedding:{enabled:!1,findParent:"bbox",frontOnly:!0,validate:()=>!0},moveThreshold:0,clickThreshold:0,magnetThreshold:0,preventDefaultDblClick:!0,preventDefaultMouseDown:!1,preventDefaultContextMenu:!0,preventDefaultBlankAction:!0,interacting:{edgeLabelMovable:!1},async:!0,virtual:!1,guard:()=>!1}}(U0||(U0={}));class By extends Un{get elem(){return this.view.grid}get grid(){return this.options.grid}init(){this.startListening(),this.draw(this.grid)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}setVisible(e){this.grid.visible!==e&&(this.grid.visible=e,this.update())}getGridSize(){return this.grid.size}setGridSize(e){this.grid.size=Math.max(e,1),this.update()}show(){this.setVisible(!0),this.update()}hide(){this.setVisible(!1),this.update()}clear(){this.elem.style.backgroundImage=""}draw(e){this.clear(),this.instance=null,Object.assign(this.grid,e),this.patterns=this.resolveGrid(e),this.update()}update(e={}){const t=this.grid.size;if(t<=1||!this.grid.visible)return this.clear();const r=this.graph.matrix(),i=this.getInstance(),s=Array.isArray(e)?e:[e];this.patterns.forEach((a,l)=>{const h=`pattern_${l}`,d=r.a||1,g=r.d||1,{update:p,markup:v}=a,y=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(a,["update","markup"]),w=Object.assign(Object.assign(Object.assign({},y),s[l]),{sx:d,sy:g,ox:r.e||0,oy:r.f||0,width:t*d,height:t*g});i.has(h)||i.add(h,_e.create("pattern",{id:h,patternUnits:"userSpaceOnUse"},_e.createVectors(v)).node);const C=i.get(h);"function"==typeof p&&p(C.childNodes[0],w);let M=w.ox%w.width;M<0&&(M+=w.width);let E=w.oy%w.height;E<0&&(E+=w.height),yt(C,{x:M,y:E,width:w.width,height:w.height})});const o=(new XMLSerializer).serializeToString(i.root),c=`url(data:image/svg+xml;base64,${btoa(o)})`;this.elem.style.backgroundImage=c}getInstance(){return this.instance||(this.instance=new va),this.instance}resolveGrid(e){if(!e)return[];const t=e.type;if(null==t)return[Object.assign(Object.assign({},va.presets.dot),e.args)];const r=va.registry.get(t);if(r){let i=e.args||[];return Array.isArray(i)||(i=[i]),Array.isArray(r)?r.map((s,o)=>Object.assign(Object.assign({},s),i[o])):[Object.assign(Object.assign({},r),i[0])]}return va.registry.onNotFound(t)}dispose(){this.stopListening(),this.clear()}}!function(n,e,t,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(o=n[c])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);i>3&&s&&Object.defineProperty(e,t,s)}([Un.dispose()],By.prototype,"dispose",null);class gO extends Un{get container(){return this.graph.view.container}get viewport(){return this.graph.view.viewport}get stage(){return this.graph.view.stage}init(){this.resize()}getMatrix(){const e=this.viewport.getAttribute("transform");return e!==this.viewportTransformString&&(this.viewportMatrix=this.viewport.getCTM(),this.viewportTransformString=e),jn(this.viewportMatrix)}setMatrix(e){const t=jn(e),r=Z2(t);this.viewport.setAttribute("transform",r),this.viewportMatrix=t,this.viewportTransformString=r}resize(e,t){let r=void 0===e?this.options.width:e,i=void 0===t?this.options.height:t;this.options.width=r,this.options.height=i,"number"==typeof r&&(r=Math.round(r)),"number"==typeof i&&(i=Math.round(i)),this.container.style.width=null==r?"":`${r}px`,this.container.style.height=null==i?"":`${i}px`;const s=this.getComputedSize();return this.graph.trigger("resize",Object.assign({},s)),this}getComputedSize(){let e=this.options.width,t=this.options.height;return vA(e)||(e=this.container.clientWidth),vA(t)||(t=this.container.clientHeight),{width:e,height:t}}getScale(){return function Rre(n){let e,t,r,i;return n?(e=null==n.a?1:n.a,i=null==n.d?1:n.d,t=n.b,r=n.c):e=i=1,{sx:t?Math.sqrt(e*e+t*t):e,sy:r?Math.sqrt(r*r+i*i):i}}(this.getMatrix())}scale(e,t=e,r=0,i=0){if(e=this.clampScale(e),t=this.clampScale(t),r||i){const o=this.getTranslation(),c=o.tx-r*(e-1),a=o.ty-i*(t-1);(c!==o.tx||a!==o.ty)&&this.translate(c,a)}const s=this.getMatrix();return s.a=e,s.d=t,this.setMatrix(s),this.graph.trigger("scale",{sx:e,sy:t,ox:r,oy:i}),this}clampScale(e){const t=this.graph.options.scaling;return is(e,t.min||.01,t.max||16)}getZoom(){return this.getScale().sx}zoom(e,t){t=t||{};let r=e,i=e;const s=this.getScale(),o=this.getComputedSize();let c=o.width/2,a=o.height/2;if(t.absolute||(r+=s.sx,i+=s.sy),t.scaleGrid&&(r=Math.round(r/t.scaleGrid)*t.scaleGrid,i=Math.round(i/t.scaleGrid)*t.scaleGrid),t.maxScale&&(r=Math.min(t.maxScale,r),i=Math.min(t.maxScale,i)),t.minScale&&(r=Math.max(t.minScale,r),i=Math.max(t.minScale,i)),t.center&&(c=t.center.x,a=t.center.y),r=this.clampScale(r),i=this.clampScale(i),c||a){const l=this.getTranslation(),h=c-r/s.sx*(c-l.tx),d=a-i/s.sy*(a-l.ty);(h!==l.tx||d!==l.ty)&&this.translate(h,d)}return this.scale(r,i),this}getRotation(){return function Vre(n){let e={x:0,y:1};n&&(e=_y(n,e));const t=180*Math.atan2(e.y,e.x)/Math.PI%360-90;return{angle:t%360+(t<0?360:0)}}(this.getMatrix())}rotate(e,t,r){if(null==t||null==r){const s=ut.getBBox(this.stage);t=s.width/2,r=s.height/2}const i=this.getMatrix().translate(t,r).rotate(e).translate(-t,-r);return this.setMatrix(i),this}getTranslation(){return function kre(n){return{tx:n&&n.e||0,ty:n&&n.f||0}}(this.getMatrix())}translate(e,t){const r=this.getMatrix();r.e=e||0,r.f=t||0,this.setMatrix(r);const i=this.getTranslation();return this.options.x=i.tx,this.options.y=i.ty,this.graph.trigger("translate",Object.assign({},i)),this}setOrigin(e,t){return this.translate(e||0,t||0)}fitToContent(e,t,r,i){if("object"==typeof e){const E=e;e=E.gridWidth||1,t=E.gridHeight||1,r=E.padding||0,i=E}else e=e||1,t=t||1,r=r||0,null==i&&(i={});const s=sl(r),o=i.border||0,c=i.contentArea?J.create(i.contentArea):this.getContentArea(i);o>0&&c.inflate(o);const a=this.getScale(),l=this.getTranslation(),h=a.sx,d=a.sy;c.x*=h,c.y*=d,c.width*=h,c.height*=d;let g=Math.max(Math.ceil((c.width+c.x)/e),1)*e,p=Math.max(Math.ceil((c.height+c.y)/t),1)*t,v=0,y=0;("negative"===i.allowNewOrigin&&c.x<0||"positive"===i.allowNewOrigin&&c.x>=0||"any"===i.allowNewOrigin)&&(v=Math.ceil(-c.x/e)*e,v+=s.left,g+=v),("negative"===i.allowNewOrigin&&c.y<0||"positive"===i.allowNewOrigin&&c.y>=0||"any"===i.allowNewOrigin)&&(y=Math.ceil(-c.y/t)*t,y+=s.top,p+=y),g+=s.right,p+=s.bottom,g=Math.max(g,i.minWidth||0),p=Math.max(p,i.minHeight||0),g=Math.min(g,i.maxWidth||Number.MAX_SAFE_INTEGER),p=Math.min(p,i.maxHeight||Number.MAX_SAFE_INTEGER);const w=this.getComputedSize(),C=g!==w.width||p!==w.height;return(v!==l.tx||y!==l.ty)&&this.translate(v,y),C&&this.resize(g,p),new J(-v/h,-y/d,g/h,p/d)}scaleContentToFit(e={}){this.scaleContentToFitImpl(e)}scaleContentToFitImpl(e={},t=!0){let r,i;if(e.contentArea){const C=e.contentArea;r=this.graph.localToGraph(C),i=O.create(C)}else r=this.getContentBBox(e),i=this.graph.graphToLocal(r);if(!r.width||!r.height)return;const s=sl(e.padding),o=e.minScale||0,c=e.maxScale||Number.MAX_SAFE_INTEGER,a=e.minScaleX||o,l=e.maxScaleX||c,h=e.minScaleY||o,d=e.maxScaleY||c;let g;if(e.viewportArea)g=e.viewportArea;else{const C=this.getComputedSize(),M=this.getTranslation();g={x:M.tx,y:M.ty,width:C.width,height:C.height}}g=J.create(g).moveAndExpand({x:s.left,y:s.top,width:-s.left-s.right,height:-s.top-s.bottom});const p=this.getScale();let v=g.width/r.width*p.sx,y=g.height/r.height*p.sy;!1!==e.preserveAspectRatio&&(v=y=Math.min(v,y));const w=e.scaleGrid;if(w&&(v=w*Math.floor(v/w),y=w*Math.floor(y/w)),v=is(v,a,l),y=is(y,h,d),this.scale(v,y),t){const C=this.options;this.translate(g.x-i.x*v-C.x,g.y-i.y*y-C.y)}}getContentArea(e={}){return!1!==e.useCellGeometry?this.model.getAllCellsBBox()||new J:ut.getBBox(this.stage)}getContentBBox(e={}){return this.graph.localToGraph(this.getContentArea(e))}getGraphArea(){const e=J.fromSize(this.getComputedSize());return this.graph.graphToLocal(e)}zoomToRect(e,t={}){const r=J.create(e),i=this.graph;t.contentArea=r,null==t.viewportArea&&(t.viewportArea={x:i.options.x,y:i.options.y,width:this.options.width,height:this.options.height}),this.scaleContentToFitImpl(t,!1);const s=r.getCenter();return this.centerPoint(s.x,s.y),this}zoomToFit(e={}){return this.zoomToRect(this.getContentArea(e),e)}centerPoint(e,t){const r=this.getComputedSize(),i=this.getScale(),s=this.getTranslation(),o=r.width/2,c=r.height/2;t=c-(t="number"==typeof t?t:c)*i.sy,(s.tx!==(e=o-(e="number"==typeof e?e:o)*i.sx)||s.ty!==t)&&this.translate(e,t)}centerContent(e){const r=this.graph.getContentArea(e).getCenter();this.centerPoint(r.x,r.y)}centerCell(e){return this.positionCell(e,"center")}positionPoint(e,t,r){const i=this.getComputedSize();(t=Hs(t,Math.max(0,i.width)))<0&&(t=i.width+t),(r=Hs(r,Math.max(0,i.height)))<0&&(r=i.height+r);const s=this.getTranslation(),o=this.getScale(),c=t-e.x*o.sx,a=r-e.y*o.sy;(s.tx!==c||s.ty!==a)&&this.translate(c,a)}positionRect(e,t){const r=J.create(e);switch(t){case"center":return this.positionPoint(r.getCenter(),"50%","50%");case"top":return this.positionPoint(r.getTopCenter(),"50%",0);case"top-right":return this.positionPoint(r.getTopRight(),"100%",0);case"right":return this.positionPoint(r.getRightMiddle(),"100%","50%");case"bottom-right":return this.positionPoint(r.getBottomRight(),"100%","100%");case"bottom":return this.positionPoint(r.getBottomCenter(),"50%","100%");case"bottom-left":return this.positionPoint(r.getBottomLeft(),0,"100%");case"left":return this.positionPoint(r.getLeftMiddle(),0,"50%");case"top-left":return this.positionPoint(r.getTopLeft(),0,0);default:return this}}positionCell(e,t){const r=e.getBBox();return this.positionRect(r,t)}positionContent(e,t){const r=this.graph.getContentArea(t);return this.positionRect(r,e)}}class jy extends Un{get elem(){return this.view.background}init(){this.startListening(),this.options.background&&this.draw(this.options.background)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}updateBackgroundImage(e={}){let t=e.size||"auto auto",r=e.position||"center";const i=this.graph.transform.getScale(),s=this.graph.translate();"object"==typeof r&&(r=`${s.tx+i.sx*(r.x||0)}px ${s.ty+i.sy*(r.y||0)}px`),"object"==typeof t&&(t=J.fromSize(t).scale(i.sx,i.sy),t=`${t.width}px ${t.height}px`),this.elem.style.backgroundSize=t,this.elem.style.backgroundPosition=r}drawBackgroundImage(e,t={}){if(!(e instanceof HTMLImageElement))return void(this.elem.style.backgroundImage="");const r=this.optionsCache;if(r&&r.image!==t.image)return;let i;const s=t.opacity,o=t.size;let c=t.repeat||"no-repeat";const a=H0.registry.get(c);if("function"==typeof a){const h=t.quality||1;e.width*=h,e.height*=h;const d=a(e,t);if(!(d instanceof HTMLCanvasElement))throw new Error("Background pattern must return an HTML Canvas instance");i=d.toDataURL("image/png"),c=t.repeat&&c!==t.repeat?t.repeat:"repeat","object"==typeof o?(o.width*=d.width/e.width,o.height*=d.height/e.height):void 0===o&&(t.size={width:d.width/h,height:d.height/h})}else i=e.src,void 0===o&&(t.size={width:e.width,height:e.height});null!=r&&"object"==typeof t.size&&t.image===r.image&&t.repeat===r.repeat&&t.quality===r.quality&&(r.size=ry(t.size));const l=this.elem.style;l.backgroundImage=`url(${i})`,l.backgroundRepeat=c,l.opacity=null==s||s>=1?"":`${s}`,this.updateBackgroundImage(t)}updateBackgroundColor(e){this.elem.style.backgroundColor=e||""}updateBackgroundOptions(e){this.graph.options.background=e}update(){this.optionsCache&&this.updateBackgroundImage(this.optionsCache)}draw(e){const t=e||{};if(this.updateBackgroundOptions(e),this.updateBackgroundColor(t.color),t.image){this.optionsCache=ry(t);const r=document.createElement("img");r.onload=()=>this.drawBackgroundImage(r,e),r.setAttribute("crossorigin","anonymous"),r.src=t.image}else this.drawBackgroundImage(null),this.optionsCache=null}clear(){this.draw()}dispose(){this.clear(),this.stopListening()}}!function(n,e,t,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(o=n[c])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);i>3&&s&&Object.defineProperty(e,t,s)}([Un.dispose()],jy.prototype,"dispose",null);class pO extends Un{get widgetOptions(){return this.options.panning}get pannable(){return this.widgetOptions&&!0===this.widgetOptions.enabled}init(){this.startListening(),this.updateClassName()}startListening(){const e=this.widgetOptions.eventTypes;e&&(e.includes("leftMouseDown")&&(this.graph.on("blank:mousedown",this.preparePanning,this),this.graph.on("node:unhandled:mousedown",this.preparePanning,this),this.graph.on("edge:unhandled:mousedown",this.preparePanning,this)),e.includes("rightMouseDown")&&(this.onRightMouseDown=this.onRightMouseDown.bind(this),jr.on(this.graph.container,"mousedown",this.onRightMouseDown)),e.includes("mouseWheel")&&(this.mousewheelHandle=new oT(this.graph.container,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.mousewheelHandle.enable()))}stopListening(){const e=this.widgetOptions.eventTypes;e&&(e.includes("leftMouseDown")&&(this.graph.off("blank:mousedown",this.preparePanning,this),this.graph.off("node:unhandled:mousedown",this.preparePanning,this),this.graph.off("edge:unhandled:mousedown",this.preparePanning,this)),e.includes("rightMouseDown")&&jr.off(this.graph.container,"mousedown",this.onRightMouseDown),e.includes("mouseWheel")&&this.mousewheelHandle&&this.mousewheelHandle.disable())}preparePanning({e}){const t=this.graph.getPlugin("selection"),r=t&&t.allowRubberband(e,!0);(this.allowPanning(e,!0)||this.allowPanning(e)&&!r)&&this.startPanning(e)}allowPanning(e,t){return this.pannable&&Q2.isMatch(e,this.widgetOptions.modifiers,t)}startPanning(e){const t=this.view.normalizeEvent(e);this.clientX=t.clientX,this.clientY=t.clientY,this.panning=!0,this.updateClassName(),jr.on(document.body,{"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this),"mouseleave.panning":this.stopPanning.bind(this)}),jr.on(window,"mouseup.panning",this.stopPanning.bind(this))}pan(e){const t=this.view.normalizeEvent(e),r=t.clientX-this.clientX,i=t.clientY-this.clientY;this.clientX=t.clientX,this.clientY=t.clientY,this.graph.translateBy(r,i)}stopPanning(e){this.panning=!1,this.updateClassName(),jr.off(document.body,".panning"),jr.off(window,".panning")}updateClassName(){const e=this.view.container,t=this.view.prefixClassName("graph-panning"),r=this.view.prefixClassName("graph-pannable");this.pannable?this.panning?(Ke(e,t),ss(e,r)):(ss(e,t),Ke(e,r)):(ss(e,t),ss(e,r))}onRightMouseDown(e){2===e.button&&this.allowPanning(e,!0)&&this.startPanning(e)}allowMouseWheel(e){return this.pannable&&!e.ctrlKey}onMouseWheel(e,t,r){e.ctrlKey||this.graph.translateBy(-t,-r)}autoPanning(e,t){const i=this.graph.getGraphArea();let s=0,o=0;e<=i.left+10&&(s=-10),t<=i.top+10&&(o=-10),e>=i.right-10&&(s=10),t>=i.bottom-10&&(o=10),(0!==s||0!==o)&&this.graph.translateBy(-s,-o)}enablePanning(){this.pannable||(this.widgetOptions.enabled=!0,this.updateClassName())}disablePanning(){this.pannable&&(this.widgetOptions.enabled=!1,this.updateClassName())}dispose(){this.stopListening()}}!function(n,e,t,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(o=n[c])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);i>3&&s&&Object.defineProperty(e,t,s)}([Un.dispose()],pO.prototype,"dispose",null);class $y extends Un{constructor(){super(...arguments),this.cumulatedFactor=1}get widgetOptions(){return this.options.mousewheel}init(){this.container=this.graph.container,this.target=this.widgetOptions.global?document:this.container,this.mousewheelHandle=new oT(this.target,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.widgetOptions.enabled&&this.enable(!0)}get disabled(){return!0!==this.widgetOptions.enabled}enable(e){(this.disabled||e)&&(this.widgetOptions.enabled=!0,this.mousewheelHandle.enable())}disable(){this.disabled||(this.widgetOptions.enabled=!1,this.mousewheelHandle.disable())}allowMouseWheel(e){const t=this.widgetOptions.guard;return(null==t||t(e))&&Q2.isMatch(e,this.widgetOptions.modifiers)}onMouseWheel(e){const t=this.widgetOptions.guard;if((null==t||t(e))&&Q2.isMatch(e,this.widgetOptions.modifiers)){const r=this.widgetOptions.factor||1.2;null==this.currentScale&&(this.startPos={x:e.clientX,y:e.clientY},this.currentScale=this.graph.transform.getScale().sx),e.deltaY<0?this.currentScale<.15?this.cumulatedFactor=(this.currentScale+.01)/this.currentScale:(this.cumulatedFactor=Math.round(this.currentScale*r*20)/20/this.currentScale,1===this.cumulatedFactor&&(this.cumulatedFactor=1.05)):this.currentScale<=.15?this.cumulatedFactor=(this.currentScale-.01)/this.currentScale:(this.cumulatedFactor=Math.round(this.currentScale*(1/r)*20)/20/this.currentScale,1===this.cumulatedFactor&&(this.cumulatedFactor=.95)),this.cumulatedFactor=Math.max(.01,Math.min(this.currentScale*this.cumulatedFactor,160)/this.currentScale);const s=this.currentScale;let o=this.graph.transform.clampScale(s*this.cumulatedFactor);if(o=is(o,this.widgetOptions.minScale||Number.MIN_SAFE_INTEGER,this.widgetOptions.maxScale||Number.MAX_SAFE_INTEGER),o!==s)if(this.widgetOptions.zoomAtMousePosition){const h=this.graph.getPlugin("scroller")?this.graph.clientToLocal(this.startPos):this.graph.clientToGraph(this.startPos);this.graph.zoom(o,{absolute:!0,center:h.clone()})}else this.graph.zoom(o,{absolute:!0});this.currentScale=null,this.cumulatedFactor=1}}dispose(){this.disable()}}!function(n,e,t,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(o=n[c])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);i>3&&s&&Object.defineProperty(e,t,s)}([fa.dispose()],$y.prototype,"dispose",null);class mO extends Un{init(){this.resetRenderArea=eG(this.resetRenderArea,200,{leading:!0}),this.resetRenderArea(),this.startListening()}startListening(){this.graph.on("translate",this.resetRenderArea,this),this.graph.on("scale",this.resetRenderArea,this),this.graph.on("resize",this.resetRenderArea,this)}stopListening(){this.graph.off("translate",this.resetRenderArea,this),this.graph.off("scale",this.resetRenderArea,this),this.graph.off("resize",this.resetRenderArea,this)}enableVirtualRender(){this.options.virtual=!0,this.resetRenderArea()}disableVirtualRender(){this.options.virtual=!1,this.graph.renderer.setRenderArea(void 0)}resetRenderArea(){if(this.options.virtual){const e=this.graph.getGraphArea();this.graph.renderer.setRenderArea(e)}}dispose(){this.stopListening()}}!function(n,e,t,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(o=n[c])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);i>3&&s&&Object.defineProperty(e,t,s)}([Un.dispose()],mO.prototype,"dispose",null);class xce{constructor(){this.isFlushing=!1,this.isFlushPending=!1,this.scheduleId=0,this.queue=[],this.frameInterval=33,this.initialTime=Date.now()}queueJob(e){if(e.priority&za.PRIOR)e.cb();else{const t=this.findInsertionIndex(e);t>=0&&this.queue.splice(t,0,e)}}queueFlush(){!this.isFlushing&&!this.isFlushPending&&(this.isFlushPending=!0,this.scheduleJob())}queueFlushSync(){!this.isFlushing&&!this.isFlushPending&&(this.isFlushPending=!0,this.flushJobsSync())}clearJobs(){this.queue.length=0,this.isFlushing=!1,this.isFlushPending=!1,this.cancelScheduleJob()}flushJobs(){this.isFlushPending=!1,this.isFlushing=!0;const e=this.getCurrentTime();let t;for(;(t=this.queue.shift())&&(t.cb(),!(this.getCurrentTime()-e>=this.frameInterval)););this.isFlushing=!1,this.queue.length&&this.queueFlush()}flushJobsSync(){let e;for(this.isFlushPending=!1,this.isFlushing=!0;e=this.queue.shift();)try{e.cb()}catch(t){console.log(t)}this.isFlushing=!1}findInsertionIndex(e){let t=0,r=this.queue.length,i=r-1;const s=e.priority;for(;t<=i;){const o=(i-t>>1)+t;s<=this.queue[o].priority?t=o+1:(r=o,i=o-1)}return r}scheduleJob(){"requestIdleCallback"in window?(this.scheduleId&&this.cancelScheduleJob(),this.scheduleId=window.requestIdleCallback(this.flushJobs.bind(this),{timeout:100})):(this.scheduleId&&this.cancelScheduleJob(),this.scheduleId=window.setTimeout(this.flushJobs.bind(this)))}cancelScheduleJob(){"cancelIdleCallback"in window?(this.scheduleId&&window.cancelIdleCallback(this.scheduleId),this.scheduleId=0):(this.scheduleId&&clearTimeout(this.scheduleId),this.scheduleId=0)}getCurrentTime(){return"object"==typeof performance&&"function"==typeof performance.now?performance.now():Date.now()-this.initialTime}}var za=function(n){return n[n.Update=2]="Update",n[n.RenderEdge=4]="RenderEdge",n[n.RenderNode=8]="RenderNode",n[n.PRIOR=1048576]="PRIOR",n}(za||{});class zn extends fa{get model(){return this.graph.model}get container(){return this.graph.view.stage}constructor(e){super(),this.views={},this.willRemoveViews={},this.queue=new xce,this.graph=e,this.init()}init(){this.startListening(),this.renderViews(this.model.getCells())}startListening(){this.model.on("reseted",this.onModelReseted,this),this.model.on("cell:added",this.onCellAdded,this),this.model.on("cell:removed",this.onCellRemoved,this),this.model.on("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.on("cell:change:visible",this.onCellVisibleChanged,this)}stopListening(){this.model.off("reseted",this.onModelReseted,this),this.model.off("cell:added",this.onCellAdded,this),this.model.off("cell:removed",this.onCellRemoved,this),this.model.off("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.off("cell:change:visible",this.onCellVisibleChanged,this)}onModelReseted({options:e}){this.queue.clearJobs(),this.removeZPivots(),this.resetViews();const t=this.model.getCells();this.renderViews(t,Object.assign(Object.assign({},e),{queue:t.map(r=>r.id)}))}onCellAdded({cell:e,options:t}){this.renderViews([e],t)}onCellRemoved({cell:e}){this.removeViews([e])}onCellZIndexChanged({cell:e,options:t}){const r=this.views[e.id];r&&this.requestViewUpdate(r.view,zn.FLAG_INSERT,t,za.Update,!0)}onCellVisibleChanged({cell:e,current:t}){this.toggleVisible(e,!!t)}requestViewUpdate(e,t,r={},i=za.Update,s=!0){const o=e.cell.id,c=this.views[o];c&&(c.flag=t,c.options=r,(e.hasAction(t,["translate","resize","rotate"])||!1===r.async)&&(i=za.PRIOR,s=!1),this.queue.queueJob({id:o,priority:i,cb:()=>{this.renderViewInArea(e,t,r);const h=r.queue;if(h){const d=h.indexOf(e.cell.id);d>=0&&h.splice(d,1),0===h.length&&this.graph.trigger("render:done")}}}),this.getEffectedEdges(e).forEach(h=>{this.requestViewUpdate(h.view,h.flag,r,i,!1)}),s&&this.flush())}setRenderArea(e){this.renderArea=e,this.flushWaitingViews()}isViewMounted(e){if(null==e)return!1;const t=this.views[e.cell.id];return!!t&&t.state===zn.ViewState.MOUNTED}renderViews(e,t={}){e.sort((r,i)=>r.isNode()&&i.isEdge()?-1:0),e.forEach(r=>{const i=r.id;let o=0,c=this.views[i];if(c)o=zn.FLAG_INSERT;else{const a=this.createCellView(r);a&&(a.graph=this.graph,o=zn.FLAG_INSERT|a.getBootstrapFlag(),c={view:a,flag:o,options:t,state:zn.ViewState.CREATED},this.views[i]=c)}c&&this.requestViewUpdate(c.view,o,t,this.getRenderPriority(c.view),!1)}),this.flush()}renderViewInArea(e,t,r={}){const i=e.cell,s=i.id,o=this.views[s];if(!o)return;let c=0;this.isUpdatable(e)||o.state===zn.ViewState.MOUNTED?(c=this.updateView(e,t,r),o.flag=c):o.state=zn.ViewState.WAITING,c&&i.isEdge()&&!(c&e.getFlag(["source","target"]))&&this.queue.queueJob({id:s,priority:za.RenderEdge,cb:()=>{this.updateView(e,t,r)}})}removeViews(e){e.forEach(t=>{const r=t.id,i=this.views[r];i&&(this.willRemoveViews[r]=i,delete this.views[r],this.queue.queueJob({id:r,priority:this.getRenderPriority(i.view),cb:()=>{this.removeView(i.view)}}))}),this.flush()}flush(){this.graph.options.async?this.queue.queueFlush():this.queue.queueFlushSync()}flushWaitingViews(){Object.values(this.views).forEach(e=>{if(e&&e.state===zn.ViewState.WAITING){const{view:t,flag:r,options:i}=e;this.requestViewUpdate(t,r,i,this.getRenderPriority(t),!1)}}),this.flush()}updateView(e,t,r={}){if(null==e)return 0;if(wr.isCellView(e)){if(t&zn.FLAG_REMOVE)return this.removeView(e.cell),0;t&zn.FLAG_INSERT&&(this.insertView(e),t^=zn.FLAG_INSERT)}return t?e.confirmUpdate(t,r):0}insertView(e){const t=this.views[e.cell.id];if(t){const r=e.cell.getZIndex(),i=this.addZPivot(r);this.container.insertBefore(e.container,i),e.cell.isVisible()||this.toggleVisible(e.cell,!1),t.state=zn.ViewState.MOUNTED,this.graph.trigger("view:mounted",{view:e})}}resetViews(){this.willRemoveViews=Object.assign(Object.assign({},this.views),this.willRemoveViews),Object.values(this.willRemoveViews).forEach(e=>{e&&this.removeView(e.view)}),this.views={},this.willRemoveViews={}}removeView(e){const t=e.cell,r=this.willRemoveViews[t.id];r&&e&&(r.view.remove(),delete this.willRemoveViews[t.id],this.graph.trigger("view:unmounted",{view:e}))}toggleVisible(e,t){const r=this.model.getConnectedEdges(e);for(let s=0,o=r.length;s<o;s+=1){const c=r[s];if(t){const a=c.getSourceCell(),l=c.getTargetCell();if(a&&!a.isVisible()||l&&!l.isVisible())continue;this.toggleVisible(c,!0)}else this.toggleVisible(c,!1)}const i=this.views[e.id];i&&S0(i.view.container,{display:t?"unset":"none"})}addZPivot(e=0){null==this.zPivots&&(this.zPivots={});const t=this.zPivots;let r=t[e];if(r)return r;r=t[e]=document.createComment(`z-index:${e+1}`);let i=-1/0;for(const o in t){const c=+o;c<e&&c>i&&(i=c)}const s=this.container;return s.insertBefore(r,i!==-1/0?t[i].nextSibling:s.firstChild),r}removeZPivots(){this.zPivots&&Object.values(this.zPivots).forEach(e=>{e&&e.parentNode&&e.parentNode.removeChild(e)}),this.zPivots={}}createCellView(e){const t={graph:this.graph},r=this.graph.options.createCellView;if(r){const s=Se(r,this.graph,e);if(s)return new s(e,t);if(null===s)return null}const i=e.view;if(null!=i&&"string"==typeof i){const s=wr.registry.get(i);return s?new s(e,t):wr.registry.onNotFound(i)}return e.isNode()?new Rs(e,t):e.isEdge()?new mc(e,t):null}getEffectedEdges(e){const t=[],r=e.cell,i=this.model.getConnectedEdges(r);for(let s=0,o=i.length;s<o;s+=1){const c=i[s],a=this.views[c.id];if(!a)continue;const l=a.view;if(!this.isViewMounted(l))continue;const h=["update"];c.getTargetCell()===r&&h.push("target"),c.getSourceCell()===r&&h.push("source"),t.push({id:c.id,view:l,flag:l.getFlag(h)})}return t}isUpdatable(e){if(e.isNodeView())return!this.renderArea||this.renderArea.isIntersectWithRect(e.cell.getBBox());if(e.isEdgeView()){const t=e.cell,r=t.getSourceCell(),i=t.getTargetCell();if(this.renderArea&&r&&i)return this.renderArea.isIntersectWithRect(r.getBBox())||this.renderArea.isIntersectWithRect(i.getBBox())}return!0}getRenderPriority(e){return e.cell.isNode()?za.RenderNode:za.RenderEdge}dispose(){this.stopListening()}}(function(n,e,t,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(o=n[c])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);i>3&&s&&Object.defineProperty(e,t,s)})([fa.dispose()],zn.prototype,"dispose",null),function(n){n.FLAG_INSERT=1<<30,n.FLAG_REMOVE=1<<29,n.FLAG_RENDER=67108863}(zn||(zn={})),function(n){let e;var t;(t=e=n.ViewState||(n.ViewState={}))[t.CREATED=0]="CREATED",t[t.MOUNTED=1]="MOUNTED",t[t.WAITING=2]="WAITING"}(zn||(zn={}));class Uy extends Un{constructor(){super(...arguments),this.schedule=new zn(this.graph)}requestViewUpdate(e,t,r={}){this.schedule.requestViewUpdate(e,t,r)}isViewMounted(e){return this.schedule.isViewMounted(e)}setRenderArea(e){this.schedule.setRenderArea(e)}findViewByElem(e){if(null==e)return null;const r="string"==typeof e?this.options.container.querySelector(e):e instanceof Element?e:e[0];if(r){const i=this.graph.view.findAttr("data-cell-id",r);if(i){const s=this.schedule.views;if(s[i])return s[i].view}}return null}findViewByCell(e){if(null==e)return null;const t=qe.isCell(e)?e.id:e,r=this.schedule.views;return r[t]?r[t].view:null}findViewsFromPoint(e){const t={x:e.x,y:e.y};return this.model.getCells().map(r=>this.findViewByCell(r)).filter(r=>null!=r&&ut.getBBox(r.container,{target:this.view.stage}).containsPoint(t))}findEdgeViewsFromPoint(e,t=5){return this.model.getEdges().map(r=>this.findViewByCell(r)).filter(r=>{if(null!=r){const i=r.getClosestPoint(e);if(i)return i.distance(e)<=t}return!1})}findViewsInArea(e,t={}){const r=J.create(e);return this.model.getCells().map(i=>this.findViewByCell(i)).filter(i=>{if(i){if(t.nodeOnly&&!i.isNodeView())return!1;const s=ut.getBBox(i.container,{target:this.view.stage});return 0===s.width?s.inflate(1,0):0===s.height&&s.inflate(0,1),t.strict?r.containsRect(s):r.isIntersectWithRect(s)}return!1})}dispose(){this.schedule.dispose()}}!function(n,e,t,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(o=n[c])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);i>3&&s&&Object.defineProperty(e,t,s)}([Un.dispose()],Uy.prototype,"dispose",null);var vO=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t};class yO extends Un{get cid(){return this.graph.view.cid}get svg(){return this.view.svg}get defs(){return this.view.defs}isDefined(e){return null!=this.svg.getElementById(e)}filter(e){let t=e.id;const r=e.name;if(t||(t=`filter-${r}-${this.cid}-${hy(JSON.stringify(e))}`),!this.isDefined(t)){const i=i3.registry.get(r);if(null==i)return i3.registry.onNotFound(r);const s=i(e.args||{}),o=Object.assign(Object.assign({x:-1,y:-1,width:3,height:3,filterUnits:"objectBoundingBox"},e.attrs),{id:t});_e.create(Pt.sanitize(s),o).appendTo(this.defs)}return t}gradient(e){let t=e.id;const r=e.type;if(t||(t=`gradient-${r}-${this.cid}-${hy(JSON.stringify(e))}`),!this.isDefined(t)){const o=`<${r}>${e.stops.map(a=>{const l=null!=a.opacity&&Number.isFinite(a.opacity)?a.opacity:1;return`<stop offset="${a.offset}" stop-color="${a.color}" stop-opacity="${l}"/>`}).join("")}</${r}>`,c=Object.assign({id:t},e.attrs);_e.create(o,c).appendTo(this.defs)}return t}marker(e){const{id:t,refX:r,refY:i,markerUnits:s,markerOrient:o,tagName:c,children:a}=e,l=vO(e,["id","refX","refY","markerUnits","markerOrient","tagName","children"]);let h=t;if(h||(h=`marker-${this.cid}-${hy(JSON.stringify(e))}`),!this.isDefined(h)){"path"!==c&&delete l.d;const d=_e.create("marker",{refX:r,refY:i,id:h,overflow:"visible",orient:o??"auto",markerUnits:s||"userSpaceOnUse"},a?a.map(g=>{var{tagName:p}=g,v=vO(g,["tagName"]);return _e.create(`${p}`||"path",x0(Object.assign(Object.assign({},l),v)))}):[_e.create(c||"path",x0(l))]);this.defs.appendChild(d.node)}return h}remove(e){const t=this.svg.getElementById(e);t&&t.parentNode&&t.parentNode.removeChild(t)}}class bO extends Un{getClientMatrix(){return jn(this.view.stage.getScreenCTM())}getClientOffset(){const e=this.view.svg.getBoundingClientRect();return new O(e.left,e.top)}getPageOffset(){return this.getClientOffset().translate(window.scrollX,window.scrollY)}snapToGrid(e,t){return("number"==typeof e?this.clientToLocalPoint(e,t):this.clientToLocalPoint(e.x,e.y)).snapToGrid(this.graph.getGridSize())}localToGraphPoint(e,t){const r=O.create(e,t);return ut.transformPoint(r,this.graph.matrix())}localToClientPoint(e,t){const r=O.create(e,t);return ut.transformPoint(r,this.getClientMatrix())}localToPagePoint(e,t){return("number"==typeof e?this.localToGraphPoint(e,t):this.localToGraphPoint(e)).translate(this.getPageOffset())}localToGraphRect(e,t,r,i){const s=J.create(e,t,r,i);return ut.transformRectangle(s,this.graph.matrix())}localToClientRect(e,t,r,i){const s=J.create(e,t,r,i);return ut.transformRectangle(s,this.getClientMatrix())}localToPageRect(e,t,r,i){return("number"==typeof e?this.localToGraphRect(e,t,r,i):this.localToGraphRect(e)).translate(this.getPageOffset())}graphToLocalPoint(e,t){const r=O.create(e,t);return ut.transformPoint(r,this.graph.matrix().inverse())}clientToLocalPoint(e,t){const r=O.create(e,t);return ut.transformPoint(r,this.getClientMatrix().inverse())}clientToGraphPoint(e,t){const r=O.create(e,t);return ut.transformPoint(r,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalPoint(e,t){const i=O.create(e,t).diff(this.getPageOffset());return this.graphToLocalPoint(i)}graphToLocalRect(e,t,r,i){const s=J.create(e,t,r,i);return ut.transformRectangle(s,this.graph.matrix().inverse())}clientToLocalRect(e,t,r,i){const s=J.create(e,t,r,i);return ut.transformRectangle(s,this.getClientMatrix().inverse())}clientToGraphRect(e,t,r,i){const s=J.create(e,t,r,i);return ut.transformRectangle(s,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalRect(e,t,r,i){const s=J.create(e,t,r,i),o=this.getPageOffset();return s.x-=o.x,s.y-=o.y,this.graphToLocalRect(s)}}class k5 extends Un{constructor(){super(...arguments),this.highlights={}}init(){this.startListening()}startListening(){this.graph.on("cell:highlight",this.onCellHighlight,this),this.graph.on("cell:unhighlight",this.onCellUnhighlight,this)}stopListening(){this.graph.off("cell:highlight",this.onCellHighlight,this),this.graph.off("cell:unhighlight",this.onCellUnhighlight,this)}onCellHighlight({view:e,magnet:t,options:r={}}){const i=this.resolveHighlighter(r);if(!i)return;const s=this.getHighlighterId(t,i);if(!this.highlights[s]){const o=i.highlighter;o.highlight(e,t,Object.assign({},i.args)),this.highlights[s]={cellView:e,magnet:t,highlighter:o,args:i.args}}}onCellUnhighlight({magnet:e,options:t={}}){const r=this.resolveHighlighter(t);if(!r)return;const i=this.getHighlighterId(e,r);this.unhighlight(i)}resolveHighlighter(e){const t=this.options;let r=e.highlighter;if(null==r){const c=e.type;r=c&&t.highlighting[c]||t.highlighting.default}if(null==r)return null;const i="string"==typeof r?{name:r}:r,s=i.name,o=dc.registry.get(s);return null==o?dc.registry.onNotFound(s):(dc.check(s,o),{name:s,highlighter:o,args:i.args||{}})}getHighlighterId(e,t){return py(e),t.name+e.id+JSON.stringify(t.args)}unhighlight(e){const t=this.highlights[e];t&&(t.highlighter.unhighlight(t.cellView,t.magnet,t.args),delete this.highlights[e])}dispose(){Object.keys(this.highlights).forEach(e=>this.unhighlight(e)),this.stopListening()}}!function(n,e,t,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(o=n[c])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);i>3&&s&&Object.defineProperty(e,t,s)}([k5.dispose()],k5.prototype,"dispose",null);class wO extends Un{getScroller(){const e=this.graph.getPlugin("scroller");return e&&e.options.enabled?e:null}getContainer(){const e=this.getScroller();return e?e.container.parentElement:this.graph.container.parentElement}getSensorTarget(){const e=this.options.autoResize;if(e)return"boolean"==typeof e?this.getContainer():e}init(){if(this.options.autoResize){const t=this.getSensorTarget();t&&b5.bind(t,()=>{this.resize(t.offsetWidth,t.offsetHeight)})}}resize(e,t){const r=this.getScroller();r?r.resize(e,t):this.graph.transform.resize(e,t)}dispose(){b5.clear(this.graph.container)}}!function(n,e,t,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(o=n[c])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);i>3&&s&&Object.defineProperty(e,t,s)}([Un.dispose()],wO.prototype,"dispose",null);class $r extends rs{get container(){return this.options.container}get[Symbol.toStringTag](){return $r.toStringTag}constructor(e){super(),this.installedPlugins=new Set,this.options=U0.get(e),this.css=new Fy(this),this.view=new Co(this),this.defs=new yO(this),this.coord=new bO(this),this.transform=new gO(this),this.highlight=new k5(this),this.grid=new By(this),this.background=new jy(this),this.options.model?this.model=this.options.model:(this.model=new pc,this.model.graph=this),this.renderer=new Uy(this),this.panning=new pO(this),this.mousewheel=new $y(this),this.virtualRender=new mO(this),this.size=new wO(this)}isNode(e){return e.isNode()}isEdge(e){return e.isEdge()}resetCells(e,t={}){return this.model.resetCells(e,t),this}clearCells(e={}){return this.model.clear(e),this}toJSON(e={}){return this.model.toJSON(e)}parseJSON(e){return this.model.parseJSON(e)}fromJSON(e,t={}){return this.model.fromJSON(e,t),this}getCellById(e){return this.model.getCell(e)}addNode(e,t={}){return this.model.addNode(e,t)}addNodes(e,t={}){return this.addCell(e.map(r=>Sn.isNode(r)?r:this.createNode(r)),t)}createNode(e){return this.model.createNode(e)}removeNode(e,t={}){return this.model.removeCell(e,t)}addEdge(e,t={}){return this.model.addEdge(e,t)}addEdges(e,t={}){return this.addCell(e.map(r=>on.isEdge(r)?r:this.createEdge(r)),t)}removeEdge(e,t={}){return this.model.removeCell(e,t)}createEdge(e){return this.model.createEdge(e)}addCell(e,t={}){return this.model.addCell(e,t),this}removeCell(e,t={}){return this.model.removeCell(e,t)}removeCells(e,t={}){return this.model.removeCells(e,t)}removeConnectedEdges(e,t={}){return this.model.removeConnectedEdges(e,t)}disconnectConnectedEdges(e,t={}){return this.model.disconnectConnectedEdges(e,t),this}hasCell(e){return this.model.has(e)}getCells(){return this.model.getCells()}getCellCount(){return this.model.total()}getNodes(){return this.model.getNodes()}getEdges(){return this.model.getEdges()}getOutgoingEdges(e){return this.model.getOutgoingEdges(e)}getIncomingEdges(e){return this.model.getIncomingEdges(e)}getConnectedEdges(e,t={}){return this.model.getConnectedEdges(e,t)}getRootNodes(){return this.model.getRoots()}getLeafNodes(){return this.model.getLeafs()}isRootNode(e){return this.model.isRoot(e)}isLeafNode(e){return this.model.isLeaf(e)}getNeighbors(e,t={}){return this.model.getNeighbors(e,t)}isNeighbor(e,t,r={}){return this.model.isNeighbor(e,t,r)}getSuccessors(e,t={}){return this.model.getSuccessors(e,t)}isSuccessor(e,t,r={}){return this.model.isSuccessor(e,t,r)}getPredecessors(e,t={}){return this.model.getPredecessors(e,t)}isPredecessor(e,t,r={}){return this.model.isPredecessor(e,t,r)}getCommonAncestor(...e){return this.model.getCommonAncestor(...e)}getSubGraph(e,t={}){return this.model.getSubGraph(e,t)}cloneSubGraph(e,t={}){return this.model.cloneSubGraph(e,t)}cloneCells(e){return this.model.cloneCells(e)}getNodesFromPoint(e,t){return this.model.getNodesFromPoint(e,t)}getNodesInArea(e,t,r,i,s){return this.model.getNodesInArea(e,t,r,i,s)}getNodesUnderNode(e,t={}){return this.model.getNodesUnderNode(e,t)}searchCell(e,t,r={}){return this.model.search(e,t,r),this}getShortestPath(e,t,r={}){return this.model.getShortestPath(e,t,r)}getAllCellsBBox(){return this.model.getAllCellsBBox()}getCellsBBox(e,t={}){return this.model.getCellsBBox(e,t)}startBatch(e,t={}){this.model.startBatch(e,t)}stopBatch(e,t={}){this.model.stopBatch(e,t)}batchUpdate(e,t,r){const i="string"==typeof e?e:"update",s="string"==typeof e?t:e,o="function"==typeof t?r:t;this.startBatch(i,o);const c=s();return this.stopBatch(i,o),c}updateCellId(e,t){return this.model.updateCellId(e,t)}findView(e){return qe.isCell(e)?this.findViewByCell(e):this.findViewByElem(e)}findViews(e){return J.isRectangleLike(e)?this.findViewsInArea(e):O.isPointLike(e)?this.findViewsFromPoint(e):[]}findViewByCell(e){return this.renderer.findViewByCell(e)}findViewByElem(e){return this.renderer.findViewByElem(e)}findViewsFromPoint(e,t){return this.renderer.findViewsFromPoint("number"==typeof e?{x:e,y:t}:e)}findViewsInArea(e,t,r,i,s){return this.renderer.findViewsInArea("number"==typeof e?{x:e,y:t,width:r,height:i}:e,"number"==typeof e?s:t)}matrix(e){return typeof e>"u"?this.transform.getMatrix():(this.transform.setMatrix(e),this)}resize(e,t){const r=this.getPlugin("scroller");return r?r.resize(e,t):this.transform.resize(e,t),this}scale(e,t=e,r=0,i=0){return typeof e>"u"?this.transform.getScale():(this.transform.scale(e,t,r,i),this)}zoom(e,t){const r=this.getPlugin("scroller");if(r){if(typeof e>"u")return r.zoom();r.zoom(e,t)}else{if(typeof e>"u")return this.transform.getZoom();this.transform.zoom(e,t)}return this}zoomTo(e,t={}){const r=this.getPlugin("scroller");return r?r.zoom(e,Object.assign(Object.assign({},t),{absolute:!0})):this.transform.zoom(e,Object.assign(Object.assign({},t),{absolute:!0})),this}zoomToRect(e,t={}){const r=this.getPlugin("scroller");return r?r.zoomToRect(e,t):this.transform.zoomToRect(e,t),this}zoomToFit(e={}){const t=this.getPlugin("scroller");return t?t.zoomToFit(e):this.transform.zoomToFit(e),this}rotate(e,t,r){return typeof e>"u"?this.transform.getRotation():(this.transform.rotate(e,t,r),this)}translate(e,t){return typeof e>"u"?this.transform.getTranslation():(this.transform.translate(e,t),this)}translateBy(e,t){const r=this.translate();return this.translate(r.tx+e,r.ty+t)}getGraphArea(){return this.transform.getGraphArea()}getContentArea(e={}){return this.transform.getContentArea(e)}getContentBBox(e={}){return this.transform.getContentBBox(e)}fitToContent(e,t,r,i){return this.transform.fitToContent(e,t,r,i)}scaleContentToFit(e={}){return this.transform.scaleContentToFit(e),this}center(e){return this.centerPoint(e)}centerPoint(e,t,r){const i=this.getPlugin("scroller");return i?i.centerPoint(e,t,r):this.transform.centerPoint(e,t),this}centerContent(e){const t=this.getPlugin("scroller");return t?t.centerContent(e):this.transform.centerContent(e),this}centerCell(e,t){const r=this.getPlugin("scroller");return r?r.centerCell(e,t):this.transform.centerCell(e),this}positionPoint(e,t,r,i={}){const s=this.getPlugin("scroller");return s?s.positionPoint(e,t,r,i):this.transform.positionPoint(e,t,r),this}positionRect(e,t,r){const i=this.getPlugin("scroller");return i?i.positionRect(e,t,r):this.transform.positionRect(e,t),this}positionCell(e,t,r){const i=this.getPlugin("scroller");return i?i.positionCell(e,t,r):this.transform.positionCell(e,t),this}positionContent(e,t){const r=this.getPlugin("scroller");return r?r.positionContent(e,t):this.transform.positionContent(e,t),this}snapToGrid(e,t){return this.coord.snapToGrid(e,t)}pageToLocal(e,t,r,i){return J.isRectangleLike(e)?this.coord.pageToLocalRect(e):"number"==typeof e&&"number"==typeof t&&"number"==typeof r&&"number"==typeof i?this.coord.pageToLocalRect(e,t,r,i):this.coord.pageToLocalPoint(e,t)}localToPage(e,t,r,i){return J.isRectangleLike(e)?this.coord.localToPageRect(e):"number"==typeof e&&"number"==typeof t&&"number"==typeof r&&"number"==typeof i?this.coord.localToPageRect(e,t,r,i):this.coord.localToPagePoint(e,t)}clientToLocal(e,t,r,i){return J.isRectangleLike(e)?this.coord.clientToLocalRect(e):"number"==typeof e&&"number"==typeof t&&"number"==typeof r&&"number"==typeof i?this.coord.clientToLocalRect(e,t,r,i):this.coord.clientToLocalPoint(e,t)}localToClient(e,t,r,i){return J.isRectangleLike(e)?this.coord.localToClientRect(e):"number"==typeof e&&"number"==typeof t&&"number"==typeof r&&"number"==typeof i?this.coord.localToClientRect(e,t,r,i):this.coord.localToClientPoint(e,t)}localToGraph(e,t,r,i){return J.isRectangleLike(e)?this.coord.localToGraphRect(e):"number"==typeof e&&"number"==typeof t&&"number"==typeof r&&"number"==typeof i?this.coord.localToGraphRect(e,t,r,i):this.coord.localToGraphPoint(e,t)}graphToLocal(e,t,r,i){return J.isRectangleLike(e)?this.coord.graphToLocalRect(e):"number"==typeof e&&"number"==typeof t&&"number"==typeof r&&"number"==typeof i?this.coord.graphToLocalRect(e,t,r,i):this.coord.graphToLocalPoint(e,t)}clientToGraph(e,t,r,i){return J.isRectangleLike(e)?this.coord.clientToGraphRect(e):"number"==typeof e&&"number"==typeof t&&"number"==typeof r&&"number"==typeof i?this.coord.clientToGraphRect(e,t,r,i):this.coord.clientToGraphPoint(e,t)}defineFilter(e){return this.defs.filter(e)}defineGradient(e){return this.defs.gradient(e)}defineMarker(e){return this.defs.marker(e)}getGridSize(){return this.grid.getGridSize()}setGridSize(e){return this.grid.setGridSize(e),this}showGrid(){return this.grid.show(),this}hideGrid(){return this.grid.hide(),this}clearGrid(){return this.grid.clear(),this}drawGrid(e){return this.grid.draw(e),this}updateBackground(){return this.background.update(),this}drawBackground(e,t){const r=this.getPlugin("scroller");return null==r||null!=this.options.background&&t?this.background.draw(e):r.drawBackground(e,t),this}clearBackground(e){const t=this.getPlugin("scroller");return null==t||null!=this.options.background&&e?this.background.clear():t.clearBackground(e),this}enableVirtualRender(){return this.virtualRender.enableVirtualRender(),this}disableVirtualRender(){return this.virtualRender.disableVirtualRender(),this}isMouseWheelEnabled(){return!this.mousewheel.disabled}enableMouseWheel(){return this.mousewheel.enable(),this}disableMouseWheel(){return this.mousewheel.disable(),this}toggleMouseWheel(e){return null==e?this.isMouseWheelEnabled()?this.disableMouseWheel():this.enableMouseWheel():e?this.enableMouseWheel():this.disableMouseWheel(),this}isPannable(){const e=this.getPlugin("scroller");return e?e.isPannable():this.panning.pannable}enablePanning(){const e=this.getPlugin("scroller");return e?e.enablePanning():this.panning.enablePanning(),this}disablePanning(){const e=this.getPlugin("scroller");return e?e.disablePanning():this.panning.disablePanning(),this}togglePanning(e){return null==e?this.isPannable()?this.disablePanning():this.enablePanning():e!==this.isPannable()&&(e?this.enablePanning():this.disablePanning()),this}use(e,...t){return this.installedPlugins.has(e)||(this.installedPlugins.add(e),e.init(this,...t)),this}getPlugin(e){return Array.from(this.installedPlugins).find(t=>t.name===e)}getPlugins(e){return Array.from(this.installedPlugins).filter(t=>e.includes(t.name))}enablePlugins(e){let t=e;Array.isArray(t)||(t=[t]);const r=this.getPlugins(t);return r?.forEach(i=>{var s;null===(s=i?.enable)||void 0===s||s.call(i)}),this}disablePlugins(e){let t=e;Array.isArray(t)||(t=[t]);const r=this.getPlugins(t);return r?.forEach(i=>{var s;null===(s=i?.disable)||void 0===s||s.call(i)}),this}isPluginEnabled(e){var t;const r=this.getPlugin(e);return null===(t=r?.isEnabled)||void 0===t?void 0:t.call(r)}disposePlugins(e){let t=e;Array.isArray(t)||(t=[t]);const r=this.getPlugins(t);return r?.forEach(i=>{i.dispose()}),this}dispose(e=!0){e&&this.clearCells(),this.off(),this.css.dispose(),this.defs.dispose(),this.grid.dispose(),this.coord.dispose(),this.transform.dispose(),this.highlight.dispose(),this.background.dispose(),this.mousewheel.dispose(),this.panning.dispose(),this.view.dispose(),this.renderer.dispose(),this.installedPlugins.forEach(t=>{t.dispose()})}}(function(n,e,t,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,r);else for(var c=n.length-1;c>=0;c--)(o=n[c])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);i>3&&s&&Object.defineProperty(e,t,s)})([rs.dispose()],$r.prototype,"dispose",null),function(n){n.View=Co,n.Renderer=Uy,n.MouseWheel=$y,n.DefsManager=yO,n.GridManager=By,n.CoordManager=bO,n.TransformManager=gO,n.HighlightManager=k5,n.BackgroundManager=jy}($r||($r={})),function(n){n.toStringTag=`X6.${n.name}`,n.isGraph=function e(t){if(null==t)return!1;if(t instanceof n)return!0;const r=t[Symbol.toStringTag];return null==r||r===n.toStringTag}}($r||($r={})),function(n){n.render=function e(t,r){const i=t instanceof HTMLElement?new n({container:t}):new n(t);return null!=r&&i.fromJSON(r),i}}($r||($r={})),function(n){n.registerNode=Sn.registry.register,n.registerEdge=on.registry.register,n.registerView=wr.registry.register,n.registerAttr=Mo.registry.register,n.registerGrid=va.registry.register,n.registerFilter=i3.registry.register,n.registerNodeTool=a3.registry.register,n.registerEdgeTool=l3.registry.register,n.registerBackground=H0.registry.register,n.registerHighlighter=dc.registry.register,n.registerPortLayout=ll.registry.register,n.registerPortLabelLayout=o3.registry.register,n.registerMarker=wa.registry.register,n.registerRouter=xa.registry.register,n.registerConnector=ul.registry.register,n.registerAnchor=u3.registry.register,n.registerEdgeAnchor=h3.registry.register,n.registerConnectionPoint=f3.registry.register}($r||($r={})),function(n){n.unregisterNode=Sn.registry.unregister,n.unregisterEdge=on.registry.unregister,n.unregisterView=wr.registry.unregister,n.unregisterAttr=Mo.registry.unregister,n.unregisterGrid=va.registry.unregister,n.unregisterFilter=i3.registry.unregister,n.unregisterNodeTool=a3.registry.unregister,n.unregisterEdgeTool=l3.registry.unregister,n.unregisterBackground=H0.registry.unregister,n.unregisterHighlighter=dc.registry.unregister,n.unregisterPortLayout=ll.registry.unregister,n.unregisterPortLabelLayout=o3.registry.unregister,n.unregisterMarker=wa.registry.unregister,n.unregisterRouter=xa.registry.unregister,n.unregisterConnector=ul.registry.unregister,n.unregisterAnchor=u3.registry.unregister,n.unregisterEdgeAnchor=h3.registry.unregister,n.unregisterConnectionPoint=f3.registry.unregister}($r||($r={}));class v3 extends Sn{}(function(n){class e extends Rs{init(){super.init(),this.cell.on("change:*",({key:r})=>{const i=n.shapeMaps[this.cell.shape];if(i){const{effect:s}=i;(!s||s.includes(r))&&this.renderHTMLComponent()}})}confirmUpdate(r){const i=super.confirmUpdate(r);return this.handleAction(i,e.action,()=>this.renderHTMLComponent())}renderHTMLComponent(){const r=this.selectors&&this.selectors.foContent;if(r){E0(r);const i=n.shapeMaps[this.cell.shape];if(!i)return;let{html:s}=i;"function"==typeof s&&(s=s(this.cell)),s&&("string"==typeof s?r.innerHTML=s:_0(r,s))}}}var t;n.View=e,(t=e=n.View||(n.View={})).action="html",t.config({bootstrap:[t.action],actions:{html:t.action}}),Rs.registry.register("html-view",t,!0)})(v3||(v3={})),function(n){n.config({view:"html-view",markup:[{tagName:"rect",selector:"body"},Object.assign({},Pt.getForeignObjectMarkup()),{tagName:"text",selector:"label"}],attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"}}}),Sn.registry.register("html",n,!0)}(v3||(v3={})),function(n){n.shapeMaps={},n.register=function e(t){const{shape:r,html:i,effect:s,inherit:o}=t,c=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(t,["shape","html","effect","inherit"]);if(!r)throw new Error("should specify shape in config");n.shapeMaps[r]={html:i,effect:s},$r.registerNode(r,Object.assign({inherit:o||"html"},c),!0)}}(v3||(v3={}));let Ice=(()=>{class n{constructor(){var t=this;this.token=J1.UPDATE_NODE.id,this.execute=Ee(function*(){const{args:r,hooks:i}=t.ctx.getArgs();yield t.ctx.getHooks().updateNode.call(r,function(){var o=Ee(function*(c){const{options:a=Da.XFlowNodeSetOptions}=c,l=yield t.ctx.getX6Graph(),h=t.getNodeCell(l,c),d=yield t.getNextNodeConfig(c,h);return t.setNodeConfig(h,d,a),{nodeConfig:d,nodeCell:h}});return function(c){return o.apply(this,arguments)}}(),i)}),this.setNodeConfig=(r,i,s)=>{r.setData(i,s),r.setPosition(i?.x||0,i?.y||0),r.setSize(i?.width||Da.NODE_WIDTH,i?.height||Da.NODE_HEIGHT),r.angle(i?.angle||0,{absolute:!0}),(0,Q1.isBoolean)(i?.visible)&&r.setVisible(i?.visible),r.getAttrByPath("text/text")&&r.setAttrByPath("text/text",i.label),i.attrs&&r.setAttrs(i.attrs),Array.isArray(i.ports)&&r.setPropByPath("ports/items",i.ports,{rewrite:!0,...s})},this.getNextNodeConfig=function(){var r=Ee(function*(i,s){if(i&&i.setNodeConfig&&i.setNodeConfig.callback){const o=t.getNodeConfig(s);return i.setNodeConfig.callback(o)}return i.nodeConfig});return function(i,s){return r.apply(this,arguments)}}(),this.getNodeConfig=r=>({...r.getData(),...r.getPosition(),...r.getSize()}),this.getNodeCell=(r,i)=>{const{nodeConfig:s,setNodeConfig:o}=i;let c="";return o&&o.node&&"string"==typeof o.node?c=o.node:s&&s.id&&"string"==typeof s.id&&(c=s.id),c?r?.getCellById(c):o&&o.node instanceof Sn?o.node:null}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Da,qy;!function(n){n.command=J1.UPDATE_NODE,n.hookKey="updateNode",n.XFlowNodeSetOptions={overwrite:!0},n.NODE_WIDTH=200,n.NODE_HEIGHT=40}(Da||(Da={})),function(n){n.command=J1.DEL_NODE,n.hookKey="delNode"}(qy||(qy={}));const Pce=[Tv,Da,qy];let Lce=(()=>{class n{constructor(){var t=this;this.token=ac.ADD_EDGE.id,this.processEdgeConfig=function(){var r=Ee(function*(i,s){if(!s.id){const{createIdService:o=F5.createEdgeId}=i;s.id=yield o(s)}return s.sourcePortId&&!s.sourcePort&&(s.sourcePort=s.sourcePortId,s.targetPort=s.targetPortId),s});return function(i,s){return r.apply(this,arguments)}}(),this.execute=Ee(function*(){const{args:r,hooks:i}=t.ctx.getArgs();yield t.ctx.getHooks().addEdge.call(r,function(){var o=Ee(function*(c){const{cellFactory:a,createEdgeService:l,options:d}=c,g=yield t.ctx.getX6Graph();let p=c.edgeConfig;if(l){const C=yield l(c);if("boolean"==typeof C)return{err:"createEdgeService rejected"};p=C}const v=yield t.processEdgeConfig(c,p);let y;const w={...d,isCommand:!0};if(a){const C=yield a(v,t);y=g.addEdge(C,w)}else y=g.addEdge({...v,label:v?.label||v,data:{...v}},w);return{edgeConfig:v,edgeCell:y}});return function(c){return o.apply(this,arguments)}}(),i)})}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var F5;!function(n){function e(r){return r.source&&r.source.cell&&"string"==typeof r.source.cell}function t(r){return r.sourceCell&&"string"==typeof r.sourceCell}n.command=ac.ADD_EDGE,n.hookKey="addEdge",n.createEdgeId=r=>"string"==typeof r.source?`${r.source}:${r.sourcePortId}-${r.target}:${r.targetPortId}`:e(r)?`${r.source.cell}:${r.source.port}-${r.target.cell}:${r.target.port}`:t(r)?`${r.sourceCell}:${r.sourcePort}-${r.targetCell}:${r.targetPort}`:"",n.isX6EdgeConfig=e,n.isX6EdgePlainConfig=t}(F5||(F5={}));let Hce=(()=>{class n{constructor(){var t=this;this.token=ac.UPDATE_EDGE.id,this.execute=Ee(function*(){const{args:r,hooks:i}=t.ctx.getArgs();yield t.ctx.getHooks().updateEdge.call(r,function(){var o=Ee(function*(c){const a=yield t.ctx.getX6Graph(),{updateEdgeService:l,updateEdgeLabelService:h=q0.XFlowUpdateLabelService,options:d=q0.XFlowEdgeSetOptions}=c,g=l?yield l(c):c?.edgeConfig,p=a?.getCellById(g?.id);return p?.setData(g,d),g?.hasOwnProperty("label")&&(yield h(p,g,d)),(0,Q1.isBoolean)(g?.visible)&&p.setVisible(g?.visible),g.attrs&&p.setAttrs(g.attrs),g.vertices&&p.setVertices(g.vertices),g.router&&p.setRouter(g.router),g.connector&&p.setConnector(g.connector),(0,Q1.isObject)(g.source)&&p.setSource(g.source),(0,Q1.isObject)(g.target)&&p.setTarget(g.target),{edgeConfig:g,edgeCell:p}});return function(c){return o.apply(this,arguments)}}(),i)})}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var q0;!function(n){n.command=ac.UPDATE_EDGE,n.hookKey="updateEdge",n.XFlowEdgeSetOptions={overwrite:!0},n.XFlowUpdateLabelService=function(){var e=Ee(function*(t,r,i=n.XFlowEdgeSetOptions){t?.setLabelAt(0,r?.label||r,i)});return function(t,r){return e.apply(this,arguments)}}()}(q0||(q0={}));let MO=(()=>{class n{constructor(){var t=this;this.token=ac.DEL_EDGE.id,this.execute=Ee(function*(){const{args:r,hooks:i}=t.ctx.getArgs();yield t.ctx.getHooks().delEdge.call(r,function(){var o=Ee(function*(c){const{edgeConfig:a,x6Edge:l,deleteEdgeService:h,options:g}=c;let p=l;if(!p&&(p=yield t.findEdgeById(a),!p))return console.error(Eo.ErrEnum.EDGE_NOT_EXIST,a),{err:Eo.ErrEnum.EDGE_NOT_EXIST};if(!p||!p.isEdge())return console.error(Eo.ErrEnum.EDGE_NOT_EXIST,p),{err:Eo.ErrEnum.EDGE_NOT_EXIST};if(h&&!(yield h(c)))return{err:Eo.ErrEnum.SERVICE_REJECT};try{const y=p.getTargetCell(),w=p.getSourceCell(),C=p.getSourcePortId(),M=p.getTargetPortId(),E=w?w.id:w.source,z=y?y.id:y.target;return p.remove({...g,isCommand:!0}),{err:null,edgeConfig:{source:E,target:z,sourcePortId:C,targetPortId:M},targetCell:y,sourceCell:w,sourcePortId:C,targetPortId:M}}catch(y){return console.error(Eo.ErrEnum.X6_DELETE_FAILED,y),{err:Eo.ErrEnum.X6_DELETE_FAILED}}});return function(c){return o.apply(this,arguments)}}(),i)}),this.findEdgeById=function(){var r=Ee(function*(i){return(yield t.ctx.getX6Graph()).getCellById(i.id)});return function(i){return r.apply(this,arguments)}}()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Eo;!function(n){let e;var t;n.command=ac.DEL_EDGE,n.hookKey="delEdge",(t=e=n.ErrEnum||(n.ErrEnum={})).EDGE_NOT_EXIST="edge is not exist",t.EDGE_INVALID_CELL="this is not a valid cell",t.X6_DELETE_FAILED="x6 throw err when call delete edge",t.SERVICE_REJECT="service reject to delete"}(Eo||(Eo={}));const Nce=[F5,q0,Eo];class Rce{constructor(e,t,r,i){var s=this;this.commandService=e,this.graphProvider=t,this.modelService=r,this.hookService=i,this.runtimeHooks=[],this.getModelService=()=>this.modelService,this.getCommands=()=>this.commandService,this.getGraphConfig=Ee(function*(){return s.graphProvider.getGraphOptions()}),this.getX6Graph=Ee(function*(){if(s.graph)return s.graph;const o=yield s.graphProvider.getGraphInstance();return s.graph=o,o}),this.getHooks=()=>this.hookService.hookProvider()}setArgs(e,t=[]){this.args=e,this.runtimeHooks=t}getArgs(){return{args:{...this.args,modelService:this.getModelService(),commandService:this.getCommands(),getX6Graph:this.getX6Graph,getGraphConfig:this.getGraphConfig},hooks:this.runtimeHooks}}}var G0,W0,CO,EO,_O;!function(n){const e="\u8282\u70b9\u64cd\u4f5c";n.ADD_NODE={id:"xflow:add-node",label:"\u6dfb\u52a0\u8282\u70b9",category:e},n.DEL_NODE={id:"xflow:del-node",label:"\u5220\u9664\u8282\u70b9",category:e},n.UPDATE_NODE_PORT={id:"xflow:update-node-port",label:"\u5220\u9664\u8fde\u63a5\u6869",category:e},n.UPDATE_NODE={id:"xflow:update-node",label:"\u66f4\u65b0\u8282\u70b9",category:e},n.HIGHLIGHT_NODE={id:"xflow:highlight-node",label:"\u9ad8\u4eae\u8282\u70b9",category:e},n.SELECT_NODE={id:"xflow:select-node",label:"\u9009\u4e2d\u8282\u70b9",category:e},n.MOVE_NODE={id:"xflow:move-node",label:"Move Node",category:e},n.CENTER_NODE={id:"xflow:center-node",label:"\u5c45\u4e2d\u8282\u70b9",category:e},n.FRONT_NODE={id:"xflow:front-node",label:"\u524d\u7f6e\u8282\u70b9",category:e},n.BACK_NODE={id:"xflow:back-node",label:"\u540e\u7f6e\u8282\u70b9",category:e}}(G0||(G0={})),function(n){const e="\u8fb9\u64cd\u4f5c";n.ADD_EDGE={id:"xflow:add-edge",label:"\u6dfb\u52a0\u8fb9",category:e},n.DEL_EDGE={id:"xflow:del-edge",label:"\u5220\u9664\u8fb9",category:e},n.UPDATE_EDGE={id:"xflow:update-edge",label:"\u66f4\u65b0\u8fb9",category:e},n.HIGHLIGHT_EDGE={id:"xflow:highlight-edge",label:"\u9ad8\u4eae\u8fb9",category:e},n.FRONT_EDGE={id:"xflow:front-edge",label:"\u524d\u7f6e\u53d8",category:e},n.BACK_EDGE={id:"xflow:back-edge",label:"\u540e\u7f6e\u8fb9",category:e}}(W0||(W0={})),function(n){const e="\u753b\u5e03\u64cd\u4f5c";n.LOAD_META={id:"xflow:load-meta",label:"\u83b7\u53d6\u5143\u6570\u636e",category:e},n.LOAD_DATA={id:"xflow:load-data",label:"\u83b7\u53d6\u56fe\u6570\u636e",category:e},n.SAVE_GRAPH_DATA={id:"xflow:save-graph-data",label:"\u4fdd\u5b58",category:e},n.GRAPH_LAYOUT={id:"xflow:layout",label:"\u8ba1\u7b97\u5e03\u5c40",category:e},n.GRAPH_RENDER={id:"xflow:graph-render",label:"\u6e32\u67d3\u753b\u5e03",category:e},n.UNDO_CMD={id:"xflow:undo-cmd",label:"\u64a4\u9500",category:e},n.REDO_CMD={id:"xflow:redo-cmd",label:"\u91cd\u505a",category:e},n.GRAPH_INSTANCE_COMMAND={id:"xflow:graph-instacne-cmd",label:"Graph\u901a\u7528Command",category:e},n.GRAPH_ZOOM={id:"xflow:graph-zoom",label:"\u7f29\u653e\u753b\u5e03",category:e},n.GRAPH_FULLSCREEN={id:"xflow:graph-fullscreen",label:"\u5168\u5c4f",category:e},n.GRAPH_RESIZE={id:"xflow:graph-resize",label:"\u8c03\u6574\u7a97\u53e3\u5927\u5c0f",category:e},n.GRAPH_COPY={id:"xflow:graph-copy-selection",label:"\u590d\u5236",category:e},n.GRAPH_PASTE={id:"xflow:graph-paste-selection",label:"\u7c98\u8d34",category:e},n.GRAPH_TOGGLE_MULTI_SELECT={id:"xflow:graph-toggle-multi-select",label:"\u542f\u7528\u6846\u9009",category:e},n.GRAPH_ADD_TOOL={id:"xflow:add-tool",label:"\u6dfb\u52a0\u5de5\u5177",category:e},n.GRAPH_DEL_TOOL={id:"xflow:del-tool",label:"\u5220\u9664\u5de5\u5177",category:e},n.GRAPH_HISTORY_UNDO={id:"xflow:history-undo",label:"history undo",category:e},n.GRAPH_HISTORY_REDO={id:"xflow:history-redo",label:"history redo",category:e},n.GRAPH_HISTORY_RESET={id:"xflow:history-reset",label:"history reset",category:e},n.GRAPH_HISTORY_TOGGLE={id:"xflow:history-toggle",label:"history toggle",category:e}}(CO||(CO={})),function(n){n.UPDATE_MODEL={id:"xflow:update-model",label:"\u8bbe\u7f6e\u72b6\u6001\u503c",category:"\u72b6\u6001\u64cd\u4f5c"}}(EO||(EO={})),function(n){const e="\u7fa4\u7ec4\u64cd\u4f5c";n.INIT_GROUP={id:"xflow:init-group",label:"\u521d\u59cb\u5316\u7fa4\u7ec4",category:e},n.ADD_GROUP={id:"xflow:add-group",label:"\u65b0\u5efa\u7fa4\u7ec4",category:e},n.DEL_GROUP={id:"xflow:del-group",label:"\u89e3\u6563\u7fa4\u7ec4",category:e},n.COLLAPSE_GROUP={id:"xflow:collapse-group",label:"\u6298\u53e0\u7fa4\u7ec4",category:e}}(_O||(_O={}));let B5=(()=>{class n{constructor(){this.groupManager=new Wce}getGraphInstance(){var t=this;return Ee(function*(){const r=yield t.groupManager.getGraph(t.graphConfig.graphId);return t.graphInstance=r,Promise.resolve(t.graphInstance)})()}getGraphOptions(){return Promise.resolve(this.graphConfig)}setGraphInstance(t){this.graphInstance=t}setGraphOptions(t){this.graphConfig=t,this.groupManager.setConfig(this.graphConfig)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vce=(()=>{class n{constructor(t){this.command=t}registerModel(t){}static#e=this.\u0275fac=function(r){return new(r||n)(Y(q5))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const cn=n=>function(){var e=Ee(function*(t){return yield t.awaitModel(n)});return function(t){return e.apply(this,arguments)}}(),an=n=>function(){var e=Ee(function*(t){return(yield t.awaitModel(n)).getValidValue()});return function(t){return e.apply(this,arguments)}}();var Gy,Wy,j5,xO,SO,zO,Yy,$5,DO,AO,TO,OO,IO,PO,LO,HO,NO,RO,VO,kO,FO;!function(n){n.id="GRAPH_META",n.getModel=cn(n.id),n.useValue=an(n.id)}(Gy||(Gy={})),function(n){n.id="GRAPH_ENABLE_MULTI_SELECT",n.getModel=cn(n.id),n.useValue=an(n.id)}(Wy||(Wy={})),function(n){n.id="GRAPH_FULLSCREEN",n.getModel=cn(n.id),n.useValue=an(n.id)}(j5||(j5={})),function(n){n.id="IS_NODE_SELECTED",n.getModel=cn(n.id),n.useValue=an(n.id)}(xO||(xO={})),function(n){n.id="IS_GROUP_SELECTED",n.getModel=cn(n.id),n.useValue=an(n.id)}(SO||(SO={})),function(n){n.id="IS_NORMAL_NODES_SELECTED",n.getModel=cn(n.id),n.useValue=an(n.id)}(zO||(zO={})),function(n){n.id="LAST_SELECTED_CELL",n.getModel=cn(n.id),n.useValue=an(n.id)}(Yy||(Yy={})),function(n){n.id="SELECTED_CELLS",n.getModel=cn(n.id),n.useValue=an(n.id)}($5||($5={})),function(n){n.id="LAST_SELECTED_NODE",n.getModel=cn(n.id),n.useValue=an(n.id)}(DO||(DO={})),function(n){n.id="SELECTED_NODES",n.getModel=cn(n.id),n.useValue=an(n.id)}(AO||(AO={})),function(n){n.id="SELECTED_EDGES",n.getModel=cn(n.id),n.useValue=an(n.id)}(TO||(TO={})),function(n){n.id="SELECTED_GROUPS",n.getModel=cn(n.id),n.useValue=an(n.id)}(OO||(OO={})),function(n){n.id="CONTEXTMENU_NODE",n.getModel=cn(n.id),n.useValue=an(n.id)}(IO||(IO={})),function(n){n.id="CONTEXTMENU_EDGE",n.getModel=cn(n.id),n.useValue=an(n.id)}(PO||(PO={})),function(n){n.id="CONTEXTMENU_TARGET",n.getModel=cn(n.id),n.useValue=an(n.id)}(LO||(LO={})),function(n){n.id="GRAPH_SCALE",n.getModel=cn(n.id),n.useValue=an(n.id)}(HO||(HO={})),function(n){n.id="COMMAND_REDOABLE",n.getModel=cn(n.id),n.useValue=an(n.id)}(NO||(NO={})),function(n){n.id="COMMAND_UNDOABLE",n.getModel=cn(n.id),n.useValue=an(n.id)}(RO||(RO={})),function(n){n.id="COMMAND_GLOBALS",n.getModel=cn(n.id),n.useValue=an(n.id)}(VO||(VO={})),function(n){n.id="HISTORY_UNDOABLE",n.getModel=cn(n.id),n.useValue=an(n.id)}(kO||(kO={})),function(n){n.id="HISTORY_REDOABLE",n.getModel=cn(n.id),n.useValue=an(n.id)}(FO||(FO={}));let kce=(()=>{class n{constructor(t){var r=this;this.graphProvider=t,this.getGraphInstance=Ee(function*(){return{graph:yield r.graphProvider.getGraphInstance(),config:yield r.graphProvider.getGraphOptions()}})}registerModel(t){var i,r=this;t.registerModel({id:Gy.id,getInitialValue:()=>({flowId:"-1"}),watchChange:(i=Ee(function*(s){return()=>{s.setValue({flowId:"-1"})}}),function(o){return i.apply(this,arguments)})}),t.registerModel({id:Wy.id,getInitialValue:()=>({isEnable:!1}),watchChange:function(){var i=Ee(function*(s){return()=>{s.setValue({isEnable:!1})}});return function(o){return i.apply(this,arguments)}}()}),t.registerModel({id:j5.id,getInitialValue:()=>!1,watchChange:function(){var i=Ee(function*(s,o){const c=function(){var a=Ee(function*(){const l=!!document.fullscreenElement;(yield j5.getModel(o)).setValue(l)});return function(){return a.apply(this,arguments)}}();return document.addEventListener("fullscreenchange",c,!1),()=>{document.removeEventListener("fullscreenchange",c),s.setValue(!1)}});return function(o,c){return i.apply(this,arguments)}}()}),t.registerModel({id:$5.id,getInitialValue:()=>[],watchChange:function(){var i=Ee(function*(s){const{graph:o}=yield r.getGraphInstance(),c=a=>{const{selected:l}=a;s.setValue(l)};return o.on("selection:changed",c),()=>o.off("selection:changed",c)});return function(o){return i.apply(this,arguments)}}()}),t.registerModel({id:Yy.id,watchChange:function(){var i=Ee(function*(s,o){return(yield $5.getModel(o)).watch((a=[])=>{s.setValue([...a].pop()||null)})});return function(o,c){return i.apply(this,arguments)}}()})}static#e=this.\u0275fac=function(r){return new(r||n)(Y(B5))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),BO=(()=>{class n{constructor(t,r,i){this.commandModelContribution=t,this.graphModelContribution=r,this.graphProvider=i}onStart(){this.commandModelContribution.registerModel(this),this.graphModelContribution.registerModel(this)}registerModel(t){}awaitModel(t){return Promise.resolve(void 0)}static#e=this.\u0275fac=function(r){return new(r||n)(Y(Vce),Y(kce),Y(B5))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var U5=function(n){return n.ASYNC_SRRIES="ASYNC_SRRIES",n.ASYNC_PARALLEL="ASYNC_PARALLEL",n}(U5||{}),jO=function(n){return n.normalize=(e=[],t)=>{const r=Array.isArray(e)?e:[e],i=[];return t.forEach(s=>{i.push(s)}),[...i,...r].filter(s=>s&&!!s.handler)},n}(jO||{});class Y0{constructor(e){var r,t=this;this.scheduleType=U5.ASYNC_SRRIES,this.hasHook=r=>this.hookMap.has(r),this.getHooks=(r=[],i=!0)=>jO.normalize(r,this.hookMap),this.schedulers={[U5.ASYNC_SRRIES]:(r=Ee(function*(i,s,o=[]){let c=s;for(const a of o)if([0,1].includes(a.handler.length))yield a.handler.call(t,i);else if([2].includes(a.handler.length)&&null!==c){const l=yield a.handler.call(t,i,c);if(null===l){c=null;break}if("function"==typeof l){c=l;continue}}if(c)return yield c.call(t,i)}),function(i,s){return r.apply(this,arguments)}),[U5.ASYNC_PARALLEL]:function(){var r=Ee(function*(i,s,o=[]){if(o.map(a=>[0,1].includes(a.handler.length)?a.handler.call(t,i):[2].includes(a.handler.length)?a.handler.call(t,i,s):void 0),s)return yield s.call(t)});return function(i,s){return r.apply(this,arguments)}}()},this.hookMap=new Map,e&&e.type&&(this.scheduleType=e.type)}call(e,t,r){const i=this.getHooks(r,!0);return(0,this.schedulers[this.scheduleType])(e,t,i)}registerHook(e){}}class Bce{constructor(){var e=this;this.CONFIG_TYPE="XFlowHook",this.time=Date.now(),this.setRegisterHook=t=>{this.hookRegisterFunc=t},this.setRegisterHookhub=t=>{this.hookhubRegisterFn=t},this.getConfig=Ee(function*(){return{CONFIG_TYPE:e.CONFIG_TYPE,hookRegisterFn:e.hookRegisterFunc||$O,hookhubRegisterFn:e.hookhubRegisterFn||$O}})}}const $O=()=>({dispose:()=>{}});let jce=(()=>{class n{constructor(){var t=this;this.registerHook=function(){var r=Ee(function*(i){const{hookRegisterFn:s}=yield t.hookConfig.getConfig();s(i)});return function(i){return r.apply(this,arguments)}}(),this.registerHookHub=function(){var r=Ee(function*(i){const{hookhubRegisterFn:s}=yield t.hookConfig.getConfig();s(i)});return function(i){return r.apply(this,arguments)}}()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$ce=(()=>{class n{registerHook(t){return Promise.resolve({})}registerHookHub(){return Promise.resolve(void 0)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xy=(()=>{class n{constructor(t,r,i){this.runtimeHookContribution=t,this.graphEventHookContribution=r,this.commandContributionService=i,this.hookProvider=()=>this.hooks,this.registerHook=o=>o(this.hooks),this.registerHookHub=(o,c)=>(this.hooks[o]=c,{dispose:()=>{delete this.hooks[o]}}),this.hooks={graphOptions:new Y0,afterGraphInit:new Y0,beforeGraphDestroy:new Y0,x6Events:new Y0};const s=new Bce;this.hookConfig=s,this.runtimeHookContribution.hookConfig=s}onStart(){this.runtimeHookContribution.registerHookHub(this),this.graphEventHookContribution.registerHookHub(),this.commandContributionService.registerHookHub(this),this.runtimeHookContribution.registerHook(this.hooks),this.graphEventHookContribution.registerHook(this.hooks),this.commandContributionService.registerHook(this.hooks)}setHookConfig(t){this.hookConfig=t,this.runtimeHookContribution.hookConfig=t}static#e=this.\u0275fac=function(r){return new(r||n)(Y(jce),Y($ce),Y(qO))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const UO=[...gq,...Pce,...Nce],Uce=()=>new Y0;let qO=(()=>{class n{constructor(t){this.injector=t,this.registerHook=function(){var r=Ee(function*(i){var s;i.x6Events.registerHook({name:"bind group node move event",handler:(s=Ee(function*(o){const c={eventName:"node:moving",callback:(a=Ee(function*({node:l}){l.prop("isGroup")&&l.prop("originPosition",l.getPosition())}),function(h){return a.apply(this,arguments)})};var a;o.push(c)}),function(c){return s.apply(this,arguments)})})});return function(i){return r.apply(this,arguments)}}(),this.registerHookHub=function(){var r=Ee(function*(i){UO.forEach(({hookKey:s,createHook:o=Uce})=>{i.registerHookHub(s,o())})});return function(i){return r.apply(this,arguments)}}()}registerGraphCommands(t){UO.forEach(({command:r})=>{t.registerCommand(r,{createCommand:(i,s,o)=>{const c=this.injector.get(B5),a=this.injector.get(BO),l=this.injector.get(Xy),h=this.injector.get(q5),d=new Rce(h,c,a,l);d.setArgs(s,o);const g=t.commandMap.get(i);return g.ctx=d,g}})})}static#e=this.\u0275fac=function(r){return new(r||n)(Y(mr))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),q5=(()=>{class n{constructor(t,r){this.injector=t,this.commandContributionService=r,this.factories=new Map,this.commandMap=new Map,this.commands=new Map,this.registerXFlowCommand()}onStart(){this.commandContributionService.registerGraphCommands(this)}executeCommand(t,r,i){var s=this;return Ee(function*(){const o=s.getFactory(t);return o&&o.createCommand(t,r,i).execute(),Promise.resolve(void 0)})()}redoCommand(){return Promise.resolve(void 0)}undoCommand(){return Promise.resolve(void 0)}registerXFlowCommand(){const t=[dq,fq,pq,Ice,Lce,Hce,MO,MO];for(const r of t){const i=this.injector.get(r);this.commandMap.set(i.token,i)}}registerCommand(t,r){this.factories.has(t.id)?console.warn(`A command ${t.id} is already register`):(this.doRegisterCommand(t),this.registerFactory(t.id,r))}registerFactory(t,r){this.hasFactory(t)&&console.error("cannot register command:",t),this.factories.set(t,r)}doRegisterCommand(t){this.commands.set(t.id,t)}hasFactory(t){return!!this.factories.get(t)}getFactory(t){return this.factories.get(t)}static#e=this.\u0275fac=function(r){return new(r||n)(Y(mr),Y(qO))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qce=(()=>{class n{constructor(t,r,i,s){var o=this;this.graphProvider=t,this.commandService=r,this.modelService=i,this.hookService=s,this.getGraphData=Ee(function*(){const a=(yield o.graphProvider.getGraphInstance()).getCells();return Kce(a)}),this.getAllNodes=Ee(function*(){return(yield o.graphProvider.getGraphInstance()).getNodes()}),this.getNodeById=function(){var c=Ee(function*(a){return(yield o.graphProvider.getGraphInstance()).getCellById(a)});return function(a){return c.apply(this,arguments)}}(),this.getAllEdges=Ee(function*(){return(yield o.graphProvider.getGraphInstance()).getEdges()}),this.getEdgeById=function(){var c=Ee(function*(a){return(yield o.graphProvider.getGraphInstance()).getCellById(a)});return function(a){return c.apply(this,arguments)}}()}start(){this.commandService.onStart(),this.modelService.onStart(),this.hookService.onStart()}getGraphInstance(){return this.graphProvider.getGraphInstance()}getGraphConfig(){return this.graphProvider.getGraphOptions()}static#e=this.\u0275fac=function(r){return new(r||n)(Y(B5),Y(q5),Y(BO),Y(Xy))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Wce{constructor(){this.graphMap=new Map}getGraph(e){let t=this.graphMap.get(e);if(!t){const{graphContainer:r}=this.config,{clientHeight:i,clientWidth:s}=r;t=new $r({container:r,width:s,height:i,...this.config.x6Options}),this.graphMap.set(e,t),t.on("node:moved",({node:o})=>{const c=o.getData(),a=o.position();o.setData({...c,x:a?.x,y:a?.y})}),t.on("node:resized",({node:o})=>{const c=o.getData(),a=o.size();o.setData({...c,width:a?.width,height:a?.height})})}return Promise.resolve(t)}setConfig(e){this.config=e}}const Kce=n=>{const e=[],t=[];return n.map(i=>(i=>{i.isNode()&&e.push((n=>{const e=n.getChildren(),t=n.getSize(),r=n.getData()||{},i=n.getPosition(),s=n.getParentId(),{isCollapsed:o}=r,c=r.groupCollapsedSize||(o?t:null);return{...r,id:n.id,width:t.width,height:t.height,x:i.x,y:i.y,group:s,groupChildren:e?e.map(a=>a.id):null,groupCollapsedSize:c}})(i)),i.isEdge()&&t.push((n=>({...n.getData()||{},id:n.id,source:n.getSourceCellId(),target:n.getTargetCellId(),sourcePortId:n.getSourcePortId(),targetPortId:n.getTargetPortId(),sourcePort:n.getSourcePortId(),targetPort:n.getTargetPortId()}))(i))})(i)),{nodes:e,edges:t}},Jce=["content"],Qce=["XFlow"],eae=function(){return{top:0,bottom:0,left:0,right:0}};function tae(n,e){if(1&n&&(R1(0),Ei(1,"app-x-flow-canvas",3),V1()),2&n){const t=k1();kn(1),Fn("app",t.app)("position",function WE(n,e,t){const r=pn()+n,i=q();return i[r]===Ie?go(i,r,t?e.call(t):e()):function z8(n,e){return n[e]}(i,r)}(2,eae))}}const nae=["*"];let Zy=(()=>{class n{constructor(t,r){this.injector=t,this.hookService=r,this.haveCanvasComponent=!1}ngOnChanges(t){t.hookConfig&&t.hookConfig.currentValue&&this.hookService.setHookConfig(this.hookConfig)}ngOnInit(){var t=this;this.app=(n=>this.injector.get(qce))(),this.app.start(),this.onload&&this.onload(this.app),setTimeout(Ee(function*(){yield t.app.commandService.executeCommand(D2.GRAPH_RENDER.id,{graphData:t.graphData},null),t.app.getGraphInstance().then(r=>r.centerContent())}),1e3)}ngAfterViewInit(){this.haveCanvasComponent=this.content.some(t=>t&&t.isXFlowCanvas)}static#e=this.\u0275fac=function(r){return new(r||n)(ie(mr),ie(Xy))};static#t=this.\u0275cmp=or({type:n,selectors:[["app-x-flow"]],contentQueries:function(r,i,s){if(1&r&&function im(n,e,t,r){const i=Ye();if(i.firstCreatePass){const s=gn();f_(i,new l_(e,t,r),s.index),function IV(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}h_(i,q(),t)}(s,Jce,4),2&r){let o;$1(o=U1())&&(i.content=o)}},viewQuery:function(r,i){if(1&r&&F8(Qce,5),2&r){let s;$1(s=U1())&&(i.XFlow=s.first)}},inputs:{meta:"meta",graphConfig:"graphConfig",onload:"onload",graphData:"graphData",hookConfig:"hookConfig"},features:[Hn],ngContentSelectors:nae,decls:4,vars:1,consts:[[1,"relative","h-full"],["XFlow",""],[4,"ngIf"],[3,"app","position"]],template:function(r,i){1&r&&(o2(),Rr(0,"div",0,1),tc(2,tae,2,3,"ng-container",2),c2(3,0,["#content",""]),Vr()),2&r&&(kn(2),Fn("ngIf",!i.haveCanvasComponent))},changeDetection:0})}return n})();var GO;!function(n){let e;var r;let t;(r=e=n.AnchorGroup||(n.AnchorGroup={})).TOP="top",r.BOTTOM="bottom",r.RIGHT="right",r.LEFT="left",function(r){r.INPUT="input",r.OUTPUT="output"}(t=n.AnchorType||(n.AnchorType={}))}(GO||(GO={}));const Ky=(n={})=>{const e=Object.entries(n),t=e.length>0?{position:"absolute"}:{};return e.forEach(([r,i=0])=>{t[r]=`${i}px`}),t},rae=new oe("command injection token"),iae=["rootRef"],sae=["canvasRef"];let Jy=(()=>{class n{constructor(){this.isXFlowCanvas=!0,this.style={}}ngOnChanges(t){if(t.app&&t.app.currentValue){const r=this.config?this.config:new uq;setTimeout(()=>{r.setX6Config(),r.setRootContainer(this.rootRef.nativeElement),r.setGraphContainer(this.rootRef.nativeElement),this.app.graphProvider.setGraphOptions(r)})}t.position&&t.position.currentValue&&(this.style=Ky(this.position),console.log(this.style))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=or({type:n,selectors:[["app-x-flow-canvas"]],viewQuery:function(r,i){if(1&r&&(F8(iae,5),F8(sae,5)),2&r){let s;$1(s=U1())&&(i.rootRef=s.first),$1(s=U1())&&(i.canvasRef=s.first)}},inputs:{isXFlowCanvas:"isXFlowCanvas",config:"config",position:"position",app:"app"},features:[Hn],decls:4,vars:2,consts:[["rootRef",""],[1,"h-full"],["canvasRef",""]],template:function(r,i){1&r&&(Rr(0,"div",null,0),Ei(2,"div",1,2),Vr()),2&r&&function zs(n){As(kC,lN,n,!1)}(i.style)},changeDetection:0})}return n})();function aae(n,e){1&n&&Ei(0,"span",7)}function lae(n,e){1&n&&Ei(0,"span",8)}const uae=function(n,e,t){return{top:"21px",right:n,borderRadius:e,borderLeft:t}};let Qy=(()=>{class n{constructor(){this.position={width:240,top:40,bottom:0,left:0},this.style={},this.CONTAINER_CLASS="xflow-node-panel-collpase",this.collapse=!1,this.width=240,this.left=0}ngOnInit(){this.style=Ky(this.position)}setCollapse(){this.collapse=!this.collapse,this.position.left=this.collapse?-this.width:this.left,this.position={...this.position}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=or({type:n,selectors:[["app-flow-node-panel"]],inputs:{position:"position"},decls:9,vars:12,consts:[[3,"className","position"],["nzBordered","false"],["nzHeader","\u901a\u7528\u8282\u70b9","nzActive",""],[1,"xflow-node-panel-official"],[3,"ngStyle","click"],["nz-icon","","nzType","double-right","nzTheme","outline",4,"ngIf"],["nz-icon","","nzType","double-left","nzTheme","outline",4,"ngIf"],["nz-icon","","nzType","double-right","nzTheme","outline"],["nz-icon","","nzType","double-left","nzTheme","outline"]],template:function(r,i){1&r&&(Rr(0,"app-base-panel",0)(1,"div")(2,"nz-collapse",1)(3,"nz-collapse-panel",2)(4,"div",3),Ei(5,"app-terminal"),Vr()()()(),Rr(6,"div",4),$f("click",function(){return i.setCollapse()}),tc(7,aae,1,0,"span",5),tc(8,lae,1,0,"span",6),Vr()()),2&r&&(Fn("className",i.CONTAINER_CLASS)("position",i.position),kn(6),function JC(n,e,t){As(Ir,po,K4(q(),n,e,t),!0)}("",i.CONTAINER_CLASS,"-icon"),Fn("ngStyle",YE(8,uae,i.collapse?"-20px":"-10px",i.collapse?"0 50% 50% 0":"50%",i.collapse?"none":"")),kn(1),Fn("ngIf",i.collapse),kn(1),Fn("ngIf",!i.collapse))},styles:[".xflow-node-panel-collpase-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.xflow-node-panel-collpase-nodes[_ngcontent-%COMP%]{border-right:1px solid #d9d9d9}.xflow-node-panel-collpase-icon[_ngcontent-%COMP%]{position:absolute;z-index:99;width:20px;color:#aaa;text-align:center;background:#fff;border:1px solid #ccc;transform:translateY(-50%);cursor:pointer}.xflow-node-panel-collpase-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:1px}.xflow-node-panel-collpase-icon[_ngcontent-%COMP%]:hover{color:#2b84c0}.xflow-node-panel-official[_ngcontent-%COMP%]{grid-gap:5px;overflow-x:hidden;overflow-y:auto;background:#fff;cursor:grab;display:grid;grid-template-columns:repeat(auto-fit,minmax(24px,1fr))}"],changeDetection:0})}return n})();const hae=["*"];let WO=(()=>{class n{constructor(){this.style={},this.containerStyle={},this.containerClass={"xflow-workspace-panel":!0}}ngOnChanges(t){t.position&&t.position.currentValue&&this.setContainerStyle()}ngOnInit(){this.setContainerStyle()}setContainerStyle(){const t=Ky(this.position);this.containerStyle={...t,...this.style},this.className&&(this.containerClass[this.className]=!0)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=or({type:n,selectors:[["app-base-panel"]],inputs:{position:"position",style:"style",className:"className"},features:[Hn],ngContentSelectors:hae,decls:2,vars:2,consts:[[3,"ngStyle","ngClass"]],template:function(r,i){1&r&&(o2(),Rr(0,"div",0),c2(1),Vr()),2&r&&Fn("ngStyle",i.containerStyle)("ngClass",i.containerClass)},dependencies:[zx,jm],styles:[".xflow-workspace-panel{z-index:1;background:#fff}.xflow-node-panel-collpase{color:#000000d9;font-size:12px;transition:left .5s;border-top-right-radius:10px;border-bottom-right-radius:10px;box-shadow:#11111a1a 0 8px 24px,#11111a1a 0 16px 56px,#11111a1a 0 24px 80px}\n"],encapsulation:2,changeDetection:0})}return n})();const dae=[{path:"",pathMatch:"full",redirectTo:"flow"},{path:"flow",component:(()=>{class n{constructor(){this.graphData={nodes:[{id:"node1",x:40,y:40,width:80,height:40,label:"hello"},{id:"node2",x:160,y:180,width:80,height:40,label:"world"}],edges:[{source:"node1",target:"node2"}]},this.onload=t=>{console.log("flow app>>>",t)}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=or({type:n,selectors:[["app-flow"]],decls:3,vars:2,consts:[[1,"h-full"],[3,"graphData","onload"]],template:function(r,i){1&r&&(Rr(0,"div",0)(1,"app-x-flow",1),Ei(2,"app-flow-node-panel"),Vr()()),2&r&&(kn(1),Fn("graphData",i.graphData)("onload",i.onload))},dependencies:[Zy,Qy]})}return n})()}];let eb,gae=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=un({type:n});static#n=this.\u0275inj=Wn({imports:[lz.forRoot(dae),lz]})}return n})(),pae=(()=>{class n{constructor(){this.title="ngx-flow"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=or({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&Ei(0,"router-outlet")},dependencies:[bv]})}return n})();try{eb=typeof Intl<"u"&&Intl.v8BreakIterator}catch{eb=!1}let mae=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function OB(n){return n===Px}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!eb)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||n)(Y(Ko))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vae=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=un({type:n});static#n=this.\u0275inj=Wn({})}return n})();function nr(n,e){(function wae(n){return"string"==typeof n&&-1!==n.indexOf(".")&&1===parseFloat(n)})(n)&&(n="100%");var t=function Mae(n){return"string"==typeof n&&-1!==n.indexOf("%")}(n);return n=360===e?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:n=360===e?(n<0?n%e+e:n%e)/parseFloat(String(e)):n%e/parseFloat(String(e))}function W5(n){return Math.min(1,Math.max(0,n))}function XO(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function Y5(n){return n<=1?"".concat(100*Number(n),"%"):n}function fl(n){return 1===n.length?"0"+n:String(n)}function ZO(n,e,t){n=nr(n,255),e=nr(e,255),t=nr(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),s=0,o=0,c=(r+i)/2;if(r===i)o=0,s=0;else{var a=r-i;switch(o=c>.5?a/(2-r-i):a/(r+i),r){case n:s=(e-t)/a+(e<t?6:0);break;case e:s=(t-n)/a+2;break;case t:s=(n-e)/a+4}s/=6}return{h:s,s:o,l:c}}function nb(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*t*(e-n):t<.5?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function X5(n,e,t){n=nr(n,255),e=nr(e,255),t=nr(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),s=0,o=r,c=r-i,a=0===r?0:c/r;if(r===i)s=0;else{switch(r){case n:s=(e-t)/c+(e<t?6:0);break;case e:s=(t-n)/c+2;break;case t:s=(n-e)/c+4}s/=6}return{h:s,s:a,v:o}}function Z5(n,e,t,r){var i=[fl(Math.round(n).toString(16)),fl(Math.round(e).toString(16)),fl(Math.round(t).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function KO(n){return Math.round(255*parseFloat(n)).toString(16)}function JO(n){return xi(n)/255}function xi(n){return parseInt(n,16)}var rb={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Vs(n){var e={r:0,g:0,b:0},t=1,r=null,i=null,s=null,o=!1,c=!1;return"string"==typeof n&&(n=function Aae(n){if(0===(n=n.trim().toLowerCase()).length)return!1;var e=!1;if(rb[n])n=rb[n],e=!0;else if("transparent"===n)return{r:0,g:0,b:0,a:0,format:"name"};var t=ks.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=ks.rgba.exec(n))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=ks.hsl.exec(n))?{h:t[1],s:t[2],l:t[3]}:(t=ks.hsla.exec(n))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=ks.hsv.exec(n))?{h:t[1],s:t[2],v:t[3]}:(t=ks.hsva.exec(n))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=ks.hex8.exec(n))?{r:xi(t[1]),g:xi(t[2]),b:xi(t[3]),a:JO(t[4]),format:e?"name":"hex8"}:(t=ks.hex6.exec(n))?{r:xi(t[1]),g:xi(t[2]),b:xi(t[3]),format:e?"name":"hex"}:(t=ks.hex4.exec(n))?{r:xi(t[1]+t[1]),g:xi(t[2]+t[2]),b:xi(t[3]+t[3]),a:JO(t[4]+t[4]),format:e?"name":"hex8"}:!!(t=ks.hex3.exec(n))&&{r:xi(t[1]+t[1]),g:xi(t[2]+t[2]),b:xi(t[3]+t[3]),format:e?"name":"hex"}}(n)),"object"==typeof n&&(vc(n.r)&&vc(n.g)&&vc(n.b)?(e=function Cae(n,e,t){return{r:255*nr(n,255),g:255*nr(e,255),b:255*nr(t,255)}}(n.r,n.g,n.b),o=!0,c="%"===String(n.r).substr(-1)?"prgb":"rgb"):vc(n.h)&&vc(n.s)&&vc(n.v)?(r=Y5(n.s),i=Y5(n.v),e=function _ae(n,e,t){n=6*nr(n,360),e=nr(e,100),t=nr(t,100);var r=Math.floor(n),i=n-r,s=t*(1-e),o=t*(1-i*e),c=t*(1-(1-i)*e),a=r%6;return{r:255*[t,o,s,s,c,t][a],g:255*[c,t,t,o,s,s][a],b:255*[s,s,c,t,t,o][a]}}(n.h,r,i),o=!0,c="hsv"):vc(n.h)&&vc(n.s)&&vc(n.l)&&(r=Y5(n.s),s=Y5(n.l),e=function Eae(n,e,t){var r,i,s;if(n=nr(n,360),e=nr(e,100),t=nr(t,100),0===e)i=t,s=t,r=t;else{var o=t<.5?t*(1+e):t+e-t*e,c=2*t-o;r=nb(c,o,n+1/3),i=nb(c,o,n),s=nb(c,o,n-1/3)}return{r:255*r,g:255*i,b:255*s}}(n.h,r,s),o=!0,c="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=XO(t),{ok:o,format:n.format||c,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var Aa="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),ib="[\\s|\\(]+(".concat(Aa,")[,|\\s]+(").concat(Aa,")[,|\\s]+(").concat(Aa,")\\s*\\)?"),sb="[\\s|\\(]+(".concat(Aa,")[,|\\s]+(").concat(Aa,")[,|\\s]+(").concat(Aa,")[,|\\s]+(").concat(Aa,")\\s*\\)?"),ks={CSS_UNIT:new RegExp(Aa),rgb:new RegExp("rgb"+ib),rgba:new RegExp("rgba"+sb),hsl:new RegExp("hsl"+ib),hsla:new RegExp("hsla"+sb),hsv:new RegExp("hsv"+ib),hsva:new RegExp("hsva"+sb),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function vc(n){return!!ks.CSS_UNIT.exec(String(n))}var K5=2,QO=.16,Tae=.05,Oae=.05,Iae=.15,eI=5,tI=4,Pae=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function nI(n){var i=X5(n.r,n.g,n.b);return{h:360*i.h,s:i.s,v:i.v}}function J5(n){return"#".concat(Z5(n.r,n.g,n.b,!1))}function rI(n,e,t){var r;return(r=Math.round(n.h)>=60&&Math.round(n.h)<=240?t?Math.round(n.h)-K5*e:Math.round(n.h)+K5*e:t?Math.round(n.h)+K5*e:Math.round(n.h)-K5*e)<0?r+=360:r>=360&&(r-=360),r}function iI(n,e,t){return 0===n.h&&0===n.s?n.s:((r=t?n.s-QO*e:e===tI?n.s+QO:n.s+Tae*e)>1&&(r=1),t&&e===eI&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function sI(n,e,t){var r;return(r=t?n.v+Oae*e:n.v-Iae*e)>1&&(r=1),Number(r.toFixed(2))}function ob(n){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=[],r=Vs(n),i=eI;i>0;i-=1){var s=nI(r),o=J5(Vs({h:rI(s,i,!0),s:iI(s,i,!0),v:sI(s,i,!0)}));t.push(o)}t.push(J5(r));for(var c=1;c<=tI;c+=1){var a=nI(r),l=J5(Vs({h:rI(a,c),s:iI(a,c),v:sI(a,c)}));t.push(l)}return"dark"===e.theme?Pae.map(function(h){var d=h.index,g=h.opacity,p=J5(function Lae(n,e,t){var r=t/100;return{r:(e.r-n.r)*r+n.r,g:(e.g-n.g)*r+n.g,b:(e.b-n.b)*r+n.b}}(Vs(e.backgroundColor||"#141414"),Vs(t[d]),100*g));return p}):t}var cb={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},rr={},ab={};Object.keys(cb).forEach(function(n){rr[n]=ob(cb[n]),rr[n].primary=rr[n][5],ab[n]=ob(cb[n],{theme:"dark",backgroundColor:"#141414"}),ab[n].primary=ab[n][5]});class lb{}class Z0{}class yc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof yc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new yc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof yc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(c=>-1===s.indexOf(c)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Hae{encodeKey(e){return oI(e)}encodeValue(e){return oI(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Rae=/%(\d[a-f0-9])/gi,Vae={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function oI(n){return encodeURIComponent(n).replace(Rae,(e,t)=>Vae[t]??e)}function Q5(n){return`${n}`}class Ta{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Hae,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Nae(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,c]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],a=t.get(o)||[];a.push(c),t.set(o,a)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Q5):[Q5(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ta({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Q5(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Q5(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class kae{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function cI(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function aI(n){return typeof Blob<"u"&&n instanceof Blob}function lI(n){return typeof FormData<"u"&&n instanceof FormData}class K0{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Fae(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new yc),this.context||(this.context=new kae),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const c=t.indexOf("?");this.urlWithParams=t+(-1===c?"?":c<t.length-1?"&":"")+o}}else this.params=new Ta,this.urlWithParams=t}serializeBody(){return null===this.body?null:cI(this.body)||aI(this.body)||lI(this.body)||function Bae(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ta?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||lI(this.body)?null:aI(this.body)?this.body.type||null:cI(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ta?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,c=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,l=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((d,g)=>d.set(g,e.setHeaders[g]),a)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,g)=>d.set(g,e.setParams[g]),l)),new K0(t,r,s,{params:l,headers:a,context:h,reportProgress:c,responseType:i,withCredentials:o})}}var ub=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ub||{});class jae{constructor(e,t=200,r="OK"){this.headers=e.headers||new yc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class J0 extends jae{constructor(e={}){super(e),this.type=ub.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new J0({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function hb(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let hI=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof K0)s=t;else{let a,l;a=i.headers instanceof yc?i.headers:new yc(i.headers),i.params&&(l=i.params instanceof Ta?i.params:new Ta({fromObject:i.params})),s=new K0(t,r,void 0!==i.body?i.body:null,{headers:a,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=pe(s).pipe(v2(a=>this.handler.handle(a)));if(t instanceof K0||"events"===i.observe)return o;const c=o.pipe(es(a=>a instanceof J0));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(Fe(a=>{if(null!==a.body&&!(a.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return a.body}));case"blob":return c.pipe(Fe(a=>{if(null!==a.body&&!(a.body instanceof Blob))throw new Error("Response is not a Blob.");return a.body}));case"text":return c.pipe(Fe(a=>{if(null!==a.body&&"string"!=typeof a.body)throw new Error("Response is not a string.");return a.body}));default:return c.pipe(Fe(a=>a.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ta).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,hb(i,r))}post(t,r,i={}){return this.request("POST",t,hb(i,r))}put(t,r,i={}){return this.request("PUT",t,hb(i,r))}static#e=this.\u0275fac=function(r){return new(r||n)(Y(lb))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();const bc="[@ant-design/icons-angular]:";function MI(n){return ob(n)[0]}function n7(n,e){switch(e){case"fill":return`${n}-fill`;case"outline":return`${n}-o`;case"twotone":return`${n}-twotone`;case void 0:return n;default:throw new Error(`${bc}Theme "${e}" is not a recognized theme!`)}}function CI(n){return"object"==typeof n&&"string"==typeof n.name&&("string"==typeof n.theme||void 0===n.theme)&&"string"==typeof n.icon}function r7(n){const e=n.split(":");switch(e.length){case 1:return[n,""];case 2:return[e[1],e[0]];default:throw new Error(`${bc}The icon type ${n} is not valid!`)}}function EI(n){return new Error(`${bc}the icon ${n} does not exist or is not registered.`)}function b1e(){return new Error(`${bc}<svg> tag not found.`)}const C1e=new oe("ant_icons");let _I=(()=>{class n{set twoToneColor({primaryColor:t,secondaryColor:r}){this._twoToneColorPalette.primaryColor=t,this._twoToneColorPalette.secondaryColor=r||MI(t)}get twoToneColor(){return{...this._twoToneColorPalette}}get _disableDynamicLoading(){return!1}constructor(t,r,i,s,o){this._rendererFactory=t,this._handler=r,this._document=i,this.sanitizer=s,this._antIcons=o,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new An,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new hI(this._handler)),this._antIcons&&this.addIcon(...this._antIcons)}useJsonpLoading(){this._enableJsonpLoading||(this._enableJsonpLoading=!0,window.__ant_icon_load=t=>{this._jsonpIconLoad$.next(t)})}changeAssetsSource(t){this._assetsUrlRoot=t.endsWith("/")?t:t+"/"}addIcon(...t){t.forEach(r=>{this._svgDefinitions.set(n7(r.name,r.theme),r)})}addIconLiteral(t,r){const[i,s]=r7(t);if(!s)throw function m1e(){return new Error(`${bc}Type should have a namespace. Try "namespace:${name}".`)}();this.addIcon({name:t,icon:r})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(t,r){const i=CI(t)?t:this._svgDefinitions.get(t)||null;if(!i&&this._disableDynamicLoading)throw EI(t);return(i?pe(i):this._loadIconDynamically(t)).pipe(Fe(o=>{if(!o)throw EI(t);return this._loadSVGFromCacheOrCreateNew(o,r)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(t){if(!this._http&&!this._enableJsonpLoading)return pe(function v1e(){return function a1e(n){console.error(`${bc} ${n}.`)}('you need to import "HttpClientModule" to use dynamic importing.'),null}());let r=this._inProgressFetches.get(t);if(!r){const[i,s]=r7(t),o=s?{name:t,icon:""}:function f1e(n){const e=n.split("-"),t=function u1e(n){return"o"===n?"outline":n}(e.splice(e.length-1,1)[0]);return{name:e.join("-"),theme:t,icon:""}}(i),a=(s?`${this._assetsUrlRoot}assets/${s}/${i}`:`${this._assetsUrlRoot}assets/${o.theme}/${o.name}`)+(this._enableJsonpLoading?".js":".svg"),l=this.sanitizer.sanitize(Lr.URL,a);if(!l)throw function y1e(n){return new Error(`${bc}The url "${n}" is unsafe.`)}(a);r=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(o,l):this._http.get(l,{responseType:"text"}).pipe(Fe(d=>({...o,icon:d})))).pipe(Qn(d=>this.addIcon(d)),xd(()=>this._inProgressFetches.delete(t)),la(()=>pe(null)),V3()),this._inProgressFetches.set(t,r)}return r}_loadIconDynamicallyWithJsonp(t,r){return new Mt(i=>{const s=this._document.createElement("script"),o=setTimeout(()=>{c(),i.error(function w1e(){return new Error(`${bc}Importing timeout error.`)}())},6e3);function c(){s.parentNode.removeChild(s),clearTimeout(o)}s.src=r,this._document.body.appendChild(s),this._jsonpIconLoad$.pipe(es(a=>a.name===t.name&&a.theme===t.theme),Y1(1)).subscribe(a=>{i.next(a),c()})})}_loadSVGFromCacheOrCreateNew(t,r){let i;const s=r||this._twoToneColorPalette.primaryColor,o=MI(s)||this._twoToneColorPalette.secondaryColor,c="twotone"===t.theme?function l1e(n,e,t,r){return`${n7(n,e)}-${t}-${r}`}(t.name,t.theme,s,o):void 0===t.theme?t.name:n7(t.name,t.theme),a=this._svgRenderedDefinitions.get(c);return a?i=a.icon:(i=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(function p1e(n){return""!==r7(n)[1]}(t.name)?t.icon:function g1e(n){return n.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')}(t.icon)),"twotone"===t.theme,s,o)),this._svgRenderedDefinitions.set(c,{...t,icon:i})),function d1e(n){return n.cloneNode(!0)}(i)}_createSVGElementFromString(t){const r=this._document.createElement("div");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw b1e;return i}_setSVGAttribute(t){return this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em"),t}_colorizeSVGIcon(t,r,i,s){if(r){const o=t.childNodes,c=o.length;for(let a=0;a<c;a++){const l=o[a];"secondaryColor"===l.getAttribute("fill")?this._renderer.setAttribute(l,"fill",s):this._renderer.setAttribute(l,"fill",i)}}return this._renderer.setAttribute(t,"fill","currentColor"),t}static#e=this.\u0275fac=function(r){return new(r||n)(Y(L1),Y(Z0,8),Y(xn,8),Y(nv),Y(C1e,8))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})(),_1e=(()=>{class n{constructor(t,r,i){this._iconService=t,this._elementRef=r,this._renderer=i}ngOnChanges(t){(t.type||t.theme||t.twoToneColor)&&this._changeIcon()}_changeIcon(){return new Promise(t=>{if(!this.type)return this._clearSVGElement(),void t(null);const r=this._getSelfRenderMeta();this._iconService.getRenderedContent(this._parseIconType(this.type,this.theme),this.twoToneColor).subscribe(i=>{const s=this._getSelfRenderMeta();!function E1e(n,e){return n.type===e.type&&n.theme===e.theme&&n.twoToneColor===e.twoToneColor}(r,s)?t(null):(this._setSVGElement(i),t(i))})})}_getSelfRenderMeta(){return{type:this.type,theme:this.theme,twoToneColor:this.twoToneColor}}_parseIconType(t,r){if(CI(t))return t;{const[i,s]=r7(t);return s?t:function h1e(n){return n.endsWith("-fill")||n.endsWith("-o")||n.endsWith("-twotone")}(i)?i:n7(i,r||this._iconService.defaultTheme)}}_setSVGElement(t){this._clearSVGElement(),this._renderer.appendChild(this._elementRef.nativeElement,t)}_clearSVGElement(){const t=this._elementRef.nativeElement,r=t.childNodes;for(let s=r.length-1;s>=0;s--){const o=r[s];"svg"===o.tagName?.toLowerCase()&&this._renderer.removeChild(t,o)}}static#e=this.\u0275fac=function(r){return new(r||n)(ie(_I),ie(Xi),ie(H1))};static#t=this.\u0275dir=Kt({type:n,selectors:[["","antIcon",""]],inputs:{type:"type",theme:"theme",twoToneColor:"twoToneColor"},features:[Hn]})}return n})();const i7=(...n)=>{};function T1e(n){return function z1e(n){return null!=n&&"false"!=`${n}`}(n)}function Ia(){return function gb(n,e){return function t(r,i,s){const o=`$$__zorroPropDecorator__${i}`;return Object.prototype.hasOwnProperty.call(r,o)&&i7(`The prop "${o}" is already exist, it will be overrided by ${n} decorator.`),Object.defineProperty(r,o,{configurable:!0,writable:!0}),{get(){return s&&s.get?s.get.bind(this)():this[o]},set(c){s&&s.set&&s.set.bind(this)(e(c)),this[o]=e(c)}}}}("InputBoolean",T1e)}function TI(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}typeof window<"u"&&window;const $1e="rc-util-key";function OI({mark:n}={}){return n?n.startsWith("data-")?n:`data-${n}`:$1e}function wb(n){return n.attachTo?n.attachTo:document.querySelector("head")||document.body}function II(n,e={}){if(!TI())return null;const t=document.createElement("style");e.cspNonce&&(t.nonce=e.cspNonce),t.innerHTML=n;const r=wb(e),{firstChild:i}=r;return e.prepend&&r.prepend?r.prepend(t):e.prepend&&i?r.insertBefore(t,i):r.appendChild(t),t}const Mb=new Map;const LI={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'};var o7=function(){function n(e,t){var r;if(void 0===e&&(e=""),void 0===t&&(t={}),e instanceof n)return e;"number"==typeof e&&(e=function Sae(n){return{r:n>>16,g:(65280&n)>>8,b:255&n}}(e)),this.originalInput=e;var i=Vs(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=t.format)&&void 0!==r?r:i.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),s=e.r/255,o=e.g/255,c=e.b/255;return.2126*(s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4))+.7152*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))+.0722*(c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4))},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=XO(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){return 0===this.toHsl().s},n.prototype.toHsv=function(){var e=X5(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=X5(this.r,this.g,this.b),t=Math.round(360*e.h),r=Math.round(100*e.s),i=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=ZO(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=ZO(this.r,this.g,this.b),t=Math.round(360*e.h),r=Math.round(100*e.s),i=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return void 0===e&&(e=!1),Z5(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return void 0===e&&(e=!1),function xae(n,e,t,r,i){var s=[fl(Math.round(n).toString(16)),fl(Math.round(e).toString(16)),fl(Math.round(t).toString(16)),fl(KO(r))];return i&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return void 0===e&&(e=!1),1===this.a?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),r=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(r,")"):"rgba(".concat(e,", ").concat(t,", ").concat(r,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(t){return"".concat(Math.round(100*nr(t,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(100*nr(t,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+Z5(this.r,this.g,this.b,!1),t=0,r=Object.entries(rb);t<r.length;t++){var i=r[t];if(e===i[1])return i[0]}return!1},n.prototype.toString=function(e){var t=!!e;e=e??this.format;var r=!1;return!t&&this.a<1&&this.a>=0&&(e.startsWith("hex")||"name"===e)?"name"===e&&0===this.a?this.toName():this.toRgbString():("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),("hex"===e||"hex6"===e)&&(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=W5(t.l),new n(t)},n.prototype.brighten=function(e){void 0===e&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(-e/100*255))),t.g=Math.max(0,Math.min(255,t.g-Math.round(-e/100*255))),t.b=Math.max(0,Math.min(255,t.b-Math.round(-e/100*255))),new n(t)},n.prototype.darken=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=W5(t.l),new n(t)},n.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=W5(t.s),new n(t)},n.prototype.saturate=function(e){void 0===e&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=W5(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),r=(t.h+e)%360;return t.h=r<0?360+r:r,new n(t)},n.prototype.mix=function(e,t){void 0===t&&(t=50);var r=this.toRgb(),i=new n(e).toRgb(),s=t/100;return new n({r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a})},n.prototype.analogous=function(e,t){void 0===e&&(e=6),void 0===t&&(t=30);var r=this.toHsl(),i=360/t,s=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(new n(r));return s},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){void 0===e&&(e=6);for(var t=this.toHsv(),r=t.h,i=t.s,s=t.v,o=[],c=1/e;e--;)o.push(new n({h:r,s:i,v:s})),s=(s+c)%1;return o},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),r=new n(e).toRgb(),i=t.a+r.a*(1-t.a);return new n({r:(t.r*t.a+r.r*r.a*(1-t.a))/i,g:(t.g*t.a+r.g*r.a*(1-t.a))/i,b:(t.b*t.a+r.b*r.a*(1-t.a))/i,a:i})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),r=t.h,i=[this],s=360/e,o=1;o<e;o++)i.push(new n({h:(r+o*s)%360,s:t.s,l:t.l}));return i},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}();const c7=2,HI=.16,Hle=.05,Nle=.05,Rle=.15,NI=5,RI=4,Vle=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function VI({r:n,g:e,b:t}){const r=X5(n,e,t);return{h:360*r.h,s:r.s,v:r.v}}function a7({r:n,g:e,b:t}){return`#${Z5(n,e,t,!1)}`}function kI(n,e,t){let r;return r=Math.round(n.h)>=60&&Math.round(n.h)<=240?t?Math.round(n.h)-c7*e:Math.round(n.h)+c7*e:t?Math.round(n.h)+c7*e:Math.round(n.h)-c7*e,r<0?r+=360:r>=360&&(r-=360),r}function FI(n,e,t){if(0===n.h&&0===n.s)return n.s;let r;return r=t?n.s-HI*e:e===RI?n.s+HI:n.s+Hle*e,r>1&&(r=1),t&&e===NI&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function BI(n,e,t){let r;return r=t?n.v+Nle*e:n.v-Rle*e,r>1&&(r=1),Number(r.toFixed(2))}function jI(n,e={}){const t=[],r=Vs(n);for(let i=NI;i>0;i-=1){const s=VI(r),o=a7(Vs({h:kI(s,i,!0),s:FI(s,i,!0),v:BI(s,i,!0)}));t.push(o)}t.push(a7(r));for(let i=1;i<=RI;i+=1){const s=VI(r),o=a7(Vs({h:kI(s,i),s:FI(s,i),v:BI(s,i)}));t.push(o)}return"dark"===e.theme?Vle.map(({index:i,opacity:s})=>a7(function kle(n,e,t){const r=t/100;return{r:(e.r-n.r)*r+n.r,g:(e.g-n.g)*r+n.g,b:(e.b-n.b)*r+n.b}}(Vs(e.backgroundColor||"#141414"),Vs(t[i]),100*s))):t}const $I=new oe("nz-config"),Fle=`-ant-${Date.now()}-${Math.random()}`;function UI(n,e,t){const r=function Ble(n,e){const t={},r=(o,c)=>{let a=o.clone();return a=c?.(a)||a,a.toRgbString()},i=(o,c)=>{const a=new o7(o),l=jI(a.toRgbString());t[`${c}-color`]=r(a),t[`${c}-color-disabled`]=l[1],t[`${c}-color-hover`]=l[4],t[`${c}-color-active`]=l[7],t[`${c}-color-outline`]=a.clone().setAlpha(.2).toRgbString(),t[`${c}-color-deprecated-bg`]=l[1],t[`${c}-color-deprecated-border`]=l[3]};if(e.primaryColor){i(e.primaryColor,"primary");const o=new o7(e.primaryColor),c=jI(o.toRgbString());c.forEach((l,h)=>{t[`primary-${h+1}`]=l}),t["primary-color-deprecated-l-35"]=r(o,l=>l.lighten(35)),t["primary-color-deprecated-l-20"]=r(o,l=>l.lighten(20)),t["primary-color-deprecated-t-20"]=r(o,l=>l.tint(20)),t["primary-color-deprecated-t-50"]=r(o,l=>l.tint(50)),t["primary-color-deprecated-f-12"]=r(o,l=>l.setAlpha(.12*l.getAlpha()));const a=new o7(c[0]);t["primary-color-active-deprecated-f-30"]=r(a,l=>l.setAlpha(.3*l.getAlpha())),t["primary-color-active-deprecated-d-02"]=r(a,l=>l.darken(2))}return e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info"),`\n  :root {\n    ${Object.keys(t).map(o=>`--${n}-${o}: ${t[o]};`).join("\n")}\n  }\n  `.trim()}(n,e);TI()?function U1e(n,e,t={}){const r=wb(t);if(!Mb.has(r)){const o=II("",t),{parentNode:c}=o;Mb.set(r,c),c.removeChild(o)}const i=function PI(n,e={}){const t=wb(e);return Array.from(Mb.get(t)?.children||[]).find(r=>"STYLE"===r.tagName&&r.getAttribute(OI(e))===n)}(e,t);if(i)return t.cspNonce&&i.nonce!==t.cspNonce&&(i.nonce=t.cspNonce),i.innerHTML!==n&&(i.innerHTML=n),i;const s=II(n,t);s?.setAttribute(OI(t),e)}(r,`${Fle}-dynamic-theme`,{cspNonce:t}):i7("NzConfigService: SSR do not support dynamic theme with css variables.")}const qI=function(n){return void 0!==n};let Cb=(()=>{class n{constructor(t,r){this.configUpdated$=new An,this.config=t||{},this.cspNonce=r,this.config.theme&&UI(this.getConfig().prefixCls?.prefixCls||"ant",this.config.theme,r)}getConfig(){return this.config}getConfigForComponent(t){return this.config[t]}getConfigChangeEventForComponent(t){return this.configUpdated$.pipe(es(r=>r===t),aS(void 0))}set(t,r){this.config[t]={...this.config[t],...r},"theme"===t&&this.config.theme&&UI(this.getConfig().prefixCls?.prefixCls||"ant",this.config.theme,this.cspNonce),this.configUpdated$.next(t)}static#e=this.\u0275fac=function(r){return new(r||n)(Y($I,8),Y(v8,8))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function l7(){return function(e,t,r){const i=`$$__zorroConfigDecorator__${t}`;return Object.defineProperty(e,i,{configurable:!0,writable:!0,enumerable:!1}),{get(){const s=r?.get?r.get.bind(this)():this[i],o=(this.propertyAssignCounter?.[t]||0)>1,c=this.nzConfigService.getConfigForComponent(this._nzModuleName)?.[t];return o&&qI(s)?s:qI(c)?c:s},set(s){this.propertyAssignCounter=this.propertyAssignCounter||{},this.propertyAssignCounter[t]=(this.propertyAssignCounter[t]||0)+1,r?.set?r.set.bind(this)(s):this[i]=s},configurable:!0,enumerable:!0}}}const jle=[{name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'},{name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},{name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},{name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},{name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'},{name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'},{name:"close-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z" /><path d="M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'},{name:"close-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z" /></svg>'},{name:"close",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z" /></svg>'},{name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'},{name:"delete",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z" /></svg>'},{name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'},{name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'},{name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'},{name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'},{name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'},{name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'},{name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'},{name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'},{name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'},{name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'},{name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'},{name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'},{name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'},{name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'},{name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'},{name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'},{name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'},{name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'},{name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'},LI,{name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'},LI,{name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'},{name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'},{name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'},{name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'},{name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'},{name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'}],WI=new oe("nz_icons"),YI=(new oe("nz_icon_default_twotone_color"),"#1890ff");let XI=(()=>{class n extends _I{get _disableDynamicLoading(){return!this.platform.isBrowser}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}normalizeSvgElement(t){t.getAttribute("viewBox")||this._renderer.setAttribute(t,"viewBox","0 0 1024 1024"),(!t.getAttribute("width")||!t.getAttribute("height"))&&(this._renderer.setAttribute(t,"width","1em"),this._renderer.setAttribute(t,"height","1em")),t.getAttribute("fill")||this._renderer.setAttribute(t,"fill","currentColor")}fetchFromIconfont(t){const{scriptUrl:r}=t;if(this._document&&!this.iconfontCache.has(r)){const i=this._renderer.createElement("script");this._renderer.setAttribute(i,"src",r),this._renderer.setAttribute(i,"data-namespace",r.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,i),this.iconfontCache.add(r)}}createIconfontIcon(t){return this._createSVGElementFromString(`<svg><use xlink:href="${t}"></svg>`)}constructor(t,r,i,s,o,c,a){super(t,o,c,r,[...jle,...a||[]]),this.nzConfigService=i,this.platform=s,this.configUpdated$=new An,this.iconfontCache=new Set,this.subscription=null,this.onConfigChange(),this.configDefaultTwotoneColor(),this.configDefaultTheme()}onConfigChange(){this.subscription=this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){const t=this.getConfig();this.defaultTheme=t.nzTheme||"outline"}configDefaultTwotoneColor(){const r=this.getConfig().nzTwotoneColor||YI;let i=YI;r&&(r.startsWith("#")?i=r:i7("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:i}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}static#e=this.\u0275fac=function(r){return new(r||n)(Y(L1),Y(nv),Y(Cb),Y(mae),Y(Z0,8),Y(xn,8),Y(WI,8))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ZI=new oe("nz_icons_patch");let KI=(()=>{class n{constructor(t,r){this.extraIcons=t,this.rootIconService=r,this.patched=!1}doPatch(){this.patched||(this.extraIcons.forEach(t=>this.rootIconService.addIcon(t)),this.patched=!0)}static#e=this.\u0275fac=function(r){return new(r||n)(Y(ZI,2),Y(XI))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})(),JI=(()=>{class n extends _1e{set nzSpin(t){this.spin=t}set nzType(t){this.type=t}set nzTheme(t){this.theme=t}set nzTwotoneColor(t){this.twoToneColor=t}set nzIconfont(t){this.iconfont=t}constructor(t,r,i,s,o,c){super(s,i,o),this.ngZone=t,this.changeDetectorRef=r,this.iconService=s,this.renderer=o,this.cacheClassName=null,this.nzRotate=0,this.spin=!1,this.destroy$=new An,c&&c.doPatch(),this.el=i.nativeElement}ngOnChanges(t){const{nzType:r,nzTwotoneColor:i,nzSpin:s,nzTheme:o,nzRotate:c}=t;r||i||s||o?this.changeIcon2():c?this.handleRotate(this.el.firstChild):this._setSVGElement(this.iconService.createIconfontIcon(`#${this.iconfont}`))}ngOnInit(){this.renderer.setAttribute(this.el,"class",`anticon ${this.el.className}`.trim())}ngAfterContentChecked(){if(!this.type){const t=this.el.children;let r=t.length;if(!this.type&&t.length)for(;r--;){const i=t[r];"svg"===i.tagName.toLowerCase()&&this.iconService.normalizeSvgElement(i)}}}ngOnDestroy(){this.destroy$.next()}changeIcon2(){this.setClassName(),this.ngZone.runOutsideAngular(()=>{Bt(this._changeIcon()).pipe(y2(this.destroy$)).subscribe({next:t=>{this.ngZone.run(()=>{this.changeDetectorRef.detectChanges(),t&&(this.setSVGData(t),this.handleSpin(t),this.handleRotate(t))})},error:i7})})}handleSpin(t){this.spin||"loading"===this.type?this.renderer.addClass(t,"anticon-spin"):this.renderer.removeClass(t,"anticon-spin")}handleRotate(t){this.nzRotate?this.renderer.setAttribute(t,"style",`transform: rotate(${this.nzRotate}deg)`):this.renderer.removeAttribute(t,"style")}setClassName(){this.cacheClassName&&this.renderer.removeClass(this.el,this.cacheClassName),this.cacheClassName=`anticon-${this.type}`,this.renderer.addClass(this.el,this.cacheClassName)}setSVGData(t){this.renderer.setAttribute(t,"data-icon",this.type),this.renderer.setAttribute(t,"aria-hidden","true")}static#e=this.\u0275fac=function(r){return new(r||n)(ie(ct),ie(g2),ie(Xi),ie(XI),ie(H1),ie(KI,8))};static#t=this.\u0275dir=Kt({type:n,selectors:[["","nz-icon",""]],hostVars:2,hostBindings:function(r,i){2&r&&l2("anticon",!0)},inputs:{nzSpin:"nzSpin",nzRotate:"nzRotate",nzType:"nzType",nzTheme:"nzTheme",nzTwotoneColor:"nzTwotoneColor",nzIconfont:"nzIconfont"},exportAs:["nzIcon"],features:[z9,Hn]})}return Cr([Ia()],n.prototype,"nzSpin",null),n})(),QI=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:WI,useValue:t}]}}static forChild(t){return{ngModule:n,providers:[KI,{provide:ZI,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=un({type:n});static#n=this.\u0275inj=Wn({imports:[vae]})}return n})();let eP=(()=>{class n{constructor(){this.size={width:60,height:40},this.data={stroke:"#A2B1C3",label:"",fill:"#FFFFFF",fontFill:"#000",fontSize:12}}ngOnChanges(t){t.data&&t.data.currentValue&&this.create(),t.size&&t.size.currentValue&&this.create()}ngOnInit(){this.create()}create(){this.rx=Math.min(this.size.height,this.size.width)/2,this.path=[["M",this.rx,1],["L",this.size.width-this.rx,1],["C",this.size.width-2,1,this.size.width-2,this.size.height/2],["",this.size.width-2,this.size.height/2],["C",this.size.width-2,this.size.height/2,this.size.width-2,this.size.height-2],["",this.size.width-this.rx,this.size.height-2],["L",this.rx,this.size.height-2],["C",1,this.size.height-2,1,this.size.height/2],["",1,this.size.height/2],["C",1,this.size.height/2,1,1],["",this.rx,1]],this.viewBox=`0 0  ${this.size.width} ${this.size.height}`}createCustomPath(){return((n,e=0,t=0)=>{if(!n.length)return null;let r="";return n.forEach(i=>{const[s,o,c,a,l]=i;r+=(0,Q1.isNumber)(c)?` ${s} ${o+e} ${c+t}`:` ${s}`,l&&(r+=` ${a+e} ${l+t}`)}),r})(this.path)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=or({type:n,selectors:[["app-terminal"]],inputs:{size:"size",data:"data"},features:[Hn],decls:5,vars:5,consts:[["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%"]],template:function(r,i){1&r&&(function mh(){ye.lFrame.currentNamespace="svg"}(),Rr(0,"svg",0),Ei(1,"path"),Rr(2,"text"),I8(3),Vr(),I8(4," Sorry, your browser does not support inline SVG. "),Vr()),2&r&&(X4("viewBox",i.viewBox),kn(1),X4("d",i.createCustomPath())("fill",i.data.fill)("stroke",i.data.stroke),kn(2),Wf(" ",i.data.label," "))},encapsulation:2})}return n})();const qle=["addListener","removeListener"],Gle=["addEventListener","removeEventListener"],Wle=["on","off"];function Eb(n,e,t,r){if($e(t)&&(r=t,t=void 0),r)return Eb(n,e,t).pipe(rS(r));const[i,s]=function Zle(n){return $e(n.addEventListener)&&$e(n.removeEventListener)}(n)?Gle.map(o=>c=>n[o](e,c,t)):function Yle(n){return $e(n.addListener)&&$e(n.removeListener)}(n)?qle.map(tP(n,e)):function Xle(n){return $e(n.on)&&$e(n.off)}(n)?Wle.map(tP(n,e)):[];if(!i&&I3(n))return ln(o=>Eb(o,e,t))(Er(n));if(!i)throw new TypeError("Invalid event target");return new Mt(o=>{const c=(...a)=>o.next(1<a.length?a:a[0]);return i(c),()=>s(c)})}function tP(n,e){return t=>r=>n[t](e,r)}class nP{}class Kle{}const wc="*";function Fs(n,e){return{type:7,name:n,definitions:e,options:{}}}function Lt(n,e=null){return{type:4,styles:e,timings:n}}function rP(n,e=null){return{type:2,steps:n,options:e}}function Te(n){return{type:6,styles:n,offset:null}}function ls(n,e,t){return{type:0,name:n,styles:e,options:t}}function Vt(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function iP(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function sP(n,e){return{type:12,timings:n,animation:e}}class t6{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class oP{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,c)=>Math.max(o,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}let Si=(()=>{class n{static#e=this.SLOW="0.3s";static#t=this.BASE="0.2s";static#n=this.FAST="0.1s"}return n})(),Mr=(()=>{class n{static#e=this.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)";static#t=this.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)";static#n=this.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)";static#r=this.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)";static#i=this.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)";static#s=this.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)";static#o=this.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)";static#c=this.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)";static#a=this.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)";static#l=this.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)";static#u=this.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)";static#h=this.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)";static#f=this.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)";static#d=this.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)"}return n})();const Jle=Fs("collapseMotion",[ls("expanded",Te({height:"*"})),ls("collapsed",Te({height:0,overflow:"hidden"})),ls("hidden",Te({height:0,overflow:"hidden",borderTopWidth:"0"})),Vt("expanded => collapsed",Lt(`150ms ${Mr.EASE_IN_OUT}`)),Vt("expanded => hidden",Lt(`150ms ${Mr.EASE_IN_OUT}`)),Vt("collapsed => expanded",Lt(`150ms ${Mr.EASE_IN_OUT}`)),Vt("hidden => expanded",Lt(`150ms ${Mr.EASE_IN_OUT}`))]),Qle=(Fs("treeCollapseMotion",[Vt("* => *",[iP("nz-tree-node:leave,nz-tree-builtin-node:leave",[Te({overflow:"hidden"}),sP(0,[Lt(`150ms ${Mr.EASE_IN_OUT}`,Te({height:0,opacity:0,"padding-bottom":0}))])],{optional:!0}),iP("nz-tree-node:enter,nz-tree-builtin-node:enter",[Te({overflow:"hidden",height:0,opacity:0,"padding-bottom":0}),sP(0,[Lt(`150ms ${Mr.EASE_IN_OUT}`,Te({overflow:"hidden",height:"*",opacity:"*","padding-bottom":"*"}))])],{optional:!0})])]),Fs("fadeMotion",[Vt(":enter",[Te({opacity:0}),Lt(`${Si.BASE}`,Te({opacity:1}))]),Vt(":leave",[Te({opacity:1}),Lt(`${Si.BASE}`,Te({opacity:0}))])]),Fs("helpMotion",[Vt(":enter",[Te({opacity:0,transform:"translateY(-5px)"}),Lt(`${Si.SLOW} ${Mr.EASE_IN_OUT}`,Te({opacity:1,transform:"translateY(0)"}))]),Vt(":leave",[Te({opacity:1,transform:"translateY(0)"}),Lt(`${Si.SLOW} ${Mr.EASE_IN_OUT}`,Te({opacity:0,transform:"translateY(-5px)"}))])]),Fs("moveUpMotion",[Vt("* => enter",[Te({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),Lt(`${Si.BASE}`,Te({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),Vt("* => leave",[Te({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),Lt(`${Si.BASE}`,Te({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])]),Fs("notificationMotion",[ls("enterRight",Te({opacity:1,transform:"translateX(0)"})),Vt("* => enterRight",[Te({opacity:0,transform:"translateX(5%)"}),Lt("100ms linear")]),ls("enterLeft",Te({opacity:1,transform:"translateX(0)"})),Vt("* => enterLeft",[Te({opacity:0,transform:"translateX(-5%)"}),Lt("100ms linear")]),ls("enterTop",Te({opacity:1,transform:"translateY(0)"})),Vt("* => enterTop",[Te({opacity:0,transform:"translateY(-5%)"}),Lt("100ms linear")]),ls("enterBottom",Te({opacity:1,transform:"translateY(0)"})),Vt("* => enterBottom",[Te({opacity:0,transform:"translateY(5%)"}),Lt("100ms linear")]),ls("leave",Te({opacity:0,transform:"scaleY(0.8)",transformOrigin:"0% 0%"})),Vt("* => leave",[Te({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),Lt("100ms linear")])]),`${Si.BASE} ${Mr.EASE_OUT_QUINT}`),e4e=`${Si.BASE} ${Mr.EASE_IN_QUINT}`;Fs("slideMotion",[ls("void",Te({opacity:0,transform:"scaleY(0.8)"})),ls("enter",Te({opacity:1,transform:"scaleY(1)"})),Vt("void => *",[Lt(Qle)]),Vt("* => void",[Lt(e4e)])]),Fs("slideAlertMotion",[Vt(":leave",[Te({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),Lt(`${Si.SLOW} ${Mr.EASE_IN_OUT_CIRC}`,Te({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),Fs("zoomBigMotion",[Vt("void => active",[Te({opacity:0,transform:"scale(0.8)"}),Lt(`${Si.BASE} ${Mr.EASE_OUT_CIRC}`,Te({opacity:1,transform:"scale(1)"}))]),Vt("active => void",[Te({opacity:1,transform:"scale(1)"}),Lt(`${Si.BASE} ${Mr.EASE_IN_OUT_CIRC}`,Te({opacity:0,transform:"scale(0.8)"}))])]),Fs("zoomBadgeMotion",[Vt(":enter",[Te({opacity:0,transform:"scale(0) translate(50%, -50%)"}),Lt(`${Si.SLOW} ${Mr.EASE_OUT_BACK}`,Te({opacity:1,transform:"scale(1) translate(50%, -50%)"}))]),Vt(":leave",[Te({opacity:1,transform:"scale(1) translate(50%, -50%)"}),Lt(`${Si.SLOW} ${Mr.EASE_IN_BACK}`,Te({opacity:0,transform:"scale(0) translate(50%, -50%)"}))])]),Fs("thumbMotion",[ls("from",Te({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:0,width:0}}),ls("to",Te({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:100,width:0}}),Vt("from => to",Lt(`300ms ${Mr.EASE_IN_OUT}`))]);let h7=(()=>{class n extends An{ngOnDestroy(){this.next(),this.complete()}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Nu(n)))(i||n)}}();static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();const n4e=new oe("cdk-dir-doc",{providedIn:"root",factory:function r4e(){return ce(xn)}}),i4e=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let o4e=(()=>{class n{constructor(t){this.value="ltr",this.change=new Jn,t&&(this.value=function s4e(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?i4e.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(r){return new(r||n)(Y(n4e,8))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),c4e=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=un({type:n});static#n=this.\u0275inj=Wn({})}return n})();const cP="nz-animate-disabled";let a4e=(()=>{class n{constructor(t,r,i){this.element=t,this.renderer=r,this.animationType=i,this.nzNoAnimation=!1}ngOnChanges(){this.updateClass()}ngAfterViewInit(){this.updateClass()}updateClass(){const t=function A1e(n){return n instanceof Xi?n.nativeElement:n}(this.element);t&&(this.nzNoAnimation||"NoopAnimations"===this.animationType?this.renderer.addClass(t,cP):this.renderer.removeClass(t,cP))}static#e=this.\u0275fac=function(r){return new(r||n)(ie(Xi),ie(H1),ie(m8,8))};static#t=this.\u0275dir=Kt({type:n,selectors:[["","nzNoAnimation",""]],inputs:{nzNoAnimation:"nzNoAnimation"},exportAs:["nzNoAnimation"],features:[Hn]})}return Cr([Ia()],n.prototype,"nzNoAnimation",void 0),n})(),l4e=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=un({type:n});static#n=this.\u0275inj=Wn({imports:[bd]})}return n})(),u4e=(()=>{class n{static ngTemplateContextGuard(t,r){return!0}recreateView(){this.viewContainer.clear();const t=this.nzStringTemplateOutlet instanceof ii;this.embeddedViewRef=this.viewContainer.createEmbeddedView(t?this.nzStringTemplateOutlet:this.templateRef,t?this.nzStringTemplateOutletContext:this.context)}updateContext(){const r=this.nzStringTemplateOutlet instanceof ii?this.nzStringTemplateOutletContext:this.context,i=this.embeddedViewRef.context;if(r)for(const s of Object.keys(r))i[s]=r[s]}constructor(t,r){this.viewContainer=t,this.templateRef=r,this.embeddedViewRef=null,this.context=new h4e,this.nzStringTemplateOutletContext=null,this.nzStringTemplateOutlet=null}ngOnChanges(t){const{nzStringTemplateOutletContext:r,nzStringTemplateOutlet:i}=t;i&&(this.context.$implicit=i.currentValue),(()=>{let c=!1;return i&&(c=!!i.firstChange||(i.previousValue instanceof ii||i.currentValue instanceof ii)),r&&(h=>{const d=Object.keys(h.previousValue||{}),g=Object.keys(h.currentValue||{});if(d.length===g.length){for(const p of g)if(-1===d.indexOf(p))return!0;return!1}return!0})(r)||c})()?this.recreateView():this.updateContext()}static#e=this.\u0275fac=function(r){return new(r||n)(ie(Ki),ie(ii))};static#t=this.\u0275dir=Kt({type:n,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],features:[Hn]})}return n})();class h4e{}let f4e=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=un({type:n});static#n=this.\u0275inj=Wn({imports:[bd]})}return n})();const aP=["*"],d4e=["collapseHeader"];function g4e(n,e){if(1&n&&(R1(0),Ei(1,"span",7),V1()),2&n){const t=e.$implicit,r=k1(2);kn(1),Fn("nzType",t||"right")("nzRotate",r.nzActive?90:0)}}function p4e(n,e){if(1&n&&(Rr(0,"div"),tc(1,g4e,2,2,"ng-container",3),Vr()),2&n){const t=k1();kn(1),Fn("nzStringTemplateOutlet",t.nzExpandedIcon)}}function m4e(n,e){if(1&n&&(R1(0),I8(1),V1()),2&n){const t=k1();kn(1),Gf(t.nzHeader)}}function v4e(n,e){if(1&n&&(R1(0),I8(1),V1()),2&n){const t=k1(2);kn(1),Gf(t.nzExtra)}}function y4e(n,e){if(1&n&&(Rr(0,"div",8),tc(1,v4e,2,1,"ng-container",3),Vr()),2&n){const t=k1();kn(1),Fn("nzStringTemplateOutlet",t.nzExtra)}}const lP="collapse";let uP=(()=>{class n{constructor(t,r,i,s){this.nzConfigService=t,this.cdr=r,this.directionality=i,this.destroy$=s,this._nzModuleName=lP,this.nzAccordion=!1,this.nzBordered=!0,this.nzGhost=!1,this.nzExpandIconPosition="left",this.dir="ltr",this.listOfNzCollapsePanelComponent=[],this.nzConfigService.getConfigChangeEventForComponent(lP).pipe(y2(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe(y2(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}addPanel(t){this.listOfNzCollapsePanelComponent.push(t)}removePanel(t){this.listOfNzCollapsePanelComponent.splice(this.listOfNzCollapsePanelComponent.indexOf(t),1)}click(t){this.nzAccordion&&!t.nzActive&&this.listOfNzCollapsePanelComponent.filter(r=>r!==t).forEach(r=>{r.nzActive&&(r.nzActive=!1,r.nzActiveChange.emit(r.nzActive),r.markForCheck())}),t.nzActive=!t.nzActive,t.nzActiveChange.emit(t.nzActive)}static#e=this.\u0275fac=function(r){return new(r||n)(ie(Cb),ie(g2),ie(o4e,8),ie(h7))};static#t=this.\u0275cmp=or({type:n,selectors:[["nz-collapse"]],hostAttrs:[1,"ant-collapse"],hostVars:10,hostBindings:function(r,i){2&r&&l2("ant-collapse-icon-position-left","left"===i.nzExpandIconPosition)("ant-collapse-icon-position-right","right"===i.nzExpandIconPosition)("ant-collapse-ghost",i.nzGhost)("ant-collapse-borderless",!i.nzBordered)("ant-collapse-rtl","rtl"===i.dir)},inputs:{nzAccordion:"nzAccordion",nzBordered:"nzBordered",nzGhost:"nzGhost",nzExpandIconPosition:"nzExpandIconPosition"},exportAs:["nzCollapse"],features:[G9([h7])],ngContentSelectors:aP,decls:1,vars:0,template:function(r,i){1&r&&(o2(),c2(0))},encapsulation:2,changeDetection:0})}return Cr([l7(),Ia()],n.prototype,"nzAccordion",void 0),Cr([l7(),Ia()],n.prototype,"nzBordered",void 0),Cr([l7(),Ia()],n.prototype,"nzGhost",void 0),n})();const hP="collapsePanel";let b4e=(()=>{class n{markForCheck(){this.cdr.markForCheck()}constructor(t,r,i,s,o,c){this.nzConfigService=t,this.ngZone=r,this.cdr=i,this.destroy$=s,this.nzCollapseComponent=o,this.noAnimation=c,this._nzModuleName=hP,this.nzActive=!1,this.nzDisabled=!1,this.nzShowArrow=!0,this.nzActiveChange=new Jn,this.nzConfigService.getConfigChangeEventForComponent(hP).pipe(y2(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.nzCollapseComponent.addPanel(this),this.ngZone.runOutsideAngular(()=>Eb(this.collapseHeader.nativeElement,"click").pipe(es(()=>!this.nzDisabled),y2(this.destroy$)).subscribe(()=>{this.ngZone.run(()=>{this.nzCollapseComponent.click(this),this.cdr.markForCheck()})}))}ngOnDestroy(){this.nzCollapseComponent.removePanel(this)}static#e=this.\u0275fac=function(r){return new(r||n)(ie(Cb),ie(ct),ie(g2),ie(h7),ie(uP,1),ie(a4e,8))};static#t=this.\u0275cmp=or({type:n,selectors:[["nz-collapse-panel"]],viewQuery:function(r,i){if(1&r&&F8(d4e,7),2&r){let s;$1(s=U1())&&(i.collapseHeader=s.first)}},hostAttrs:[1,"ant-collapse-item"],hostVars:6,hostBindings:function(r,i){2&r&&l2("ant-collapse-no-arrow",!i.nzShowArrow)("ant-collapse-item-active",i.nzActive)("ant-collapse-item-disabled",i.nzDisabled)},inputs:{nzActive:"nzActive",nzDisabled:"nzDisabled",nzShowArrow:"nzShowArrow",nzExtra:"nzExtra",nzHeader:"nzHeader",nzExpandedIcon:"nzExpandedIcon"},outputs:{nzActiveChange:"nzActiveChange"},exportAs:["nzCollapsePanel"],features:[G9([h7])],ngContentSelectors:aP,decls:8,vars:8,consts:[["role","button",1,"ant-collapse-header"],["collapseHeader",""],[4,"ngIf"],[4,"nzStringTemplateOutlet"],["class","ant-collapse-extra",4,"ngIf"],[1,"ant-collapse-content"],[1,"ant-collapse-content-box"],["nz-icon","",1,"ant-collapse-arrow",3,"nzType","nzRotate"],[1,"ant-collapse-extra"]],template:function(r,i){1&r&&(o2(),Rr(0,"div",0,1),tc(2,p4e,2,1,"div",2),tc(3,m4e,2,1,"ng-container",3),tc(4,y4e,2,1,"div",4),Vr(),Rr(5,"div",5)(6,"div",6),c2(7),Vr()()),2&r&&(X4("aria-expanded",i.nzActive),kn(2),Fn("ngIf",i.nzShowArrow),kn(1),Fn("nzStringTemplateOutlet",i.nzHeader),kn(1),Fn("ngIf",i.nzExtra),kn(1),l2("ant-collapse-content-active",i.nzActive),Fn("@.disabled",!(null==i.noAnimation||!i.noAnimation.nzNoAnimation))("@collapseMotion",i.nzActive?"expanded":"hidden"))},dependencies:[yd,JI,u4e],encapsulation:2,data:{animation:[Jle]},changeDetection:0})}return Cr([Ia()],n.prototype,"nzActive",void 0),Cr([Ia()],n.prototype,"nzDisabled",void 0),Cr([l7(),Ia()],n.prototype,"nzShowArrow",void 0),n})(),w4e=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=un({type:n});static#n=this.\u0275inj=Wn({imports:[c4e,bd,QI,f4e,l4e]})}return n})();function fP(n){return new j(3e3,!1)}function Pa(n){switch(n.length){case 0:return new t6;case 1:return n[0];default:return new oP(n)}}function dP(n,e,t=new Map,r=new Map){const i=[],s=[];let o=-1,c=null;if(e.forEach(a=>{const l=a.get("offset"),h=l==o,d=h&&c||new Map;a.forEach((g,p)=>{let v=p,y=g;if("offset"!==p)switch(v=n.normalizePropertyName(v,i),y){case"!":y=t.get(p);break;case wc:y=r.get(p);break;default:y=n.normalizeStyleValue(p,v,y,i)}d.set(v,y)}),h||s.push(d),c=d,o=l}),i.length)throw function $4e(n){return new j(3502,!1)}();return s}function xb(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Sb(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Sb(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Sb(t,"destroy",n)))}}function Sb(n,e,t){const s=zb(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function zb(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function zi(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function gP(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const t2e=(()=>typeof document>"u"?null:document.documentElement)();function Db(n){const e=n.parentNode||n.host||null;return e===t2e?null:e}let gl=null,pP=!1;function mP(n,e){for(;e;){if(e===n)return!0;e=Db(e)}return!1}function vP(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let yP=(()=>{class n{validateStyleProperty(t){return function r2e(n){gl||(gl=function i2e(){return typeof document<"u"?document.body:null}()||{},pP=!!gl.style&&"WebkitAppearance"in gl.style);let e=!0;return gl.style&&!function n2e(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in gl.style,!e&&pP&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in gl.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return mP(t,r)}getParentElement(t){return Db(t)}query(t,r,i){return vP(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,c=[],a){return new t6(i,s)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})(),Ab=(()=>{class n{static#e=this.NOOP=new yP}return n})();const s2e=1e3,Tb="ng-enter",f7="ng-leave",d7="ng-trigger",g7=".ng-trigger",wP="ng-animating",Ob=".ng-animating";function Mc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Ib(parseFloat(e[1]),e[2])}function Ib(n,e){return"s"===e?n*s2e:n}function p7(n,e,t){return n.hasOwnProperty("duration")?n:function c2e(n,e,t){let i,s=0,o="";if("string"==typeof n){const c=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return e.push(fP()),{duration:0,delay:0,easing:""};i=Ib(parseFloat(c[1]),c[2]);const a=c[3];null!=a&&(s=Ib(parseFloat(a),c[4]));const l=c[5];l&&(o=l)}else i=n;if(!t){let c=!1,a=e.length;i<0&&(e.push(function M4e(){return new j(3100,!1)}()),c=!0),s<0&&(e.push(function C4e(){return new j(3101,!1)}()),c=!0),c&&e.splice(a,0,fP())}return{duration:i,delay:s,easing:o}}(n,e,t)}function n6(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function MP(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function La(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function _o(n,e,t){e.forEach((r,i)=>{const s=Lb(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function pl(n,e){e.forEach((t,r)=>{const i=Lb(r);n.style[i]=""})}function r6(n){return Array.isArray(n)?1==n.length?n[0]:rP(n):n}const Pb=new RegExp("{{\\s*(.+?)\\s*}}","g");function EP(n){let e=[];if("string"==typeof n){let t;for(;t=Pb.exec(n);)e.push(t[1]);Pb.lastIndex=0}return e}function i6(n,e,t){const r=n.toString(),i=r.replace(Pb,(s,o)=>{let c=e[o];return null==c&&(t.push(function _4e(n){return new j(3003,!1)}()),c=""),c.toString()});return i==r?n:i}function m7(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const u2e=/-+([a-z0-9])/g;function Lb(n){return n.replace(u2e,(...e)=>e[1].toUpperCase())}function Di(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function x4e(n){return new j(3004,!1)}()}}function _P(n,e){return window.getComputedStyle(n)[e]}const v7="*";function d2e(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function g2e(n,e,t){if(":"==n[0]){const a=function p2e(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function k4e(n){return new j(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof a)return void e.push(a);n=a}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function V4e(n){return new j(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(xP(i,o));"<"==s[0]&&!(i==v7&&o==v7)&&e.push(xP(o,i))}(r,t,e)):t.push(n),t}const y7=new Set(["true","1"]),b7=new Set(["false","0"]);function xP(n,e){const t=y7.has(n)||b7.has(n),r=y7.has(e)||b7.has(e);return(i,s)=>{let o=n==v7||n==i,c=e==v7||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?y7.has(n):b7.has(n)),!c&&r&&"boolean"==typeof s&&(c=s?y7.has(e):b7.has(e)),o&&c}}const m2e=new RegExp("s*:selfs*,?","g");function Hb(n,e,t,r){return new v2e(n).build(e,t,r)}class v2e{constructor(e){this._driver=e}build(e,t,r){const i=new w2e(t);return this._resetContextStyleTimingState(i),Di(this,r6(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function z4e(){return new j(3006,!1)}()),e.definitions.forEach(c=>{if(this._resetContextStyleTimingState(t),0==c.type){const a=c,l=a.name;l.toString().split(/\s*,\s*/).forEach(h=>{a.name=h,s.push(this.visitState(a,t))}),a.name=l}else if(1==c.type){const a=this.visitTransition(c,t);r+=a.queryCount,i+=a.depCount,o.push(a)}else t.errors.push(function D4e(){return new j(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(c=>{c instanceof Map&&c.forEach(a=>{EP(a).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&(m7(s.values()),t.errors.push(function A4e(n,e){return new j(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Di(this,r6(e.animation),t);return{type:1,matchers:d2e(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ml(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Di(this,r,t)),options:ml(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const c=Di(this,o,t);return i=Math.max(i,t.currentTime),c});return t.currentTime=i,{type:3,steps:s,options:ml(e.options)}}visitAnimate(e,t){const r=function C2e(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Nb(p7(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Nb(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=p7(t,e);return Nb(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Te({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,c=!1;if(!o){c=!0;const l={};r.easing&&(l.easing=r.easing),o=Te(l)}t.currentTime+=r.duration+r.delay;const a=this.visitStyle(o,t);a.isEmptyStep=c,i=a}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let c of i)"string"==typeof c?c===wc?r.push(c):t.errors.push(new j(3002,!1)):r.push(MP(c));let s=!1,o=null;return r.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(o=c.get("easing"),c.delete("easing")),!s))for(let a of c.values())if(a.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((c,a)=>{const l=t.collectedStyles.get(t.currentQuerySelector),h=l.get(a);let d=!0;h&&(s!=i&&s>=h.startTime&&i<=h.endTime&&(t.errors.push(function O4e(n,e,t,r,i){return new j(3010,!1)}()),d=!1),s=h.startTime),d&&l.set(a,{startTime:s,endTime:i}),t.options&&function l2e(n,e,t){const r=e.params||{},i=EP(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function E4e(n){return new j(3001,!1)}())})}(c,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function I4e(){return new j(3011,!1)}()),r;let s=0;const o=[];let c=!1,a=!1,l=0;const h=e.steps.map(C=>{const M=this._makeStyleAst(C,t);let E=null!=M.offset?M.offset:function M2e(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(M.styles),z=0;return null!=E&&(s++,z=M.offset=E),a=a||z<0||z>1,c=c||z<l,l=z,o.push(z),M});a&&t.errors.push(function P4e(){return new j(3012,!1)}()),c&&t.errors.push(function L4e(){return new j(3200,!1)}());const d=e.steps.length;let g=0;s>0&&s<d?t.errors.push(function H4e(){return new j(3202,!1)}()):0==s&&(g=1/(d-1));const p=d-1,v=t.currentTime,y=t.currentAnimateTimings,w=y.duration;return h.forEach((C,M)=>{const E=g>0?M==p?1:g*M:o[M],z=E*w;t.currentTime=v+y.delay+z,y.duration=z,this._validateStyleAst(C,t),C.offset=E,r.styles.push(C)}),r}visitReference(e,t){return{type:8,animation:Di(this,r6(e.animation),t),options:ml(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ml(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ml(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function y2e(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(m2e,"")),n=n.replace(/@\*/g,g7).replace(/@\w+/g,t=>g7+"-"+t.slice(1)).replace(/:animating/g,Ob),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,zi(t.collectedStyles,t.currentQuerySelector,new Map);const c=Di(this,r6(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:c,originalSelector:e.selector,options:ml(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function N4e(){return new j(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:p7(e.timings,t.errors,!0);return{type:12,animation:Di(this,r6(e.animation),t),timings:r,options:null}}}class w2e{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ml(n){return n?(n=n6(n)).params&&(n.params=function b2e(n){return n?n6(n):null}(n.params)):n={},n}function Nb(n,e,t){return{duration:n,delay:e,easing:t}}function Rb(n,e,t,r,i,s,o=null,c=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:c}}class w7{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const x2e=new RegExp(":enter","g"),z2e=new RegExp(":leave","g");function Vb(n,e,t,r,i,s=new Map,o=new Map,c,a,l=[]){return(new D2e).buildKeyframes(n,e,t,r,i,s,o,c,a,l)}class D2e{buildKeyframes(e,t,r,i,s,o,c,a,l,h=[]){l=l||new w7;const d=new kb(e,t,l,i,s,h,[]);d.options=a;const g=a.delay?Mc(a.delay):0;d.currentTimeline.delayNextStep(g),d.currentTimeline.setStyles([o],null,d.errors,a),Di(this,r,d);const p=d.timelines.filter(v=>v.containsAnimation());if(p.length&&c.size){let v;for(let y=p.length-1;y>=0;y--){const w=p[y];if(w.element===t){v=w;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([c],null,d.errors,a)}return p.length?p.map(v=>v.buildKeyframes()):[Rb(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:Mc(i6(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Mc(r.duration):null,c=null!=r.delay?Mc(r.delay):null;return 0!==o&&e.forEach(a=>{const l=t.appendInstructionToTimeline(a,o,c);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Di(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=M7);const o=Mc(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Di(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Mc(e.options.delay):0;e.steps.forEach(o=>{const c=t.createSubContext(e.options);s&&c.delayNextStep(s),Di(this,o,c),i=Math.max(i,c.currentTimeline.currentTime),r.push(c.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return p7(t.params?i6(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,c=t.createSubContext().currentTimeline;c.easing=r.easing,e.styles.forEach(a=>{c.forwardTime((a.offset||0)*s),c.setStyles(a.styles,a.easing,t.errors,t.options),c.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(c),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Mc(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=M7);let o=r;const c=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=c.length;let a=null;c.forEach((l,h)=>{t.currentQueryIndex=h;const d=t.createSubContext(e.options,l);s&&d.delayNextStep(s),l===t.element&&(a=d.currentTimeline),Di(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),c=o*(t.currentQueryTotal-1);let a=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":a=c-a;break;case"full":a=r.currentStaggerTime}const h=t.currentTimeline;a&&h.delayNextStep(a);const d=h.currentTime;Di(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const M7={};class kb{constructor(e,t,r,i,s,o,c,a){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=M7,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new C7(this._driver,t,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Mc(r.duration)),null!=r.delay&&(i.delay=Mc(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(c=>{(!t||!o.hasOwnProperty(c))&&(o[c]=i6(s[c],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new kb(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=M7,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new A2e(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let c=[];if(i&&c.push(this.element),e.length>0){e=(e=e.replace(x2e,"."+this._enterClassName)).replace(z2e,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),c.push(...l)}return!s&&0==c.length&&o.push(function R4e(n){return new j(3014,!1)}()),c}}class C7{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new C7(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||wc),this._currentKeyframe.set(t,wc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function T2e(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,wc)}else La(i,t)}),t}(e,this._globalTimelineStyles);for(let[c,a]of o){const l=i6(a,s,r);this._pendingStyles.set(c,l),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??wc),this._updateStyle(c,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((c,a)=>{const l=La(c,new Map,this._backFill);l.forEach((h,d)=>{"!"===h?e.add(d):h===wc&&t.add(d)}),r||l.set("offset",a/this.duration),i.push(l)});const s=e.size?m7(e.values()):[],o=t.size?m7(t.values()):[];if(r){const c=i[0],a=new Map(c);c.set("offset",0),a.set("offset",1),i=[c,a]}return Rb(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class A2e extends C7{constructor(e,t,r,i,s,o,c=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=c,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,c=t/o,a=La(e[0]);a.set("offset",0),s.push(a);const l=La(e[0]);l.set("offset",DP(c)),s.push(l);const h=e.length-1;for(let d=1;d<=h;d++){let g=La(e[d]);const p=g.get("offset");g.set("offset",DP((t+p*r)/o)),s.push(g)}r=o,t=0,i="",e=s}return Rb(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function DP(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Fb{}const O2e=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class I2e extends Fb{normalizePropertyName(e,t){return Lb(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(O2e.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const c=r.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&i.push(function S4e(n,e){return new j(3005,!1)}())}return o+s}}function AP(n,e,t,r,i,s,o,c,a,l,h,d,g){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:c,queriedElements:a,preStyleProps:l,postStyleProps:h,totalTime:d,errors:g}}const Bb={};class TP{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function P2e(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,c,a,l,h){const d=[],g=this.ast.options&&this.ast.options.params||Bb,v=this.buildStyles(r,c&&c.params||Bb,d),y=a&&a.params||Bb,w=this.buildStyles(i,y,d),C=new Set,M=new Map,E=new Map,z="void"===i,T={params:L2e(y,g),delay:this.ast.options?.delay},P=h?[]:Vb(e,t,this.ast.animation,s,o,v,w,T,l,d);let k=0;if(P.forEach(B=>{k=Math.max(B.duration+B.delay,k)}),d.length)return AP(t,this._triggerName,r,i,z,v,w,[],[],M,E,k,d);P.forEach(B=>{const K=B.element,Z=zi(M,K,new Set);B.preStyleProps.forEach(ke=>Z.add(ke));const ee=zi(E,K,new Set);B.postStyleProps.forEach(ke=>ee.add(ke)),K!==t&&C.add(K)});const G=m7(C.values());return AP(t,this._triggerName,r,i,z,v,w,P,G,M,E,k)}}function L2e(n,e){const t=n6(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class H2e{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=n6(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,c)=>{o&&(o=i6(o,i,t));const a=this.normalizer.normalizePropertyName(c,t);o=this.normalizer.normalizeStyleValue(c,a,o,t),r.set(c,o)})}),r}}class R2e{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new H2e(i.style,i.options&&i.options.params||{},r))}),OP(this.states,"true","1"),OP(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new TP(e,i,this.states))}),this.fallbackTransition=function V2e(n,e,t){return new TP(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,c)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function OP(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const k2e=new w7;class F2e{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=Hb(this._driver,t,r,[]);if(r.length)throw function U4e(n){return new j(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=dP(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const c=new Map;if(s?(o=Vb(this._driver,t,s,Tb,f7,new Map,new Map,r,k2e,i),o.forEach(h=>{const d=zi(c,h.element,new Map);h.postStyleProps.forEach(g=>d.set(g,null))})):(i.push(function q4e(){return new j(3300,!1)}()),o=[]),i.length)throw function G4e(n){return new j(3504,!1)}();c.forEach((h,d)=>{h.forEach((g,p)=>{h.set(p,this._driver.computeStyle(d,p,wc))})});const l=Pa(o.map(h=>{const d=c.get(h.element);return this._buildPlayer(h,new Map,d)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function W4e(n){return new j(3301,!1)}();return t}listen(e,t,r,i){const s=zb(t,"","","");return xb(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const IP="ng-animate-queued",jb="ng-animate-disabled",q2e=[],PP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},G2e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Bs="__ng_removed";class $b{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Z2e(n){return n??null}(r?e.value:e),r){const s=n6(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const s6="void",Ub=new $b(s6);class W2e{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,us(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Y4e(n,e){return new j(3302,!1)}();if(null==r||0==r.length)throw function X4e(n){return new j(3303,!1)}();if(!function K2e(n){return"start"==n||"done"==n}(r))throw function Z4e(n,e){return new j(3400,!1)}();const s=zi(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const c=zi(this._engine.statesByElement,e,new Map);return c.has(t)||(us(e,d7),us(e,d7+"-"+t),c.set(t,Ub)),()=>{this._engine.afterFlush(()=>{const a=s.indexOf(o);a>=0&&s.splice(a,1),this._triggers.has(t)||c.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function K4e(n){return new j(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new qb(this.id,t,e);let c=this._engine.statesByElement.get(e);c||(us(e,d7),us(e,d7+"-"+t),this._engine.statesByElement.set(e,c=new Map));let a=c.get(t);const l=new $b(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),c.set(t,l),a||(a=Ub),l.value!==s6&&a.value===l.value){if(!function e3e(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(a.params,l.params)){const y=[],w=s.matchStyles(a.value,a.params,y),C=s.matchStyles(l.value,l.params,y);y.length?this._engine.reportError(y):this._engine.afterFlush(()=>{pl(e,w),_o(e,C)})}return}const g=zi(this._engine.playersByElement,e,[]);g.forEach(y=>{y.namespaceId==this.id&&y.triggerName==t&&y.queued&&y.destroy()});let p=s.matchTransition(a.value,l.value,e,l.params),v=!1;if(!p){if(!i)return;p=s.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:p,fromState:a,toState:l,player:o,isFallbackTransition:v}),v||(us(e,IP),o.onStart(()=>{b3(e,IP)})),o.onDone(()=>{let y=this.players.indexOf(o);y>=0&&this.players.splice(y,1);const w=this._engine.playersByElement.get(e);if(w){let C=w.indexOf(o);C>=0&&w.splice(C,1)}}),this.players.push(o),g.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,g7,!0);r.forEach(i=>{if(i[Bs])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const c=[];if(s.forEach((a,l)=>{if(o.set(l,a.value),this._triggers.has(l)){const h=this.trigger(e,l,s6,i);h&&c.push(h)}}),c.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&Pa(c).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const a=this._triggers.get(o).fallbackTransition,l=r.get(o)||Ub,h=new $b(s6),d=new qb(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:a,fromState:l,toState:h,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Bs];(!s||s===PP)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){us(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(c=>{if(c.name==r.triggerName){const a=zb(s,r.triggerName,r.fromState.value,r.toState.value);a._data=e,xb(r.player,c.phase,a,c.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Y2e{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new W2e(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,c=this.driver.getParentElement(t);for(;c;){const a=i.get(c);if(a){const l=r.indexOf(a);r.splice(l+1,0,e),o=!0;break}c=this.driver.getParentElement(c)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(E7(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!E7(t))return;const s=t[Bs];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),us(e,jb)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),b3(e,jb))}removeNode(e,t,r){if(E7(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Bs]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return E7(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,g7,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Ob,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Pa(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Bs];if(t&&t.setForRemoval){if(e[Bs]=PP,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(jb)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)us(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Pa(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function J4e(n){return new j(3402,!1)}()}_flushAnimations(e,t){const r=new w7,i=[],s=new Map,o=[],c=new Map,a=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(N=>{h.add(N);const X=this.driver.query(N,".ng-animate-queued",!0);for(let se=0;se<X.length;se++)h.add(X[se])});const d=this.bodyNode,g=Array.from(this.statesByElement.keys()),p=NP(g,this.collectedEnterElements),v=new Map;let y=0;p.forEach((N,X)=>{const se=Tb+y++;v.set(X,se),N.forEach(ue=>us(ue,se))});const w=[],C=new Set,M=new Set;for(let N=0;N<this.collectedLeaveElements.length;N++){const X=this.collectedLeaveElements[N],se=X[Bs];se&&se.setForRemoval&&(w.push(X),C.add(X),se.hasAnimation?this.driver.query(X,".ng-star-inserted",!0).forEach(ue=>C.add(ue)):M.add(X))}const E=new Map,z=NP(g,Array.from(C));z.forEach((N,X)=>{const se=f7+y++;E.set(X,se),N.forEach(ue=>us(ue,se))}),e.push(()=>{p.forEach((N,X)=>{const se=v.get(X);N.forEach(ue=>b3(ue,se))}),z.forEach((N,X)=>{const se=E.get(X);N.forEach(ue=>b3(ue,se))}),w.forEach(N=>{this.processLeaveNode(N)})});const T=[],P=[];for(let N=this._namespaceList.length-1;N>=0;N--)this._namespaceList[N].drainQueuedTransitions(t).forEach(se=>{const ue=se.player,je=se.element;if(T.push(ue),this.collectedEnterElements.length){const At=je[Bs];if(At&&At.setForMove){if(At.previousTriggersValues&&At.previousTriggersValues.has(se.triggerName)){const xo=At.previousTriggersValues.get(se.triggerName),Ur=this.statesByElement.get(se.element);if(Ur&&Ur.has(se.triggerName)){const $s=Ur.get(se.triggerName);$s.value=xo,Ur.set(se.triggerName,$s)}}return void ue.destroy()}}const wt=!d||!this.driver.containsElement(d,je),qn=E.get(je),Ai=v.get(je),Qe=this._buildInstruction(se,r,Ai,qn,wt);if(Qe.errors&&Qe.errors.length)return void P.push(Qe);if(wt)return ue.onStart(()=>pl(je,Qe.fromStyles)),ue.onDestroy(()=>_o(je,Qe.toStyles)),void i.push(ue);if(se.isFallbackTransition)return ue.onStart(()=>pl(je,Qe.fromStyles)),ue.onDestroy(()=>_o(je,Qe.toStyles)),void i.push(ue);const Ha=[];Qe.timelines.forEach(At=>{At.stretchStartingKeyframe=!0,this.disabledNodes.has(At.element)||Ha.push(At)}),Qe.timelines=Ha,r.append(je,Qe.timelines),o.push({instruction:Qe,player:ue,element:je}),Qe.queriedElements.forEach(At=>zi(c,At,[]).push(ue)),Qe.preStyleProps.forEach((At,xo)=>{if(At.size){let Ur=a.get(xo);Ur||a.set(xo,Ur=new Set),At.forEach(($s,Yb)=>Ur.add(Yb))}}),Qe.postStyleProps.forEach((At,xo)=>{let Ur=l.get(xo);Ur||l.set(xo,Ur=new Set),At.forEach(($s,Yb)=>Ur.add(Yb))})});if(P.length){const N=[];P.forEach(X=>{N.push(function Q4e(n,e){return new j(3505,!1)}())}),T.forEach(X=>X.destroy()),this.reportError(N)}const k=new Map,G=new Map;o.forEach(N=>{const X=N.element;r.has(X)&&(G.set(X,X),this._beforeAnimationBuild(N.player.namespaceId,N.instruction,k))}),i.forEach(N=>{const X=N.element;this._getPreviousPlayers(X,!1,N.namespaceId,N.triggerName,null).forEach(ue=>{zi(k,X,[]).push(ue),ue.destroy()})});const B=w.filter(N=>VP(N,a,l)),K=new Map;HP(K,this.driver,M,l,wc).forEach(N=>{VP(N,a,l)&&B.push(N)});const ee=new Map;p.forEach((N,X)=>{HP(ee,this.driver,new Set(N),a,"!")}),B.forEach(N=>{const X=K.get(N),se=ee.get(N);K.set(N,new Map([...X?.entries()??[],...se?.entries()??[]]))});const ke=[],Oe=[],R={};o.forEach(N=>{const{element:X,player:se,instruction:ue}=N;if(r.has(X)){if(h.has(X))return se.onDestroy(()=>_o(X,ue.toStyles)),se.disabled=!0,se.overrideTotalTime(ue.totalTime),void i.push(se);let je=R;if(G.size>1){let qn=X;const Ai=[];for(;qn=qn.parentNode;){const Qe=G.get(qn);if(Qe){je=Qe;break}Ai.push(qn)}Ai.forEach(Qe=>G.set(Qe,je))}const wt=this._buildAnimation(se.namespaceId,ue,k,s,ee,K);if(se.setRealPlayer(wt),je===R)ke.push(se);else{const qn=this.playersByElement.get(je);qn&&qn.length&&(se.parentPlayer=Pa(qn)),i.push(se)}}else pl(X,ue.fromStyles),se.onDestroy(()=>_o(X,ue.toStyles)),Oe.push(se),h.has(X)&&i.push(se)}),Oe.forEach(N=>{const X=s.get(N.element);if(X&&X.length){const se=Pa(X);N.setRealPlayer(se)}}),i.forEach(N=>{N.parentPlayer?N.syncPlayerEvents(N.parentPlayer):N.destroy()});for(let N=0;N<w.length;N++){const X=w[N],se=X[Bs];if(b3(X,f7),se&&se.hasAnimation)continue;let ue=[];if(c.size){let wt=c.get(X);wt&&wt.length&&ue.push(...wt);let qn=this.driver.query(X,Ob,!0);for(let Ai=0;Ai<qn.length;Ai++){let Qe=c.get(qn[Ai]);Qe&&Qe.length&&ue.push(...Qe)}}const je=ue.filter(wt=>!wt.destroyed);je.length?J2e(this,X,je):this.processLeaveNode(X)}return w.length=0,ke.forEach(N=>{this.players.push(N),N.onDone(()=>{N.destroy();const X=this.players.indexOf(N);this.players.splice(X,1)}),N.play()}),ke}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const c=this.playersByQueriedElement.get(e);c&&(o=c)}else{const c=this.playersByElement.get(e);if(c){const a=!s||s==s6;c.forEach(l=>{l.queued||!a&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(c=>!(r&&r!=c.namespaceId||i&&i!=c.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,c=t.isRemovalTransition?void 0:t.triggerName;for(const a of t.timelines){const l=a.element,h=l!==s,d=zi(r,l,[]);this._getPreviousPlayers(l,h,o,c,t.toState).forEach(p=>{const v=p.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),p.destroy(),d.push(p)})}pl(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const c=t.triggerName,a=t.element,l=[],h=new Set,d=new Set,g=t.timelines.map(v=>{const y=v.element;h.add(y);const w=y[Bs];if(w&&w.removedBeforeQueried)return new t6(v.duration,v.delay);const C=y!==a,M=function Q2e(n){const e=[];return RP(n,e),e}((r.get(y)||q2e).map(k=>k.getRealPlayer())).filter(k=>!!k.element&&k.element===y),E=s.get(y),z=o.get(y),T=dP(this._normalizer,v.keyframes,E,z),P=this._buildPlayer(v,T,M);if(v.subTimeline&&i&&d.add(y),C){const k=new qb(e,c,y);k.setRealPlayer(P),l.push(k)}return P});l.forEach(v=>{zi(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>function X2e(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,v.element,v))}),h.forEach(v=>us(v,wP));const p=Pa(g);return p.onDestroy(()=>{h.forEach(v=>b3(v,wP)),_o(a,t.toStyles)}),d.forEach(v=>{zi(i,v,[]).push(p)}),p}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new t6(e.duration,e.delay)}}class qb{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new t6,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>xb(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){zi(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function E7(n){return n&&1===n.nodeType}function LP(n,e){const t=n.style.display;return n.style.display=e??"none",t}function HP(n,e,t,r,i){const s=[];t.forEach(a=>s.push(LP(a)));const o=[];r.forEach((a,l)=>{const h=new Map;a.forEach(d=>{const g=e.computeStyle(l,d,i);h.set(d,g),(!g||0==g.length)&&(l[Bs]=G2e,o.push(l))}),n.set(l,h)});let c=0;return t.forEach(a=>LP(a,s[c++])),o}function NP(n,e){const t=new Map;if(n.forEach(c=>t.set(c,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(c){if(!c)return 1;let a=s.get(c);if(a)return a;const l=c.parentNode;return a=t.has(l)?l:i.has(l)?1:o(l),s.set(c,a),a}return e.forEach(c=>{const a=o(c);1!==a&&t.get(a).push(c)}),t}function us(n,e){n.classList?.add(e)}function b3(n,e){n.classList?.remove(e)}function J2e(n,e,t){Pa(t).onDone(()=>n.processLeaveNode(e))}function RP(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof oP?RP(r.players,e):e.push(r)}}function VP(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class _7{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Y2e(e,t,r),this._timelineEngine=new F2e(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let c=this._triggerCache[o];if(!c){const a=[],h=Hb(this._driver,s,a,[]);if(a.length)throw function j4e(n,e){return new j(3404,!1)}();c=function N2e(n,e,t){return new R2e(n,e,t)}(i,h,this._normalizer),this._triggerCache[o]=c}this._transitionEngine.registerTrigger(t,i,c)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=gP(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,c]=gP(r);return this._timelineEngine.listen(o,t,c,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let n3e=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&_o(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(_o(this._element,this._initialStyles),this._endStyles&&(_o(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(pl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pl(this._element,this._endStyles),this._endStyles=null),_o(this._element,this._initialStyles),this._state=3)}}return n})();function Gb(n){let e=null;return n.forEach((t,r)=>{(function r3e(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class kP{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:_P(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class i3e{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return mP(e,t)}getParentElement(e){return Db(e)}query(e,t,r){return vP(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const a={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(a.easing=s);const l=new Map,h=o.filter(p=>p instanceof kP);(function h2e(n,e){return 0===n||0===e})(r,i)&&h.forEach(p=>{p.currentSnapshot.forEach((v,y)=>l.set(y,v))});let d=function a2e(n){return n.length?n[0]instanceof Map?n:n.map(e=>MP(e)):[]}(t).map(p=>La(p));d=function f2e(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(c=>o.set(c,_P(n,c)))}}return e}(e,d,l);const g=function t3e(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Gb(e[0]),e.length>1&&(r=Gb(e[e.length-1]))):e instanceof Map&&(t=Gb(e)),t||r?new n3e(n,t,r):null}(e,d);return new kP(e,d,a,g)}}let s3e=(()=>{class n extends nP{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Yr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?rP(t):t;return FP(this._renderer,null,r,"register",[i]),new o3e(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||n)(Y(L1),Y(xn))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();class o3e extends Kle{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new c3e(this._id,e,t||{},this._renderer)}}class c3e{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return FP(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function FP(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const BP="@.disabled";let a3e=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const c=o?.parentNode(s);c&&o.removeChild(c,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let h=this._rendererCache.get(s);return h||(h=new jP("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,h)),h}const o=r.id,c=r.id+"-"+this._currentId;this._currentId++,this.engine.register(c,t);const a=h=>{Array.isArray(h)?h.forEach(a):this.engine.registerTrigger(o,c,t,h.name,h)};return r.data.animation.forEach(a),new l3e(this,c,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,c]=s;o(c)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||n)(Y(L1),Y(_7),Y(ct))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();class jP{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==BP?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class l3e extends jP{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==BP?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function u3e(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function h3e(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,c=>{this.factory.scheduleListenerCallback(c._data||-1,r,c)})}return this.delegate.listen(e,t,r)}}let f3e=(()=>{class n extends _7{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(Y(xn),Y(Ab),Y(Fb),Y(q1))};static#t=this.\u0275prov=Q({token:n,factory:n.\u0275fac})}return n})();const $P=[{provide:nP,useClass:s3e},{provide:Fb,useFactory:function d3e(){return new I2e}},{provide:_7,useClass:f3e},{provide:L1,useFactory:function g3e(n,e,t){return new a3e(n,e,t)},deps:[Jm,_7,ct]}],Wb=[{provide:Ab,useFactory:()=>new i3e},{provide:m8,useValue:"BrowserAnimations"},...$P],UP=[{provide:Ab,useClass:yP},{provide:m8,useValue:"NoopAnimations"},...$P];let p3e=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?UP:Wb}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=un({type:n});static#n=this.\u0275inj=Wn({providers:Wb,imports:[Kx]})}return n})(),m3e=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=un({type:n,bootstrap:[pae]});static#n=this.\u0275inj=Wn({providers:[{provide:rae,useClass:q5}],imports:[Kx,gae,p3e,QI,w4e]})}return n})();$l(Zy,[yd,Jy],[]),$l(Qy,[yd,jm,JI,b4e,uP,WO,eP],[]),_j().bootstrapModule(m3e).catch(n=>console.error(n))},990:function(oi,hs,Ge){var Ti;oi=Ge.nmd(oi),function(){var A,ir="Expected a function",Va="__lodash_hash_undefined__",Cc="__lodash_placeholder__",Ao=1/0,Ii=9007199254740991,Pi=4294967295,T7=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Ws="[object Arguments]",El="[object Array]",qr="[object Boolean]",Fa="[object Date]",Mt="[object Error]",Ba="[object Function]",c6="[object GeneratorFunction]",ai="[object Map]",ja="[object Number]",Li="[object Object]",x3="[object Promise]",Tt="[object RegExp]",li="[object Set]",Fe="[object String]",_c="[object Symbol]",To="[object WeakMap]",Cr="[object ArrayBuffer]",xc="[object DataView]",a6="[object Float32Array]",l6="[object Float64Array]",u6="[object Int8Array]",h6="[object Int16Array]",S3="[object Int32Array]",_l="[object Uint8Array]",z3="[object Uint8ClampedArray]",$a="[object Uint16Array]",D3="[object Uint32Array]",A3=/\b__p \+= '';/g,f6=/\b(__p \+=) '' \+/g,P7=/(__e\(.*?\)|\b__t\)) \+\n'';/g,d6=/&(?:amp|lt|gt|quot|#39);/g,g6=/[&<>"']/g,Ys=RegExp(d6.source),p6=RegExp(g6.source),L7=/<%-([\s\S]+?)%>/g,m6=/<%([\s\S]+?)%>/g,v6=/<%=([\s\S]+?)%>/g,H7=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,N7=/^\w*$/,R7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,T3=/[\\^$.*+?()[\]{}|]/g,V7=RegExp(T3.source),O3=/^\s+/,k7=/\s/,F7=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,B7=/\{\n\/\* \[wrapped with (.+)\] \*/,Xb=/,? & /,I3=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,y6=/[()=,{}\[\]\/\s]/,b6=/\\(\\)?/g,w6=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,P3=/\w*$/,j7=/^[-+]0x[0-9a-f]+$/i,M6=/^0b[01]+$/i,C6=/^\[object .+?Constructor\]$/,E6=/^0o[0-7]+$/i,_6=/^(?:0|[1-9]\d*)$/,Er=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xl=/($^)/,$7=/['\n\r\u2028\u2029\\]/g,Sl="\\ud800-\\udfff",S6="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Hi="\\u2700-\\u27bf",z6="a-z\\xdf-\\xf6\\xf8-\\xff",D6="A-Z\\xc0-\\xd6\\xd8-\\xde",A6="\\ufe0e\\ufe0f",zl="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ua="["+Sl+"]",T6="["+zl+"]",qa="["+S6+"]",H3="\\d+",G7="["+Hi+"]",O6="["+z6+"]",I6="[^"+Sl+zl+H3+Hi+z6+D6+"]",N3="\\ud83c[\\udffb-\\udfff]",L6="[^"+Sl+"]",R3="(?:\\ud83c[\\udde6-\\uddff]){2}",Bt="[\\ud800-\\udbff][\\udc00-\\udfff]",zc="["+D6+"]",pe="(?:"+O6+"|"+I6+")",V3="(?:"+zc+"|"+I6+")",Dl="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ui="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",H6="(?:"+qa+"|"+N3+")?",N6="["+A6+"]?",Tl=N6+H6+"(?:\\u200d(?:"+[L6,R3,Bt].join("|")+")"+N6+H6+")*",W7="(?:"+[G7,R3,Bt].join("|")+")"+Tl,k3="(?:"+[L6+qa+"?",qa,R3,Bt,Ua].join("|")+")",Ce=RegExp("['\u2019]","g"),F3=RegExp(qa,"g"),Ga=RegExp(N3+"(?="+N3+")|"+k3+Tl,"g"),Kb=RegExp([zc+"?"+O6+"+"+Dl+"(?="+[T6,zc,"$"].join("|")+")",V3+"+"+ui+"(?="+[T6,zc+pe,"$"].join("|")+")",zc+"?"+pe+"+"+Dl,zc+"+"+ui,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",H3,W7].join("|"),"g"),R6=RegExp("[\\u200d"+Sl+S6+A6+"]"),j=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ol=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xe=-1,fe={};fe[a6]=fe[l6]=fe[u6]=fe[h6]=fe[S3]=fe[_l]=fe[z3]=fe[$a]=fe[D3]=!0,fe[Ws]=fe[El]=fe[Cr]=fe[qr]=fe[xc]=fe[Fa]=fe[Mt]=fe[Ba]=fe[ai]=fe[ja]=fe[Li]=fe[Tt]=fe[li]=fe[Fe]=fe[To]=!1;var ft={};ft[Ws]=ft[El]=ft[Cr]=ft[xc]=ft[qr]=ft[Fa]=ft[a6]=ft[l6]=ft[u6]=ft[h6]=ft[S3]=ft[ai]=ft[ja]=ft[Li]=ft[Tt]=ft[li]=ft[Fe]=ft[_c]=ft[_l]=ft[z3]=ft[$a]=ft[D3]=!0,ft[Mt]=ft[Ba]=ft[To]=!1;var xr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qb=parseFloat,X7=parseInt,Z7="object"==typeof global&&global&&global.Object===Object&&global,Oo="object"==typeof self&&self&&self.Object===Object&&self,Tn=Z7||Oo||Function("return this")(),K7=hs&&!hs.nodeType&&hs,Il=K7&&oi&&!oi.nodeType&&oi,J7=Il&&Il.exports===K7,j3=J7&&Z7.process,hi=function(){try{return Il&&Il.require&&Il.require("util").types||j3&&j3.binding&&j3.binding("util")}catch{}}(),V6=hi&&hi.isArrayBuffer,Q7=hi&&hi.isDate,Sr=hi&&hi.isMap,we=hi&&hi.isRegExp,eg=hi&&hi.isSet,tg=hi&&hi.isTypedArray;function Gr(L,F,V){switch(V.length){case 0:return L.call(F);case 1:return L.call(F,V[0]);case 2:return L.call(F,V[0],V[1]);case 3:return L.call(F,V[0],V[1],V[2])}return L.apply(F,V)}function Q(L,F,V,te){for(var Me=-1,Ze=null==L?0:L.length;++Me<Ze;){var jt=L[Me];F(te,jt,V(jt),L)}return te}function fi(L,F){for(var V=-1,te=null==L?0:L.length;++V<te&&!1!==F(L[V],V,L););return L}function Wn(L,F){for(var V=null==L?0:L.length;V--&&!1!==F(L[V],V,L););return L}function Wa(L,F){for(var V=-1,te=null==L?0:L.length;++V<te;)if(!F(L[V],V,L))return!1;return!0}function Xs(L,F){for(var V=-1,te=null==L?0:L.length,Me=0,Ze=[];++V<te;){var jt=L[V];F(jt,V,L)&&(Ze[Me++]=jt)}return Ze}function Ya(L,F){return!(null==L||!L.length)&&Ka(L,F,0)>-1}function $3(L,F,V){for(var te=-1,Me=null==L?0:L.length;++te<Me;)if(V(F,L[te]))return!0;return!1}function at(L,F){for(var V=-1,te=null==L?0:L.length,Me=Array(te);++V<te;)Me[V]=F(L[V],V,L);return Me}function di(L,F){for(var V=-1,te=F.length,Me=L.length;++V<te;)L[Me+V]=F[V];return L}function Xa(L,F,V,te){var Me=-1,Ze=null==L?0:L.length;for(te&&Ze&&(V=L[++Me]);++Me<Ze;)V=F(V,L[Me],Me,L);return V}function k6(L,F,V,te){var Me=null==L?0:L.length;for(te&&Me&&(V=L[--Me]);Me--;)V=F(V,L[Me],Me,L);return V}function U3(L,F){for(var V=-1,te=null==L?0:L.length;++V<te;)if(F(L[V],V,L))return!0;return!1}var Re=Ja("length");function Yn(L,F,V){var te;return V(L,function(Me,Ze,jt){if(F(Me,Ze,jt))return te=Ze,!1}),te}function Za(L,F,V,te){for(var Me=L.length,Ze=V+(te?1:-1);te?Ze--:++Ze<Me;)if(F(L[Ze],Ze,L))return Ze;return-1}function Ka(L,F,V){return F==F?function Z3(L,F,V){for(var te=V-1,Me=L.length;++te<Me;)if(L[te]===F)return te;return-1}(L,F,V):Za(L,ng,V)}function dt(L,F,V,te){for(var Me=V-1,Ze=L.length;++Me<Ze;)if(te(L[Me],F))return Me;return-1}function ng(L){return L!=L}function rg(L,F){var V=null==L?0:L.length;return V?Y3(L,F)/V:NaN}function Ja(L){return function(F){return null==F?A:F[L]}}function Qa(L){return function(F){return null==L?A:L[F]}}function G3(L,F,V,te,Me){return Me(L,function(Ze,jt,tt){V=te?(te=!1,Ze):F(V,Ze,jt,tt)}),V}function Y3(L,F){for(var V,te=-1,Me=L.length;++te<Me;){var Ze=F(L[te]);Ze!==A&&(V=V===A?Ze:V+Ze)}return V}function e1(L,F){for(var V=-1,te=Array(L);++V<L;)te[V]=F(V);return te}function ig(L){return L&&L.slice(0,$6(L)+1).replace(O3,"")}function Wr(L){return function(F){return L(F)}}function B6(L,F){return at(F,function(V){return L[V]})}function Pl(L,F){return L.has(F)}function Dc(L,F){for(var V=-1,te=L.length;++V<te&&Ka(F,L[V],0)>-1;);return V}function Ll(L,F){for(var V=L.length;V--&&Ka(F,L[V],0)>-1;);return V}var sg=Qa({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),og=Qa({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function cg(L){return"\\"+xr[L]}function gi(L){return R6.test(L)}function X3(L){var F=-1,V=Array(L.size);return L.forEach(function(te,Me){V[++F]=[Me,te]}),V}function Y(L,F){return function(V){return L(F(V))}}function ds(L,F){for(var V=-1,te=L.length,Me=0,Ze=[];++V<te;){var jt=L[V];(jt===F||jt===Cc)&&(L[V]=Cc,Ze[Me++]=V)}return Ze}function ce(L){var F=-1,V=Array(L.size);return L.forEach(function(te){V[++F]=te}),V}function Ac(L){return gi(L)?function Rl(L){for(var F=Ga.lastIndex=0;Ga.test(L);)++F;return F}(L):Re(L)}function pi(L){return gi(L)?function Yr(L){return L.match(Ga)||[]}(L):function q3(L){return L.split("")}(L)}function $6(L){for(var F=L.length;F--&&k7.test(L.charAt(F)););return F}var gs=Qa({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Io=function L(F){var u,V=(F=null==F?Tn:Io.defaults(Tn.Object(),F,Io.pick(Tn,Ol))).Array,te=F.Date,Me=F.Error,Ze=F.Function,jt=F.Math,tt=F.Object,Vl=F.RegExp,U6=F.String,On=F.TypeError,n1=V.prototype,Tc=tt.prototype,r1=F["__core-js_shared__"],kl=Ze.prototype.toString,nt=Tc.hasOwnProperty,mi=0,G6=(u=/[^.]+$/.exec(r1&&r1.keys&&r1.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"",s1=Tc.toString,lg=kl.call(tt),ug=Tn._,hg=Vl("^"+kl.call(nt).replace(T3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fl=J7?F.Buffer:A,ps=F.Symbol,Bl=F.Uint8Array,W6=Fl?Fl.allocUnsafe:A,jl=Y(tt.getPrototypeOf,tt),or=tt.create,$l=Tc.propertyIsEnumerable,Ul=n1.splice,Y6=ps?ps.isConcatSpreadable:A,un=ps?ps.iterator:A,Po=ps?ps.toStringTag:A,o1=function(){try{var u=co(tt,"defineProperty");return u({},"",{}),u}catch{}}(),Kt=F.clearTimeout!==Tn.clearTimeout&&F.clearTimeout,cr=te&&te.now!==Tn.Date.now&&te.now,We=F.setTimeout!==Tn.setTimeout&&F.setTimeout,$t=jt.ceil,hn=jt.floor,Ks=tt.getOwnPropertySymbols,zr=Fl?Fl.isBuffer:A,K3=F.isFinite,X6=n1.join,ql=Y(tt.keys,tt),Jt=jt.max,In=jt.min,Nt=te.now,re=F.parseInt,ze=jt.random,Ct=n1.reverse,Dr=co(F,"DataView"),ms=co(F,"Map"),fn=co(F,"Promise"),vi=co(F,"Set"),pt=co(F,"WeakMap"),Xr=co(tt,"create"),vs=pt&&new pt,ve={},c1=lo(Dr),Z6=lo(ms),Oc=lo(fn),kt=lo(vi),a1=lo(pt),ys=ps?ps.prototype:A,ar=ys?ys.valueOf:A,Ic=ys?ys.toString:A;function x(u){if(_t(u)&&!De(u)&&!(u instanceof Le)){if(u instanceof Pn)return u;if(nt.call(u,"__wrapped__"))return jc(u)}return new Pn(u)}var Ar=function(){function u(){}return function(f){if(!mt(f))return{};if(or)return or(f);u.prototype=f;var m=new u;return u.prototype=A,m}}();function Zr(){}function Pn(u,f){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!f,this.__index__=0,this.__values__=A}function Le(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Pi,this.__views__=[]}function Js(u){var f=-1,m=null==u?0:u.length;for(this.clear();++f<m;){var b=u[f];this.set(b[0],b[1])}}function Qs(u){var f=-1,m=null==u?0:u.length;for(this.clear();++f<m;){var b=u[f];this.set(b[0],b[1])}}function Qt(u){var f=-1,m=null==u?0:u.length;for(this.clear();++f<m;){var b=u[f];this.set(b[0],b[1])}}function Ho(u){var f=-1,m=null==u?0:u.length;for(this.__data__=new Qt;++f<m;)this.add(u[f])}function ki(u){var f=this.__data__=new Qs(u);this.size=f.size}function pg(u,f){var m=De(u),b=!m&&qo(u),_=!m&&!b&&Es(u),S=!m&&!b&&!_&&uo(u),D=m||b||_||S,I=D?e1(u.length,U6):[],H=I.length;for(var $ in u)(f||nt.call(u,$))&&(!D||!("length"==$||_&&("offset"==$||"parent"==$)||S&&("buffer"==$||"byteLength"==$||"byteOffset"==$)||bi($,H)))&&I.push($);return I}function mg(u){var f=u.length;return f?u[ot(0,f-1)]:A}function uw(u,f){return jo(Nn(u),Hc(f,0,u.length))}function hw(u){return jo(Nn(u))}function Yl(u,f,m){(m!==A&&!Mi(u[f],m)||m===A&&!(f in u))&&Ln(u,f,m)}function Lc(u,f,m){var b=u[f];(!nt.call(u,f)||!Mi(b,m)||m===A&&!(f in u))&&Ln(u,f,m)}function tu(u,f){for(var m=u.length;m--;)if(Mi(u[m][0],f))return m;return-1}function fw(u,f,m,b){return bs(u,function(_,S,D){f(b,_,m(_),D)}),b}function vg(u,f){return u&&ji(f,vn(f),u)}function Ln(u,f,m){"__proto__"==f&&o1?o1(u,f,{configurable:!0,enumerable:!0,value:m,writable:!0}):u[f]=m}function K6(u,f){for(var m=-1,b=f.length,_=V(b),S=null==u;++m<b;)_[m]=S?A:H4(u,f[m]);return _}function Hc(u,f,m){return u==u&&(m!==A&&(u=u<=m?u:m),f!==A&&(u=u>=f?u:f)),u}function st(u,f,m,b,_,S){var D,I=1&f,H=2&f,$=4&f;if(m&&(D=_?m(u,b,_,S):m(u)),D!==A)return D;if(!mt(u))return u;var U=De(u);if(U){if(D=function bw(u){var f=u.length,m=new u.constructor(f);return f&&"string"==typeof u[0]&&nt.call(u,"index")&&(m.index=u.index,m.input=u.input),m}(u),!I)return Nn(u,D)}else{var W=Ut(u),ne=W==Ba||W==c6;if(Es(u))return hh(u,I);if(W==Li||W==Ws||ne&&!_){if(D=H||ne?{}:bh(u),!I)return H?function fh(u,f){return ji(u,Bo(u),f)}(u,function No(u,f){return u&&ji(f,pr(f),u)}(D,u)):function vw(u,f){return ji(u,zu(u),f)}(u,vg(D,u))}else{if(!ft[W])return _?u:{};D=function Lg(u,f,m){var b=u.constructor;switch(f){case Cr:return q(u);case qr:case Fa:return new b(+u);case xc:return function Ye(u,f){var m=f?q(u.buffer):u.buffer;return new u.constructor(m,u.byteOffset,u.byteLength)}(u,m);case a6:case l6:case u6:case h6:case S3:case _l:case z3:case $a:case D3:return gn(u,m);case ai:return new b;case ja:case Fe:return new b(u);case Tt:return function zg(u){var f=new u.constructor(u.source,P3.exec(u));return f.lastIndex=u.lastIndex,f}(u);case li:return new b;case _c:return function Dg(u){return ar?tt(ar.call(u)):{}}(u)}}(u,W,I)}}S||(S=new ki);var le=S.get(u);if(le)return le;S.set(u,D),Ku(u)?u.forEach(function(be){D.add(st(be,f,m,be,u,S))}):Jh(u)&&u.forEach(function(be,Be){D.set(Be,st(be,f,m,Be,u,S))});var He=U?A:($?H?kc:l4:H?pr:vn)(u);return fi(He||u,function(be,Be){He&&(be=u[Be=be]),Lc(D,Be,st(be,f,m,Be,u,S))}),D}function Tr(u,f,m){var b=m.length;if(null==u)return!b;for(u=tt(u);b--;){var _=m[b],D=u[_];if(D===A&&!(_ in u)||!(0,f[_])(D))return!1}return!0}function nu(u,f,m){if("function"!=typeof u)throw new On(ir);return Bc(function(){u.apply(A,m)},f)}function Nc(u,f,m,b){var _=-1,S=Ya,D=!0,I=u.length,H=[],$=f.length;if(!I)return H;m&&(f=at(f,Wr(m))),b?(S=$3,D=!1):f.length>=200&&(S=Pl,D=!1,f=new Ho(f));e:for(;++_<I;){var U=u[_],W=null==m?U:m(U);if(U=b||0!==U?U:0,D&&W==W){for(var ne=$;ne--;)if(f[ne]===W)continue e;H.push(U)}else S(f,W,b)||H.push(U)}return H}x.templateSettings={escape:L7,evaluate:m6,interpolate:v6,variable:"",imports:{_:x}},(x.prototype=Zr.prototype).constructor=x,(Pn.prototype=Ar(Zr.prototype)).constructor=Pn,(Le.prototype=Ar(Zr.prototype)).constructor=Le,Js.prototype.clear=function Vi(){this.__data__=Xr?Xr(null):{},this.size=0},Js.prototype.delete=function Gl(u){var f=this.has(u)&&delete this.__data__[u];return this.size-=f?1:0,f},Js.prototype.get=function Pc(u){var f=this.__data__;if(Xr){var m=f[u];return m===Va?A:m}return nt.call(f,u)?f[u]:A},Js.prototype.has=function l1(u){var f=this.__data__;return Xr?f[u]!==A:nt.call(f,u)},Js.prototype.set=function Mn(u,f){var m=this.__data__;return this.size+=this.has(u)?0:1,m[u]=Xr&&f===A?Va:f,this},Qs.prototype.clear=function lr(){this.__data__=[],this.size=0},Qs.prototype.delete=function Xn(u){var f=this.__data__,m=tu(f,u);return!(m<0||(m==f.length-1?f.pop():Ul.call(f,m,1),--this.size,0))},Qs.prototype.get=function Q3(u){var f=this.__data__,m=tu(f,u);return m<0?A:f[m][1]},Qs.prototype.has=function Lo(u){return tu(this.__data__,u)>-1},Qs.prototype.set=function Wl(u,f){var m=this.__data__,b=tu(m,u);return b<0?(++this.size,m.push([u,f])):m[b][1]=f,this},Qt.prototype.clear=function eu(){this.size=0,this.__data__={hash:new Js,map:new(ms||Qs),string:new Js}},Qt.prototype.delete=function fg(u){var f=Fo(this,u).delete(u);return this.size-=f?1:0,f},Qt.prototype.get=function dg(u){return Fo(this,u).get(u)},Qt.prototype.has=function nw(u){return Fo(this,u).has(u)},Qt.prototype.set=function gg(u,f){var m=Fo(this,u),b=m.size;return m.set(u,f),this.size+=m.size==b?0:1,this},Ho.prototype.add=Ho.prototype.push=function rw(u){return this.__data__.set(u,Va),this},Ho.prototype.has=function iw(u){return this.__data__.has(u)},ki.prototype.clear=function sw(){this.__data__=new Qs,this.size=0},ki.prototype.delete=function ow(u){var f=this.__data__,m=f.delete(u);return this.size=f.size,m},ki.prototype.get=function cw(u){return this.__data__.get(u)},ki.prototype.has=function aw(u){return this.__data__.has(u)},ki.prototype.set=function lw(u,f){var m=this.__data__;if(m instanceof Qs){var b=m.__data__;if(!ms||b.length<199)return b.push([u,f]),this.size=++m.size,this;m=this.__data__=new Qt(b)}return m.set(u,f),this.size=m.size,this};var bs=_u(Or),ru=_u(Ro,!0);function iu(u,f){var m=!0;return bs(u,function(b,_,S){return m=!!f(b,_,S)}),m}function u1(u,f,m){for(var b=-1,_=u.length;++b<_;){var S=u[b],D=f(S);if(null!=D&&(I===A?D==D&&!gr(D):m(D,I)))var I=D,H=S}return H}function Zl(u,f){var m=[];return bs(u,function(b,_,S){f(b,_,S)&&m.push(b)}),m}function dn(u,f,m,b,_){var S=-1,D=u.length;for(m||(m=Mw),_||(_=[]);++S<D;){var I=u[S];f>0&&m(I)?f>1?dn(I,f-1,m,b,_):di(_,I):b||(_[_.length]=I)}return _}var Kl=Vo(),ou=Vo(!0);function Or(u,f){return u&&Kl(u,f,vn)}function Ro(u,f){return u&&ou(u,f,vn)}function ws(u,f){return Xs(f,function(m){return _s(u[m])})}function eo(u,f){for(var m=0,b=(f=io(f,u)).length;null!=u&&m<b;)u=u[Gi(f[m++])];return m&&m==b?u:A}function yg(u,f,m){var b=f(u);return De(u)?b:di(b,m(u))}function ur(u){return null==u?u===A?"[object Undefined]":"[object Null]":Po&&Po in tt(u)?function yh(u){var f=nt.call(u,Po),m=u[Po];try{u[Po]=A;var b=!0}catch{}var _=s1.call(u);return b&&(f?u[Po]=m:delete u[Po]),_}(u):function Tu(u){return s1.call(u)}(u)}function J6(u,f){return u>f}function bg(u,f){return null!=u&&nt.call(u,f)}function wg(u,f){return null!=u&&f in tt(u)}function Jl(u,f,m){for(var b=m?$3:Ya,_=u[0].length,S=u.length,D=S,I=V(S),H=1/0,$=[];D--;){var U=u[D];D&&f&&(U=at(U,Wr(f))),H=In(U.length,H),I[D]=!m&&(f||_>=120&&U.length>=120)?new Ho(D&&U):A}U=u[0];var W=-1,ne=I[0];e:for(;++W<_&&$.length<H;){var le=U[W],me=f?f(le):le;if(le=m||0!==le?le:0,!(ne?Pl(ne,me):b($,me,m))){for(D=S;--D;){var He=I[D];if(!(He?Pl(He,me):b(u[D],me,m)))continue e}ne&&ne.push(me),$.push(le)}}return $}function h1(u,f,m){var b=null==(u=C1(u,f=io(f,u)))?u:u[Gi(Jr(f))];return null==b?A:Gr(b,u,m)}function Ql(u){return _t(u)&&ur(u)==Ws}function f1(u,f,m,b,_){return u===f||(null==u||null==f||!_t(u)&&!_t(f)?u!=u&&f!=f:function Q6(u,f,m,b,_,S){var D=De(u),I=De(f),H=D?El:Ut(u),$=I?El:Ut(f),U=(H=H==Ws?Li:H)==Li,W=($=$==Ws?Li:$)==Li,ne=H==$;if(ne&&Es(u)){if(!Es(f))return!1;D=!0,U=!1}if(ne&&!U)return S||(S=new ki),D||uo(u)?vh(u,f,m,b,_,S):function Og(u,f,m,b,_,S,D){switch(m){case xc:if(u.byteLength!=f.byteLength||u.byteOffset!=f.byteOffset)return!1;u=u.buffer,f=f.buffer;case Cr:return!(u.byteLength!=f.byteLength||!S(new Bl(u),new Bl(f)));case qr:case Fa:case ja:return Mi(+u,+f);case Mt:return u.name==f.name&&u.message==f.message;case Tt:case Fe:return u==f+"";case ai:var I=X3;case li:if(I||(I=ce),u.size!=f.size&&!(1&b))return!1;var $=D.get(u);if($)return $==f;b|=2,D.set(u,f);var U=vh(I(u),I(f),b,_,S,D);return D.delete(u),U;case _c:if(ar)return ar.call(u)==ar.call(f)}return!1}(u,f,H,m,b,_,S);if(!(1&m)){var le=U&&nt.call(u,"__wrapped__"),me=W&&nt.call(f,"__wrapped__");if(le||me){var He=le?u.value():u,be=me?f.value():f;return S||(S=new ki),_(He,be,m,b,S)}}return!!ne&&(S||(S=new ki),function Ig(u,f,m,b,_,S){var D=1&m,I=l4(u),H=I.length;if(H!=l4(f).length&&!D)return!1;for(var W=H;W--;){var ne=I[W];if(!(D?ne in f:nt.call(f,ne)))return!1}var le=S.get(u),me=S.get(f);if(le&&me)return le==f&&me==u;var He=!0;S.set(u,f),S.set(f,u);for(var be=D;++W<H;){var Be=u[ne=I[W]],Ue=f[ne];if(b)var Vn=D?b(Ue,Be,ne,f,u,S):b(Be,Ue,ne,u,f,S);if(!(Vn===A?Be===Ue||_(Be,Ue,m,b,S):Vn)){He=!1;break}be||(be="constructor"==ne)}if(He&&!be){var En=u.constructor,Hr=f.constructor;En!=Hr&&"constructor"in u&&"constructor"in f&&!("function"==typeof En&&En instanceof En&&"function"==typeof Hr&&Hr instanceof Hr)&&(He=!1)}return S.delete(u),S.delete(f),He}(u,f,m,b,_,S))}(u,f,m,b,f1,_))}function au(u,f,m,b){var _=m.length,S=_,D=!b;if(null==u)return!S;for(u=tt(u);_--;){var I=m[_];if(D&&I[2]?I[1]!==u[I[0]]:!(I[0]in u))return!1}for(;++_<S;){var H=(I=m[_])[0],$=u[H],U=I[1];if(D&&I[2]){if($===A&&!(H in u))return!1}else{var W=new ki;if(b)var ne=b($,U,H,u,f,W);if(!(ne===A?f1(U,$,3,b,W):ne))return!1}}return!0}function th(u){return!(!mt(u)||function f4(u){return!!G6&&G6 in u}(u))&&(_s(u)?hg:C6).test(lo(u))}function lu(u){return"function"==typeof u?u:null==u?Rn:"object"==typeof u?De(u)?rh(u[0],u[1]):fu(u):P1(u)}function uu(u){if(!Fc(u))return ql(u);var f=[];for(var m in tt(u))nt.call(u,m)&&"constructor"!=m&&f.push(m);return f}function hu(u,f){return u<f}function Hn(u,f){var m=-1,b=Kn(u)?V(u.length):[];return bs(u,function(_,S,D){b[++m]=f(_,S,D)}),b}function fu(u){var f=b1(u);return 1==f.length&&f[0][2]?wh(f[0][0],f[0][1]):function(m){return m===u||au(m,u,f)}}function rh(u,f){return Du(u)&&Au(f)?wh(Gi(u),f):function(m){var b=H4(m,u);return b===A&&b===f?xs(m,u):f1(f,b,3)}}function e4(u,f,m,b,_){u!==f&&Kl(f,function(S,D){if(_||(_=new ki),mt(S))!function ih(u,f,m,b,_,S,D){var I=Pu(u,m),H=Pu(f,m),$=D.get(H);if($)Yl(u,m,$);else{var U=S?S(I,H,m+"",u,f,D):A,W=U===A;if(W){var ne=De(H),le=!ne&&Es(H),me=!ne&&!le&&uo(H);U=H,ne||le||me?De(I)?U=I:gt(I)?U=Nn(I):le?(W=!1,U=hh(H,!0)):me?(W=!1,U=gn(H,!0)):U=[]:O4(H)||qo(H)?(U=I,qo(I)?U=Qu(I):(!mt(I)||_s(I))&&(U=bh(H))):W=!1}W&&(D.set(H,U),_(U,H,b,S,D),D.delete(H)),Yl(u,m,U)}}(u,f,D,m,e4,b,_);else{var I=b?b(Pu(u,D),S,D+"",u,f,_):A;I===A&&(I=S),Yl(u,D,I)}},pr)}function du(u,f){var m=u.length;if(m)return bi(f+=f<0?m:0,m)?u[f]:A}function sh(u,f,m){f=f.length?at(f,function(S){return De(S)?function(D){return eo(D,1===S.length?S[0]:S)}:S}):[Rn];var b=-1;return f=at(f,Wr(de())),function W3(L,F){var V=L.length;for(L.sort(F);V--;)L[V]=L[V].value;return L}(Hn(u,function(S,D,I){return{criteria:at(f,function($){return $(S)}),index:++b,value:S}}),function(S,D){return function g1(u,f,m){for(var b=-1,_=u.criteria,S=f.criteria,D=_.length,I=m.length;++b<D;){var H=Eu(_[b],S[b]);if(H)return b>=I?H:H*("desc"==m[b]?-1:1)}return u.index-f.index}(S,D,m)})}function oh(u,f,m){for(var b=-1,_=f.length,S={};++b<_;){var D=f[b],I=eo(u,D);m(I,D)&&Bi(S,io(D,u),I)}return S}function t4(u,f,m,b){var _=b?dt:Ka,S=-1,D=f.length,I=u;for(u===f&&(f=Nn(f)),m&&(I=at(u,Wr(m)));++S<D;)for(var H=0,$=f[S],U=m?m($):$;(H=_(I,U,H,b))>-1;)I!==u&&Ul.call(I,H,1),Ul.call(u,H,1);return u}function pu(u,f){for(var m=u?f.length:0,b=m-1;m--;){var _=f[m];if(m==b||_!==S){var S=_;bi(_)?Ul.call(u,_,1):ye(u,_)}}return u}function ot(u,f){return u+hn(ze()*(f-u+1))}function Rc(u,f){var m="";if(!u||f<1||f>Ii)return m;do{f%2&&(m+=u),(f=hn(f/2))&&(u+=u)}while(f);return m}function ge(u,f){return g4(Ou(u,f,Rn),u+"")}function Eg(u){return mg(Yo(u))}function ch(u,f){var m=Yo(u);return jo(m,Hc(f,0,m.length))}function Bi(u,f,m,b){if(!mt(u))return u;for(var _=-1,S=(f=io(f,u)).length,D=S-1,I=u;null!=I&&++_<S;){var H=Gi(f[_]),$=m;if("__proto__"===H||"constructor"===H||"prototype"===H)return u;if(_!=D){var U=I[H];($=b?b(U,H,I):A)===A&&($=mt(U)?U:bi(f[_+1])?[]:{})}Lc(I,H,$),I=I[H]}return u}var hr=vs?function(u,f){return vs.set(u,f),u}:Rn,_g=o1?function(u,f){return o1(u,"toString",{configurable:!0,enumerable:!1,value:k4(f),writable:!0})}:Rn;function xg(u){return jo(Yo(u))}function Kr(u,f,m){var b=-1,_=u.length;f<0&&(f=-f>_?0:_+f),(m=m>_?_:m)<0&&(m+=_),_=f>m?0:m-f>>>0,f>>>=0;for(var S=V(_);++b<_;)S[b]=u[b+f];return S}function to(u,f){var m;return bs(u,function(b,_,S){return!(m=f(b,_,S))}),!!m}function d1(u,f,m){var b=0,_=null==u?b:u.length;if("number"==typeof f&&f==f&&_<=2147483647){for(;b<_;){var S=b+_>>>1,D=u[S];null!==D&&!gr(D)&&(m?D<=f:D<f)?b=S+1:_=S}return _}return vu(u,f,Rn,m)}function vu(u,f,m,b){var _=0,S=null==u?0:u.length;if(0===S)return 0;for(var D=(f=m(f))!=f,I=null===f,H=gr(f),$=f===A;_<S;){var U=hn((_+S)/2),W=m(u[U]),ne=W!==A,le=null===W,me=W==W,He=gr(W);if(D)var be=b||me;else be=$?me&&(b||ne):I?me&&ne&&(b||!le):H?me&&ne&&!le&&(b||!He):!le&&!He&&(b?W<=f:W<f);be?_=U+1:S=U}return In(S,4294967294)}function yu(u,f){for(var m=-1,b=u.length,_=0,S=[];++m<b;){var D=u[m],I=f?f(D):D;if(!m||!Mi(I,H)){var H=I;S[_++]=0===D?0:D}}return S}function bu(u){return"number"==typeof u?u:gr(u)?NaN:+u}function fr(u){if("string"==typeof u)return u;if(De(u))return at(u,fr)+"";if(gr(u))return Ic?Ic.call(u):"";var f=u+"";return"0"==f&&1/u==-Ao?"-0":f}function no(u,f,m){var b=-1,_=Ya,S=u.length,D=!0,I=[],H=I;if(m)D=!1,_=$3;else if(S>=200){var $=f?null:Tg(u);if($)return ce($);D=!1,_=Pl,H=new Ho}else H=f?[]:I;e:for(;++b<S;){var U=u[b],W=f?f(U):U;if(U=m||0!==U?U:0,D&&W==W){for(var ne=H.length;ne--;)if(H[ne]===W)continue e;f&&H.push(W),I.push(U)}else _(H,W,m)||(H!==I&&H.push(W),I.push(U))}return I}function ye(u,f){return null==(u=C1(u,f=io(f,u)))||delete u[Gi(Jr(f))]}function wu(u,f,m,b){return Bi(u,f,m(eo(u,f)),b)}function Mu(u,f,m,b){for(var _=u.length,S=b?_:-1;(b?S--:++S<_)&&f(u[S],S,u););return m?Kr(u,b?0:S,b?S+1:_):Kr(u,b?S+1:0,b?_:S)}function ah(u,f){var m=u;return m instanceof Le&&(m=m.value()),Xa(f,function(b,_){return _.func.apply(_.thisArg,di([b],_.args))},m)}function Cu(u,f,m){var b=u.length;if(b<2)return b?no(u[0]):[];for(var _=-1,S=V(b);++_<b;)for(var D=u[_],I=-1;++I<b;)I!=_&&(S[_]=Nc(S[_]||D,u[I],f,m));return no(dn(S,1),f,m)}function lh(u,f,m){for(var b=-1,_=u.length,S=f.length,D={};++b<_;)m(D,u[b],b<S?f[b]:A);return D}function n4(u){return gt(u)?u:[]}function ro(u){return"function"==typeof u?u:Rn}function io(u,f){return De(u)?u:Du(u,f)?[u]:ao(Je(u))}var Sg=ge;function so(u,f,m){var b=u.length;return m=m===A?b:m,!f&&m>=b?u:Kr(u,f,m)}var uh=Kt||function(u){return Tn.clearTimeout(u)};function hh(u,f){if(f)return u.slice();var m=u.length,b=W6?W6(m):new u.constructor(m);return u.copy(b),b}function q(u){var f=new u.constructor(u.byteLength);return new Bl(f).set(new Bl(u)),f}function gn(u,f){var m=f?q(u.buffer):u.buffer;return new u.constructor(m,u.byteOffset,u.length)}function Eu(u,f){if(u!==f){var m=u!==A,b=null===u,_=u==u,S=gr(u),D=f!==A,I=null===f,H=f==f,$=gr(f);if(!I&&!$&&!S&&u>f||S&&D&&H&&!I&&!$||b&&D&&H||!m&&H||!_)return 1;if(!b&&!S&&!$&&u<f||$&&m&&_&&!b&&!S||I&&m&&_||!D&&_||!H)return-1}return 0}function yi(u,f,m,b){for(var _=-1,S=u.length,D=m.length,I=-1,H=f.length,$=Jt(S-D,0),U=V(H+$),W=!b;++I<H;)U[I]=f[I];for(;++_<D;)(W||_<S)&&(U[m[_]]=u[_]);for(;$--;)U[I++]=u[_++];return U}function r4(u,f,m,b){for(var _=-1,S=u.length,D=-1,I=m.length,H=-1,$=f.length,U=Jt(S-I,0),W=V(U+$),ne=!b;++_<U;)W[_]=u[_];for(var le=_;++H<$;)W[le+H]=f[H];for(;++D<I;)(ne||_<S)&&(W[le+m[D]]=u[_++]);return W}function Nn(u,f){var m=-1,b=u.length;for(f||(f=V(b));++m<b;)f[m]=u[m];return f}function ji(u,f,m,b){var _=!m;m||(m={});for(var S=-1,D=f.length;++S<D;){var I=f[S],H=b?b(m[I],u[I],I,m,u):A;H===A&&(H=u[I]),_?Ln(m,I,H):Lc(m,I,H)}return m}function pn(u,f){return function(m,b){var _=De(m)?Q:fw,S=f?f():{};return _(m,u,de(b,2),S)}}function dr(u){return ge(function(f,m){var b=-1,_=m.length,S=_>1?m[_-1]:A,D=_>2?m[2]:A;for(S=u.length>3&&"function"==typeof S?(_--,S):A,D&&en(m[0],m[1],D)&&(S=_<3?A:S,_=1),f=tt(f);++b<_;){var I=m[b];I&&u(f,I,b,S)}return f})}function _u(u,f){return function(m,b){if(null==m)return m;if(!Kn(m))return u(m,b);for(var _=m.length,S=f?_:-1,D=tt(m);(f?S--:++S<_)&&!1!==b(D[S],S,D););return m}}function Vo(u){return function(f,m,b){for(var _=-1,S=tt(f),D=b(f),I=D.length;I--;){var H=D[u?I:++_];if(!1===m(S[H],H,S))break}return f}}function dh(u){return function(f){var m=gi(f=Je(f))?pi(f):A,b=m?m[0]:f.charAt(0),_=m?so(m,1).join(""):f.slice(1);return b[u]()+_}}function ko(u){return function(f){return Xa(o8(Fp(f).replace(Ce,"")),u,"")}}function p1(u){return function(){var f=arguments;switch(f.length){case 0:return new u;case 1:return new u(f[0]);case 2:return new u(f[0],f[1]);case 3:return new u(f[0],f[1],f[2]);case 4:return new u(f[0],f[1],f[2],f[3]);case 5:return new u(f[0],f[1],f[2],f[3],f[4]);case 6:return new u(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return new u(f[0],f[1],f[2],f[3],f[4],f[5],f[6])}var m=Ar(u.prototype),b=u.apply(m,f);return mt(b)?b:m}}function i4(u){return function(f,m,b){var _=tt(f);if(!Kn(f)){var S=de(m,3);f=vn(f),m=function(I){return S(_[I],I,_)}}var D=u(f,m,b);return D>-1?_[S?f[D]:D]:A}}function s4(u){return $i(function(f){var m=f.length,b=m,_=Pn.prototype.thru;for(u&&f.reverse();b--;){var S=f[b];if("function"!=typeof S)throw new On(ir);if(_&&!D&&"wrapper"==u4(S))var D=new Pn([],!0)}for(b=D?b:m;++b<m;){var I=u4(S=f[b]),H="wrapper"==I?Ui(S):A;D=H&&M1(H[0])&&424==H[1]&&!H[4].length&&1==H[9]?D[u4(H[0])].apply(D,H[3]):1==S.length&&M1(S)?D[I]():D.thru(S)}return function(){var $=arguments,U=$[0];if(D&&1==$.length&&De(U))return D.plant(U).value();for(var W=0,ne=m?f[W].apply(this,$):U;++W<m;)ne=f[W].call(this,ne);return ne}})}function m1(u,f,m,b,_,S,D,I,H,$){var U=128&f,W=1&f,ne=2&f,le=24&f,me=512&f,He=ne?A:p1(u);return function be(){for(var Be=arguments.length,Ue=V(Be),Vn=Be;Vn--;)Ue[Vn]=arguments[Vn];if(le)var En=Cs(be),Hr=function Hl(L,F){for(var V=L.length,te=0;V--;)L[V]===F&&++te;return te}(Ue,En);if(b&&(Ue=yi(Ue,b,_,le)),S&&(Ue=r4(Ue,S,D,le)),Be-=Hr,le&&Be<$){var Rt=ds(Ue,En);return Su(u,f,m1,be.placeholder,m,Ue,Rt,I,H,$-Be)}var Nr=W?m:this,ni=ne?Nr[u]:u;return Be=Ue.length,I?Ue=function Iu(u,f){for(var m=u.length,b=In(f.length,m),_=Nn(u);b--;){var S=f[b];u[b]=bi(S,m)?_[S]:A}return u}(Ue,I):me&&Be>1&&Ue.reverse(),U&&H<Be&&(Ue.length=H),this&&this!==Tn&&this instanceof be&&(ni=He||p1(ni)),ni.apply(Nr,Ue)}}function o4(u,f){return function(m,b){return function cu(u,f,m,b){return Or(u,function(_,S,D){f(b,m(_),S,D)}),b}(m,u,f(b),{})}}function c4(u,f){return function(m,b){var _;if(m===A&&b===A)return f;if(m!==A&&(_=m),b!==A){if(_===A)return b;"string"==typeof m||"string"==typeof b?(m=fr(m),b=fr(b)):(m=bu(m),b=bu(b)),_=u(m,b)}return _}}function a4(u){return $i(function(f){return f=at(f,Wr(de())),ge(function(m){var b=this;return u(f,function(_){return Gr(_,b,m)})})})}function Vc(u,f){var m=(f=f===A?" ":fr(f)).length;if(m<2)return m?Rc(f,u):f;var b=Rc(f,$t(u/Ac(f)));return gi(f)?so(pi(b),0,u).join(""):b.slice(0,u)}function xu(u){return function(f,m,b){return b&&"number"!=typeof b&&en(f,m,b)&&(m=b=A),f=Wi(f),m===A?(m=f,f=0):m=Wi(m),function mu(u,f,m,b){for(var _=-1,S=Jt($t((f-u)/(m||1)),0),D=V(S);S--;)D[b?S:++_]=u,u+=m;return D}(f,m,b=b===A?f<m?1:-1:Wi(b),u)}}function v1(u){return function(f,m){return"string"==typeof f&&"string"==typeof m||(f=ei(f),m=ei(m)),u(f,m)}}function Su(u,f,m,b,_,S,D,I,H,$){var U=8&f;f|=U?32:64,4&(f&=~(U?64:32))||(f&=-4);var He=[u,f,_,U?S:A,U?D:A,U?A:S,U?A:D,I,H,$],be=m.apply(A,He);return M1(u)&&Lu(be,He),be.placeholder=b,Hu(be,u,f)}function y1(u){var f=jt[u];return function(m,b){if(m=ei(m),(b=null==b?0:In(Ae(b),292))&&K3(m)){var _=(Je(m)+"e").split("e");return+((_=(Je(f(_[0]+"e"+(+_[1]+b)))+"e").split("e"))[0]+"e"+(+_[1]-b))}return f(m)}}var Tg=vi&&1/ce(new vi([,-0]))[1]==Ao?function(u){return new vi(u)}:ia;function ph(u){return function(f){var m=Ut(f);return m==ai?X3(f):m==li?function Nl(L){var F=-1,V=Array(L.size);return L.forEach(function(te){V[++F]=[te,te]}),V}(f):function ew(L,F){return at(F,function(V){return[V,L[V]]})}(f,u(f))}}function Ot(u,f,m,b,_,S,D,I){var H=2&f;if(!H&&"function"!=typeof u)throw new On(ir);var $=b?b.length:0;if($||(f&=-97,b=_=A),D=D===A?D:Jt(Ae(D),0),I=I===A?I:Ae(I),$-=_?_.length:0,64&f){var U=b,W=_;b=_=A}var ne=H?A:Ui(u),le=[u,f,m,b,_,U,W,S,D,I];if(ne&&function Hg(u,f){var m=u[1],b=f[1],_=m|b;if(!(_<131)&&!(128==b&&8==m||128==b&&256==m&&u[7].length<=f[8]||384==b&&f[7].length<=f[8]&&8==m))return u;1&b&&(u[2]=f[2],_|=1&m?0:4);var I=f[3];if(I){var H=u[3];u[3]=H?yi(H,I,f[4]):I,u[4]=H?ds(u[3],Cc):f[4]}(I=f[5])&&(u[5]=(H=u[5])?r4(H,I,f[6]):I,u[6]=H?ds(u[5],Cc):f[6]),(I=f[7])&&(u[7]=I),128&b&&(u[8]=null==u[8]?f[8]:In(u[8],f[8])),null==u[9]&&(u[9]=f[9]),u[0]=f[0],u[1]=_}(le,ne),u=le[0],f=le[1],m=le[2],b=le[3],_=le[4],!(I=le[9]=le[9]===A?H?0:u.length:Jt(le[9]-$,0))&&24&f&&(f&=-25),f&&1!=f)me=8==f||16==f?function Ag(u,f,m){var b=p1(u);return function _(){for(var S=arguments.length,D=V(S),I=S,H=Cs(_);I--;)D[I]=arguments[I];var $=S<3&&D[0]!==H&&D[S-1]!==H?[]:ds(D,H);return(S-=$.length)<m?Su(u,f,m1,_.placeholder,A,D,$,A,A,m-S):Gr(this&&this!==Tn&&this instanceof _?b:u,this,D)}}(u,f,I):32!=f&&33!=f||_.length?m1.apply(A,le):function gh(u,f,m,b){var _=1&f,S=p1(u);return function D(){for(var I=-1,H=arguments.length,$=-1,U=b.length,W=V(U+H),ne=this&&this!==Tn&&this instanceof D?S:u;++$<U;)W[$]=b[$];for(;H--;)W[$++]=arguments[++I];return Gr(ne,_?m:this,W)}}(u,f,m,b);else var me=function Ms(u,f,m){var b=1&f,_=p1(u);return function S(){return(this&&this!==Tn&&this instanceof S?_:u).apply(b?m:this,arguments)}}(u,f,m);return Hu((ne?hr:Lu)(me,le),u,f)}function oo(u,f,m,b){return u===A||Mi(u,Tc[m])&&!nt.call(b,m)?f:u}function Et(u,f,m,b,_,S){return mt(u)&&mt(f)&&(S.set(f,u),e4(u,f,A,Et,S),S.delete(f)),u}function mh(u){return O4(u)?A:u}function vh(u,f,m,b,_,S){var D=1&m,I=u.length,H=f.length;if(I!=H&&!(D&&H>I))return!1;var $=S.get(u),U=S.get(f);if($&&U)return $==f&&U==u;var W=-1,ne=!0,le=2&m?new Ho:A;for(S.set(u,f),S.set(f,u);++W<I;){var me=u[W],He=f[W];if(b)var be=D?b(He,me,W,f,u,S):b(me,He,W,u,f,S);if(be!==A){if(be)continue;ne=!1;break}if(le){if(!U3(f,function(Be,Ue){if(!Pl(le,Ue)&&(me===Be||_(me,Be,m,b,S)))return le.push(Ue)})){ne=!1;break}}else if(me!==He&&!_(me,He,m,b,S)){ne=!1;break}}return S.delete(u),S.delete(f),ne}function $i(u){return g4(Ou(u,A,$o),u+"")}function l4(u){return yg(u,vn,zu)}function kc(u){return yg(u,pr,Bo)}var Ui=vs?function(u){return vs.get(u)}:ia;function u4(u){for(var f=u.name+"",m=ve[f],b=nt.call(ve,f)?m.length:0;b--;){var _=m[b],S=_.func;if(null==S||S==u)return _.name}return f}function Cs(u){return(nt.call(x,"placeholder")?x:u).placeholder}function de(){var u=x.iteratee||l8;return u=u===l8?lu:u,arguments.length?u(arguments[0],arguments[1]):u}function Fo(u,f){var m=u.__data__;return function w1(u){var f=typeof u;return"string"==f||"number"==f||"symbol"==f||"boolean"==f?"__proto__"!==u:null===u}(f)?m["string"==typeof f?"string":"hash"]:m.map}function b1(u){for(var f=vn(u),m=f.length;m--;){var b=f[m],_=u[b];f[m]=[b,_,Au(_)]}return f}function co(u,f){var m=function j6(L,F){return null==L?A:L[F]}(u,f);return th(m)?m:A}var zu=Ks?function(u){return null==u?[]:(u=tt(u),Xs(Ks(u),function(f){return $l.call(u,f)}))}:j4,Bo=Ks?function(u){for(var f=[];u;)di(f,zu(u)),u=jl(u);return f}:j4,Ut=ur;function h4(u,f,m){for(var b=-1,_=(f=io(f,u)).length,S=!1;++b<_;){var D=Gi(f[b]);if(!(S=null!=u&&m(u,D)))break;u=u[D]}return S||++b!=_?S:!!(_=null==u?0:u.length)&&Go(_)&&bi(D,_)&&(De(u)||qo(u))}function bh(u){return"function"!=typeof u.constructor||Fc(u)?{}:Ar(jl(u))}function Mw(u){return De(u)||qo(u)||!!(Y6&&u&&u[Y6])}function bi(u,f){var m=typeof u;return!!(f=f??Ii)&&("number"==m||"symbol"!=m&&_6.test(u))&&u>-1&&u%1==0&&u<f}function en(u,f,m){if(!mt(m))return!1;var b=typeof f;return!!("number"==b?Kn(m)&&bi(f,m.length):"string"==b&&f in m)&&Mi(m[f],u)}function Du(u,f){if(De(u))return!1;var m=typeof u;return!("number"!=m&&"symbol"!=m&&"boolean"!=m&&null!=u&&!gr(u))||N7.test(u)||!H7.test(u)||null!=f&&u in tt(f)}function M1(u){var f=u4(u),m=x[f];if("function"!=typeof m||!(f in Le.prototype))return!1;if(u===m)return!0;var b=Ui(m);return!!b&&u===b[0]}(Dr&&Ut(new Dr(new ArrayBuffer(1)))!=xc||ms&&Ut(new ms)!=ai||fn&&Ut(fn.resolve())!=x3||vi&&Ut(new vi)!=li||pt&&Ut(new pt)!=To)&&(Ut=function(u){var f=ur(u),m=f==Li?u.constructor:A,b=m?lo(m):"";if(b)switch(b){case c1:return xc;case Z6:return ai;case Oc:return x3;case kt:return li;case a1:return To}return f});var Cw=r1?_s:ho;function Fc(u){var f=u&&u.constructor;return u===("function"==typeof f&&f.prototype||Tc)}function Au(u){return u==u&&!mt(u)}function wh(u,f){return function(m){return null!=m&&m[u]===f&&(f!==A||u in tt(m))}}function Ou(u,f,m){return f=Jt(f===A?u.length-1:f,0),function(){for(var b=arguments,_=-1,S=Jt(b.length-f,0),D=V(S);++_<S;)D[_]=b[f+_];_=-1;for(var I=V(f+1);++_<f;)I[_]=b[_];return I[f]=m(D),Gr(u,this,I)}}function C1(u,f){return f.length<2?u:eo(u,Kr(f,0,-1))}function Pu(u,f){if(("constructor"!==f||"function"!=typeof u[f])&&"__proto__"!=f)return u[f]}var Lu=Mh(hr),Bc=We||function(u,f){return Tn.setTimeout(u,f)},g4=Mh(_g);function Hu(u,f,m){var b=f+"";return g4(u,function ww(u,f){var m=f.length;if(!m)return u;var b=m-1;return f[b]=(m>1?"& ":"")+f[b],f=f.join(m>2?", ":" "),u.replace(F7,"{\n/* [wrapped with "+f+"] */\n")}(b,function Ch(u,f){return fi(T7,function(m){var b="_."+m[0];f&m[1]&&!Ya(u,b)&&u.push(b)}),u.sort()}(function yw(u){var f=u.match(B7);return f?f[1].split(Xb):[]}(b),m)))}function Mh(u){var f=0,m=0;return function(){var b=Nt(),_=16-(b-m);if(m=b,_>0){if(++f>=800)return arguments[0]}else f=0;return u.apply(A,arguments)}}function jo(u,f){var m=-1,b=u.length,_=b-1;for(f=f===A?b:f;++m<f;){var S=ot(m,_),D=u[S];u[S]=u[m],u[m]=D}return u.length=f,u}var ao=function qi(u){var f=Cn(u,function(b){return 500===m.size&&m.clear(),b}),m=f.cache;return f}(function(u){var f=[];return 46===u.charCodeAt(0)&&f.push(""),u.replace(R7,function(m,b,_,S){f.push(_?S.replace(b6,"$1"):b||m)}),f});function Gi(u){if("string"==typeof u||gr(u))return u;var f=u+"";return"0"==f&&1/u==-Ao?"-0":f}function lo(u){if(null!=u){try{return kl.call(u)}catch{}try{return u+""}catch{}}return""}function jc(u){if(u instanceof Le)return u.clone();var f=new Pn(u.__wrapped__,u.__chain__);return f.__actions__=Nn(u.__actions__),f.__index__=u.__index__,f.__values__=u.__values__,f}var Nu=ge(function(u,f){return gt(u)?Nc(u,dn(f,1,gt,!0)):[]}),Ru=ge(function(u,f){var m=Jr(f);return gt(m)&&(m=A),gt(u)?Nc(u,dn(f,1,gt,!0),de(m,2)):[]}),Vg=ge(function(u,f){var m=Jr(f);return gt(m)&&(m=A),gt(u)?Nc(u,dn(f,1,gt,!0),A,m):[]});function Vu(u,f,m){var b=null==u?0:u.length;if(!b)return-1;var _=null==m?0:Ae(m);return _<0&&(_=Jt(b+_,0)),Za(u,de(f,3),_)}function m4(u,f,m){var b=null==u?0:u.length;if(!b)return-1;var _=b-1;return m!==A&&(_=Ae(m),_=m<0?Jt(b+_,0):In(_,b-1)),Za(u,de(f,3),_,!0)}function $o(u){return null!=u&&u.length?dn(u,1):[]}function Fg(u){return u&&u.length?u[0]:A}var zw=ge(function(u){var f=at(u,n4);return f.length&&f[0]===u[0]?Jl(f):[]}),Dw=ge(function(u){var f=Jr(u),m=at(u,n4);return f===Jr(m)?f=A:m.pop(),m.length&&m[0]===u[0]?Jl(m,de(f,2)):[]}),Gc=ge(function(u){var f=Jr(u),m=at(u,n4);return(f="function"==typeof f?f:A)&&m.pop(),m.length&&m[0]===u[0]?Jl(m,A,f):[]});function Jr(u){var f=null==u?0:u.length;return f?u[f-1]:A}var E1=ge(_h);function _h(u,f){return u&&u.length&&f&&f.length?t4(u,f):u}var xh=$i(function(u,f){var m=null==u?0:u.length,b=K6(u,f);return pu(u,at(f,function(_){return bi(_,m)?+_:_}).sort(Eu)),b});function Uo(u){return null==u?u:Ct.call(u)}var Zg=ge(function(u){return no(dn(u,1,gt,!0))}),Fu=ge(function(u){var f=Jr(u);return gt(f)&&(f=A),no(dn(u,1,gt,!0),de(f,2))}),y4=ge(function(u){var f=Jr(u);return f="function"==typeof f?f:A,no(dn(u,1,gt,!0),A,f)});function Xc(u){if(!u||!u.length)return[];var f=0;return u=Xs(u,function(m){if(gt(m))return f=Jt(m.length,f),!0}),e1(f,function(m){return at(u,Ja(m))})}function zh(u,f){if(!u||!u.length)return[];var m=Xc(u);return null==f?m:at(m,function(b){return Gr(f,A,b)})}var Dh=ge(function(u,f){return gt(u)?Nc(u,f):[]}),Bu=ge(function(u){return Cu(Xs(u,gt))}),w4=ge(function(u){var f=Jr(u);return gt(f)&&(f=A),Cu(Xs(u,gt),de(f,2))}),Ah=ge(function(u){var f=Jr(u);return f="function"==typeof f?f:A,Cu(Xs(u,gt),A,f)}),Qg=ge(Xc),_1=ge(function(u){var f=u.length,m=f>1?u[f-1]:A;return m="function"==typeof m?(u.pop(),m):A,zh(u,m)});function Th(u){var f=x(u);return f.__chain__=!0,f}function x1(u,f){return f(u)}var tp=$i(function(u){var f=u.length,m=f?u[0]:0,b=this.__wrapped__,_=function(S){return K6(S,u)};return!(f>1||this.__actions__.length)&&b instanceof Le&&bi(m)?((b=b.slice(m,+m+(f?1:0))).__actions__.push({func:x1,args:[_],thisArg:A}),new Pn(b,this.__chain__).thru(function(S){return f&&!S.length&&S.push(A),S})):this.thru(_)}),Ih=pn(function(u,f,m){nt.call(u,m)?++u[m]:Ln(u,m,1)}),Hw=i4(Vu),op=i4(m4);function ap(u,f){return(De(u)?fi:bs)(u,de(f,3))}function C4(u,f){return(De(u)?Wn:ru)(u,de(f,3))}var Rw=pn(function(u,f,m){nt.call(u,m)?u[m].push(f):Ln(u,m,[f])}),kw=ge(function(u,f,m){var b=-1,_="function"==typeof f,S=Kn(u)?V(u.length):[];return bs(u,function(D){S[++b]=_?Gr(f,D,m):h1(D,f,m)}),S}),Fw=pn(function(u,f,m){Ln(u,m,f)});function $u(u,f){return(De(u)?at:Hn)(u,de(f,3))}var E4=pn(function(u,f,m){u[m?0:1].push(f)},function(){return[[],[]]}),S4=ge(function(u,f){if(null==u)return[];var m=f.length;return m>1&&en(u,f[0],f[1])?f=[]:m>2&&en(f[0],f[1],f[2])&&(f=[f[0]]),sh(u,dn(f,1),[])}),wi=cr||function(){return Tn.Date.now()};function kh(u,f,m){return f=m?A:f,Ot(u,128,A,A,A,A,f=u&&null==f?u.length:f)}function Fh(u,f){var m;if("function"!=typeof f)throw new On(ir);return u=Ae(u),function(){return--u>0&&(m=f.apply(this,arguments)),u<=1&&(f=A),m}}var z4=ge(function(u,f,m){var b=1;if(m.length){var _=ds(m,Cs(z4));b|=32}return Ot(u,b,f,m,_)}),D4=ge(function(u,f,m){var b=3;if(m.length){var _=ds(m,Cs(D4));b|=32}return Ot(f,b,u,m,_)});function $h(u,f,m){var b,_,S,D,I,H,$=0,U=!1,W=!1,ne=!0;if("function"!=typeof u)throw new On(ir);function le(Rt){var Nr=b,ni=_;return b=_=A,$=Rt,D=u.apply(ni,Nr)}function be(Rt){var Nr=Rt-H;return H===A||Nr>=f||Nr<0||W&&Rt-$>=S}function Be(){var Rt=wi();if(be(Rt))return Ue(Rt);I=Bc(Be,function He(Rt){var zf=f-(Rt-H);return W?In(zf,S-(Rt-$)):zf}(Rt))}function Ue(Rt){return I=A,ne&&b?le(Rt):(b=_=A,D)}function Hr(){var Rt=wi(),Nr=be(Rt);if(b=arguments,_=this,H=Rt,Nr){if(I===A)return function me(Rt){return $=Rt,I=Bc(Be,f),U?le(Rt):D}(H);if(W)return uh(I),I=Bc(Be,f),le(H)}return I===A&&(I=Bc(Be,f)),D}return f=ei(f)||0,mt(m)&&(U=!!m.leading,S=(W="maxWait"in m)?Jt(ei(m.maxWait)||0,f):S,ne="trailing"in m?!!m.trailing:ne),Hr.cancel=function Vn(){I!==A&&uh(I),$=0,b=H=_=I=A},Hr.flush=function En(){return I===A?D:Ue(wi())},Hr}var Uh=ge(function(u,f){return nu(u,1,f)}),hp=ge(function(u,f,m){return nu(u,ei(f)||0,m)});function Cn(u,f){if("function"!=typeof u||null!=f&&"function"!=typeof f)throw new On(ir);var m=function(){var b=arguments,_=f?f.apply(this,b):b[0],S=m.cache;if(S.has(_))return S.get(_);var D=u.apply(this,b);return m.cache=S.set(_,D)||S,D};return m.cache=new(Cn.Cache||Qt),m}function Jc(u){if("function"!=typeof u)throw new On(ir);return function(){var f=arguments;switch(f.length){case 0:return!u.call(this);case 1:return!u.call(this,f[0]);case 2:return!u.call(this,f[0],f[1]);case 3:return!u.call(this,f[0],f[1],f[2])}return!u.apply(this,f)}}Cn.Cache=Qt;var Uu=Sg(function(u,f){var m=(f=1==f.length&&De(f[0])?at(f[0],Wr(de())):at(dn(f,1),Wr(de()))).length;return ge(function(b){for(var _=-1,S=In(b.length,m);++_<S;)b[_]=f[_].call(this,b[_]);return Gr(u,this,b)})}),mn=ge(function(u,f){var m=ds(f,Cs(mn));return Ot(u,32,A,f,m)}),Qc=ge(function(u,f){var m=ds(f,Cs(Qc));return Ot(u,64,A,f,m)}),Gh=$i(function(u,f){return Ot(u,256,A,A,A,f)});function Mi(u,f){return u===f||u!=u&&f!=f}var S1=v1(J6),yp=v1(function(u,f){return u>=f}),qo=Ql(function(){return arguments}())?Ql:function(u){return _t(u)&&nt.call(u,"callee")&&!$l.call(u,"callee")},De=V.isArray,Kh=V6?Wr(V6):function gw(u){return _t(u)&&ur(u)==Cr};function Kn(u){return null!=u&&Go(u.length)&&!_s(u)}function gt(u){return _t(u)&&Kn(u)}var Es=zr||ho,Wu=Q7?Wr(Q7):function pw(u){return _t(u)&&ur(u)==Fa};function Yu(u){if(!_t(u))return!1;var f=ur(u);return f==Mt||"[object DOMException]"==f||"string"==typeof u.message&&"string"==typeof u.name&&!O4(u)}function _s(u){if(!mt(u))return!1;var f=ur(u);return f==Ba||f==c6||"[object AsyncFunction]"==f||"[object Proxy]"==f}function Xu(u){return"number"==typeof u&&u==Ae(u)}function Go(u){return"number"==typeof u&&u>-1&&u%1==0&&u<=Ii}function mt(u){var f=typeof u;return null!=u&&("object"==f||"function"==f)}function _t(u){return null!=u&&"object"==typeof u}var Jh=Sr?Wr(Sr):function eh(u){return _t(u)&&Ut(u)==ai};function nf(u){return"number"==typeof u||_t(u)&&ur(u)==ja}function O4(u){if(!_t(u)||ur(u)!=Li)return!1;var f=jl(u);if(null===f)return!0;var m=nt.call(f,"constructor")&&f.constructor;return"function"==typeof m&&m instanceof m&&kl.call(m)==lg}var ea=we?Wr(we):function Mg(u){return _t(u)&&ur(u)==Tt},Ku=eg?Wr(eg):function nh(u){return _t(u)&&Ut(u)==li};function z1(u){return"string"==typeof u||!De(u)&&_t(u)&&ur(u)==Fe}function gr(u){return"symbol"==typeof u||_t(u)&&ur(u)==_c}var uo=tg?Wr(tg):function Cg(u){return _t(u)&&Go(u.length)&&!!fe[ur(u)]},sf=v1(hu),Ju=v1(function(u,f){return u<=f});function A1(u){if(!u)return[];if(Kn(u))return z1(u)?pi(u):Nn(u);if(un&&u[un])return function Zs(L){for(var F,V=[];!(F=L.next()).done;)V.push(F.value);return V}(u[un]());var f=Ut(u);return(f==ai?X3:f==li?ce:Yo)(u)}function Wi(u){return u?(u=ei(u))===Ao||u===-Ao?17976931348623157e292*(u<0?-1:1):u==u?u:0:0===u?u:0}function Ae(u){var f=Wi(u),m=f%1;return f==f?m?f-m:f:0}function ta(u){return u?Hc(Ae(u),0,Pi):0}function ei(u){if("number"==typeof u)return u;if(gr(u))return NaN;if(mt(u)){var f="function"==typeof u.valueOf?u.valueOf():u;u=mt(f)?f+"":f}if("string"!=typeof u)return 0===u?u:+u;u=ig(u);var m=M6.test(u);return m||E6.test(u)?X7(u.slice(2),m?2:8):j7.test(u)?NaN:+u}function Qu(u){return ji(u,pr(u))}function Je(u){return null==u?"":fr(u)}var Sp=dr(function(u,f){if(Fc(f)||Kn(f))ji(f,vn(f),u);else for(var m in f)nt.call(f,m)&&Lc(u,m,f[m])}),e8=dr(function(u,f){ji(f,pr(f),u)}),T1=dr(function(u,f,m,b){ji(f,pr(f),u,b)}),P4=dr(function(u,f,m,b){ji(f,vn(f),u,b)}),t8=$i(K6),zp=ge(function(u,f){u=tt(u);var m=-1,b=f.length,_=b>2?f[2]:A;for(_&&en(f[0],f[1],_)&&(b=1);++m<b;)for(var S=f[m],D=pr(S),I=-1,H=D.length;++I<H;){var $=D[I],U=u[$];(U===A||Mi(U,Tc[$])&&!nt.call(u,$))&&(u[$]=S[$])}return u}),Dp=ge(function(u){return u.push(A,Et),Gr(lf,A,u)});function H4(u,f,m){var b=null==u?A:eo(u,f);return b===A?m:b}function xs(u,f){return null!=u&&h4(u,f,wg)}var Op=o4(function(u,f,m){null!=f&&"function"!=typeof f.toString&&(f=s1.call(f)),u[f]=m},k4(Rn)),Ip=o4(function(u,f,m){null!=f&&"function"!=typeof f.toString&&(f=s1.call(f)),nt.call(u,f)?u[f].push(m):u[f]=[m]},de),Pp=ge(h1);function vn(u){return Kn(u)?pg(u):uu(u)}function pr(u){return Kn(u)?pg(u,!0):function mw(u){if(!mt(u))return function d4(u){var f=[];if(null!=u)for(var m in tt(u))f.push(m);return f}(u);var f=Fc(u),m=[];for(var b in u)"constructor"==b&&(f||!nt.call(u,b))||m.push(b);return m}(u)}var Lp=dr(function(u,f,m){e4(u,f,m)}),lf=dr(function(u,f,m,b){e4(u,f,m,b)}),Hp=$i(function(u,f){var m={};if(null==u)return m;var b=!1;f=at(f,function(S){return S=io(S,u),b||(b=S.length>1),S}),ji(u,kc(u),m),b&&(m=st(m,7,mh));for(var _=f.length;_--;)ye(m,f[_]);return m}),Rp=$i(function(u,f){return null==u?{}:function gu(u,f){return oh(u,f,function(m,b){return xs(u,b)})}(u,f)});function uf(u,f){if(null==u)return{};var m=at(kc(u),function(b){return[b]});return f=de(f),oh(u,m,function(b,_){return f(b,_[0])})}var ff=ph(vn),df=ph(pr);function Yo(u){return null==u?[]:B6(u,vn(u))}var i8=ko(function(u,f,m){return f=f.toLowerCase(),u+(m?R4(f):f)});function R4(u){return Xo(Je(u).toLowerCase())}function Fp(u){return(u=Je(u))&&u.replace(Er,sg).replace(F3,"")}var jp=ko(function(u,f,m){return u+(m?"-":"")+f.toLowerCase()}),$p=ko(function(u,f,m){return u+(m?" ":"")+f.toLowerCase()}),Up=dh("toLowerCase"),Gp=ko(function(u,f,m){return u+(m?"_":"")+f.toLowerCase()}),bf=ko(function(u,f,m){return u+(m?" ":"")+Xo(f)}),oe=ko(function(u,f,m){return u+(m?" ":"")+f.toUpperCase()}),Xo=dh("toUpperCase");function o8(u,f,m){return u=Je(u),(f=m?A:f)===A?function ag(L){return j.test(L)}(u)?function Ri(L){return L.match(Kb)||[]}(u):function F6(L){return L.match(I3)||[]}(u):u.match(f)||[]}var c8=ge(function(u,f){try{return Gr(u,A,f)}catch(m){return Yu(m)?m:new Me(m)}}),a8=$i(function(u,f){return fi(f,function(m){m=Gi(m),Ln(u,m,z4(u[m],u))}),u});function k4(u){return function(){return u}}var F4=s4(),Yw=s4(!0);function Rn(u){return u}function l8(u){return lu("function"==typeof u?u:st(u,1))}var xf=ge(function(u,f){return function(m){return h1(m,u,f)}}),Zo=ge(function(u,f){return function(m){return h1(u,m,f)}});function h8(u,f,m){var b=vn(f),_=ws(f,b);null==m&&(!mt(f)||!_.length&&b.length)&&(m=f,f=u,u=this,_=ws(f,vn(f)));var S=!(mt(m)&&"chain"in m&&!m.chain),D=_s(u);return fi(_,function(I){var H=f[I];u[I]=H,D&&(u.prototype[I]=function(){var $=this.__chain__;if(S||$){var U=u(this.__wrapped__);return(U.__actions__=Nn(this.__actions__)).push({func:H,args:arguments,thisArg:u}),U.__chain__=$,U}return H.apply(u,di([this.value()],arguments))})}),u}function ia(){}var d8=a4(at),B4=a4(Wa),ti=a4(U3);function P1(u){return Du(u)?Ja(Gi(u)):function Fi(u){return function(f){return eo(f,u)}}(u)}var e9=xu(),t9=xu(!0);function j4(){return[]}function ho(){return!1}var Sf=c4(function(u,f){return u+f},0),Ko=y1("ceil"),Xw=c4(function(u,f){return u/f},1),m8=y1("floor"),y8=c4(function(u,f){return u*f},1),b8=y1("round"),sa=c4(function(u,f){return u-f},0);return x.after=function up(u,f){if("function"!=typeof f)throw new On(ir);return u=Ae(u),function(){if(--u<1)return f.apply(this,arguments)}},x.ary=kh,x.assign=Sp,x.assignIn=e8,x.assignInWith=T1,x.assignWith=P4,x.at=t8,x.before=Fh,x.bind=z4,x.bindAll=a8,x.bindKey=D4,x.castArray=function pp(){if(!arguments.length)return[];var u=arguments[0];return De(u)?u:[u]},x.chain=Th,x.chunk=function Ng(u,f,m){f=(m?en(u,f,m):f===A)?1:Jt(Ae(f),0);var b=null==u?0:u.length;if(!b||f<1)return[];for(var _=0,S=0,D=V($t(b/f));_<b;)D[S++]=Kr(u,_,_+=f);return D},x.compact=function Zn(u){for(var f=-1,m=null==u?0:u.length,b=0,_=[];++f<m;){var S=u[f];S&&(_[b++]=S)}return _},x.concat=function Rg(){var u=arguments.length;if(!u)return[];for(var f=V(u-1),m=arguments[0],b=u;b--;)f[b-1]=arguments[b];return di(De(m)?Nn(m):[m],dn(f,1))},x.cond=function Cf(u){var f=null==u?0:u.length,m=de();return u=f?at(u,function(b){if("function"!=typeof b[1])throw new On(ir);return[m(b[0]),b[1]]}):[],ge(function(b){for(var _=-1;++_<f;){var S=u[_];if(Gr(S[0],this,b))return Gr(S[1],this,b)}})},x.conforms=function Jp(u){return function Xl(u){var f=vn(u);return function(m){return Tr(m,u,f)}}(st(u,1))},x.constant=k4,x.countBy=Ih,x.create=function na(u,f){var m=Ar(u);return null==f?m:vg(m,f)},x.curry=function Bh(u,f,m){var b=Ot(u,8,A,A,A,A,A,f=m?A:f);return b.placeholder=Bh.placeholder,b},x.curryRight=function jh(u,f,m){var b=Ot(u,16,A,A,A,A,A,f=m?A:f);return b.placeholder=jh.placeholder,b},x.debounce=$h,x.defaults=zp,x.defaultsDeep=Dp,x.defer=Uh,x.delay=hp,x.difference=Nu,x.differenceBy=Ru,x.differenceWith=Vg,x.drop=function Eh(u,f,m){var b=null==u?0:u.length;return b?Kr(u,(f=m||f===A?1:Ae(f))<0?0:f,b):[]},x.dropRight=function p4(u,f,m){var b=null==u?0:u.length;return b?Kr(u,0,(f=b-(f=m||f===A?1:Ae(f)))<0?0:f):[]},x.dropRightWhile=function $c(u,f){return u&&u.length?Mu(u,de(f,3),!0,!0):[]},x.dropWhile=function Uc(u,f){return u&&u.length?Mu(u,de(f,3),!0):[]},x.fill=function qc(u,f,m,b){var _=null==u?0:u.length;return _?(m&&"number"!=typeof m&&en(u,f,m)&&(m=0,b=_),function su(u,f,m,b){var _=u.length;for((m=Ae(m))<0&&(m=-m>_?0:_+m),(b=b===A||b>_?_:Ae(b))<0&&(b+=_),b=m>b?0:ta(b);m<b;)u[m++]=f;return u}(u,f,m,b)):[]},x.filter=function Ph(u,f){return(De(u)?Xs:Zl)(u,de(f,3))},x.flatMap=function cp(u,f){return dn($u(u,f),1)},x.flatMapDeep=function ju(u,f){return dn($u(u,f),Ao)},x.flatMapDepth=function Nw(u,f,m){return m=m===A?1:Ae(m),dn($u(u,f),m)},x.flatten=$o,x.flattenDeep=function Ew(u){return null!=u&&u.length?dn(u,Ao):[]},x.flattenDepth=function kg(u,f){return null!=u&&u.length?dn(u,f=f===A?1:Ae(f)):[]},x.flip=function fp(u){return Ot(u,512)},x.flow=F4,x.flowRight=Yw,x.fromPairs=function _w(u){for(var f=-1,m=null==u?0:u.length,b={};++f<m;){var _=u[f];b[_[0]]=_[1]}return b},x.functions=function r8(u){return null==u?[]:ws(u,vn(u))},x.functionsIn=function cf(u){return null==u?[]:ws(u,pr(u))},x.groupBy=Rw,x.initial=function Sw(u){return null!=u&&u.length?Kr(u,0,-1):[]},x.intersection=zw,x.intersectionBy=Dw,x.intersectionWith=Gc,x.invert=Op,x.invertBy=Ip,x.invokeMap=kw,x.iteratee=l8,x.keyBy=Fw,x.keys=vn,x.keysIn=pr,x.map=$u,x.mapKeys=function Pr(u,f){var m={};return f=de(f,3),Or(u,function(b,_,S){Ln(m,f(b,_,S),b)}),m},x.mapValues=function Yi(u,f){var m={};return f=de(f,3),Or(u,function(b,_,S){Ln(m,_,f(b,_,S))}),m},x.matches=function u8(u){return fu(st(u,1))},x.matchesProperty=function _f(u,f){return rh(u,st(f,1))},x.memoize=Cn,x.merge=Lp,x.mergeWith=lf,x.method=xf,x.methodOf=Zo,x.mixin=h8,x.negate=Jc,x.nthArg=function Qp(u){return u=Ae(u),ge(function(f){return du(f,u)})},x.omit=Hp,x.omitBy=function Np(u,f){return uf(u,Jc(de(f)))},x.once=function qh(u){return Fh(2,u)},x.orderBy=function lp(u,f,m,b){return null==u?[]:(De(f)||(f=null==f?[]:[f]),De(m=b?A:m)||(m=null==m?[]:[m]),sh(u,f,m))},x.over=d8,x.overArgs=Uu,x.overEvery=B4,x.overSome=ti,x.partial=mn,x.partialRight=Qc,x.partition=E4,x.pick=Rp,x.pickBy=uf,x.property=P1,x.propertyOf=function g8(u){return function(f){return null==u?A:eo(u,f)}},x.pull=E1,x.pullAll=_h,x.pullAllBy=function Qr(u,f,m){return u&&u.length&&f&&f.length?t4(u,f,de(m,2)):u},x.pullAllWith=function Wc(u,f,m){return u&&u.length&&f&&f.length?t4(u,f,A,m):u},x.pullAt=xh,x.range=e9,x.rangeRight=t9,x.rearg=Gh,x.reject=function Hh(u,f){return(De(u)?Xs:Zl)(u,Jc(de(f,3)))},x.remove=function v4(u,f){var m=[];if(!u||!u.length)return m;var b=-1,_=[],S=u.length;for(f=de(f,3);++b<S;){var D=u[b];f(D,b,u)&&(m.push(D),_.push(b))}return pu(u,_),m},x.rest=function Wh(u,f){if("function"!=typeof u)throw new On(ir);return ge(u,f=f===A?f:Ae(f))},x.reverse=Uo,x.sampleSize=function Kc(u,f,m){return f=(m?en(u,f,m):f===A)?1:Ae(f),(De(u)?uw:ch)(u,f)},x.set=function Vp(u,f,m){return null==u?u:Bi(u,f,m)},x.setWith=function kp(u,f,m,b){return b="function"==typeof b?b:A,null==u?u:Bi(u,f,m,b)},x.shuffle=function Rh(u){return(De(u)?hw:xg)(u)},x.slice=function $g(u,f,m){var b=null==u?0:u.length;return b?(m&&"number"!=typeof m&&en(u,f,m)?(f=0,m=b):(f=null==f?0:Ae(f),m=m===A?b:Ae(m)),Kr(u,f,m)):[]},x.sortBy=S4,x.sortedUniq=function Ow(u){return u&&u.length?yu(u):[]},x.sortedUniqBy=function Sh(u,f){return u&&u.length?yu(u,de(f,2)):[]},x.split=function Wp(u,f,m){return m&&"number"!=typeof m&&en(u,f,m)&&(f=m=A),(m=m===A?Pi:m>>>0)?(u=Je(u))&&("string"==typeof f||null!=f&&!ea(f))&&!(f=fr(f))&&gi(u)?so(pi(u),0,m):u.split(f,m):[]},x.spread=function dp(u,f){if("function"!=typeof u)throw new On(ir);return f=null==f?0:Jt(Ae(f),0),ge(function(m){var b=m[f],_=so(m,0,f);return b&&di(_,b),Gr(u,this,_)})},x.tail=function qg(u){var f=null==u?0:u.length;return f?Kr(u,1,f):[]},x.take=function Gg(u,f,m){return u&&u.length?Kr(u,0,(f=m||f===A?1:Ae(f))<0?0:f):[]},x.takeRight=function Wg(u,f,m){var b=null==u?0:u.length;return b?Kr(u,(f=b-(f=m||f===A?1:Ae(f)))<0?0:f,b):[]},x.takeRightWhile=function Yg(u,f){return u&&u.length?Mu(u,de(f,3),!1,!0):[]},x.takeWhile=function Xg(u,f){return u&&u.length?Mu(u,de(f,3)):[]},x.tap=function Iw(u,f){return f(u),u},x.throttle=function Yh(u,f,m){var b=!0,_=!0;if("function"!=typeof u)throw new On(ir);return mt(m)&&(b="leading"in m?!!m.leading:b,_="trailing"in m?!!m.trailing:_),$h(u,f,{leading:b,maxWait:f,trailing:_})},x.thru=x1,x.toArray=A1,x.toPairs=ff,x.toPairsIn=df,x.toPath=function $4(u){return De(u)?at(u,Gi):gr(u)?[u]:Nn(ao(Je(u)))},x.toPlainObject=Qu,x.transform=function N4(u,f,m){var b=De(u),_=b||Es(u)||uo(u);if(f=de(f,4),null==m){var S=u&&u.constructor;m=_?b?new S:[]:mt(u)&&_s(S)?Ar(jl(u)):{}}return(_?fi:Or)(u,function(D,I,H){return f(m,D,I,H)}),m},x.unary=function gp(u){return kh(u,1)},x.union=Zg,x.unionBy=Fu,x.unionWith=y4,x.uniq=function Kg(u){return u&&u.length?no(u):[]},x.uniqBy=function b4(u,f){return u&&u.length?no(u,de(f,2)):[]},x.uniqWith=function Jg(u,f){return f="function"==typeof f?f:A,u&&u.length?no(u,A,f):[]},x.unset=function Ss(u,f){return null==u||ye(u,f)},x.unzip=Xc,x.unzipWith=zh,x.update=function O1(u,f,m){return null==u?u:wu(u,f,ro(m))},x.updateWith=function gf(u,f,m,b){return b="function"==typeof b?b:A,null==u?u:wu(u,f,ro(m),b)},x.values=Yo,x.valuesIn=function pf(u){return null==u?[]:B6(u,pr(u))},x.without=Dh,x.words=o8,x.wrap=function Xh(u,f){return mn(ro(f),u)},x.xor=Bu,x.xorBy=w4,x.xorWith=Ah,x.zip=Qg,x.zipObject=function ep(u,f){return lh(u||[],f||[],Lc)},x.zipObjectDeep=function Zc(u,f){return lh(u||[],f||[],Bi)},x.zipWith=_1,x.entries=ff,x.entriesIn=df,x.extend=e8,x.extendWith=T1,h8(x,x),x.add=Sf,x.attempt=c8,x.camelCase=i8,x.capitalize=R4,x.ceil=Ko,x.clamp=function jw(u,f,m){return m===A&&(m=f,f=A),m!==A&&(m=(m=ei(m))==m?m:0),f!==A&&(f=(f=ei(f))==f?f:0),Hc(ei(u),f,m)},x.clone=function Zh(u){return st(u,4)},x.cloneDeep=function vp(u){return st(u,5)},x.cloneDeepWith=function qu(u,f){return st(u,5,f="function"==typeof f?f:A)},x.cloneWith=function mp(u,f){return st(u,4,f="function"==typeof f?f:A)},x.conformsTo=function Gu(u,f){return null==f||Tr(u,f,vn(f))},x.deburr=Fp,x.defaultTo=function Ef(u,f){return null==u||u!=u?f:u},x.divide=Xw,x.endsWith=function qw(u,f,m){u=Je(u),f=fr(f);var b=u.length,_=m=m===A?b:Hc(Ae(m),0,b);return(m-=f.length)>=0&&u.slice(m,_)==f},x.eq=Mi,x.escape=function mf(u){return(u=Je(u))&&p6.test(u)?u.replace(g6,og):u},x.escapeRegExp=function Bp(u){return(u=Je(u))&&V7.test(u)?u.replace(T3,"\\$&"):u},x.every=function Lw(u,f,m){var b=De(u)?Wa:iu;return m&&en(u,f,m)&&(f=A),b(u,de(f,3))},x.find=Hw,x.findIndex=Vu,x.findKey=function Bw(u,f){return Yn(u,de(f,3),Or)},x.findLast=op,x.findLastIndex=m4,x.findLastKey=function Ap(u,f){return Yn(u,de(f,3),Ro)},x.floor=m8,x.forEach=ap,x.forEachRight=C4,x.forIn=function n8(u,f){return null==u?u:Kl(u,de(f,3),pr)},x.forInRight=function Tp(u,f){return null==u?u:ou(u,de(f,3),pr)},x.forOwn=function ra(u,f){return u&&Or(u,de(f,3))},x.forOwnRight=function L4(u,f){return u&&Ro(u,de(f,3))},x.get=H4,x.gt=S1,x.gte=yp,x.has=function af(u,f){return null!=u&&h4(u,f,bg)},x.hasIn=xs,x.head=Fg,x.identity=Rn,x.includes=function Vw(u,f,m,b){u=Kn(u)?u:Yo(u),m=m&&!b?Ae(m):0;var _=u.length;return m<0&&(m=Jt(_+m,0)),z1(u)?m<=_&&u.indexOf(f,m)>-1:!!_&&Ka(u,f,m)>-1},x.indexOf=function xw(u,f,m){var b=null==u?0:u.length;if(!b)return-1;var _=null==m?0:Ae(m);return _<0&&(_=Jt(b+_,0)),Ka(u,f,_)},x.inRange=function $w(u,f,m){return f=Wi(f),m===A?(m=f,f=0):m=Wi(m),function dw(u,f,m){return u>=In(f,m)&&u<Jt(f,m)}(u=ei(u),f,m)},x.invoke=Pp,x.isArguments=qo,x.isArray=De,x.isArrayBuffer=Kh,x.isArrayLike=Kn,x.isArrayLikeObject=gt,x.isBoolean=function A4(u){return!0===u||!1===u||_t(u)&&ur(u)==qr},x.isBuffer=Es,x.isDate=Wu,x.isElement=function T4(u){return _t(u)&&1===u.nodeType&&!O4(u)},x.isEmpty=function bp(u){if(null==u)return!0;if(Kn(u)&&(De(u)||"string"==typeof u||"function"==typeof u.splice||Es(u)||uo(u)||qo(u)))return!u.length;var f=Ut(u);if(f==ai||f==li)return!u.size;if(Fc(u))return!uu(u).length;for(var m in u)if(nt.call(u,m))return!1;return!0},x.isEqual=function wp(u,f){return f1(u,f)},x.isEqualWith=function Mp(u,f,m){var b=(m="function"==typeof m?m:A)?m(u,f):A;return b===A?f1(u,f,A,m):!!b},x.isError=Yu,x.isFinite=function Cp(u){return"number"==typeof u&&K3(u)},x.isFunction=_s,x.isInteger=Xu,x.isLength=Go,x.isMap=Jh,x.isMatch=function Ep(u,f){return u===f||au(u,f,b1(f))},x.isMatchWith=function Zu(u,f,m){return m="function"==typeof m?m:A,au(u,f,b1(f),m)},x.isNaN=function Qh(u){return nf(u)&&u!=+u},x.isNative=function Wo(u){if(Cw(u))throw new Me("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return th(u)},x.isNil=function tf(u){return null==u},x.isNull=function ef(u){return null===u},x.isNumber=nf,x.isObject=mt,x.isObjectLike=_t,x.isPlainObject=O4,x.isRegExp=ea,x.isSafeInteger=function _p(u){return Xu(u)&&u>=-Ii&&u<=Ii},x.isSet=Ku,x.isString=z1,x.isSymbol=gr,x.isTypedArray=uo,x.isUndefined=function rf(u){return u===A},x.isWeakMap=function I4(u){return _t(u)&&Ut(u)==To},x.isWeakSet=function D1(u){return _t(u)&&"[object WeakSet]"==ur(u)},x.join=function Bg(u,f){return null==u?"":X6.call(u,f)},x.kebabCase=jp,x.last=Jr,x.lastIndexOf=function tn(u,f,m){var b=null==u?0:u.length;if(!b)return-1;var _=b;return m!==A&&(_=(_=Ae(m))<0?Jt(b+_,0):In(_,b-1)),f==f?function t1(L,F,V){for(var te=V+1;te--;)if(L[te]===F)return te;return te}(u,f,_):Za(u,ng,_,!0)},x.lowerCase=$p,x.lowerFirst=Up,x.lt=sf,x.lte=Ju,x.max=function v8(u){return u&&u.length?u1(u,Rn,J6):A},x.maxBy=function o9(u,f){return u&&u.length?u1(u,de(f,2),J6):A},x.mean=function Zw(u){return rg(u,Rn)},x.meanBy=function Kw(u,f){return rg(u,de(f,2))},x.min=function U4(u){return u&&u.length?u1(u,Rn,hu):A},x.minBy=function c9(u,f){return u&&u.length?u1(u,de(f,2),hu):A},x.stubArray=j4,x.stubFalse=ho,x.stubObject=function n9(){return{}},x.stubString=function r9(){return""},x.stubTrue=function i9(){return!0},x.multiply=y8,x.nth=function jg(u,f){return u&&u.length?du(u,Ae(f)):A},x.noConflict=function f8(){return Tn._===this&&(Tn._=ug),this},x.noop=ia,x.now=wi,x.pad=function vf(u,f,m){u=Je(u);var b=(f=Ae(f))?Ac(u):0;if(!f||b>=f)return u;var _=(f-b)/2;return Vc(hn(_),m)+u+Vc($t(_),m)},x.padEnd=function V4(u,f,m){u=Je(u);var b=(f=Ae(f))?Ac(u):0;return f&&b<f?u+Vc(f-b,m):u},x.padStart=function yf(u,f,m){u=Je(u);var b=(f=Ae(f))?Ac(u):0;return f&&b<f?Vc(f-b,m)+u:u},x.parseInt=function s8(u,f,m){return m||null==f?f=0:f&&(f=+f),re(Je(u).replace(O3,""),f||0)},x.random=function Uw(u,f,m){if(m&&"boolean"!=typeof m&&en(u,f,m)&&(f=m=A),m===A&&("boolean"==typeof f?(m=f,f=A):"boolean"==typeof u&&(m=u,u=A)),u===A&&f===A?(u=0,f=1):(u=Wi(u),f===A?(f=u,u=0):f=Wi(f)),u>f){var b=u;u=f,f=b}if(m||u%1||f%1){var _=ze();return In(u+_*(f-u+Qb("1e-"+((_+"").length-1))),f)}return ot(u,f)},x.reduce=function _4(u,f,m){var b=De(u)?Xa:G3,_=arguments.length<3;return b(u,de(f,4),m,_,bs)},x.reduceRight=function Lh(u,f,m){var b=De(u)?k6:G3,_=arguments.length<3;return b(u,de(f,4),m,_,ru)},x.repeat=function qp(u,f,m){return f=(m?en(u,f,m):f===A)?1:Ae(f),Rc(Je(u),f)},x.replace=function Lr(){var u=arguments,f=Je(u[0]);return u.length<3?f:f.replace(u[1],u[2])},x.result=function hf(u,f,m){var b=-1,_=(f=io(f,u)).length;for(_||(_=1,u=A);++b<_;){var S=null==u?A:u[Gi(f[b])];S===A&&(b=_,S=m),u=_s(S)?S.call(u):S}return u},x.round=b8,x.runInContext=L,x.sample=function Nh(u){return(De(u)?mg:Eg)(u)},x.size=function Vh(u){if(null==u)return 0;if(Kn(u))return z1(u)?Ac(u):u.length;var f=Ut(u);return f==ai||f==li?u.size:uu(u).length},x.snakeCase=Gp,x.some=function x4(u,f,m){var b=De(u)?U3:to;return m&&en(u,f,m)&&(f=A),b(u,de(f,3))},x.sortedIndex=function Aw(u,f){return d1(u,f)},x.sortedIndexBy=function Ug(u,f,m){return vu(u,f,de(m,2))},x.sortedIndexOf=function Tw(u,f){var m=null==u?0:u.length;if(m){var b=d1(u,f);if(b<m&&Mi(u[b],f))return b}return-1},x.sortedLastIndex=function Ir(u,f){return d1(u,f,!0)},x.sortedLastIndexBy=function ku(u,f,m){return vu(u,f,de(m,2),!0)},x.sortedLastIndexOf=function Yc(u,f){if(null!=u&&u.length){var b=d1(u,f,!0)-1;if(Mi(u[b],f))return b}return-1},x.startCase=bf,x.startsWith=function wf(u,f,m){return u=Je(u),m=null==m?0:Hc(Ae(m),0,u.length),f=fr(f),u.slice(m,m+f.length)==f},x.subtract=sa,x.sum=function w8(u){return u&&u.length?Y3(u,Rn):0},x.sumBy=function M8(u,f){return u&&u.length?Y3(u,de(f,2)):0},x.template=function Yp(u,f,m){var b=x.templateSettings;m&&en(u,f,m)&&(f=A),u=Je(u),f=T1({},f,b,oo);var I,H,_=T1({},f.imports,b.imports,oo),S=vn(_),D=B6(_,S),$=0,U=f.interpolate||xl,W="__p += '",ne=Vl((f.escape||xl).source+"|"+U.source+"|"+(U===v6?w6:xl).source+"|"+(f.evaluate||xl).source+"|$","g"),le="//# sourceURL="+(nt.call(f,"sourceURL")?(f.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xe+"]")+"\n";u.replace(ne,function(be,Be,Ue,Vn,En,Hr){return Ue||(Ue=Vn),W+=u.slice($,Hr).replace($7,cg),Be&&(I=!0,W+="' +\n__e("+Be+") +\n'"),En&&(H=!0,W+="';\n"+En+";\n__p += '"),Ue&&(W+="' +\n((__t = ("+Ue+")) == null ? '' : __t) +\n'"),$=Hr+be.length,be}),W+="';\n";var me=nt.call(f,"variable")&&f.variable;if(me){if(y6.test(me))throw new Me("Invalid `variable` option passed into `_.template`")}else W="with (obj) {\n"+W+"\n}\n";W=(H?W.replace(A3,""):W).replace(f6,"$1").replace(P7,"$1;"),W="function("+(me||"obj")+") {\n"+(me?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(I?", __e = _.escape":"")+(H?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+W+"return __p\n}";var He=c8(function(){return Ze(S,le+"return "+W).apply(A,D)});if(He.source=W,Yu(He))throw He;return He},x.times=function p8(u,f){if((u=Ae(u))<1||u>Ii)return[];var m=Pi,b=In(u,Pi);f=de(f),u-=Pi;for(var _=e1(b,f);++m<u;)f(m);return _},x.toFinite=Wi,x.toInteger=Ae,x.toLength=ta,x.toLower=function Xp(u){return Je(u).toLowerCase()},x.toNumber=ei,x.toSafeInteger=function xp(u){return u?Hc(Ae(u),-Ii,Ii):0===u?u:0},x.toString=Je,x.toUpper=function Zp(u){return Je(u).toUpperCase()},x.trim=function Kp(u,f,m){if((u=Je(u))&&(m||f===A))return ig(u);if(!u||!(f=fr(f)))return u;var b=pi(u),_=pi(f);return so(b,Dc(b,_),Ll(b,_)+1).join("")},x.trimEnd=function Mf(u,f,m){if((u=Je(u))&&(m||f===A))return u.slice(0,$6(u)+1);if(!u||!(f=fr(f)))return u;var b=pi(u);return so(b,0,Ll(b,pi(f))+1).join("")},x.trimStart=function Gw(u,f,m){if((u=Je(u))&&(m||f===A))return u.replace(O3,"");if(!u||!(f=fr(f)))return u;var b=pi(u);return so(b,Dc(b,pi(f))).join("")},x.truncate=function Ww(u,f){var m=30,b="...";if(mt(f)){var _="separator"in f?f.separator:_;m="length"in f?Ae(f.length):m,b="omission"in f?fr(f.omission):b}var S=(u=Je(u)).length;if(gi(u)){var D=pi(u);S=D.length}if(m>=S)return u;var I=m-Ac(b);if(I<1)return b;var H=D?so(D,0,I).join(""):u.slice(0,I);if(_===A)return H+b;if(D&&(I+=H.length-I),ea(_)){if(u.slice(I).search(_)){var $,U=H;for(_.global||(_=Vl(_.source,Je(P3.exec(_))+"g")),_.lastIndex=0;$=_.exec(U);)var W=$.index;H=H.slice(0,W===A?I:W)}}else if(u.indexOf(fr(_),I)!=I){var ne=H.lastIndexOf(_);ne>-1&&(H=H.slice(0,ne))}return H+b},x.unescape=function I1(u){return(u=Je(u))&&Ys.test(u)?u.replace(d6,gs):u},x.uniqueId=function s9(u){var f=++mi;return Je(u)+f},x.upperCase=oe,x.upperFirst=Xo,x.each=ap,x.eachRight=C4,x.first=Fg,h8(x,function(){var u={};return Or(x,function(f,m){nt.call(x.prototype,m)||(u[m]=f)}),u}(),{chain:!1}),x.VERSION="4.17.21",fi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){x[u].placeholder=x}),fi(["drop","take"],function(u,f){Le.prototype[u]=function(m){m=m===A?1:Jt(Ae(m),0);var b=this.__filtered__&&!f?new Le(this):this.clone();return b.__filtered__?b.__takeCount__=In(m,b.__takeCount__):b.__views__.push({size:In(m,Pi),type:u+(b.__dir__<0?"Right":"")}),b},Le.prototype[u+"Right"]=function(m){return this.reverse()[u](m).reverse()}}),fi(["filter","map","takeWhile"],function(u,f){var m=f+1,b=1==m||3==m;Le.prototype[u]=function(_){var S=this.clone();return S.__iteratees__.push({iteratee:de(_,3),type:m}),S.__filtered__=S.__filtered__||b,S}}),fi(["head","last"],function(u,f){var m="take"+(f?"Right":"");Le.prototype[u]=function(){return this[m](1).value()[0]}}),fi(["initial","tail"],function(u,f){var m="drop"+(f?"":"Right");Le.prototype[u]=function(){return this.__filtered__?new Le(this):this[m](1)}}),Le.prototype.compact=function(){return this.filter(Rn)},Le.prototype.find=function(u){return this.filter(u).head()},Le.prototype.findLast=function(u){return this.reverse().find(u)},Le.prototype.invokeMap=ge(function(u,f){return"function"==typeof u?new Le(this):this.map(function(m){return h1(m,u,f)})}),Le.prototype.reject=function(u){return this.filter(Jc(de(u)))},Le.prototype.slice=function(u,f){u=Ae(u);var m=this;return m.__filtered__&&(u>0||f<0)?new Le(m):(u<0?m=m.takeRight(-u):u&&(m=m.drop(u)),f!==A&&(m=(f=Ae(f))<0?m.dropRight(-f):m.take(f-u)),m)},Le.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Le.prototype.toArray=function(){return this.take(Pi)},Or(Le.prototype,function(u,f){var m=/^(?:filter|find|map|reject)|While$/.test(f),b=/^(?:head|last)$/.test(f),_=x[b?"take"+("last"==f?"Right":""):f],S=b||/^find/.test(f);_&&(x.prototype[f]=function(){var D=this.__wrapped__,I=b?[1]:arguments,H=D instanceof Le,$=I[0],U=H||De(D),W=function(Be){var Ue=_.apply(x,di([Be],I));return b&&ne?Ue[0]:Ue};U&&m&&"function"==typeof $&&1!=$.length&&(H=U=!1);var ne=this.__chain__,me=S&&!ne,He=H&&!this.__actions__.length;if(!S&&U){D=He?D:new Le(this);var be=u.apply(D,I);return be.__actions__.push({func:x1,args:[W],thisArg:A}),new Pn(be,ne)}return me&&He?u.apply(this,I):(be=this.thru(W),me?b?be.value()[0]:be.value():be)})}),fi(["pop","push","shift","sort","splice","unshift"],function(u){var f=n1[u],m=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",b=/^(?:pop|shift)$/.test(u);x.prototype[u]=function(){var _=arguments;if(b&&!this.__chain__){var S=this.value();return f.apply(De(S)?S:[],_)}return this[m](function(D){return f.apply(De(D)?D:[],_)})}}),Or(Le.prototype,function(u,f){var m=x[f];if(m){var b=m.name+"";nt.call(ve,b)||(ve[b]=[]),ve[b].push({name:f,func:m})}}),ve[m1(A,2).name]=[{name:"wrapper",func:A}],Le.prototype.clone=function Ve(){var u=new Le(this.__wrapped__);return u.__actions__=Nn(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Nn(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Nn(this.__views__),u},Le.prototype.reverse=function tw(){if(this.__filtered__){var u=new Le(this);u.__dir__=-1,u.__filtered__=!0}else(u=this.clone()).__dir__*=-1;return u},Le.prototype.value=function J3(){var u=this.__wrapped__.value(),f=this.__dir__,m=De(u),b=f<0,_=m?u.length:0,S=function Pg(u,f,m){for(var b=-1,_=m.length;++b<_;){var S=m[b],D=S.size;switch(S.type){case"drop":u+=D;break;case"dropRight":f-=D;break;case"take":f=In(f,u+D);break;case"takeRight":u=Jt(u,f-D)}}return{start:u,end:f}}(0,_,this.__views__),D=S.start,I=S.end,H=I-D,$=b?I:D-1,U=this.__iteratees__,W=U.length,ne=0,le=In(H,this.__takeCount__);if(!m||!b&&_==H&&le==H)return ah(u,this.__actions__);var me=[];e:for(;H--&&ne<le;){for(var He=-1,be=u[$+=f];++He<W;){var Be=U[He],Vn=Be.type,En=(0,Be.iteratee)(be);if(2==Vn)be=En;else if(!En){if(1==Vn)continue e;break e}}me[ne++]=be}return me},x.prototype.at=tp,x.prototype.chain=function Pw(){return Th(this)},x.prototype.commit=function np(){return new Pn(this.value(),this.__chain__)},x.prototype.next=function rp(){this.__values__===A&&(this.__values__=A1(this.value()));var u=this.__index__>=this.__values__.length;return{done:u,value:u?A:this.__values__[this.__index__++]}},x.prototype.plant=function M4(u){for(var f,m=this;m instanceof Zr;){var b=jc(m);b.__index__=0,b.__values__=A,f?_.__wrapped__=b:f=b;var _=b;m=m.__wrapped__}return _.__wrapped__=u,f},x.prototype.reverse=function Oh(){var u=this.__wrapped__;if(u instanceof Le){var f=u;return this.__actions__.length&&(f=new Le(this)),(f=f.reverse()).__actions__.push({func:x1,args:[Uo],thisArg:A}),new Pn(f,this.__chain__)}return this.thru(Uo)},x.prototype.toJSON=x.prototype.valueOf=x.prototype.value=function sp(){return ah(this.__wrapped__,this.__actions__)},x.prototype.first=x.prototype.head,un&&(x.prototype[un]=function ip(){return this}),x}();Tn._=Io,(Ti=function(){return Io}.call(hs,Ge,hs,oi))!==A&&(oi.exports=Ti)}.call(this)}},oi=>{oi(oi.s=938)}]);